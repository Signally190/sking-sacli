; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.24215.1 

	TITLE	C:\Users\Administrator\Desktop\????? ??\????? ??\Client Source Code\system\process.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?ProcNo@@3IA					; ProcNo
PUBLIC	?SubProcNo@@3IA					; SubProcNo
PUBLIC	?ProcNo2@@3HA					; ProcNo2
PUBLIC	?SubProcNo2@@3HA				; SubProcNo2
PUBLIC	?palNo@@3HA					; palNo
PUBLIC	?oldPalNo@@3HA					; oldPalNo
PUBLIC	?palTime@@3HA					; palTime
_BSS	SEGMENT
?ProcNo@@3IA DD	01H DUP (?)				; ProcNo
?SubProcNo@@3IA DD 01H DUP (?)				; SubProcNo
?ProcNo2@@3HA DD 01H DUP (?)				; ProcNo2
?SubProcNo2@@3HA DD 01H DUP (?)				; SubProcNo2
?palNo@@3HA DD	01H DUP (?)				; palNo
?oldPalNo@@3HA DD 01H DUP (?)				; oldPalNo
?palTime@@3HA DD 01H DUP (?)				; palTime
_BSS	ENDS
PUBLIC	?Process@@YAXXZ					; Process
PUBLIC	?ChangeProc@@YAXH@Z				; ChangeProc
PUBLIC	?ChangeProc@@YAXHH@Z				; ChangeProc
PUBLIC	?ChangeProc2@@YAXH@Z				; ChangeProc2
PUBLIC	?ChangeProc2@@YAXHH@Z				; ChangeProc2
PUBLIC	?GameProc@@YAXXZ				; GameProc
PUBLIC	?warpEffectProc@@YAXXZ				; warpEffectProc
PUBLIC	?repairMap@@YAXXZ				; repairMap
PUBLIC	?paletteProc@@YAXXZ				; paletteProc
PUBLIC	?AniProc@@YAXXZ					; AniProc
PUBLIC	__real@3fe0000000000000
PUBLIC	__real@40000000
PUBLIC	__real@40a00000
PUBLIC	__real@41000000
EXTRN	___report_rangecheckfailure:PROC
EXTRN	?TimeGetTime@@YAIXZ:PROC			; TimeGetTime
EXTRN	?ClearBackSurface@@YAXXZ:PROC			; ClearBackSurface
EXTRN	?PaletteChange@@YAXHH@Z:PROC			; PaletteChange
EXTRN	?InitProc@@YAXXZ:PROC				; InitProc
EXTRN	?RunAction@@YAXXZ:PROC				; RunAction
EXTRN	?DeathAllAction@@YAXXZ:PROC			; DeathAllAction
EXTRN	?SortDispBuffer@@YAXXZ:PROC			; SortDispBuffer
EXTRN	?PutBmp@@YAXXZ:PROC				; PutBmp
EXTRN	?StockTaskDispBuffer@@YAXXZ:PROC		; StockTaskDispBuffer
EXTRN	?ChatBufferToFontBuffer@@YAXXZ:PROC		; ChatBufferToFontBuffer
EXTRN	?ChatProc@@YAXXZ:PROC				; ChatProc
EXTRN	?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z:PROC	; GetKeyInputFocus
EXTRN	?InitChat@@YAXXZ:PROC				; InitChat
EXTRN	?FlashKeyboardCursor@@YAXXZ:PROC		; FlashKeyboardCursor
EXTRN	?pattern@@YAHPAUaction@@HH@Z:PROC		; pattern
EXTRN	?initMap@@YAXXZ:PROC				; initMap
EXTRN	?resetMap@@YAXXZ:PROC				; resetMap
EXTRN	?drawMap@@YAXXZ:PROC				; drawMap
EXTRN	?drawMap2@@YAXXZ:PROC				; drawMap2
EXTRN	?drawTile@@YAXXZ:PROC				; drawTile
EXTRN	?redrawMap@@YAXXZ:PROC				; redrawMap
EXTRN	?drawGrid@@YAXXZ:PROC				; drawGrid
EXTRN	?moveProc@@YAXXZ:PROC				; moveProc
EXTRN	?updateMapArea@@YAXXZ:PROC			; updateMapArea
EXTRN	?initCharPartsPrio@@YAXXZ:PROC			; initCharPartsPrio
EXTRN	?camMapToGamen@@YAXMMPAM0@Z:PROC		; camMapToGamen
EXTRN	?initMapEffect@@YAXH@Z:PROC			; initMapEffect
EXTRN	?mapEffectProc@@YAXXZ:PROC			; mapEffectProc
EXTRN	?mapEffectProc2@@YAXH@Z:PROC			; mapEffectProc2
EXTRN	?ImeProc@@YAXXZ:PROC				; ImeProc
EXTRN	?ClearIme@@YAXXZ:PROC				; ClearIme
EXTRN	?initPcAll@@YAXXZ:PROC				; initPcAll
EXTRN	?initPc@@YAXXZ:PROC				; initPc
EXTRN	?resetPc@@YAXXZ:PROC				; resetPc
EXTRN	?clearPtActPartyParam@@YAXXZ:PROC		; clearPtActPartyParam
EXTRN	?InitMenu@@YAXXZ:PROC				; InitMenu
EXTRN	?InitMenu2@@YAXXZ:PROC				; InitMenu2
EXTRN	?MenuProc@@YAXXZ:PROC				; MenuProc
EXTRN	?InitOhtaParam@@YAXXZ:PROC			; InitOhtaParam
EXTRN	?LoadAlbum@@YAHXZ:PROC				; LoadAlbum
EXTRN	?initCharObj@@YAXXZ:PROC			; initCharObj
EXTRN	?resetCharObj@@YAXXZ:PROC			; resetCharObj
EXTRN	?restorePtActCharObjAll@@YAXXZ:PROC		; restorePtActCharObjAll
EXTRN	?initItemOverlapCheck@@YAXXZ:PROC		; initItemOverlapCheck
EXTRN	?idPasswordProc@@YAXXZ:PROC			; idPasswordProc
EXTRN	?titleProc@@YAXXZ:PROC				; titleProc
EXTRN	?selectCharacterProc@@YAXXZ:PROC		; selectCharacterProc
EXTRN	?characterLoginProc@@YAXXZ:PROC			; characterLoginProc
EXTRN	?makeCharacterProc@@YAXXZ:PROC			; makeCharacterProc
EXTRN	?characterLogoutProc@@YAXXZ:PROC		; characterLogoutProc
EXTRN	?initOpenServerWindow@@YAXXZ:PROC		; initOpenServerWindow
EXTRN	?openServerWindowProc@@YAXXZ:PROC		; openServerWindowProc
EXTRN	?BattleProc@@YAXXZ:PROC				; BattleProc
EXTRN	?CopyBackBuffer@@YAXXZ:PROC			; CopyBackBuffer
EXTRN	?DrawProduce@@YAHH@Z:PROC			; DrawProduce
EXTRN	?TitleProduce@@YAXXZ:PROC			; TitleProduce
EXTRN	?cleanupNetwork@@YAXXZ:PROC			; cleanupNetwork
EXTRN	?play_se@@YAHHHH@Z:PROC				; play_se
EXTRN	?play_bgm@@YAHH@Z:PROC				; play_bgm
EXTRN	?stop_bgm@@YAXXZ:PROC				; stop_bgm
EXTRN	?fade_out_bgm@@YAXXZ:PROC			; fade_out_bgm
EXTRN	?initFieldProc@@YAXXZ:PROC			; initFieldProc
EXTRN	?resetFieldProc@@YAXXZ:PROC			; resetFieldProc
EXTRN	?fieldProc@@YAXXZ:PROC				; fieldProc
EXTRN	?drawField@@YAXXZ:PROC				; drawField
EXTRN	?disconnectServer@@YAHXZ:PROC			; disconnectServer
EXTRN	?drawFieldInfoWin@@YAXXZ:PROC			; drawFieldInfoWin
EXTRN	?ReleaseSpecAnim@@YAXXZ:PROC			; ReleaseSpecAnim
EXTRN	?TimeZoneProc@@YAXXZ:PROC			; TimeZoneProc
EXTRN	?SkyIslandInit@@YAXXZ:PROC			; SkyIslandInit
EXTRN	?JL_‘≠µ«¡À@@YAXXZ:PROC				; JL_‘≠µ«¡À
EXTRN	?JL_∂œœﬂ¡À@@YAXXZ:PROC				; JL_∂œœﬂ¡À
EXTRN	?SkyIslandRelease@@YAXXZ:PROC			; SkyIslandRelease
EXTRN	?AniRandomRelease@@YAXXZ:PROC			; AniRandomRelease
EXTRN	?crossAniRelease@@YAXXZ:PROC			; crossAniRelease
EXTRN	?CharbubbleRelease@@YAXXZ:PROC			; CharbubbleRelease
EXTRN	?ImmobileAniRelease@@YAXXZ:PROC			; ImmobileAniRelease
EXTRN	@_RTC_CheckStackVars@8:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_InitBase:PROC
EXTRN	__RTC_Shutdown:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	?lpBattleSurface@@3PAUIDirectDrawSurface@@A:DWORD ; lpBattleSurface
EXTRN	?lpDraw@@3PAUDIRECT_DRAW@@A:DWORD		; lpDraw
EXTRN	?BackBufferDrawType@@3HA:DWORD			; BackBufferDrawType
EXTRN	?ResoMode@@3HA:DWORD				; ResoMode
EXTRN	?NowTime@@3KA:DWORD				; NowTime
EXTRN	?DispBuffer@@3UDISP_BUFFER@@A:BYTE		; DispBuffer
EXTRN	?MyChatBuffer@@3USTR_BUFFER@@A:BYTE		; MyChatBuffer
EXTRN	?FontCnt@@3HA:DWORD				; FontCnt
EXTRN	?nowEncountPercentage@@3FA:WORD			; nowEncountPercentage
EXTRN	?minEncountPercentage@@3FA:WORD			; minEncountPercentage
EXTRN	?sendEnFlag@@3FA:WORD				; sendEnFlag
EXTRN	?encountNowFlag@@3FA:WORD			; encountNowFlag
EXTRN	?eventEnemySendFlag@@3FA:WORD			; eventEnemySendFlag
EXTRN	?loginFlag@@3HA:DWORD				; loginFlag
EXTRN	?warpEffectStart@@3HA:DWORD			; warpEffectStart
EXTRN	?warpEffectOk@@3HA:DWORD			; warpEffectOk
EXTRN	?transmigrationEffectFlag@@3HA:DWORD		; transmigrationEffectFlag
EXTRN	?mapEffectRainLevel@@3FA:WORD			; mapEffectRainLevel
EXTRN	?oldMapEffectRainLevel@@3FA:WORD		; oldMapEffectRainLevel
EXTRN	?mapEffectSnowLevel@@3FA:WORD			; mapEffectSnowLevel
EXTRN	?oldMapEffectSnowLevel@@3FA:WORD		; oldMapEffectSnowLevel
EXTRN	?fastDrawTile@@3FB:WORD				; fastDrawTile
EXTRN	?fastDrawTileFlag@@3FA:WORD			; fastDrawTileFlag
EXTRN	?amountXFastDraw@@3HA:DWORD			; amountXFastDraw
EXTRN	?amountYFastDraw@@3HA:DWORD			; amountYFastDraw
EXTRN	?nowXFastDraw@@3HA:DWORD			; nowXFastDraw
EXTRN	?nowYFastDraw@@3HA:DWORD			; nowYFastDraw
EXTRN	?baseXFastDraw@@3HA:DWORD			; baseXFastDraw
EXTRN	?baseYFastDraw@@3HA:DWORD			; baseYFastDraw
EXTRN	?nowXFastDraw2@@3HA:DWORD			; nowXFastDraw2
EXTRN	?nowYFastDraw2@@3HA:DWORD			; nowYFastDraw2
EXTRN	?jbSendFlag@@3FA:WORD				; jbSendFlag
EXTRN	?duelSendFlag@@3FA:WORD				; duelSendFlag
EXTRN	?MenuToggleFlag@@3IA:DWORD			; MenuToggleFlag
EXTRN	?MapWmdFlagBak@@3HA:DWORD			; MapWmdFlagBak
EXTRN	?ResultWndTimer@@3HA:DWORD			; ResultWndTimer
EXTRN	?nameOverTheHeadFlag@@3FA:WORD			; nameOverTheHeadFlag
EXTRN	?logOutFlag@@3HA:DWORD				; logOutFlag
EXTRN	?EncountFlag@@3HA:DWORD				; EncountFlag
EXTRN	?ProduceInitFlag@@3HA:DWORD			; ProduceInitFlag
EXTRN	?bNewServer@@3HA:DWORD				; bNewServer
EXTRN	?disconnectServerFlag@@3HA:DWORD		; disconnectServerFlag
EXTRN	?oldDisconnectServerFlag@@3HA:DWORD		; oldDisconnectServerFlag
EXTRN	?BattleCmd@@3PADA:BYTE				; BattleCmd
EXTRN	?BattleStatus@@3PADA:BYTE			; BattleStatus
EXTRN	?BattleTurnReceiveFlag@@3HA:DWORD		; BattleTurnReceiveFlag
EXTRN	?t_music_bgm_no@@3HA:DWORD			; t_music_bgm_no
EXTRN	?draw_map_bgm_flg@@3HA:DWORD			; draw_map_bgm_flg
EXTRN	?map_bgm_no@@3HA:DWORD				; map_bgm_no
EXTRN	?actBtn@@3FA:WORD				; actBtn
EXTRN	?fieldInfoTime@@3IA:DWORD			; fieldInfoTime
EXTRN	?SaTimeZoneNo@@3HA:DWORD			; SaTimeZoneNo
EXTRN	?TimeZonePalChangeFlag@@3HA:DWORD		; TimeZonePalChangeFlag
EXTRN	?helpBtn@@3FA:WORD				; helpBtn
EXTRN	?SPACT@@3PAPAUaction@@A:BYTE			; SPACT
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?now_bgm@?1??GameProc@@YAXXZ@4HA DD 01H DUP (?)		; `GameProc'::`2'::now_bgm
?produceFlag@?1??GameProc@@YAXXZ@4HA DD 01H DUP (?)	; `GameProc'::`2'::produceFlag
_BSS	ENDS
;	COMDAT __real@41000000
CONST	SEGMENT
__real@41000000 DD 041000000r			; 8
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?AniProc@@YAXXZ$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?AniProc@@YAXXZ$0
__unwindtable$?AniProc@@YAXXZ DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?AniProc@@YAXXZ DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?AniProc@@YAXXZ$2
__ehfuncinfo$?AniProc@@YAXXZ DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?AniProc@@YAXXZ
	DD	01H
	DD	FLAT:__tryblocktable$?AniProc@@YAXXZ
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?AniProc@@YAXXZ
_TEXT	SEGMENT
_i$2 = -48						; size = 4
_my$ = -36						; size = 4
_mx$ = -24						; size = 4
__$EHRec$ = -16						; size = 16
?AniProc@@YAXXZ PROC					; AniProc, COMDAT

; 892  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?AniProc@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 0c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-244]
  00021	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 893  : 	float mx, my;
; 894  : 
; 895  : 	for (int i = 0; i < MAX_ANIM; i++)

  00041	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _i$2[ebp], 0
  00048	eb 09		 jmp	 SHORT $LN4@AniProc
$LN2@AniProc:
  0004a	8b 45 d0	 mov	 eax, DWORD PTR _i$2[ebp]
  0004d	83 c0 01	 add	 eax, 1
  00050	89 45 d0	 mov	 DWORD PTR _i$2[ebp], eax
$LN4@AniProc:
  00053	81 7d d0 00 01
	00 00		 cmp	 DWORD PTR _i$2[ebp], 256 ; 00000100H
  0005a	0f 8d 2c 01 00
	00		 jge	 $LN3@AniProc

; 896  : 	{
; 897  : 		if (SPACT[i] != NULL)

  00060	8b 45 d0	 mov	 eax, DWORD PTR _i$2[ebp]
  00063	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?SPACT@@3PAPAUaction@@A[eax*4], 0
  0006b	0f 84 16 01 00
	00		 je	 $LN12@AniProc

; 898  : 		{
; 899  : 			try

  00071	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0
  00078	9b		 fwait

; 900  : 			{
; 901  : 				camMapToGamen(SPACT[i]->mx, SPACT[i]->my, &mx, &my);

  00079	8d 45 dc	 lea	 eax, DWORD PTR _my$[ebp]
  0007c	50		 push	 eax
  0007d	8d 4d e8	 lea	 ecx, DWORD PTR _mx$[ebp]
  00080	51		 push	 ecx
  00081	8b 55 d0	 mov	 edx, DWORD PTR _i$2[ebp]
  00084	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?SPACT@@3PAPAUaction@@A[edx*4]
  0008b	51		 push	 ecx
  0008c	f3 0f 10 80 1c
	01 00 00	 movss	 xmm0, DWORD PTR [eax+284]
  00094	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00099	8b 4d d0	 mov	 ecx, DWORD PTR _i$2[ebp]
  0009c	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?SPACT@@3PAPAUaction@@A[ecx*4]
  000a3	51		 push	 ecx
  000a4	f3 0f 10 82 18
	01 00 00	 movss	 xmm0, DWORD PTR [edx+280]
  000ac	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b1	e8 00 00 00 00	 call	 ?camMapToGamen@@YAXMMPAM0@Z ; camMapToGamen
  000b6	83 c4 10	 add	 esp, 16			; 00000010H

; 902  : 				if (SPACT[i]->anim_chr_no > 102002) {

  000b9	8b 45 d0	 mov	 eax, DWORD PTR _i$2[ebp]
  000bc	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?SPACT@@3PAPAUaction@@A[eax*4]
  000c3	81 b9 44 01 00
	00 72 8e 01 00	 cmp	 DWORD PTR [ecx+324], 102002 ; 00018e72H
  000cd	7e 3e		 jle	 SHORT $LN7@AniProc

; 903  : 					SPACT[i]->x = (int)(mx - 5);

  000cf	f3 0f 10 45 e8	 movss	 xmm0, DWORD PTR _mx$[ebp]
  000d4	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR __real@40a00000
  000dc	f3 0f 2c c0	 cvttss2si eax, xmm0
  000e0	8b 4d d0	 mov	 ecx, DWORD PTR _i$2[ebp]
  000e3	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?SPACT@@3PAPAUaction@@A[ecx*4]
  000ea	89 42 18	 mov	 DWORD PTR [edx+24], eax

; 904  : 					SPACT[i]->y = (int)(my + 8);

  000ed	f3 0f 10 45 dc	 movss	 xmm0, DWORD PTR _my$[ebp]
  000f2	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41000000
  000fa	f3 0f 2c c0	 cvttss2si eax, xmm0
  000fe	8b 4d d0	 mov	 ecx, DWORD PTR _i$2[ebp]
  00101	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?SPACT@@3PAPAUaction@@A[ecx*4]
  00108	89 42 1c	 mov	 DWORD PTR [edx+28], eax

; 905  : 				}
; 906  : 				else {

  0010b	eb 3c		 jmp	 SHORT $LN8@AniProc
$LN7@AniProc:

; 907  : 					SPACT[i]->x = (int)(mx + .5);

  0010d	f3 0f 5a 45 e8	 cvtss2sd xmm0, DWORD PTR _mx$[ebp]
  00112	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  0011a	f2 0f 2c c0	 cvttsd2si eax, xmm0
  0011e	8b 4d d0	 mov	 ecx, DWORD PTR _i$2[ebp]
  00121	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?SPACT@@3PAPAUaction@@A[ecx*4]
  00128	89 42 18	 mov	 DWORD PTR [edx+24], eax

; 908  : 					SPACT[i]->y = (int)(my + .5);

  0012b	f3 0f 5a 45 dc	 cvtss2sd xmm0, DWORD PTR _my$[ebp]
  00130	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00138	f2 0f 2c c0	 cvttsd2si eax, xmm0
  0013c	8b 4d d0	 mov	 ecx, DWORD PTR _i$2[ebp]
  0013f	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?SPACT@@3PAPAUaction@@A[ecx*4]
  00146	89 42 1c	 mov	 DWORD PTR [edx+28], eax
$LN8@AniProc:

; 909  : 				}
; 910  : 				pattern(SPACT[i], ANM_NOMAL_SPD, ANM_LOOP);

  00149	6a 00		 push	 0
  0014b	6a 00		 push	 0
  0014d	8b 45 d0	 mov	 eax, DWORD PTR _i$2[ebp]
  00150	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?SPACT@@3PAPAUaction@@A[eax*4]
  00157	51		 push	 ecx
  00158	e8 00 00 00 00	 call	 ?pattern@@YAHPAUaction@@HH@Z ; pattern
  0015d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 912  : 			catch (...)
; 913  : 			{

  00160	9b		 fwait

; 911  : 			}

  00161	eb 14		 jmp	 SHORT $LN10@AniProc
__catch$?AniProc@@YAXXZ$0:

; 914  : 				SPACT[i] = 0;

  00163	8b 45 d0	 mov	 eax, DWORD PTR _i$2[ebp]
  00166	c7 04 85 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?SPACT@@3PAPAUaction@@A[eax*4], 0

; 915  : 			}

  00171	b8 00 00 00 00	 mov	 eax, $LN13@AniProc
  00176	c3		 ret	 0
$LN10@AniProc:
  00177	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  0017e	eb 07		 jmp	 SHORT $LN12@AniProc
$LN13@AniProc:
  00180	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN12@AniProc:

; 916  : 
; 917  : 		}
; 918  : 	}

  00187	e9 be fe ff ff	 jmp	 $LN2@AniProc
$LN3@AniProc:

; 919  : }

  0018c	52		 push	 edx
  0018d	8b cd		 mov	 ecx, ebp
  0018f	50		 push	 eax
  00190	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN18@AniProc
  00196	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0019b	58		 pop	 eax
  0019c	5a		 pop	 edx
  0019d	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  001a0	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  001a7	59		 pop	 ecx
  001a8	5f		 pop	 edi
  001a9	5e		 pop	 esi
  001aa	5b		 pop	 ebx
  001ab	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  001b1	3b ec		 cmp	 ebp, esp
  001b3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b8	8b e5		 mov	 esp, ebp
  001ba	5d		 pop	 ebp
  001bb	c3		 ret	 0
$LN18@AniProc:
  001bc	02 00 00 00	 DD	 2
  001c0	00 00 00 00	 DD	 $LN17@AniProc
$LN17@AniProc:
  001c4	e8 ff ff ff	 DD	 -24			; ffffffe8H
  001c8	04 00 00 00	 DD	 4
  001cc	00 00 00 00	 DD	 $LN14@AniProc
  001d0	dc ff ff ff	 DD	 -36			; ffffffdcH
  001d4	04 00 00 00	 DD	 4
  001d8	00 00 00 00	 DD	 $LN15@AniProc
$LN15@AniProc:
  001dc	6d		 DB	 109			; 0000006dH
  001dd	79		 DB	 121			; 00000079H
  001de	00		 DB	 0
$LN14@AniProc:
  001df	6d		 DB	 109			; 0000006dH
  001e0	78		 DB	 120			; 00000078H
  001e1	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?AniProc@@YAXXZ:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 08 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-248]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?AniProc@@YAXXZ
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?AniProc@@YAXXZ ENDP					; AniProc
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?paletteProc@@YAXXZ
_TEXT	SEGMENT
?paletteProc@@YAXXZ PROC				; paletteProc, COMDAT

; 867  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 868  : 	if (palNo == -1)

  0001e	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?palNo@@3HA, -1 ; palNo
  00025	75 2b		 jne	 SHORT $LN2@palettePro

; 869  : 	{
; 870  : 		// ????????
; 871  : 		// the second PaletteChange( SaTimeZoneNo, 0 );
; 872  : 		PaletteChange(SaTimeZoneNo, palTime);

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?palTime@@3HA ; palTime
  0002c	50		 push	 eax
  0002d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?SaTimeZoneNo@@3HA ; SaTimeZoneNo
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ?PaletteChange@@YAXHH@Z	; PaletteChange
  00039	83 c4 08	 add	 esp, 8

; 873  : 		// ??¢q????????????
; 874  : 		TimeZonePalChangeFlag = TRUE;

  0003c	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?TimeZonePalChangeFlag@@3HA, 1 ; TimeZonePalChangeFlag

; 875  : 		palNo = -2;

  00046	c7 05 00 00 00
	00 fe ff ff ff	 mov	 DWORD PTR ?palNo@@3HA, -2 ; palNo, fffffffeH

; 876  : 	}
; 877  : 	else

  00050	eb 32		 jmp	 SHORT $LN1@palettePro
$LN2@palettePro:

; 878  : 		if (palNo >= 0)

  00052	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?palNo@@3HA, 0 ; palNo
  00059	7c 29		 jl	 SHORT $LN1@palettePro

; 879  : 		{
; 880  : 			// ?§e????°@§e
; 881  : 			// the second PaletteChange( palNo, 0 );// ????????
; 882  : 			PaletteChange(palNo, palTime);// ????????

  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?palTime@@3HA ; palTime
  00060	50		 push	 eax
  00061	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?palNo@@3HA ; palNo
  00067	51		 push	 ecx
  00068	e8 00 00 00 00	 call	 ?PaletteChange@@YAXHH@Z	; PaletteChange
  0006d	83 c4 08	 add	 esp, 8

; 883  : 										  // ??¢q?????????????
; 884  : 			TimeZonePalChangeFlag = FALSE;

  00070	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?TimeZonePalChangeFlag@@3HA, 0 ; TimeZonePalChangeFlag

; 885  : 			palNo = -2;

  0007a	c7 05 00 00 00
	00 fe ff ff ff	 mov	 DWORD PTR ?palNo@@3HA, -2 ; palNo, fffffffeH
$LN1@palettePro:

; 886  : 		}
; 887  : }

  00084	5f		 pop	 edi
  00085	5e		 pop	 esi
  00086	5b		 pop	 ebx
  00087	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0008d	3b ec		 cmp	 ebp, esp
  0008f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00094	8b e5		 mov	 esp, ebp
  00096	5d		 pop	 ebp
  00097	c3		 ret	 0
?paletteProc@@YAXXZ ENDP				; paletteProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?repairMap@@YAXXZ
_TEXT	SEGMENT
_dy$ = -20						; size = 4
_dx$ = -8						; size = 4
?repairMap@@YAXXZ PROC					; repairMap, COMDAT

; 813  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 814  : 	float dx, dy;
; 815  : #ifdef _MOVE_SCREEN
; 816  : 	if (pc.bMoveScreenMode)
; 817  : 	{
; 818  : 		dx = (float)(+(-nowGx) * (SURFACE_WIDTH >> 1) + -nowGy * (SURFACE_WIDTH >> 1) + viewOffsetX);
; 819  : 		dy = (float)(-(-nowGx) * (SURFACE_HEIGHT >> 1) + -nowGy * (SURFACE_HEIGHT >> 1) + viewOffsetY);
; 820  : 	}
; 821  : 	else
; 822  : #endif
; 823  : 		//
; 824  : 		camMapToGamen(0.0, 0.0, &dx, &dy);

  0001e	8d 45 ec	 lea	 eax, DWORD PTR _dy$[ebp]
  00021	50		 push	 eax
  00022	8d 4d f8	 lea	 ecx, DWORD PTR _dx$[ebp]
  00025	51		 push	 ecx
  00026	51		 push	 ecx
  00027	0f 57 c0	 xorps	 xmm0, xmm0
  0002a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0002f	51		 push	 ecx
  00030	0f 57 c0	 xorps	 xmm0, xmm0
  00033	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00038	e8 00 00 00 00	 call	 ?camMapToGamen@@YAXMMPAM0@Z ; camMapToGamen
  0003d	83 c4 10	 add	 esp, 16			; 00000010H

; 825  : 
; 826  : 	nowXFastDraw = (int)(dx + .5);

  00040	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _dx$[ebp]
  00045	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  0004d	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00051	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 827  : 	nowYFastDraw = (int)(dy + .5);

  00056	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _dy$[ebp]
  0005b	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00063	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00067	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw

; 828  : 
; 829  : 	nowXFastDraw2 = nowXFastDraw;

  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowXFastDraw@@3HA ; nowXFastDraw
  00071	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw2@@3HA, eax ; nowXFastDraw2

; 830  : 	nowYFastDraw2 = nowYFastDraw;

  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowYFastDraw@@3HA ; nowYFastDraw
  0007b	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw2@@3HA, eax ; nowYFastDraw2

; 831  : 
; 832  : 	//???????????????
; 833  : 	if (ResoMode == 1) {

  00080	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00087	75 44		 jne	 SHORT $LN2@repairMap

; 834  : 		nowXFastDraw = (int)(dx / 2 + .5);

  00089	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  0008e	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  00096	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0009a	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  000a2	f2 0f 2c c0	 cvttsd2si eax, xmm0
  000a6	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 835  : 		nowYFastDraw = (int)(dy / 2 + .5);

  000ab	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  000b0	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  000b8	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  000bc	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  000c4	f2 0f 2c c0	 cvttsd2si eax, xmm0
  000c8	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw
$LN2@repairMap:

; 836  : 	}
; 837  : 
; 838  : 	baseXFastDraw = nowXFastDraw;

  000cd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowXFastDraw@@3HA ; nowXFastDraw
  000d2	a3 00 00 00 00	 mov	 DWORD PTR ?baseXFastDraw@@3HA, eax ; baseXFastDraw

; 839  : 	baseYFastDraw = nowYFastDraw;

  000d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowYFastDraw@@3HA ; nowYFastDraw
  000dc	a3 00 00 00 00	 mov	 DWORD PTR ?baseYFastDraw@@3HA, eax ; baseYFastDraw

; 840  : 	amountXFastDraw = nowXFastDraw - baseXFastDraw;

  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowXFastDraw@@3HA ; nowXFastDraw
  000e6	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?baseXFastDraw@@3HA ; baseXFastDraw
  000ec	a3 00 00 00 00	 mov	 DWORD PTR ?amountXFastDraw@@3HA, eax ; amountXFastDraw

; 841  : 	amountYFastDraw = nowYFastDraw - baseYFastDraw;

  000f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowYFastDraw@@3HA ; nowYFastDraw
  000f6	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?baseYFastDraw@@3HA ; baseYFastDraw
  000fc	a3 00 00 00 00	 mov	 DWORD PTR ?amountYFastDraw@@3HA, eax ; amountYFastDraw

; 842  : 
; 843  : 	DispBuffer.DispCnt = 0;

  00101	33 c0		 xor	 eax, eax
  00103	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 844  : 	FontCnt = 0;

  00109	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 845  : 	drawTile();		// ???§˙˚®

  00113	e8 00 00 00 00	 call	 ?drawTile@@YAXXZ	; drawTile

; 846  : 	SortDispBuffer(); 	// §˙˚®???????

  00118	e8 00 00 00 00	 call	 ?SortDispBuffer@@YAXXZ	; SortDispBuffer

; 847  : 						// ???????????????
; 848  : 						//cary 2001 11 8
; 849  : 	ClearBackSurface();

  0011d	e8 00 00 00 00	 call	 ?ClearBackSurface@@YAXXZ ; ClearBackSurface

; 850  : 
; 851  : 	// ????????????????
; 852  : 	fastDrawTileFlag = 0;

  00122	33 c0		 xor	 eax, eax
  00124	66 a3 00 00 00
	00		 mov	 WORD PTR ?fastDrawTileFlag@@3FA, ax ; fastDrawTileFlag

; 853  : 	PutBmp();

  0012a	e8 00 00 00 00	 call	 ?PutBmp@@YAXXZ		; PutBmp

; 854  : 	fastDrawTileFlag = 1;

  0012f	b8 01 00 00 00	 mov	 eax, 1
  00134	66 a3 00 00 00
	00		 mov	 WORD PTR ?fastDrawTileFlag@@3FA, ax ; fastDrawTileFlag

; 855  : #ifndef __SKYISLAND
; 856  : 	// ??????????????????????
; 857  : 	lpBattleSurface->BltFast(0, 0, lpDraw->lpBACKBUFFER, NULL, DDBLTFAST_WAIT);
; 858  : #endif
; 859  : 	DispBuffer.DispCnt = 0;

  0013a	33 c0		 xor	 eax, eax
  0013c	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 860  : 	FontCnt = 0;

  00142	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 861  : 	// ????????
; 862  : 	NowTime = TimeGetTime();

  0014c	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00151	a3 00 00 00 00	 mov	 DWORD PTR ?NowTime@@3KA, eax ; NowTime

; 863  : }

  00156	52		 push	 edx
  00157	8b cd		 mov	 ecx, ebp
  00159	50		 push	 eax
  0015a	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN7@repairMap
  00160	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00165	58		 pop	 eax
  00166	5a		 pop	 edx
  00167	5f		 pop	 edi
  00168	5e		 pop	 esi
  00169	5b		 pop	 ebx
  0016a	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00170	3b ec		 cmp	 ebp, esp
  00172	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00177	8b e5		 mov	 esp, ebp
  00179	5d		 pop	 ebp
  0017a	c3		 ret	 0
  0017b	90		 npad	 1
$LN7@repairMap:
  0017c	02 00 00 00	 DD	 2
  00180	00 00 00 00	 DD	 $LN6@repairMap
$LN6@repairMap:
  00184	f8 ff ff ff	 DD	 -8			; fffffff8H
  00188	04 00 00 00	 DD	 4
  0018c	00 00 00 00	 DD	 $LN4@repairMap
  00190	ec ff ff ff	 DD	 -20			; ffffffecH
  00194	04 00 00 00	 DD	 4
  00198	00 00 00 00	 DD	 $LN5@repairMap
$LN5@repairMap:
  0019c	64		 DB	 100			; 00000064H
  0019d	79		 DB	 121			; 00000079H
  0019e	00		 DB	 0
$LN4@repairMap:
  0019f	64		 DB	 100			; 00000064H
  001a0	78		 DB	 120			; 00000078H
  001a1	00		 DB	 0
?repairMap@@YAXXZ ENDP					; repairMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?warpEffectProc@@YAXXZ
_TEXT	SEGMENT
?warpEffectProc@@YAXXZ PROC				; warpEffectProc, COMDAT

; 765  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 766  : 	oldMapEffectRainLevel = mapEffectRainLevel;

  0001e	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  00024	66 a3 00 00 00
	00		 mov	 WORD PTR ?oldMapEffectRainLevel@@3FA, ax ; oldMapEffectRainLevel

; 767  : 	oldMapEffectSnowLevel = mapEffectSnowLevel;

  0002a	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  00030	66 a3 00 00 00
	00		 mov	 WORD PTR ?oldMapEffectSnowLevel@@3FA, ax ; oldMapEffectSnowLevel

; 768  : 
; 769  : 	DispBuffer.DispCnt = 0;

  00036	33 c0		 xor	 eax, eax
  00038	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 770  : 	FontCnt = 0;

  0003e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 771  : 
; 772  : 	// ?????????????????
; 773  : 	if (MenuToggleFlag & JOY_CTRL_M) MapWmdFlagBak = TRUE;

  00048	a1 00 00 00 00	 mov	 eax, DWORD PTR ?MenuToggleFlag@@3IA ; MenuToggleFlag
  0004d	25 00 00 00 40	 and	 eax, 1073741824		; 40000000H
  00052	74 0a		 je	 SHORT $LN2@warpEffect
  00054	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?MapWmdFlagBak@@3HA, 1 ; MapWmdFlagBak
$LN2@warpEffect:

; 774  : 	InitMenu2();

  0005e	e8 00 00 00 00	 call	 ?InitMenu2@@YAXXZ	; InitMenu2

; 775  : 
; 776  : 	fieldProc();			// ?????????

  00063	e8 00 00 00 00	 call	 ?fieldProc@@YAXXZ	; fieldProc

; 777  : 	initCharPartsPrio();	// ?????????°I???§e??????

  00068	e8 00 00 00 00	 call	 ?initCharPartsPrio@@YAXXZ ; initCharPartsPrio

; 778  : 	openServerWindowProc();	// ????˛…?????

  0006d	e8 00 00 00 00	 call	 ?openServerWindowProc@@YAXXZ ; openServerWindowProc

; 779  : 
; 780  : 	fieldInfoTime = 0;		// ˝Õ?˝—©ç?¸“???˝§?

  00072	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fieldInfoTime@@3IA, 0 ; fieldInfoTime

; 781  : 	drawFieldInfoWin();		// ?????˝Õ?˝—©ç

  0007c	e8 00 00 00 00	 call	 ?drawFieldInfoWin@@YAXXZ ; drawFieldInfoWin

; 782  : 
; 783  : 
; 784  : 							/* ????????? */
; 785  : 	RunAction();

  00081	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 786  : 	// ???§˙˚®????????????
; 787  : 	StockTaskDispBuffer();

  00086	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 788  : 
; 789  : 	mapEffectProc();		// ???????????°D??

  0008b	e8 00 00 00 00	 call	 ?mapEffectProc@@YAXXZ	; mapEffectProc

; 790  : 
; 791  : 	redrawMap();

  00090	e8 00 00 00 00	 call	 ?redrawMap@@YAXXZ	; redrawMap

; 792  : 	drawMap();		// ???§˙˚®

  00095	e8 00 00 00 00	 call	 ?drawMap@@YAXXZ		; drawMap

; 793  : 					/* ?????? */
; 794  : 	ChatProc();

  0009a	e8 00 00 00 00	 call	 ?ChatProc@@YAXXZ	; ChatProc

; 795  : 	// ??????????????????????
; 796  : 	ChatBufferToFontBuffer();

  0009f	e8 00 00 00 00	 call	 ?ChatBufferToFontBuffer@@YAXXZ ; ChatBufferToFontBuffer

; 797  : 	// ??¢q?????????????
; 798  : 	//	TimeZoneProc();
; 799  : 	SortDispBuffer(); 	// §˙˚®???????

  000a4	e8 00 00 00 00	 call	 ?SortDispBuffer@@YAXXZ	; SortDispBuffer

; 800  : 						// ???????????????
; 801  : 	ClearBackSurface();

  000a9	e8 00 00 00 00	 call	 ?ClearBackSurface@@YAXXZ ; ClearBackSurface

; 802  : 	// ????????????????
; 803  : 	PutBmp();

  000ae	e8 00 00 00 00	 call	 ?PutBmp@@YAXXZ		; PutBmp

; 804  : 
; 805  : #ifndef __SKYISLAND
; 806  : 	// ??????????????????????
; 807  : 	lpBattleSurface->BltFast(0, 0, lpDraw->lpBACKBUFFER, NULL, DDBLTFAST_WAIT);
; 808  : #endif
; 809  : }

  000b3	5f		 pop	 edi
  000b4	5e		 pop	 esi
  000b5	5b		 pop	 ebx
  000b6	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  000bc	3b ec		 cmp	 ebp, esp
  000be	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c3	8b e5		 mov	 esp, ebp
  000c5	5d		 pop	 ebp
  000c6	c3		 ret	 0
?warpEffectProc@@YAXXZ ENDP				; warpEffectProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?GameProc@@YAXXZ
_TEXT	SEGMENT
tv64 = -220						; size = 4
$T1 = -212						; size = 4
$T2 = -200						; size = 4
?GameProc@@YAXXZ PROC					; GameProc, COMDAT

; 325  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec dc 00 00
	00		 sub	 esp, 220		; 000000dcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 24 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-220]
  00012	b9 37 00 00 00	 mov	 ecx, 55			; 00000037H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 326  : 	static int now_bgm;
; 327  : 	static BOOL produceFlag;
; 328  : 	switch (SubProcNo) {

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  00023	89 85 24 ff ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  00029	81 bd 24 ff ff
	ff cc 00 00 00	 cmp	 DWORD PTR tv64[ebp], 204 ; 000000ccH
  00033	0f 87 c2 07 00
	00		 ja	 $LN50@GameProc
  00039	8b 8d 24 ff ff
	ff		 mov	 ecx, DWORD PTR tv64[ebp]
  0003f	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN55@GameProc[ecx]
  00046	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN56@GameProc[edx*4]
$LN4@GameProc:

; 329  : 	case 0:
; 330  : 		//cary ∑¿÷π‘Ÿ¥Œµ«»Î ±µƒ ”¥∞≤–¡Ù
; 331  : 		extern short helpBtn, actBtn;
; 332  : 		helpBtn = 0;

  0004d	33 c0		 xor	 eax, eax
  0004f	66 a3 00 00 00
	00		 mov	 WORD PTR ?helpBtn@@3FA, ax ; helpBtn

; 333  : 		actBtn = 0;

  00055	33 c0		 xor	 eax, eax
  00057	66 a3 00 00 00
	00		 mov	 WORD PTR ?actBtn@@3FA, ax ; actBtn

; 334  : 		//end cary
; 335  : #ifdef _STONDEBUG___
; 336  : 		if (offlineFlag) {
; 337  : 			initMap();
; 338  : 		}
; 339  : #endif
; 340  : //		InitIme(hWnd, StrToNowStrBuffer);
; 341  : 		ClearIme();

  0005d	e8 00 00 00 00	 call	 ?ClearIme@@YAXXZ	; ClearIme

; 342  : 		InitChat();

  00062	e8 00 00 00 00	 call	 ?InitChat@@YAXXZ	; InitChat

; 343  : 		produceFlag = FALSE;

  00067	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?produceFlag@?1??GameProc@@YAXXZ@4HA, 0

; 344  : 		EncountFlag = FALSE;

  00071	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?EncountFlag@@3HA, 0 ; EncountFlag

; 345  : 		LoadAlbum();

  0007b	e8 00 00 00 00	 call	 ?LoadAlbum@@YAHXZ	; LoadAlbum

; 346  : 		//extern void AI_Init();
; 347  : 		//AI_Init();
; 348  : 		nameOverTheHeadFlag = 0;

  00080	33 c0		 xor	 eax, eax
  00082	66 a3 00 00 00
	00		 mov	 WORD PTR ?nameOverTheHeadFlag@@3FA, ax ; nameOverTheHeadFlag

; 349  : 		SubProcNo++;

  00088	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  0008d	83 c0 01	 add	 eax, 1
  00090	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN5@GameProc:

; 350  : 	case 150:
; 351  : 		SubProcNo = 100;

  00095	c7 05 00 00 00
	00 64 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 100 ; SubProcNo, 00000064H
$LN6@GameProc:

; 352  : 
; 353  : 	case 100:
; 354  : 		initPc();

  0009f	e8 00 00 00 00	 call	 ?initPc@@YAXXZ		; initPc

; 355  : 		resetFieldProc();

  000a4	e8 00 00 00 00	 call	 ?resetFieldProc@@YAXXZ	; resetFieldProc

; 356  : 		restorePtActCharObjAll();

  000a9	e8 00 00 00 00	 call	 ?restorePtActCharObjAll@@YAXXZ ; restorePtActCharObjAll

; 357  : 		initOpenServerWindow();

  000ae	e8 00 00 00 00	 call	 ?initOpenServerWindow@@YAXXZ ; initOpenServerWindow

; 358  : 		InitMenu();

  000b3	e8 00 00 00 00	 call	 ?InitMenu@@YAXXZ	; InitMenu

; 359  : 		//			BattleStatusBak[ 0 ] = NULL;// ???˝÷¢t???
; 360  : 		//			BattleStatusReadPointer = BattleStatusWritePointer =0;
; 361  : 		GetKeyInputFocus(&MyChatBuffer);

  000b8	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  000bd	e8 00 00 00 00	 call	 ?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z ; GetKeyInputFocus
  000c2	83 c4 04	 add	 esp, 4

; 362  : 		SubProcNo++;

  000c5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  000ca	83 c0 01	 add	 eax, 1
  000cd	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN7@GameProc:

; 363  : 	case 101:
; 364  : 		if (loginFlag) {

  000d2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?loginFlag@@3HA, 0 ; loginFlag
  000d9	74 0f		 je	 SHORT $LN8@GameProc

; 365  : 			BackBufferDrawType = DRAW_BACK_NORMAL;

  000db	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 366  : 			break;

  000e5	e9 11 07 00 00	 jmp	 $LN50@GameProc
$LN8@GameProc:

; 367  : 		}
; 368  : 		SubProcNo++;

  000ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  000ef	83 c0 01	 add	 eax, 1
  000f2	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN9@GameProc:

; 369  : 	case 102:
; 370  : 		paletteProc();

  000f7	e8 00 00 00 00	 call	 ?paletteProc@@YAXXZ	; paletteProc

; 371  : 
; 372  : 		DispBuffer.DispCnt = 0;

  000fc	33 c0		 xor	 eax, eax
  000fe	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 373  : 		FontCnt = 0;

  00104	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 374  : 		initCharPartsPrio();	// ?????????°I???§e??????

  0010e	e8 00 00 00 00	 call	 ?initCharPartsPrio@@YAXXZ ; initCharPartsPrio

; 375  : 		RunAction();			// ?????????

  00113	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 376  : 		StockTaskDispBuffer();	// ???§˙˚®????????????

  00118	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 377  : 		stop_bgm();				//???§_˚¢

  0011d	e8 00 00 00 00	 call	 ?stop_bgm@@YAXXZ	; stop_bgm

; 378  : 		drawMap();				//	???§˙˚®

  00122	e8 00 00 00 00	 call	 ?drawMap@@YAXXZ		; drawMap

; 379  : 		MenuProc();				// ??????

  00127	e8 00 00 00 00	 call	 ?MenuProc@@YAXXZ	; MenuProc

; 380  : 		ChatProc();				// ??????

  0012c	e8 00 00 00 00	 call	 ?ChatProc@@YAXXZ	; ChatProc

; 381  : 		ChatBufferToFontBuffer(); // ??????????????????????

  00131	e8 00 00 00 00	 call	 ?ChatBufferToFontBuffer@@YAXXZ ; ChatBufferToFontBuffer

; 382  : 		ImeProc();				// ???????

  00136	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc

; 383  : 		SortDispBuffer(); 	// §˙˚®???????

  0013b	e8 00 00 00 00	 call	 ?SortDispBuffer@@YAXXZ	; SortDispBuffer

; 384  : 							// ???????????????
; 385  : 		ClearBackSurface();

  00140	e8 00 00 00 00	 call	 ?ClearBackSurface@@YAXXZ ; ClearBackSurface

; 386  : 		// ????????????????
; 387  : 		PutBmp();

  00145	e8 00 00 00 00	 call	 ?PutBmp@@YAXXZ		; PutBmp

; 388  : 		// ??????????????????????
; 389  : 		lpBattleSurface->BltFast(0, 0, lpDraw->lpBACKBUFFER, NULL, DDBLTFAST_WAIT);

  0014a	8b f4		 mov	 esi, esp
  0014c	6a 10		 push	 16			; 00000010H
  0014e	6a 00		 push	 0
  00150	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00155	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00158	51		 push	 ecx
  00159	6a 00		 push	 0
  0015b	6a 00		 push	 0
  0015d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  00163	8b 02		 mov	 eax, DWORD PTR [edx]
  00165	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  0016b	51		 push	 ecx
  0016c	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  0016f	ff d2		 call	 edx
  00171	3b f4		 cmp	 esi, esp
  00173	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 390  : 		// ???????
; 391  : 		DispBuffer.DispCnt = 0;

  00178	33 c0		 xor	 eax, eax
  0017a	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 392  : 		FontCnt = 0;

  00180	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 393  : 
; 394  : 		play_bgm(map_bgm_no);

  0018a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?map_bgm_no@@3HA ; map_bgm_no
  0018f	50		 push	 eax
  00190	e8 00 00 00 00	 call	 ?play_bgm@@YAHH@Z	; play_bgm
  00195	83 c4 04	 add	 esp, 4

; 395  : 
; 396  : 		// ????????
; 397  : 		NowTime = TimeGetTime();

  00198	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0019d	a3 00 00 00 00	 mov	 DWORD PTR ?NowTime@@3KA, eax ; NowTime

; 398  : 		// ????????§˛?©ò©ú®¡?
; 399  : 		//			BackBufferDrawType = DRAW_BACK_NORMAL; 
; 400  : 		BackBufferDrawType = DRAW_BACK_PRODUCE;

  001a2	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 2 ; BackBufferDrawType

; 401  : 		// ?¸“?
; 402  : 		ProduceInitFlag = TRUE;

  001ac	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?ProduceInitFlag@@3HA, 1 ; ProduceInitFlag

; 403  : 		DrawProduce(PRODUCE_BRAN_BIG);

  001b6	6a 13		 push	 19			; 00000013H
  001b8	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  001bd	83 c4 04	 add	 esp, 4

; 404  : 		/*#ifdef __SKYISLAND
; 405  : 		ClearBackSurface();
; 406  : 		#endif*/
; 407  : 		SubProcNo++;

  001c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  001c5	83 c0 01	 add	 eax, 1
  001c8	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo

; 408  : 		break;

  001cd	e9 29 06 00 00	 jmp	 $LN50@GameProc
$LN10@GameProc:

; 409  : 
; 410  : 	case 103:
; 411  : 		// ?¸“?
; 412  : 		BackBufferDrawType = DRAW_BACK_PRODUCE;

  001d2	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 2 ; BackBufferDrawType

; 413  : 		if (DrawProduce(PRODUCE_BRAN_BIG) == TRUE)

  001dc	6a 13		 push	 19			; 00000013H
  001de	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  001e3	83 c4 04	 add	 esp, 4
  001e6	83 f8 01	 cmp	 eax, 1
  001e9	75 35		 jne	 SHORT $LN11@GameProc

; 414  : 		{
; 415  : 			produceFlag = TRUE;

  001eb	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?produceFlag@?1??GameProc@@YAXXZ@4HA, 1

; 416  : 			fieldInfoTime = TimeGetTime();

  001f5	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  001fa	a3 00 00 00 00	 mov	 DWORD PTR ?fieldInfoTime@@3IA, eax ; fieldInfoTime

; 417  : 			if (fastDrawTile)

  001ff	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?fastDrawTile@@3FB ; fastDrawTile
  00206	85 c0		 test	 eax, eax
  00208	74 0c		 je	 SHORT $LN12@GameProc

; 418  : 			{
; 419  : 				SubProcNo = 20;

  0020a	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 20 ; SubProcNo, 00000014H

; 420  : 			}
; 421  : 			else

  00214	eb 0a		 jmp	 SHORT $LN11@GameProc
$LN12@GameProc:

; 422  : 			{
; 423  : 				SubProcNo = 3;

  00216	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 3 ; SubProcNo
$LN11@GameProc:

; 424  : 			}
; 425  : 		}
; 426  : 		break;

  00220	e9 d6 05 00 00	 jmp	 $LN50@GameProc
$LN14@GameProc:

; 427  : 
; 428  : 		// ????¸“
; 429  : 	case 200:
; 430  : 		ProduceInitFlag = TRUE;

  00225	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?ProduceInitFlag@@3HA, 1 ; ProduceInitFlag

; 431  : 
; 432  : 		// ???????
; 433  : 		DispBuffer.DispCnt = 0;

  0022f	33 c0		 xor	 eax, eax
  00231	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 434  : 		FontCnt = 0;

  00237	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 435  : 
; 436  : 		// ????????
; 437  : 		NowTime = TimeGetTime();

  00241	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00246	a3 00 00 00 00	 mov	 DWORD PTR ?NowTime@@3KA, eax ; NowTime

; 438  : 
; 439  : 		// S??????C? warpEffectProc();?????
; 440  : 		// ?˛ù???????????????
; 441  : 		SubProcNo++;

  0024b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  00250	83 c0 01	 add	 eax, 1
  00253	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN15@GameProc:

; 442  : 
; 443  : 	case 201:
; 444  : 		// ?¸“?
; 445  : 		BackBufferDrawType = DRAW_BACK_PRODUCE;

  00258	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 2 ; BackBufferDrawType

; 446  : 		if (DrawProduce(PRODUCE_CENTER_PRESSIN) == TRUE)

  00262	6a 1c		 push	 28			; 0000001cH
  00264	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  00269	83 c4 04	 add	 esp, 4
  0026c	83 f8 01	 cmp	 eax, 1
  0026f	75 0d		 jne	 SHORT $LN16@GameProc

; 447  : 		{
; 448  : 			SubProcNo++;

  00271	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  00276	83 c0 01	 add	 eax, 1
  00279	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN16@GameProc:

; 449  : 		}
; 450  : 		drawField();	// ??????˛ù?????§˙˚®

  0027e	e8 00 00 00 00	 call	 ?drawField@@YAXXZ	; drawField

; 451  : 		MenuProc();	// ??????

  00283	e8 00 00 00 00	 call	 ?MenuProc@@YAXXZ	; MenuProc

; 452  : 		ImeProc();	// ???????

  00288	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc

; 453  : 		break;

  0028d	e9 69 05 00 00	 jmp	 $LN50@GameProc
$LN17@GameProc:

; 454  : 
; 455  : 	case 202:
; 456  : 		if (!warpEffectStart || !warpEffectOk)

  00292	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?warpEffectStart@@3HA, 0 ; warpEffectStart
  00299	74 09		 je	 SHORT $LN19@GameProc
  0029b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?warpEffectOk@@3HA, 0 ; warpEffectOk
  002a2	75 1e		 jne	 SHORT $LN18@GameProc
$LN19@GameProc:

; 457  : 		{
; 458  : 			BackBufferDrawType = DRAW_BACK_NORMAL;

  002a4	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 459  : 			drawField();	// ??????˛ù?????§˙˚®

  002ae	e8 00 00 00 00	 call	 ?drawField@@YAXXZ	; drawField

; 460  : 			MenuProc();	// ??????

  002b3	e8 00 00 00 00	 call	 ?MenuProc@@YAXXZ	; MenuProc

; 461  : 			ImeProc();	// ???????

  002b8	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc

; 462  : 			break;

  002bd	e9 39 05 00 00	 jmp	 $LN50@GameProc
$LN18@GameProc:

; 463  : 		}
; 464  : 		warpEffectStart = FALSE;

  002c2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?warpEffectStart@@3HA, 0 ; warpEffectStart

; 465  : 		warpEffectOk = FALSE;

  002cc	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?warpEffectOk@@3HA, 0 ; warpEffectOk

; 466  : 		SubProcNo++;

  002d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  002db	83 c0 01	 add	 eax, 1
  002de	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN20@GameProc:

; 467  : 	case 203:
; 468  : 		// ?¸“????˛Œ
; 469  : 		// ???????
; 470  : 		paletteProc();

  002e3	e8 00 00 00 00	 call	 ?paletteProc@@YAXXZ	; paletteProc

; 471  : 
; 472  : 		DispBuffer.DispCnt = 0;

  002e8	33 c0		 xor	 eax, eax
  002ea	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 473  : 		FontCnt = 0;

  002f0	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 474  : 		initCharPartsPrio();	// ?????????°I???§e??????

  002fa	e8 00 00 00 00	 call	 ?initCharPartsPrio@@YAXXZ ; initCharPartsPrio

; 475  : 		RunAction();			// ?????????

  002ff	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 476  : 		StockTaskDispBuffer();	// ???§˙˚®????????????

  00304	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 477  : 		redrawMap();

  00309	e8 00 00 00 00	 call	 ?redrawMap@@YAXXZ	; redrawMap

; 478  : 		drawMap();				//	???§˙˚®

  0030e	e8 00 00 00 00	 call	 ?drawMap@@YAXXZ		; drawMap

; 479  : 
; 480  : 								// ?????????
; 481  : 		if ((mapEffectRainLevel == 0 && oldMapEffectRainLevel != 0)
; 482  : 			|| (mapEffectSnowLevel == 0 && oldMapEffectSnowLevel != 0)

  00313	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  0031a	85 c0		 test	 eax, eax
  0031c	75 0b		 jne	 SHORT $LN23@GameProc
  0031e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?oldMapEffectRainLevel@@3FA ; oldMapEffectRainLevel
  00325	85 c0		 test	 eax, eax
  00327	75 16		 jne	 SHORT $LN22@GameProc
$LN23@GameProc:
  00329	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  00330	85 c0		 test	 eax, eax
  00332	75 15		 jne	 SHORT $LN21@GameProc
  00334	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?oldMapEffectSnowLevel@@3FA ; oldMapEffectSnowLevel
  0033b	85 c0		 test	 eax, eax
  0033d	74 0a		 je	 SHORT $LN21@GameProc
$LN22@GameProc:

; 483  : 			)
; 484  : 			initMapEffect(FALSE);

  0033f	6a 00		 push	 0
  00341	e8 00 00 00 00	 call	 ?initMapEffect@@YAXH@Z	; initMapEffect
  00346	83 c4 04	 add	 esp, 4
$LN21@GameProc:

; 485  : 		ChatProc();				// ??????

  00349	e8 00 00 00 00	 call	 ?ChatProc@@YAXXZ	; ChatProc

; 486  : 		ChatBufferToFontBuffer(); // ??????????????????????

  0034e	e8 00 00 00 00	 call	 ?ChatBufferToFontBuffer@@YAXXZ ; ChatBufferToFontBuffer

; 487  : 		SortDispBuffer(); 	// §˙˚®???????

  00353	e8 00 00 00 00	 call	 ?SortDispBuffer@@YAXXZ	; SortDispBuffer

; 488  : 							// ???????????????
; 489  : 		ClearBackSurface();

  00358	e8 00 00 00 00	 call	 ?ClearBackSurface@@YAXXZ ; ClearBackSurface

; 490  : 		if ((mapEffectRainLevel != 0 && oldMapEffectRainLevel == 0)
; 491  : 			|| (mapEffectSnowLevel != 0 && oldMapEffectSnowLevel == 0))

  0035d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  00364	85 c0		 test	 eax, eax
  00366	74 0b		 je	 SHORT $LN26@GameProc
  00368	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?oldMapEffectRainLevel@@3FA ; oldMapEffectRainLevel
  0036f	85 c0		 test	 eax, eax
  00371	74 16		 je	 SHORT $LN25@GameProc
$LN26@GameProc:
  00373	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  0037a	85 c0		 test	 eax, eax
  0037c	74 15		 je	 SHORT $LN24@GameProc
  0037e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?oldMapEffectSnowLevel@@3FA ; oldMapEffectSnowLevel
  00385	85 c0		 test	 eax, eax
  00387	75 0a		 jne	 SHORT $LN24@GameProc
$LN25@GameProc:

; 492  : 			mapEffectProc2(80);		// ???????????°D??

  00389	6a 50		 push	 80			; 00000050H
  0038b	e8 00 00 00 00	 call	 ?mapEffectProc2@@YAXH@Z	; mapEffectProc2
  00390	83 c4 04	 add	 esp, 4
$LN24@GameProc:

; 493  : 									// ????????????????
; 494  : 		PutBmp();

  00393	e8 00 00 00 00	 call	 ?PutBmp@@YAXXZ		; PutBmp

; 495  : 		// ??????????????????????
; 496  : 		lpBattleSurface->BltFast(0, 0, lpDraw->lpBACKBUFFER, NULL, DDBLTFAST_WAIT);

  00398	8b f4		 mov	 esi, esp
  0039a	6a 10		 push	 16			; 00000010H
  0039c	6a 00		 push	 0
  0039e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  003a3	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  003a6	51		 push	 ecx
  003a7	6a 00		 push	 0
  003a9	6a 00		 push	 0
  003ab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  003b1	8b 02		 mov	 eax, DWORD PTR [edx]
  003b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  003b9	51		 push	 ecx
  003ba	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  003bd	ff d2		 call	 edx
  003bf	3b f4		 cmp	 esi, esp
  003c1	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 497  : 		// ???????
; 498  : 		DispBuffer.DispCnt = 0;

  003c6	33 c0		 xor	 eax, eax
  003c8	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 499  : 		FontCnt = 0;

  003ce	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 500  : 
; 501  : 		//			if( map_bgm_no != now_bgm )
; 502  : 		//			{
; 503  : 		//				stop_bgm();				//???§_˚¢
; 504  : 		//				play_bgm( map_bgm_no );
; 505  : 		//			}
; 506  : 
; 507  : 		// ????????
; 508  : 		NowTime = TimeGetTime();

  003d8	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  003dd	a3 00 00 00 00	 mov	 DWORD PTR ?NowTime@@3KA, eax ; NowTime

; 509  : 
; 510  : 		ProduceInitFlag = TRUE;

  003e2	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?ProduceInitFlag@@3HA, 1 ; ProduceInitFlag

; 511  : 
; 512  : 		SubProcNo++;

  003ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  003f1	83 c0 01	 add	 eax, 1
  003f4	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN27@GameProc:

; 513  : 
; 514  : 	case 204:
; 515  : 		// ?¸“?
; 516  : 		BackBufferDrawType = DRAW_BACK_PRODUCE;

  003f9	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 2 ; BackBufferDrawType

; 517  : 		if (DrawProduce(PRODUCE_CENTER_PRESSOUT) == TRUE)

  00403	6a 1d		 push	 29			; 0000001dH
  00405	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  0040a	83 c4 04	 add	 esp, 4
  0040d	83 f8 01	 cmp	 eax, 1
  00410	75 2b		 jne	 SHORT $LN28@GameProc

; 518  : 		{
; 519  : 			fieldInfoTime = TimeGetTime();

  00412	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00417	a3 00 00 00 00	 mov	 DWORD PTR ?fieldInfoTime@@3IA, eax ; fieldInfoTime

; 520  : 			if (fastDrawTile)

  0041c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?fastDrawTile@@3FB ; fastDrawTile
  00423	85 c0		 test	 eax, eax
  00425	74 0c		 je	 SHORT $LN29@GameProc

; 521  : 			{
; 522  : 				SubProcNo = 20;

  00427	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 20 ; SubProcNo, 00000014H

; 523  : 			}
; 524  : 			else

  00431	eb 0a		 jmp	 SHORT $LN28@GameProc
$LN29@GameProc:

; 525  : 			{
; 526  : 				SubProcNo = 3;

  00433	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 3 ; SubProcNo
$LN28@GameProc:

; 527  : 			}
; 528  : #ifdef _NPC_DANCE
; 529  : 			if (nowFloor == 7027)
; 530  : 				play_bgm(24);
; 531  : #endif
; 532  : 		}
; 533  : 		drawField();	// ??????˛ù?????§˙˚®

  0043d	e8 00 00 00 00	 call	 ?drawField@@YAXXZ	; drawField

; 534  : 		MenuProc();	// ??????

  00442	e8 00 00 00 00	 call	 ?MenuProc@@YAXXZ	; MenuProc

; 535  : 		ImeProc();	// ???????

  00447	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc

; 536  : 		break;

  0044c	e9 aa 03 00 00	 jmp	 $LN50@GameProc
$LN31@GameProc:

; 537  : 
; 538  : 
; 539  : 	case 1:
; 540  : 		initPc();				// ?????????˛Œ

  00451	e8 00 00 00 00	 call	 ?initPc@@YAXXZ		; initPc

; 541  : 		resetFieldProc();		// ????????????

  00456	e8 00 00 00 00	 call	 ?resetFieldProc@@YAXXZ	; resetFieldProc

; 542  : 		restorePtActCharObjAll();	// ?????????????????

  0045b	e8 00 00 00 00	 call	 ?restorePtActCharObjAll@@YAXXZ ; restorePtActCharObjAll

; 543  : 		initOpenServerWindow();	// ????˙˘˚®?§˙˚®???????????

  00460	e8 00 00 00 00	 call	 ?initOpenServerWindow@@YAXXZ ; initOpenServerWindow

; 544  : 		InitMenu();		// ??????????

  00465	e8 00 00 00 00	 call	 ?InitMenu@@YAXXZ	; InitMenu

; 545  : 						//			BattleStatusBak[ 0 ] = NULL;// ???˝÷¢t???
; 546  : 						//			BattleStatusReadPointer = BattleStatusWritePointer =0;
; 547  : 						// ¶V??????˚Ë•x
; 548  : 		GetKeyInputFocus(&MyChatBuffer);

  0046a	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  0046f	e8 00 00 00 00	 call	 ?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z ; GetKeyInputFocus
  00474	83 c4 04	 add	 esp, 4

; 549  : 
; 550  : 		// ?¸“???
; 551  : 		if (produceFlag == TRUE) {

  00477	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?produceFlag@?1??GameProc@@YAXXZ@4HA, 1
  0047e	0f 85 e4 00 00
	00		 jne	 $LN32@GameProc

; 552  : 			// °P•f????????????
; 553  : 			//if( BattleResultWndFlag == TRUE ){
; 554  : 
; 555  : 			// ?¸“????˛Œ
; 556  : 			// ???????
; 557  : 			DispBuffer.DispCnt = 0;

  00484	33 c0		 xor	 eax, eax
  00486	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 558  : 			FontCnt = 0;

  0048c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 559  : 			initCharPartsPrio();	// ?????????°I???§e??????

  00496	e8 00 00 00 00	 call	 ?initCharPartsPrio@@YAXXZ ; initCharPartsPrio

; 560  : 			RunAction();			// ?????????

  0049b	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 561  : 			StockTaskDispBuffer();	// ???§˙˚®????????????

  004a0	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 562  : 			stop_bgm();				//???§_˚¢

  004a5	e8 00 00 00 00	 call	 ?stop_bgm@@YAXXZ	; stop_bgm

; 563  : 			updateMapArea();

  004aa	e8 00 00 00 00	 call	 ?updateMapArea@@YAXXZ	; updateMapArea

; 564  : 			redrawMap();

  004af	e8 00 00 00 00	 call	 ?redrawMap@@YAXXZ	; redrawMap

; 565  : 			drawMap();				//	???§˙˚®

  004b4	e8 00 00 00 00	 call	 ?drawMap@@YAXXZ		; drawMap

; 566  : 									//????????
; 567  : 			if (!draw_map_bgm_flg) {

  004b9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?draw_map_bgm_flg@@3HA, 0 ; draw_map_bgm_flg
  004c0	75 23		 jne	 SHORT $LN34@GameProc

; 568  : 				//????????˛ÿ
; 569  : 				play_bgm(map_bgm_no = now_bgm);

  004c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?now_bgm@?1??GameProc@@YAXXZ@4HA
  004c7	a3 00 00 00 00	 mov	 DWORD PTR ?map_bgm_no@@3HA, eax ; map_bgm_no
  004cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?map_bgm_no@@3HA ; map_bgm_no
  004d2	51		 push	 ecx
  004d3	e8 00 00 00 00	 call	 ?play_bgm@@YAHH@Z	; play_bgm
  004d8	83 c4 04	 add	 esp, 4

; 570  : 				draw_map_bgm_flg = 1;

  004db	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg
$LN34@GameProc:

; 571  : 			}
; 572  : 			MenuProc();				// ??????

  004e5	e8 00 00 00 00	 call	 ?MenuProc@@YAXXZ	; MenuProc

; 573  : 									// ???????•D??????˝Ë?
; 574  : 									//StockBoxDispBuffer( 0, 456, lpDraw->xSize, lpDraw->ySize, DISP_PRIO_MENU, 0, 1 );
; 575  : 			ChatProc();				// ??????

  004ea	e8 00 00 00 00	 call	 ?ChatProc@@YAXXZ	; ChatProc

; 576  : 			ChatBufferToFontBuffer(); // ??????????????????????

  004ef	e8 00 00 00 00	 call	 ?ChatBufferToFontBuffer@@YAXXZ ; ChatBufferToFontBuffer

; 577  : 			ImeProc();				// ???????

  004f4	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc

; 578  : 			SortDispBuffer(); 	// §˙˚®???????

  004f9	e8 00 00 00 00	 call	 ?SortDispBuffer@@YAXXZ	; SortDispBuffer

; 579  : 								// ???????????????
; 580  : 			ClearBackSurface();

  004fe	e8 00 00 00 00	 call	 ?ClearBackSurface@@YAXXZ ; ClearBackSurface

; 581  : 			// ????????????????
; 582  : 			PutBmp();

  00503	e8 00 00 00 00	 call	 ?PutBmp@@YAXXZ		; PutBmp

; 583  : 			// ??????????????????????
; 584  : 			lpBattleSurface->BltFast(0, 0, lpDraw->lpBACKBUFFER, NULL, DDBLTFAST_WAIT);

  00508	8b f4		 mov	 esi, esp
  0050a	6a 10		 push	 16			; 00000010H
  0050c	6a 00		 push	 0
  0050e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00513	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00516	51		 push	 ecx
  00517	6a 00		 push	 0
  00519	6a 00		 push	 0
  0051b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  00521	8b 02		 mov	 eax, DWORD PTR [edx]
  00523	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  00529	51		 push	 ecx
  0052a	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  0052d	ff d2		 call	 edx
  0052f	3b f4		 cmp	 esi, esp
  00531	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 585  : 			// ???????
; 586  : 			DispBuffer.DispCnt = 0;

  00536	33 c0		 xor	 eax, eax
  00538	66 a3 00 c0 01
	00		 mov	 WORD PTR ?DispBuffer@@3UDISP_BUFFER@@A+114688, ax

; 587  : 			FontCnt = 0;

  0053e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt

; 588  : 			// ????????
; 589  : 			NowTime = TimeGetTime();

  00548	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0054d	a3 00 00 00 00	 mov	 DWORD PTR ?NowTime@@3KA, eax ; NowTime

; 590  : 			// ????????§˛?©ò©ú®¡?
; 591  : 			BackBufferDrawType = DRAW_BACK_PRODUCE;

  00552	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 2 ; BackBufferDrawType

; 592  : 			// ?¸“?
; 593  : 			DrawProduce(PRODUCE_4WAY_IN);

  0055c	6a 0d		 push	 13			; 0000000dH
  0055e	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  00563	83 c4 04	 add	 esp, 4

; 594  : 		}
; 595  : 		else {

  00566	eb 17		 jmp	 SHORT $LN33@GameProc
$LN32@GameProc:

; 596  : 			// ?¸“?????
; 597  : 			produceFlag = TRUE;

  00568	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?produceFlag@?1??GameProc@@YAXXZ@4HA, 1

; 598  : 			SubProcNo++;

  00572	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  00577	83 c0 01	 add	 eax, 1
  0057a	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN33@GameProc:

; 599  : 		}
; 600  : 		SubProcNo++;

  0057f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  00584	83 c0 01	 add	 eax, 1
  00587	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo

; 601  : 
; 602  : 		break;

  0058c	e9 6a 02 00 00	 jmp	 $LN50@GameProc
$LN35@GameProc:

; 603  : 
; 604  : 	case 2:	// ????????¸“
; 605  : 			// ?¸“?
; 606  : 		if (DrawProduce(PRODUCE_4WAY_IN) == TRUE) {

  00591	6a 0d		 push	 13			; 0000000dH
  00593	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  00598	83 c4 04	 add	 esp, 4
  0059b	83 f8 01	 cmp	 eax, 1
  0059e	75 35		 jne	 SHORT $LN36@GameProc

; 607  : 			warpEffectStart = FALSE;

  005a0	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?warpEffectStart@@3HA, 0 ; warpEffectStart

; 608  : 			warpEffectOk = FALSE;

  005aa	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?warpEffectOk@@3HA, 0 ; warpEffectOk

; 609  : 			if (fastDrawTile)

  005b4	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?fastDrawTile@@3FB ; fastDrawTile
  005bb	85 c0		 test	 eax, eax
  005bd	74 0c		 je	 SHORT $LN37@GameProc

; 610  : 			{
; 611  : 				SubProcNo = 20;

  005bf	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 20 ; SubProcNo, 00000014H

; 612  : 			}
; 613  : 			else

  005c9	eb 0a		 jmp	 SHORT $LN36@GameProc
$LN37@GameProc:

; 614  : 			{
; 615  : 				SubProcNo = 3;

  005cb	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 3 ; SubProcNo
$LN36@GameProc:

; 616  : 			}
; 617  : 		}
; 618  : 		break;

  005d5	e9 21 02 00 00	 jmp	 $LN50@GameProc
$LN39@GameProc:

; 619  : 
; 620  : 
; 621  : 	case 20:
; 622  : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  005da	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 623  : 		repairMap();

  005e4	e8 00 00 00 00	 call	 ?repairMap@@YAXXZ	; repairMap

; 624  : 		SubProcNo = 3;

  005e9	c7 05 00 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 3 ; SubProcNo
$LN40@GameProc:

; 625  : 
; 626  : 	case 3:
; 627  : 		// ????????§˛?©ò©ú®¡?
; 628  : 
; 629  : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  005f3	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 630  : 		paletteProc();

  005fd	e8 00 00 00 00	 call	 ?paletteProc@@YAXXZ	; paletteProc

; 631  : 
; 632  : 		initItemOverlapCheck();	// ????¸«????????????

  00602	e8 00 00 00 00	 call	 ?initItemOverlapCheck@@YAXXZ ; initItemOverlapCheck

; 633  : 
; 634  : 		if (!transmigrationEffectFlag) {

  00607	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?transmigrationEffectFlag@@3HA, 0 ; transmigrationEffectFlag
  0060e	75 1f		 jne	 SHORT $LN41@GameProc

; 635  : 			drawGrid();				// ????????§˙˚®

  00610	e8 00 00 00 00	 call	 ?drawGrid@@YAXXZ	; drawGrid

; 636  : 			fieldProc();			// ?????????

  00615	e8 00 00 00 00	 call	 ?fieldProc@@YAXXZ	; fieldProc

; 637  : 									// Nuke 0407
; 638  : 
; 639  : 			if (bNewServer) {

  0061a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00621	74 07		 je	 SHORT $LN42@GameProc

; 640  : 				moveProc();				// ?•h??

  00623	e8 00 00 00 00	 call	 ?moveProc@@YAXXZ	; moveProc

; 641  : 			}
; 642  : 			else

  00628	eb 05		 jmp	 SHORT $LN41@GameProc
$LN42@GameProc:

; 643  : 				moveProc();				// ?•h??

  0062a	e8 00 00 00 00	 call	 ?moveProc@@YAXXZ	; moveProc
$LN41@GameProc:

; 644  : 		}
; 645  : 
; 646  : 		initCharPartsPrio();	// ?????????°I???§e??????

  0062f	e8 00 00 00 00	 call	 ?initCharPartsPrio@@YAXXZ ; initCharPartsPrio

; 647  : 								//addressBookProc();		// ?????????
; 648  : 		openServerWindowProc();	// ????˛…?????

  00634	e8 00 00 00 00	 call	 ?openServerWindowProc@@YAXXZ ; openServerWindowProc

; 649  : 		drawFieldInfoWin();		// ?????˝Õ?˝—©ç

  00639	e8 00 00 00 00	 call	 ?drawFieldInfoWin@@YAXXZ ; drawFieldInfoWin

; 650  : 
; 651  : 								/* ????????? */
; 652  : 		RunAction();

  0063e	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 653  : 		// ???§˙˚®????????????
; 654  : 		// ˙˘§eßd?????????
; 655  : 		StockTaskDispBuffer();

  00643	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 656  : 
; 657  : 		mapEffectProc();		// ???????????°D??

  00648	e8 00 00 00 00	 call	 ?mapEffectProc@@YAXXZ	; mapEffectProc

; 658  : 
; 659  : 		drawMap2();		// ???§˙˚®

  0064d	e8 00 00 00 00	 call	 ?drawMap2@@YAXXZ	; drawMap2

; 660  : 
; 661  : 
; 662  : 
; 663  : 		if (!transmigrationEffectFlag) {

  00652	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?transmigrationEffectFlag@@3HA, 0 ; transmigrationEffectFlag
  00659	75 1e		 jne	 SHORT $LN44@GameProc

; 664  : 			drawField();	// ??????˛ù?????§˙˚®

  0065b	e8 00 00 00 00	 call	 ?drawField@@YAXXZ	; drawField

; 665  : 
; 666  : 							/* ?????? */
; 667  : 			ChatProc();

  00660	e8 00 00 00 00	 call	 ?ChatProc@@YAXXZ	; ChatProc

; 668  : 			// ??????????????????????
; 669  : 			ChatBufferToFontBuffer();

  00665	e8 00 00 00 00	 call	 ?ChatBufferToFontBuffer@@YAXXZ ; ChatBufferToFontBuffer

; 670  : 			// ?????????§ú˛ò??
; 671  : 			FlashKeyboardCursor();

  0066a	e8 00 00 00 00	 call	 ?FlashKeyboardCursor@@YAXXZ ; FlashKeyboardCursor

; 672  : 			// ??????
; 673  : 			MenuProc();

  0066f	e8 00 00 00 00	 call	 ?MenuProc@@YAXXZ	; MenuProc

; 674  : 			// ???????
; 675  : 			ImeProc();

  00674	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc
$LN44@GameProc:

; 676  : 		}
; 677  : 		// ??¢q?????????????
; 678  : 		TimeZoneProc();

  00679	e8 00 00 00 00	 call	 ?TimeZoneProc@@YAXXZ	; TimeZoneProc

; 679  : 
; 680  : 		/*cary
; 681  : 		#ifdef _STONDEBUG_
; 682  : 		// ?????????
; 683  : 		if( joy_trg[ 0 ] & JOY_P_DOWN ){
; 684  : 		if( pc.ptAct != NULL ){
; 685  : 		resetMap();					// ?????????
; 686  : 		// ???????˝Ô
; 687  : 		if( bNewServer)
; 688  : 		lssproto_EN_send( sockfd, pc.ptAct->gx, pc.ptAct->gy );
; 689  : 		else
; 690  : 		old_lssproto_EN_send( sockfd, pc.ptAct->gx, pc.ptAct->gy );
; 691  : 		eventEnemyFlag = 0;
; 692  : 		}
; 693  : 		}
; 694  : 		#endif
; 695  : 		*/
; 696  : 		// ?????????
; 697  : 		if (EncountFlag == TRUE) {

  0067e	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?EncountFlag@@3HA, 1 ; EncountFlag
  00685	0f 85 23 01 00
	00		 jne	 $LN45@GameProc

; 698  : 			resetPc();				// PC????

  0068b	e8 00 00 00 00	 call	 ?resetPc@@YAXXZ		; resetPc

; 699  : 			resetCharObj();			// ?????????????

  00690	e8 00 00 00 00	 call	 ?resetCharObj@@YAXXZ	; resetCharObj

; 700  : 			resetMap();				// ?????????

  00695	e8 00 00 00 00	 call	 ?resetMap@@YAXXZ	; resetMap

; 701  : 			clearPtActPartyParam();	// ??˝—©ç?????????????NULL???

  0069a	e8 00 00 00 00	 call	 ?clearPtActPartyParam@@YAXXZ ; clearPtActPartyParam

; 702  : 			fieldInfoTime = 0;		// ˝Õ?˝—©ç?¸“???˝§?

  0069f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fieldInfoTime@@3IA, 0 ; fieldInfoTime

; 703  : 			drawFieldInfoWin();		// ?????˝Õ?˝—©ç

  006a9	e8 00 00 00 00	 call	 ?drawFieldInfoWin@@YAXXZ ; drawFieldInfoWin

; 704  : 			resetFieldProc();		// ????????????

  006ae	e8 00 00 00 00	 call	 ?resetFieldProc@@YAXXZ	; resetFieldProc

; 705  : 			nowEncountPercentage = minEncountPercentage;// ?????????¸Ì???

  006b3	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?minEncountPercentage@@3FA ; minEncountPercentage
  006b9	66 a3 00 00 00
	00		 mov	 WORD PTR ?nowEncountPercentage@@3FA, ax ; nowEncountPercentage

; 706  : 			sendEnFlag = 0;

  006bf	33 c0		 xor	 eax, eax
  006c1	66 a3 00 00 00
	00		 mov	 WORD PTR ?sendEnFlag@@3FA, ax ; sendEnFlag

; 707  : 			encountNowFlag = 1;

  006c7	b8 01 00 00 00	 mov	 eax, 1
  006cc	66 a3 00 00 00
	00		 mov	 WORD PTR ?encountNowFlag@@3FA, ax ; encountNowFlag

; 708  : 			eventEnemySendFlag = 0;

  006d2	33 c0		 xor	 eax, eax
  006d4	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemySendFlag@@3FA, ax ; eventEnemySendFlag

; 709  : 			duelSendFlag = 0;

  006da	33 c0		 xor	 eax, eax
  006dc	66 a3 00 00 00
	00		 mov	 WORD PTR ?duelSendFlag@@3FA, ax ; duelSendFlag

; 710  : 			jbSendFlag = 0;

  006e2	33 c0		 xor	 eax, eax
  006e4	66 a3 00 00 00
	00		 mov	 WORD PTR ?jbSendFlag@@3FA, ax ; jbSendFlag

; 711  : 			if (MenuToggleFlag & JOY_CTRL_M) MapWmdFlagBak = TRUE;

  006ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?MenuToggleFlag@@3IA ; MenuToggleFlag
  006ef	25 00 00 00 40	 and	 eax, 1073741824		; 40000000H
  006f4	74 0a		 je	 SHORT $LN46@GameProc
  006f6	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?MapWmdFlagBak@@3HA, 1 ; MapWmdFlagBak
$LN46@GameProc:

; 712  : 			ResultWndTimer = RESULT_WND_CLOSE_TIME;

  00700	c7 05 00 00 00
	00 2c 01 00 00	 mov	 DWORD PTR ?ResultWndTimer@@3HA, 300 ; ResultWndTimer, 0000012cH

; 713  : 			InitMenu();			// ??????????

  0070a	e8 00 00 00 00	 call	 ?InitMenu@@YAXXZ	; InitMenu

; 714  : 			BattleCmd[0] = NULL;		// ??????????

  0070f	b8 01 00 00 00	 mov	 eax, 1
  00714	6b c8 00	 imul	 ecx, eax, 0
  00717	89 8d 38 ff ff
	ff		 mov	 DWORD PTR $T2[ebp], ecx
  0071d	81 bd 38 ff ff
	ff 00 10 00 00	 cmp	 DWORD PTR $T2[ebp], 4096 ; 00001000H
  00727	73 02		 jae	 SHORT $LN51@GameProc
  00729	eb 05		 jmp	 SHORT $LN52@GameProc
$LN51@GameProc:
  0072b	e8 00 00 00 00	 call	 ___report_rangecheckfailure
$LN52@GameProc:
  00730	8b 95 38 ff ff
	ff		 mov	 edx, DWORD PTR $T2[ebp]
  00736	c6 82 00 00 00
	00 00		 mov	 BYTE PTR ?BattleCmd@@3PADA[edx], 0

; 715  : 										//				BattleCmdBak[ 0 ] = NULL;	// ??????????
; 716  : 										//				BattleCmdReadPointer = BattleCmdWritePointer =0;
; 717  : 			BattleStatus[0] = NULL;	// ???˝÷¢t???

  0073d	b8 01 00 00 00	 mov	 eax, 1
  00742	6b c8 00	 imul	 ecx, eax, 0
  00745	89 8d 2c ff ff
	ff		 mov	 DWORD PTR $T1[ebp], ecx
  0074b	81 bd 2c ff ff
	ff 00 10 00 00	 cmp	 DWORD PTR $T1[ebp], 4096 ; 00001000H
  00755	73 02		 jae	 SHORT $LN53@GameProc
  00757	eb 05		 jmp	 SHORT $LN54@GameProc
$LN53@GameProc:
  00759	e8 00 00 00 00	 call	 ___report_rangecheckfailure
$LN54@GameProc:
  0075e	8b 95 2c ff ff
	ff		 mov	 edx, DWORD PTR $T1[ebp]
  00764	c6 82 00 00 00
	00 00		 mov	 BYTE PTR ?BattleStatus@@3PADA[edx], 0

; 718  : 									//BattleStatusBak[ 0 ] = NULL;// ???˝÷¢t???
; 719  : 									//				BattleStatusReadPointer = BattleStatusWritePointer =0;
; 720  : 			BattleTurnReceiveFlag = TRUE;

  0076b	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?BattleTurnReceiveFlag@@3HA, 1 ; BattleTurnReceiveFlag

; 721  : 			play_se(215, 320, 240);

  00775	68 f0 00 00 00	 push	 240			; 000000f0H
  0077a	68 40 01 00 00	 push	 320			; 00000140H
  0077f	68 d7 00 00 00	 push	 215			; 000000d7H
  00784	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  00789	83 c4 0c	 add	 esp, 12			; 0000000cH

; 722  : 			now_bgm = t_music_bgm_no;

  0078c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?t_music_bgm_no@@3HA ; t_music_bgm_no
  00791	a3 00 00 00 00	 mov	 DWORD PTR ?now_bgm@?1??GameProc@@YAXXZ@4HA, eax

; 723  : 			stop_bgm();

  00796	e8 00 00 00 00	 call	 ?stop_bgm@@YAXXZ	; stop_bgm

; 724  : 			//SubProcNo++;
; 725  : 			ChangeProc2(PROC_GAME, SubProcNo + 1);

  0079b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  007a0	83 c0 01	 add	 eax, 1
  007a3	50		 push	 eax
  007a4	6a 09		 push	 9
  007a6	e8 00 00 00 00	 call	 ?ChangeProc2@@YAXHH@Z	; ChangeProc2
  007ab	83 c4 08	 add	 esp, 8
$LN45@GameProc:

; 726  : 			//printf("\n’Ω∂∑‘§¥¶¿Ì÷¥––ÕÍ±œ SubProcNo=%d",SubProcNo+1);
; 727  : 		}
; 728  : 		break;

  007ae	eb 4b		 jmp	 SHORT $LN50@GameProc
$LN47@GameProc:

; 729  : 
; 730  : 	case 4:	// ??????????¸“??????????
; 731  : 			// ????????????˛Œ 
; 732  : 		CopyBackBuffer();

  007b0	e8 00 00 00 00	 call	 ?CopyBackBuffer@@YAXXZ	; CopyBackBuffer

; 733  : 		// ????????§˛?©ò©ú®¡?
; 734  : 		BackBufferDrawType = DRAW_BACK_PRODUCE;

  007b5	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 2 ; BackBufferDrawType

; 735  : 		SubProcNo++;

  007bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  007c4	83 c0 01	 add	 eax, 1
  007c7	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo

; 736  : 		//	printf("\nDRAW_BACK_PRODUCE÷¥––ÕÍ±œ SubProcNo=%d",SubProcNo);
; 737  : 		break;

  007cc	eb 2d		 jmp	 SHORT $LN50@GameProc
$LN48@GameProc:

; 738  : 
; 739  : 	case 5:	// ???????¸“
; 740  : 
; 741  : 			// ?¸“?
; 742  : 		if (DrawProduce(PRODUCE_HAGARE_OCHI_OUT) == TRUE) {

  007ce	6a 10		 push	 16			; 00000010H
  007d0	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  007d5	83 c4 04	 add	 esp, 4
  007d8	83 f8 01	 cmp	 eax, 1
  007db	75 14		 jne	 SHORT $LN49@GameProc

; 743  : 			//if( DrawProduce( PRODUCE_RIGHT_ACCELE ) == TRUE ){
; 744  : 			//if( DrawProduce( PRODUCE_LEFT_RIGHT_ACCELE ) == TRUE ){
; 745  : 			//if( GameState == GAME_ENCOUNT_TO_BATTLE ){ 
; 746  : 			// ????????
; 747  : #ifdef _HALLOWEEN_EFFECT
; 748  : 			initMapEffect(FALSE);

  007dd	6a 00		 push	 0
  007df	e8 00 00 00 00	 call	 ?initMapEffect@@YAXH@Z	; initMapEffect
  007e4	83 c4 04	 add	 esp, 4

; 749  : #endif
; 750  : 			ChangeProc(PROC_BATTLE);

  007e7	6a 0a		 push	 10			; 0000000aH
  007e9	e8 00 00 00 00	 call	 ?ChangeProc@@YAXH@Z	; ChangeProc
  007ee	83 c4 04	 add	 esp, 4
$LN49@GameProc:

; 751  : 			//		printf("\nPROC_BATTLE∏¸ªªÕÍ±œ SubProcNo=%d",SubProcNo);
; 752  : 		}
; 753  : 
; 754  : 		MenuProc();	// ??????

  007f1	e8 00 00 00 00	 call	 ?MenuProc@@YAXXZ	; MenuProc

; 755  : 					//	printf("\nMenuProc÷¥––ÕÍ±œ");
; 756  : 		ImeProc();	// ???????

  007f6	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc
$LN50@GameProc:

; 757  : 					//	printf("\nImeProc÷¥––ÕÍ±œ");
; 758  : 		break;
; 759  : 	}
; 760  : }

  007fb	5f		 pop	 edi
  007fc	5e		 pop	 esi
  007fd	5b		 pop	 ebx
  007fe	81 c4 dc 00 00
	00		 add	 esp, 220		; 000000dcH
  00804	3b ec		 cmp	 ebp, esp
  00806	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0080b	8b e5		 mov	 esp, ebp
  0080d	5d		 pop	 ebp
  0080e	c3		 ret	 0
  0080f	90		 npad	 1
$LN56@GameProc:
  00810	00 00 00 00	 DD	 $LN4@GameProc
  00814	00 00 00 00	 DD	 $LN31@GameProc
  00818	00 00 00 00	 DD	 $LN35@GameProc
  0081c	00 00 00 00	 DD	 $LN40@GameProc
  00820	00 00 00 00	 DD	 $LN47@GameProc
  00824	00 00 00 00	 DD	 $LN48@GameProc
  00828	00 00 00 00	 DD	 $LN39@GameProc
  0082c	00 00 00 00	 DD	 $LN6@GameProc
  00830	00 00 00 00	 DD	 $LN7@GameProc
  00834	00 00 00 00	 DD	 $LN9@GameProc
  00838	00 00 00 00	 DD	 $LN10@GameProc
  0083c	00 00 00 00	 DD	 $LN5@GameProc
  00840	00 00 00 00	 DD	 $LN14@GameProc
  00844	00 00 00 00	 DD	 $LN15@GameProc
  00848	00 00 00 00	 DD	 $LN17@GameProc
  0084c	00 00 00 00	 DD	 $LN20@GameProc
  00850	00 00 00 00	 DD	 $LN27@GameProc
  00854	00 00 00 00	 DD	 $LN50@GameProc
$LN55@GameProc:
  00858	00		 DB	 0
  00859	01		 DB	 1
  0085a	02		 DB	 2
  0085b	03		 DB	 3
  0085c	04		 DB	 4
  0085d	05		 DB	 5
  0085e	11		 DB	 17			; 00000011H
  0085f	11		 DB	 17			; 00000011H
  00860	11		 DB	 17			; 00000011H
  00861	11		 DB	 17			; 00000011H
  00862	11		 DB	 17			; 00000011H
  00863	11		 DB	 17			; 00000011H
  00864	11		 DB	 17			; 00000011H
  00865	11		 DB	 17			; 00000011H
  00866	11		 DB	 17			; 00000011H
  00867	11		 DB	 17			; 00000011H
  00868	11		 DB	 17			; 00000011H
  00869	11		 DB	 17			; 00000011H
  0086a	11		 DB	 17			; 00000011H
  0086b	11		 DB	 17			; 00000011H
  0086c	06		 DB	 6
  0086d	11		 DB	 17			; 00000011H
  0086e	11		 DB	 17			; 00000011H
  0086f	11		 DB	 17			; 00000011H
  00870	11		 DB	 17			; 00000011H
  00871	11		 DB	 17			; 00000011H
  00872	11		 DB	 17			; 00000011H
  00873	11		 DB	 17			; 00000011H
  00874	11		 DB	 17			; 00000011H
  00875	11		 DB	 17			; 00000011H
  00876	11		 DB	 17			; 00000011H
  00877	11		 DB	 17			; 00000011H
  00878	11		 DB	 17			; 00000011H
  00879	11		 DB	 17			; 00000011H
  0087a	11		 DB	 17			; 00000011H
  0087b	11		 DB	 17			; 00000011H
  0087c	11		 DB	 17			; 00000011H
  0087d	11		 DB	 17			; 00000011H
  0087e	11		 DB	 17			; 00000011H
  0087f	11		 DB	 17			; 00000011H
  00880	11		 DB	 17			; 00000011H
  00881	11		 DB	 17			; 00000011H
  00882	11		 DB	 17			; 00000011H
  00883	11		 DB	 17			; 00000011H
  00884	11		 DB	 17			; 00000011H
  00885	11		 DB	 17			; 00000011H
  00886	11		 DB	 17			; 00000011H
  00887	11		 DB	 17			; 00000011H
  00888	11		 DB	 17			; 00000011H
  00889	11		 DB	 17			; 00000011H
  0088a	11		 DB	 17			; 00000011H
  0088b	11		 DB	 17			; 00000011H
  0088c	11		 DB	 17			; 00000011H
  0088d	11		 DB	 17			; 00000011H
  0088e	11		 DB	 17			; 00000011H
  0088f	11		 DB	 17			; 00000011H
  00890	11		 DB	 17			; 00000011H
  00891	11		 DB	 17			; 00000011H
  00892	11		 DB	 17			; 00000011H
  00893	11		 DB	 17			; 00000011H
  00894	11		 DB	 17			; 00000011H
  00895	11		 DB	 17			; 00000011H
  00896	11		 DB	 17			; 00000011H
  00897	11		 DB	 17			; 00000011H
  00898	11		 DB	 17			; 00000011H
  00899	11		 DB	 17			; 00000011H
  0089a	11		 DB	 17			; 00000011H
  0089b	11		 DB	 17			; 00000011H
  0089c	11		 DB	 17			; 00000011H
  0089d	11		 DB	 17			; 00000011H
  0089e	11		 DB	 17			; 00000011H
  0089f	11		 DB	 17			; 00000011H
  008a0	11		 DB	 17			; 00000011H
  008a1	11		 DB	 17			; 00000011H
  008a2	11		 DB	 17			; 00000011H
  008a3	11		 DB	 17			; 00000011H
  008a4	11		 DB	 17			; 00000011H
  008a5	11		 DB	 17			; 00000011H
  008a6	11		 DB	 17			; 00000011H
  008a7	11		 DB	 17			; 00000011H
  008a8	11		 DB	 17			; 00000011H
  008a9	11		 DB	 17			; 00000011H
  008aa	11		 DB	 17			; 00000011H
  008ab	11		 DB	 17			; 00000011H
  008ac	11		 DB	 17			; 00000011H
  008ad	11		 DB	 17			; 00000011H
  008ae	11		 DB	 17			; 00000011H
  008af	11		 DB	 17			; 00000011H
  008b0	11		 DB	 17			; 00000011H
  008b1	11		 DB	 17			; 00000011H
  008b2	11		 DB	 17			; 00000011H
  008b3	11		 DB	 17			; 00000011H
  008b4	11		 DB	 17			; 00000011H
  008b5	11		 DB	 17			; 00000011H
  008b6	11		 DB	 17			; 00000011H
  008b7	11		 DB	 17			; 00000011H
  008b8	11		 DB	 17			; 00000011H
  008b9	11		 DB	 17			; 00000011H
  008ba	11		 DB	 17			; 00000011H
  008bb	11		 DB	 17			; 00000011H
  008bc	07		 DB	 7
  008bd	08		 DB	 8
  008be	09		 DB	 9
  008bf	0a		 DB	 10			; 0000000aH
  008c0	11		 DB	 17			; 00000011H
  008c1	11		 DB	 17			; 00000011H
  008c2	11		 DB	 17			; 00000011H
  008c3	11		 DB	 17			; 00000011H
  008c4	11		 DB	 17			; 00000011H
  008c5	11		 DB	 17			; 00000011H
  008c6	11		 DB	 17			; 00000011H
  008c7	11		 DB	 17			; 00000011H
  008c8	11		 DB	 17			; 00000011H
  008c9	11		 DB	 17			; 00000011H
  008ca	11		 DB	 17			; 00000011H
  008cb	11		 DB	 17			; 00000011H
  008cc	11		 DB	 17			; 00000011H
  008cd	11		 DB	 17			; 00000011H
  008ce	11		 DB	 17			; 00000011H
  008cf	11		 DB	 17			; 00000011H
  008d0	11		 DB	 17			; 00000011H
  008d1	11		 DB	 17			; 00000011H
  008d2	11		 DB	 17			; 00000011H
  008d3	11		 DB	 17			; 00000011H
  008d4	11		 DB	 17			; 00000011H
  008d5	11		 DB	 17			; 00000011H
  008d6	11		 DB	 17			; 00000011H
  008d7	11		 DB	 17			; 00000011H
  008d8	11		 DB	 17			; 00000011H
  008d9	11		 DB	 17			; 00000011H
  008da	11		 DB	 17			; 00000011H
  008db	11		 DB	 17			; 00000011H
  008dc	11		 DB	 17			; 00000011H
  008dd	11		 DB	 17			; 00000011H
  008de	11		 DB	 17			; 00000011H
  008df	11		 DB	 17			; 00000011H
  008e0	11		 DB	 17			; 00000011H
  008e1	11		 DB	 17			; 00000011H
  008e2	11		 DB	 17			; 00000011H
  008e3	11		 DB	 17			; 00000011H
  008e4	11		 DB	 17			; 00000011H
  008e5	11		 DB	 17			; 00000011H
  008e6	11		 DB	 17			; 00000011H
  008e7	11		 DB	 17			; 00000011H
  008e8	11		 DB	 17			; 00000011H
  008e9	11		 DB	 17			; 00000011H
  008ea	11		 DB	 17			; 00000011H
  008eb	11		 DB	 17			; 00000011H
  008ec	11		 DB	 17			; 00000011H
  008ed	11		 DB	 17			; 00000011H
  008ee	0b		 DB	 11			; 0000000bH
  008ef	11		 DB	 17			; 00000011H
  008f0	11		 DB	 17			; 00000011H
  008f1	11		 DB	 17			; 00000011H
  008f2	11		 DB	 17			; 00000011H
  008f3	11		 DB	 17			; 00000011H
  008f4	11		 DB	 17			; 00000011H
  008f5	11		 DB	 17			; 00000011H
  008f6	11		 DB	 17			; 00000011H
  008f7	11		 DB	 17			; 00000011H
  008f8	11		 DB	 17			; 00000011H
  008f9	11		 DB	 17			; 00000011H
  008fa	11		 DB	 17			; 00000011H
  008fb	11		 DB	 17			; 00000011H
  008fc	11		 DB	 17			; 00000011H
  008fd	11		 DB	 17			; 00000011H
  008fe	11		 DB	 17			; 00000011H
  008ff	11		 DB	 17			; 00000011H
  00900	11		 DB	 17			; 00000011H
  00901	11		 DB	 17			; 00000011H
  00902	11		 DB	 17			; 00000011H
  00903	11		 DB	 17			; 00000011H
  00904	11		 DB	 17			; 00000011H
  00905	11		 DB	 17			; 00000011H
  00906	11		 DB	 17			; 00000011H
  00907	11		 DB	 17			; 00000011H
  00908	11		 DB	 17			; 00000011H
  00909	11		 DB	 17			; 00000011H
  0090a	11		 DB	 17			; 00000011H
  0090b	11		 DB	 17			; 00000011H
  0090c	11		 DB	 17			; 00000011H
  0090d	11		 DB	 17			; 00000011H
  0090e	11		 DB	 17			; 00000011H
  0090f	11		 DB	 17			; 00000011H
  00910	11		 DB	 17			; 00000011H
  00911	11		 DB	 17			; 00000011H
  00912	11		 DB	 17			; 00000011H
  00913	11		 DB	 17			; 00000011H
  00914	11		 DB	 17			; 00000011H
  00915	11		 DB	 17			; 00000011H
  00916	11		 DB	 17			; 00000011H
  00917	11		 DB	 17			; 00000011H
  00918	11		 DB	 17			; 00000011H
  00919	11		 DB	 17			; 00000011H
  0091a	11		 DB	 17			; 00000011H
  0091b	11		 DB	 17			; 00000011H
  0091c	11		 DB	 17			; 00000011H
  0091d	11		 DB	 17			; 00000011H
  0091e	11		 DB	 17			; 00000011H
  0091f	11		 DB	 17			; 00000011H
  00920	0c		 DB	 12			; 0000000cH
  00921	0d		 DB	 13			; 0000000dH
  00922	0e		 DB	 14			; 0000000eH
  00923	0f		 DB	 15			; 0000000fH
  00924	10		 DB	 16			; 00000010H
?GameProc@@YAXXZ ENDP					; GameProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?ChangeProc2@@YAXHH@Z
_TEXT	SEGMENT
_procNo$ = 8						; size = 4
_subProcNo$ = 12					; size = 4
?ChangeProc2@@YAXHH@Z PROC				; ChangeProc2, COMDAT

; 317  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 318  : 	// ????ßk????
; 319  : 	ProcNo2 = procNo;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _procNo$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?ProcNo2@@3HA, eax ; ProcNo2

; 320  : 	// ??????ßk?????
; 321  : 	SubProcNo2 = subProcNo;

  00026	8b 45 0c	 mov	 eax, DWORD PTR _subProcNo$[ebp]
  00029	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo2@@3HA, eax ; SubProcNo2

; 322  : }

  0002e	5f		 pop	 edi
  0002f	5e		 pop	 esi
  00030	5b		 pop	 ebx
  00031	8b e5		 mov	 esp, ebp
  00033	5d		 pop	 ebp
  00034	c3		 ret	 0
?ChangeProc2@@YAXHH@Z ENDP				; ChangeProc2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?ChangeProc2@@YAXH@Z
_TEXT	SEGMENT
_procNo$ = 8						; size = 4
?ChangeProc2@@YAXH@Z PROC				; ChangeProc2, COMDAT

; 310  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 311  : 	// ????ßk????
; 312  : 	ProcNo2 = procNo;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _procNo$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?ProcNo2@@3HA, eax ; ProcNo2

; 313  : 	SubProcNo2 = 0;

  00026	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?SubProcNo2@@3HA, 0 ; SubProcNo2

; 314  : }

  00030	5f		 pop	 edi
  00031	5e		 pop	 esi
  00032	5b		 pop	 ebx
  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c3		 ret	 0
?ChangeProc2@@YAXH@Z ENDP				; ChangeProc2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?ChangeProc@@YAXHH@Z
_TEXT	SEGMENT
_procNo$ = 8						; size = 4
_subProcNo$ = 12					; size = 4
?ChangeProc@@YAXHH@Z PROC				; ChangeProc, COMDAT

; 302  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 303  : 	// ????ßk????
; 304  : 	ProcNo = procNo;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _procNo$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?ProcNo@@3IA, eax ; ProcNo

; 305  : 	// ??????ßk?????
; 306  : 	SubProcNo = subProcNo;

  00026	8b 45 0c	 mov	 eax, DWORD PTR _subProcNo$[ebp]
  00029	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo

; 307  : }

  0002e	5f		 pop	 edi
  0002f	5e		 pop	 esi
  00030	5b		 pop	 ebx
  00031	8b e5		 mov	 esp, ebp
  00033	5d		 pop	 ebp
  00034	c3		 ret	 0
?ChangeProc@@YAXHH@Z ENDP				; ChangeProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?ChangeProc@@YAXH@Z
_TEXT	SEGMENT
_procNo$ = 8						; size = 4
?ChangeProc@@YAXH@Z PROC				; ChangeProc, COMDAT

; 287  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 288  : #ifdef _NEW_MUISC_
; 289  : 	if (PROC_ID_PASSWORD == procNo) {
; 290  : 		≥ı º±≥æ∞“Ù¿÷ = TRUE;
; 291  : 		//t_music_se_volume = t_music_bgm_volume = 15;
; 292  : 	}
; 293  : #endif
; 294  : 	ProcNo = procNo;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _procNo$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?ProcNo@@3IA, eax ; ProcNo

; 295  : 	// ??????ßk?????
; 296  : 	SubProcNo = 0;

  00026	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 0 ; SubProcNo

; 297  : 
; 298  : 
; 299  : }

  00030	5f		 pop	 edi
  00031	5e		 pop	 esi
  00032	5b		 pop	 ebx
  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c3		 ret	 0
?ChangeProc@@YAXH@Z ENDP				; ChangeProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\process.cpp
;	COMDAT ?Process@@YAXXZ
_TEXT	SEGMENT
tv69 = -196						; size = 4
tv65 = -196						; size = 4
?Process@@YAXXZ PROC					; Process, COMDAT

; 50   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 51   : 	if (ProcNo2 >= 0)

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?ProcNo2@@3HA, 0 ; ProcNo2
  00025	7c 1e		 jl	 SHORT $LN6@Process

; 52   : 	{
; 53   : 		ProcNo = ProcNo2;

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ProcNo2@@3HA ; ProcNo2
  0002c	a3 00 00 00 00	 mov	 DWORD PTR ?ProcNo@@3IA, eax ; ProcNo

; 54   : 		ProcNo2 = -1;

  00031	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?ProcNo2@@3HA, -1 ; ProcNo2

; 55   : 		SubProcNo = SubProcNo2;

  0003b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo2@@3HA ; SubProcNo2
  00040	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN6@Process:

; 56   : 	}
; 57   : 
; 58   : 	/* ????ß∆? */
; 59   : 	switch (ProcNo)

  00045	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ProcNo@@3IA ; ProcNo
  0004a	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv65[ebp], eax
  00050	83 bd 3c ff ff
	ff 0b		 cmp	 DWORD PTR tv65[ebp], 11	; 0000000bH
  00057	0f 87 30 02 00
	00		 ja	 $LN1@Process
  0005d	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR tv65[ebp]
  00063	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN26@Process[ecx*4]

; 60   : 	{
; 61   : 	case PROC_OPENNING:
; 62   : 		break;

  0006a	e9 1e 02 00 00	 jmp	 $LN1@Process
$LN8@Process:

; 63   : 	case PROC_INIT: 	/* ??????? */
; 64   : 		InitProc();

  0006f	e8 00 00 00 00	 call	 ?InitProc@@YAXXZ	; InitProc

; 65   : 		initMapEffect(TRUE);		// ???????????

  00074	6a 01		 push	 1
  00076	e8 00 00 00 00	 call	 ?initMapEffect@@YAXH@Z	; initMapEffect
  0007b	83 c4 04	 add	 esp, 4

; 66   : 		break;

  0007e	e9 0a 02 00 00	 jmp	 $LN1@Process
$LN9@Process:

; 67   : 		// ????????¶V???
; 68   : 	case PROC_ID_PASSWORD:
; 69   : #ifdef _NEW_MUISC_
; 70   : 		if (≥ı º±≥æ∞“Ù¿÷) {
; 71   : 			≥ı º±≥æ∞“Ù¿÷ = FALSE;
; 72   : 			play_bgm(27);
; 73   : 		}
; 74   : #endif
; 75   : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  00083	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 76   : 		idPasswordProc();

  0008d	e8 00 00 00 00	 call	 ?idPasswordProc@@YAXXZ	; idPasswordProc

; 77   : #ifdef _PET_TRACE_MOUSE
; 78   : 		PlayPet.Proc();
; 79   : #endif
; 80   : 		RunAction();			// ?????????

  00092	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 81   : 		StockTaskDispBuffer();	// ???§˙˚®????????????

  00097	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 82   : 		FlashKeyboardCursor();	// ?????????§ú˛ò??

  0009c	e8 00 00 00 00	 call	 ?FlashKeyboardCursor@@YAXXZ ; FlashKeyboardCursor

; 83   : 		ImeProc();				// ???????

  000a1	e8 00 00 00 00	 call	 ?ImeProc@@YAXXZ		; ImeProc

; 84   : #ifdef _LOGINKICK			
; 85   : 		extern DWORD StartTime;
; 86   : 		StartTime = -1;
; 87   : #endif
; 88   : 
; 89   : 		break;

  000a6	e9 e2 01 00 00	 jmp	 $LN1@Process
$LN10@Process:

; 90   : 		// ????§˙˚®?????°k¢ë
; 91   : 	case PROC_TITLE_MENU:
; 92   : 		// ????????§˛?©ò©ú®¡?
; 93   : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  000ab	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 94   : 		titleProc();

  000b5	e8 00 00 00 00	 call	 ?titleProc@@YAXXZ	; titleProc

; 95   : 		TitleProduce();			// ?????¸“

  000ba	e8 00 00 00 00	 call	 ?TitleProduce@@YAXXZ	; TitleProduce

; 96   : 		RunAction();			// ?????????

  000bf	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 97   : 		StockTaskDispBuffer();	// ???§˙˚®????????????

  000c4	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 98   : 
; 99   : 								//cary 2002.1.4			kakushi_command();		// ????????
; 100  : 		break;

  000c9	e9 bf 01 00 00	 jmp	 $LN1@Process
$LN11@Process:

; 101  : 		// ???°k¢ë?˙
; 102  : 	case PROC_CHAR_SELECT:		// ???°k¢ë
; 103  : 								// ????????§˛?©ò©ú®¡?
; 104  : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  000ce	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 105  : 		selectCharacterProc();

  000d8	e8 00 00 00 00	 call	 ?selectCharacterProc@@YAXXZ ; selectCharacterProc

; 106  : 		break;

  000dd	e9 ab 01 00 00	 jmp	 $LN1@Process
$LN12@Process:

; 107  : 		// ????˛Œ
; 108  : 	case PROC_CHAR_MAKE:
; 109  : 		// ????????§˛?©ò©ú®¡?
; 110  : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  000e2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 111  : 		makeCharacterProc();

  000ec	e8 00 00 00 00	 call	 ?makeCharacterProc@@YAXXZ ; makeCharacterProc

; 112  : 		break;

  000f1	e9 97 01 00 00	 jmp	 $LN1@Process
$LN13@Process:

; 113  : 		// °k¢ë??????????˙
; 114  : 	case PROC_CHAR_LOGIN_START:
; 115  : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  000f6	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 116  : 		// charLoginStart();???????????????????
; 117  : 		initMap();		// ??????

  00100	e8 00 00 00 00	 call	 ?initMap@@YAXXZ		; initMap

; 118  : 		initPcAll();	// PC˝—©ç?????????

  00105	e8 00 00 00 00	 call	 ?initPcAll@@YAXXZ	; initPcAll

; 119  : 		initCharObj();	// ????????????

  0010a	e8 00 00 00 00	 call	 ?initCharObj@@YAXXZ	; initCharObj

; 120  : 		initOpenServerWindow();	// ????˙˘˚®?§˙˚®???????????

  0010f	e8 00 00 00 00	 call	 ?initOpenServerWindow@@YAXXZ ; initOpenServerWindow

; 121  : 		initFieldProc();		// ??????§˙˚®ßƒ????

  00114	e8 00 00 00 00	 call	 ?initFieldProc@@YAXXZ	; initFieldProc

; 122  : 		initMapEffect(FALSE);		// ???????????

  00119	6a 00		 push	 0
  0011b	e8 00 00 00 00	 call	 ?initMapEffect@@YAXH@Z	; initMapEffect
  00120	83 c4 04	 add	 esp, 4

; 123  : 		EncountFlag = FALSE;

  00123	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?EncountFlag@@3HA, 0 ; EncountFlag

; 124  : 		logOutFlag = FALSE;

  0012d	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?logOutFlag@@3HA, 0 ; logOutFlag

; 125  : 		InitOhtaParam();	// ??????????¢^§†°M??

  00137	e8 00 00 00 00	 call	 ?InitOhtaParam@@YAXXZ	; InitOhtaParam

; 126  : #ifdef __SKYISLAND
; 127  : 		extern void SkyIslandInit();
; 128  : 		SkyIslandInit();

  0013c	e8 00 00 00 00	 call	 ?SkyIslandInit@@YAXXZ	; SkyIslandInit

; 129  : #endif
; 130  : 		ChangeProc(PROC_CHAR_LOGIN);

  00141	6a 06		 push	 6
  00143	e8 00 00 00 00	 call	 ?ChangeProc@@YAXH@Z	; ChangeProc
  00148	83 c4 04	 add	 esp, 4

; 131  : 		// ???????????˙
; 132  : 		fade_out_bgm();

  0014b	e8 00 00 00 00	 call	 ?fade_out_bgm@@YAXXZ	; fade_out_bgm

; 133  : 		break;

  00150	e9 38 01 00 00	 jmp	 $LN1@Process
$LN14@Process:

; 134  : 	case PROC_CHAR_LOGIN:
; 135  : 		BackBufferDrawType = DRAW_BACK_NORMAL;

  00155	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 136  : 		characterLoginProc();

  0015f	e8 00 00 00 00	 call	 ?characterLoginProc@@YAXXZ ; characterLoginProc

; 137  : 		break;

  00164	e9 24 01 00 00	 jmp	 $LN1@Process
$LN15@Process:

; 138  : 	case PROC_CHAR_LOGOUT:
; 139  : 		// ????????§˛?©ò©ú®¡?
; 140  : 		//			BackBufferDrawType = DRAW_BACK_NORMAL; 
; 141  : 
; 142  : 		//JL HOOK
; 143  : 		void JL_‘≠µ«¡À();
; 144  : 		JL_‘≠µ«¡À();

  00169	e8 00 00 00 00	 call	 ?JL_‘≠µ«¡À@@YAXXZ	; JL_‘≠µ«¡À

; 145  : 
; 146  : 		characterLogoutProc();

  0016e	e8 00 00 00 00	 call	 ?characterLogoutProc@@YAXXZ ; characterLogoutProc

; 147  : 		break;

  00173	e9 15 01 00 00	 jmp	 $LN1@Process
$LN16@Process:

; 148  : 	case PROC_GAME:     /* ??????? */
; 149  : 		GameProc();

  00178	e8 00 00 00 00	 call	 ?GameProc@@YAXXZ	; GameProc

; 150  : 		break;

  0017d	e9 0b 01 00 00	 jmp	 $LN1@Process
$LN17@Process:

; 151  : 	case PROC_DISCONNECT_SERVER:
; 152  : 		switch (SubProcNo)

  00182	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  00187	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv69[ebp], eax
  0018d	83 bd 3c ff ff
	ff 00		 cmp	 DWORD PTR tv69[ebp], 0
  00194	74 0e		 je	 SHORT $LN18@Process
  00196	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv69[ebp], 1
  0019d	74 6e		 je	 SHORT $LN19@Process
  0019f	e9 8f 00 00 00	 jmp	 $LN4@Process
$LN18@Process:

; 153  : 		{
; 154  : 		case 0:
; 155  : 
; 156  : 			//JL HOOK ∑¢œ˚œ¢∏ÊÀﬂwg,∂œœﬂ¡À
; 157  : 			void JL_∂œœﬂ¡À();
; 158  : 			JL_∂œœﬂ¡À();

  001a4	e8 00 00 00 00	 call	 ?JL_∂œœﬂ¡À@@YAXXZ	; JL_∂œœﬂ¡À

; 159  : 
; 160  : 			//JL fix 2017.9.1 ‘ˆº”∂œœﬂ∫Û«Â≥˝ª≠√Ê∏°”Œ…˙ŒÔ. –ﬁ∏¥∫£µ◊∂œœﬂgg
; 161  : #ifdef __SKYISLAND
; 162  : 			extern void SkyIslandRelease();
; 163  : 			SkyIslandRelease();

  001a9	e8 00 00 00 00	 call	 ?SkyIslandRelease@@YAXXZ ; SkyIslandRelease

; 164  : #endif
; 165  : 			//???ßk????
; 166  : 
; 167  : #ifdef _AniRandom   // Syu ADD ÀÊª˙≤˙…˙ª∑æ≥∂Øª≠
; 168  : 			extern void AniRandomRelease();
; 169  : 			AniRandomRelease();

  001ae	e8 00 00 00 00	 call	 ?AniRandomRelease@@YAXXZ ; AniRandomRelease

; 170  : #endif
; 171  : #ifdef _AniCrossFrame	   // Syu ADD ∂Øª≠≤„”Œπ˝ª≠√Ê…˙ŒÔ
; 172  : 			extern void crossAniRelease();
; 173  : 			crossAniRelease();

  001b3	e8 00 00 00 00	 call	 ?crossAniRelease@@YAXXZ	; crossAniRelease

; 174  : #endif
; 175  : #ifdef _AniCharBubble	   // Syu ADD ∂Øª≠≤„»ÀŒÔÕ¬≥ˆ∆¯≈›
; 176  : 			extern void CharbubbleRelease();
; 177  : 			CharbubbleRelease();

  001b8	e8 00 00 00 00	 call	 ?CharbubbleRelease@@YAXXZ ; CharbubbleRelease

; 178  : #endif
; 179  : #ifdef _AniImmobile	 // Syu ADD ∂®µ„≤˙…˙Ãÿ∂®∂Øª≠
; 180  : 			extern void ImmobileAniRelease();
; 181  : 			ImmobileAniRelease();

  001bd	e8 00 00 00 00	 call	 ?ImmobileAniRelease@@YAXXZ ; ImmobileAniRelease

; 182  : #endif
; 183  : #ifdef _SPECIALSPACEANIM	// Syu ADD Ãÿ ‚≥°æ∞∂Øª≠≈‰÷√
; 184  : 			extern void ReleaseSpecAnim();
; 185  : 			ReleaseSpecAnim();

  001c2	e8 00 00 00 00	 call	 ?ReleaseSpecAnim@@YAXXZ	; ReleaseSpecAnim

; 186  : #endif
; 187  : 
; 188  : 			// ???
; 189  : 			// PC????
; 190  : 			resetPc();

  001c7	e8 00 00 00 00	 call	 ?resetPc@@YAXXZ		; resetPc

; 191  : 			// ?????????????
; 192  : 			initCharObj();

  001cc	e8 00 00 00 00	 call	 ?initCharObj@@YAXXZ	; initCharObj

; 193  : 			// ??????˙«
; 194  : 			DeathAllAction();

  001d1	e8 00 00 00 00	 call	 ?DeathAllAction@@YAXXZ	; DeathAllAction

; 195  : 			// ?¸“????
; 196  : 			ProduceInitFlag = TRUE;

  001d6	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?ProduceInitFlag@@3HA, 1 ; ProduceInitFlag

; 197  : 			// ????????????˛Œ 
; 198  : 			CopyBackBuffer();

  001e0	e8 00 00 00 00	 call	 ?CopyBackBuffer@@YAXXZ	; CopyBackBuffer

; 199  : 			// ????????§˛?©ò©ú®¡?
; 200  : 			BackBufferDrawType = DRAW_BACK_PRODUCE;

  001e5	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 2 ; BackBufferDrawType

; 201  : 			// ???????????˙
; 202  : 			fade_out_bgm();

  001ef	e8 00 00 00 00	 call	 ?fade_out_bgm@@YAXXZ	; fade_out_bgm

; 203  : 			// ????????
; 204  : 			NowTime = TimeGetTime();

  001f4	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  001f9	a3 00 00 00 00	 mov	 DWORD PTR ?NowTime@@3KA, eax ; NowTime

; 205  : 			SubProcNo++;

  001fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  00203	83 c0 01	 add	 eax, 1
  00206	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo

; 206  : 			break;

  0020b	eb 26		 jmp	 SHORT $LN4@Process
$LN19@Process:

; 207  : 		case 1:
; 208  : 			// ?¸“?
; 209  : 			if (DrawProduce(PRODUCE_DOWN_ACCELE) == TRUE)

  0020d	6a 02		 push	 2
  0020f	e8 00 00 00 00	 call	 ?DrawProduce@@YAHH@Z	; DrawProduce
  00214	83 c4 04	 add	 esp, 4
  00217	83 f8 01	 cmp	 eax, 1
  0021a	75 17		 jne	 SHORT $LN4@Process

; 210  : 			{
; 211  : 				BackBufferDrawType = DRAW_BACK_NORMAL;

  0021c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?BackBufferDrawType@@3HA, 0 ; BackBufferDrawType

; 212  : 				SubProcNo++;

  00226	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SubProcNo@@3IA ; SubProcNo
  0022b	83 c0 01	 add	 eax, 1
  0022e	a3 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, eax ; SubProcNo
$LN4@Process:

; 213  : 			}
; 214  : 			break;
; 215  : 		case 2:
; 216  : 			// ?¸“?¸¨??
; 217  : 			break;
; 218  : 		}
; 219  : 		// ˛˙£e?????????
; 220  : 		if (disconnectServer())

  00233	e8 00 00 00 00	 call	 ?disconnectServer@@YAHXZ ; disconnectServer
  00238	85 c0		 test	 eax, eax
  0023a	74 40		 je	 SHORT $LN22@Process

; 221  : 		{
; 222  : 			// ?????????
; 223  : 			cleanupNetwork();

  0023c	e8 00 00 00 00	 call	 ?cleanupNetwork@@YAXXZ	; cleanupNetwork

; 224  : 			// ????????????
; 225  : 			PaletteChange(DEF_PAL, 0);

  00241	6a 00		 push	 0
  00243	6a 00		 push	 0
  00245	e8 00 00 00 00	 call	 ?PaletteChange@@YAXHH@Z	; PaletteChange
  0024a	83 c4 08	 add	 esp, 8

; 226  : 			// ?????˛ù?
; 227  : 			//cary
; 228  : 			ChangeProc(PROC_ID_PASSWORD);

  0024d	6a 01		 push	 1
  0024f	e8 00 00 00 00	 call	 ?ChangeProc@@YAXH@Z	; ChangeProc
  00254	83 c4 04	 add	 esp, 4

; 229  : 			SubProcNo = 0;

  00257	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 0 ; SubProcNo

; 230  : 			// ??????˙«
; 231  : 			DeathAllAction();

  00261	e8 00 00 00 00	 call	 ?DeathAllAction@@YAXXZ	; DeathAllAction

; 232  : 			disconnectServerFlag = FALSE;

  00266	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?disconnectServerFlag@@3HA, 0 ; disconnectServerFlag

; 233  : 			oldDisconnectServerFlag = FALSE;

  00270	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?oldDisconnectServerFlag@@3HA, 0 ; oldDisconnectServerFlag

; 234  : 			break;

  0027a	eb 11		 jmp	 SHORT $LN1@Process
$LN22@Process:

; 235  : 		}
; 236  : 		RunAction();			// ?????????

  0027c	e8 00 00 00 00	 call	 ?RunAction@@YAXXZ	; RunAction

; 237  : 		StockTaskDispBuffer();	// ???§˙˚®????????????

  00281	e8 00 00 00 00	 call	 ?StockTaskDispBuffer@@YAXXZ ; StockTaskDispBuffer

; 238  : 		break;

  00286	eb 05		 jmp	 SHORT $LN1@Process
$LN23@Process:

; 239  : 	case PROC_BATTLE:     /* ??????? */
; 240  : 		BattleProc();

  00288	e8 00 00 00 00	 call	 ?BattleProc@@YAXXZ	; BattleProc
$LN1@Process:

; 241  : 		break;
; 242  : 
; 243  : #ifdef _STONDEBUG_		
; 244  : 		//case PROC_OHTA_TEST:     /* ¢^§†??????? */
; 245  : 		//	OhtaTestProc();
; 246  : 		//	break;
; 247  : 	case PROC_OHTA_TEST:     /* ¢^§†??????? */
; 248  : 		OhtaTestProc();
; 249  : 		break;
; 250  : 		//case PROC_TAKE_TEST:     /* £{•õ????????? */
; 251  : 		//	TakeTestProc();
; 252  : 		//	break;
; 253  : 		//case PROC_DWAF_TEST:	// DWAF???
; 254  : 		//	dwafTestProc();
; 255  : 		//	break;
; 256  : 	case PROC_SPR_VIEW:		// ??????¶_????
; 257  : 		SprViewProc();
; 258  : 		break;
; 259  : 	case PROC_ANIM_VIEW:	// ????????¶_????
; 260  : 		AnimViewProc();
; 261  : 		break;
; 262  : 	case PROC_SE_TEST:	// ???¶_????
; 263  : 		SeTestProc();
; 264  : 		break;
; 265  : #endif
; 266  : #ifdef _80_LOGIN_PLAY
; 267  : 	case PROC_80_LOGIN:
; 268  : 		BackBufferDrawType = DRAW_BACK_NORMAL;
; 269  : 		_80LoginProc();
; 270  : 		RunAction();
; 271  : 		StockTaskDispBuffer();
; 272  : 		break;
; 273  : #endif
; 274  : #ifdef _PK2007
; 275  : 	case PROC_PKSERVER_SELECT:
; 276  : 		BackBufferDrawType = DRAW_BACK_NORMAL;
; 277  : 		selectpkProc();
; 278  : 		break;
; 279  : #endif
; 280  : 	case PROC_ENDING:
; 281  : 		break;
; 282  : 	}
; 283  : }

  0028d	5f		 pop	 edi
  0028e	5e		 pop	 esi
  0028f	5b		 pop	 ebx
  00290	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  00296	3b ec		 cmp	 ebp, esp
  00298	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0029d	8b e5		 mov	 esp, ebp
  0029f	5d		 pop	 ebp
  002a0	c3		 ret	 0
  002a1	0f 1f 00	 npad	 3
$LN26@Process:
  002a4	00 00 00 00	 DD	 $LN8@Process
  002a8	00 00 00 00	 DD	 $LN9@Process
  002ac	00 00 00 00	 DD	 $LN10@Process
  002b0	00 00 00 00	 DD	 $LN11@Process
  002b4	00 00 00 00	 DD	 $LN12@Process
  002b8	00 00 00 00	 DD	 $LN13@Process
  002bc	00 00 00 00	 DD	 $LN14@Process
  002c0	00 00 00 00	 DD	 $LN15@Process
  002c4	00 00 00 00	 DD	 $LN1@Process
  002c8	00 00 00 00	 DD	 $LN16@Process
  002cc	00 00 00 00	 DD	 $LN23@Process
  002d0	00 00 00 00	 DD	 $LN17@Process
?Process@@YAXXZ ENDP					; Process
_TEXT	ENDS
END
