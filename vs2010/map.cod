; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.24215.1 

	TITLE	C:\Users\Administrator\Desktop\????? ??\????? ??\Client Source Code\system\map.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?ITEMPATHFLAG@@3HA				; ITEMPATHFLAG
PUBLIC	?masterBufMapEffect@@3PAU_MAP_EFFECT@@A		; masterBufMapEffect
PUBLIC	?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A		; emptyBufMapEffect
PUBLIC	?mapEffectDrawFlag@@3FA				; mapEffectDrawFlag
PUBLIC	?mapEffectRainCnt@@3FA				; mapEffectRainCnt
PUBLIC	?mapEffectSnowCnt@@3FA				; mapEffectSnowCnt
PUBLIC	?mapEffectStarFlag@@3FA				; mapEffectStarFlag
PUBLIC	?mapEffectFallingStarFlag@@3FA			; mapEffectFallingStarFlag
PUBLIC	?mapEffectFallingStarTime@@3HA			; mapEffectFallingStarTime
PUBLIC	?mapEffectKamiFubukiCnt@@3FA			; mapEffectKamiFubukiCnt
PUBLIC	?g_bTradesystemOpen@@3_NA			; g_bTradesystemOpen
PUBLIC	?_encountFlag@@3FA				; _encountFlag
PUBLIC	?_warpEventFlag@@3FA				; _warpEventFlag
PUBLIC	?_enemyEventFlag@@3FA				; _enemyEventFlag
PUBLIC	?_enemyEventDir@@3HA				; _enemyEventDir
PUBLIC	?justGoalFlag@@3FA				; justGoalFlag
PUBLIC	?_partyTbl@@3PAFA				; _partyTbl
PUBLIC	?fastWalkFlag@@3HA				; fastWalkFlag
PUBLIC	?mouseCursorMode@@3FA				; mouseCursorMode
PUBLIC	?mapAreaX1@@3HA					; mapAreaX1
PUBLIC	?mapAreaY1@@3HA					; mapAreaY1
PUBLIC	?mapAreaX2@@3HA					; mapAreaX2
PUBLIC	?mapAreaY2@@3HA					; mapAreaY2
PUBLIC	?mapAreaWidth@@3HA				; mapAreaWidth
PUBLIC	?mapAreaHeight@@3HA				; mapAreaHeight
PUBLIC	?tile@@3PAGA					; tile
PUBLIC	?parts@@3PAGA					; parts
PUBLIC	?event@@3PAGA					; event
PUBLIC	?hitMap@@3PAGA					; hitMap
PUBLIC	?mapEmptyDir@@3FA				; mapEmptyDir
PUBLIC	?mapEmptyGx@@3HA				; mapEmptyGx
PUBLIC	?mapEmptyGy@@3HA				; mapEmptyGy
PUBLIC	?getMapAreaX1@@3PAFA				; getMapAreaX1
PUBLIC	?getMapAreaY1@@3PAFA				; getMapAreaY1
PUBLIC	?getMapAreaX2@@3PAFA				; getMapAreaX2
PUBLIC	?getMapAreaY2@@3PAFA				; getMapAreaY2
PUBLIC	?getMapAreaCnt@@3FA				; getMapAreaCnt
PUBLIC	?mapEmptyStartTime@@3IA				; mapEmptyStartTime
PUBLIC	?moveStackFlag@@3HA				; moveStackFlag
PUBLIC	?moveStackGx@@3HA				; moveStackGx
PUBLIC	?moveStackGy@@3HA				; moveStackGy
PUBLIC	?moveRoute@@3PAFA				; moveRoute
PUBLIC	?moveRouteGx@@3PAFA				; moveRouteGx
PUBLIC	?moveRouteGy@@3PAFA				; moveRouteGy
PUBLIC	?moveRouteDir@@3PADA				; moveRouteDir
PUBLIC	?moveRouteCnt2@@3FA				; moveRouteCnt2
PUBLIC	?moveRoute2@@3PAFA				; moveRoute2
PUBLIC	?moveLastDir@@3FA				; moveLastDir
PUBLIC	?_etcEventFlag@@3HA				; _etcEventFlag
PUBLIC	?_etcEventStep@@3FA				; _etcEventStep
PUBLIC	?_etcEventMode@@3FA				; _etcEventMode
PUBLIC	?_eventWarpNo@@3FA				; _eventWarpNo
PUBLIC	?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A	; charPrioBufTop
PUBLIC	?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A	; charPrioBuf
PUBLIC	?charPrioCnt@@3HA				; charPrioCnt
PUBLIC	?eventId@@3HA					; eventId
PUBLIC	?etcEventFlag@@3FA				; etcEventFlag
PUBLIC	?autoMappingInitFlag@@3HA			; autoMappingInitFlag
PUBLIC	?autoMappingBuf@@3PAY0DG@EA			; autoMappingBuf
PUBLIC	?transEffectPaletteAfterWaitTime@@3IA		; transEffectPaletteAfterWaitTime
PUBLIC	?nowFloorName@@3PADA				; nowFloorName
PUBLIC	?nowFloor@@3HA					; nowFloor
PUBLIC	?nowFloorGxSize@@3HA				; nowFloorGxSize
PUBLIC	?nowFloorGySize@@3HA				; nowFloorGySize
PUBLIC	?nowGx@@3HA					; nowGx
PUBLIC	?nowGy@@3HA					; nowGy
PUBLIC	?nowVx@@3MA					; nowVx
PUBLIC	?nowVy@@3MA					; nowVy
PUBLIC	?nowSpdRate@@3MA				; nowSpdRate
PUBLIC	?nextGx@@3HA					; nextGx
PUBLIC	?nextGy@@3HA					; nextGy
PUBLIC	?oldGx@@3HA					; oldGx
PUBLIC	?oldGy@@3HA					; oldGy
PUBLIC	?oldNextGx@@3HA					; oldNextGx
PUBLIC	?oldNextGy@@3HA					; oldNextGy
PUBLIC	?mouseMapGx@@3HA				; mouseMapGx
PUBLIC	?mouseMapGy@@3HA				; mouseMapGy
PUBLIC	?mouseMapX@@3HA					; mouseMapX
PUBLIC	?mouseMapY@@3HA					; mouseMapY
PUBLIC	?moveRouteCnt@@3FA				; moveRouteCnt
PUBLIC	?mapEmptyFlag@@3HA				; mapEmptyFlag
PUBLIC	?viewPointX@@3MA				; viewPointX
PUBLIC	?viewPointY@@3MA				; viewPointY
PUBLIC	?moveAddTbl@@3PAY01FA				; moveAddTbl
PUBLIC	?mouseLeftCrick@@3HA				; mouseLeftCrick
PUBLIC	?mouseLeftOn@@3HA				; mouseLeftOn
PUBLIC	?mouseRightCrick@@3HA				; mouseRightCrick
PUBLIC	?mouseRightOn@@3HA				; mouseRightOn
PUBLIC	?mouseDblRightOn@@3HA				; mouseDblRightOn
PUBLIC	?mouseLeftPushTime@@3IA				; mouseLeftPushTime
PUBLIC	?beforeMouseLeftPushTime@@3IA			; beforeMouseLeftPushTime
PUBLIC	?nowEncountPercentage@@3FA			; nowEncountPercentage
PUBLIC	?nowEncountExtra@@3FA				; nowEncountExtra
PUBLIC	?minEncountPercentage@@3FA			; minEncountPercentage
PUBLIC	?maxEncountPercentage@@3FA			; maxEncountPercentage
PUBLIC	?sendEnFlag@@3FA				; sendEnFlag
PUBLIC	?encountNowFlag@@3FA				; encountNowFlag
PUBLIC	?eventWarpSendFlag@@3FA				; eventWarpSendFlag
PUBLIC	?eventWarpSendId@@3FA				; eventWarpSendId
PUBLIC	?eventEnemySendFlag@@3FA			; eventEnemySendFlag
PUBLIC	?eventEnemySendId@@3FA				; eventEnemySendId
PUBLIC	?eventEnemyFlag@@3FA				; eventEnemyFlag
PUBLIC	?loginFlag@@3HA					; loginFlag
PUBLIC	?vsLookFlag@@3FA				; vsLookFlag
PUBLIC	?floorChangeFlag@@3HA				; floorChangeFlag
PUBLIC	?warpEffectFlag@@3HA				; warpEffectFlag
PUBLIC	?warpEffectStart@@3HA				; warpEffectStart
PUBLIC	?warpEffectOk@@3HA				; warpEffectOk
PUBLIC	?transmigrationEffectFlag@@3HA			; transmigrationEffectFlag
PUBLIC	?transEffectPaletteStatus@@3HA			; transEffectPaletteStatus
PUBLIC	?useBufMapEffect@@3PAU_MAP_EFFECT@@A		; useBufMapEffect
PUBLIC	?mapEffectRainLevel@@3FA			; mapEffectRainLevel
PUBLIC	?oldMapEffectRainLevel@@3FA			; oldMapEffectRainLevel
PUBLIC	?mapEffectSnowLevel@@3FA			; mapEffectSnowLevel
PUBLIC	?oldMapEffectSnowLevel@@3FA			; oldMapEffectSnowLevel
PUBLIC	?mapEffectMoveDir@@3FA				; mapEffectMoveDir
PUBLIC	?mapEffectKamiFubukiLevel@@3FA			; mapEffectKamiFubukiLevel
PUBLIC	?mapEffectHalloween@@3HA			; mapEffectHalloween
PUBLIC	?fastDrawTile@@3FB				; fastDrawTile
PUBLIC	?fastDrawTileFlag@@3FA				; fastDrawTileFlag
PUBLIC	?amountXFastDraw@@3HA				; amountXFastDraw
PUBLIC	?amountYFastDraw@@3HA				; amountYFastDraw
PUBLIC	?nowXFastDraw@@3HA				; nowXFastDraw
PUBLIC	?nowYFastDraw@@3HA				; nowYFastDraw
PUBLIC	?baseXFastDraw@@3HA				; baseXFastDraw
PUBLIC	?baseYFastDraw@@3HA				; baseYFastDraw
PUBLIC	?amountXFastDraw2@@3HA				; amountXFastDraw2
PUBLIC	?amountYFastDraw2@@3HA				; amountYFastDraw2
PUBLIC	?nowXFastDraw2@@3HA				; nowXFastDraw2
PUBLIC	?nowYFastDraw2@@3HA				; nowYFastDraw2
PUBLIC	?baseXFastDraw2@@3HA				; baseXFastDraw2
PUBLIC	?baseYFastDraw2@@3HA				; baseYFastDraw2
_BSS	SEGMENT
?ITEMPATHFLAG@@3HA DD 01H DUP (?)			; ITEMPATHFLAG
?masterBufMapEffect@@3PAU_MAP_EFFECT@@A DB 08ca0H DUP (?) ; masterBufMapEffect
?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A DD 01H DUP (?)	; emptyBufMapEffect
?mapEffectDrawFlag@@3FA DW 01H DUP (?)			; mapEffectDrawFlag
	ALIGN	4

?mapEffectRainCnt@@3FA DW 01H DUP (?)			; mapEffectRainCnt
	ALIGN	4

?mapEffectSnowCnt@@3FA DW 01H DUP (?)			; mapEffectSnowCnt
	ALIGN	4

?mapEffectStarFlag@@3FA DW 01H DUP (?)			; mapEffectStarFlag
	ALIGN	4

?mapEffectFallingStarFlag@@3FA DW 01H DUP (?)		; mapEffectFallingStarFlag
	ALIGN	4

?mapEffectFallingStarTime@@3HA DD 01H DUP (?)		; mapEffectFallingStarTime
?mapEffectKamiFubukiCnt@@3FA DW 01H DUP (?)		; mapEffectKamiFubukiCnt
	ALIGN	4

?g_bTradesystemOpen@@3_NA DB 01H DUP (?)		; g_bTradesystemOpen
	ALIGN	4

?_encountFlag@@3FA DW 01H DUP (?)			; _encountFlag
	ALIGN	4

?_warpEventFlag@@3FA DW 01H DUP (?)			; _warpEventFlag
	ALIGN	4

?_enemyEventFlag@@3FA DW 01H DUP (?)			; _enemyEventFlag
	ALIGN	4

?_enemyEventDir@@3HA DD 01H DUP (?)			; _enemyEventDir
?justGoalFlag@@3FA DW 01H DUP (?)			; justGoalFlag
	ALIGN	4

?_partyTbl@@3PAFA DW 05H DUP (?)			; _partyTbl
	ALIGN	4

?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A DD 01H DUP (?) ; `mapEffectFallingStar'::`2'::buf
?mouseCursorMode@@3FA DW 01H DUP (?)			; mouseCursorMode
	ALIGN	4

?mapAreaX1@@3HA DD 01H DUP (?)				; mapAreaX1
?mapAreaY1@@3HA DD 01H DUP (?)				; mapAreaY1
?mapAreaX2@@3HA DD 01H DUP (?)				; mapAreaX2
?mapAreaY2@@3HA DD 01H DUP (?)				; mapAreaY2
?mapAreaWidth@@3HA DD 01H DUP (?)			; mapAreaWidth
?mapAreaHeight@@3HA DD 01H DUP (?)			; mapAreaHeight
?tile@@3PAGA DW	0559H DUP (?)				; tile
	ALIGN	4

?parts@@3PAGA DW 0559H DUP (?)				; parts
	ALIGN	4

?event@@3PAGA DW 0559H DUP (?)				; event
	ALIGN	4

?hitMap@@3PAGA DW 0559H DUP (?)				; hitMap
	ALIGN	4

?mapEmptyDir@@3FA DW 01H DUP (?)			; mapEmptyDir
	ALIGN	4

?mapEmptyGx@@3HA DD 01H DUP (?)				; mapEmptyGx
?mapEmptyGy@@3HA DD 01H DUP (?)				; mapEmptyGy
?getMapAreaX1@@3PAFA DW 02H DUP (?)			; getMapAreaX1
?getMapAreaY1@@3PAFA DW 02H DUP (?)			; getMapAreaY1
?getMapAreaX2@@3PAFA DW 02H DUP (?)			; getMapAreaX2
?getMapAreaY2@@3PAFA DW 02H DUP (?)			; getMapAreaY2
?getMapAreaCnt@@3FA DW 01H DUP (?)			; getMapAreaCnt
	ALIGN	4

?mapEmptyStartTime@@3IA DD 01H DUP (?)			; mapEmptyStartTime
?moveStackFlag@@3HA DD 01H DUP (?)			; moveStackFlag
?moveStackGx@@3HA DD 01H DUP (?)			; moveStackGx
?moveStackGy@@3HA DD 01H DUP (?)			; moveStackGy
?moveRoute@@3PAFA DW 064H DUP (?)			; moveRoute
?moveRouteGx@@3PAFA DW 064H DUP (?)			; moveRouteGx
?moveRouteGy@@3PAFA DW 064H DUP (?)			; moveRouteGy
?moveRouteDir@@3PADA DB 064H DUP (?)			; moveRouteDir
?moveRouteCnt2@@3FA DW 01H DUP (?)			; moveRouteCnt2
	ALIGN	4

?moveRoute2@@3PAFA DW 01H DUP (?)			; moveRoute2
	ALIGN	4

?_etcEventFlag@@3HA DD 01H DUP (?)			; _etcEventFlag
?_etcEventStep@@3FA DW 01H DUP (?)			; _etcEventStep
	ALIGN	4

?_etcEventMode@@3FA DW 01H DUP (?)			; _etcEventMode
	ALIGN	4

?_eventWarpNo@@3FA DW 01H DUP (?)			; _eventWarpNo
	ALIGN	4

?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A DB 02cH DUP (?) ; charPrioBufTop
?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A DB 016000H DUP (?) ; charPrioBuf
?charPrioCnt@@3HA DD 01H DUP (?)			; charPrioCnt
?eventId@@3HA DD 01H DUP (?)				; eventId
?etcEventFlag@@3FA DW 01H DUP (?)			; etcEventFlag
	ALIGN	4

?autoMappingBuf@@3PAY0DG@EA DB 0b64H DUP (?)		; autoMappingBuf
?transEffectPaletteAfterWaitTime@@3IA DD 01H DUP (?)	; transEffectPaletteAfterWaitTime
?nowFloorName@@3PADA DB 019H DUP (?)			; nowFloorName
	ALIGN	4

?nowFloor@@3HA DD 01H DUP (?)				; nowFloor
?nowFloorGxSize@@3HA DD 01H DUP (?)			; nowFloorGxSize
?nowFloorGySize@@3HA DD 01H DUP (?)			; nowFloorGySize
?nowGx@@3HA DD	01H DUP (?)				; nowGx
?nowGy@@3HA DD	01H DUP (?)				; nowGy
?nowVx@@3MA DD	01H DUP (?)				; nowVx
?nowVy@@3MA DD	01H DUP (?)				; nowVy
?nowSpdRate@@3MA DD 01H DUP (?)				; nowSpdRate
?nextGx@@3HA DD	01H DUP (?)				; nextGx
?nextGy@@3HA DD	01H DUP (?)				; nextGy
?mouseMapGx@@3HA DD 01H DUP (?)				; mouseMapGx
?mouseMapGy@@3HA DD 01H DUP (?)				; mouseMapGy
?mouseMapX@@3HA DD 01H DUP (?)				; mouseMapX
?mouseMapY@@3HA DD 01H DUP (?)				; mouseMapY
?moveRouteCnt@@3FA DW 01H DUP (?)			; moveRouteCnt
	ALIGN	4

?mapEmptyFlag@@3HA DD 01H DUP (?)			; mapEmptyFlag
?viewPointX@@3MA DD 01H DUP (?)				; viewPointX
?viewPointY@@3MA DD 01H DUP (?)				; viewPointY
?mouseLeftCrick@@3HA DD 01H DUP (?)			; mouseLeftCrick
?mouseLeftOn@@3HA DD 01H DUP (?)			; mouseLeftOn
?mouseRightCrick@@3HA DD 01H DUP (?)			; mouseRightCrick
?mouseRightOn@@3HA DD 01H DUP (?)			; mouseRightOn
?mouseDblRightOn@@3HA DD 01H DUP (?)			; mouseDblRightOn
?mouseLeftPushTime@@3IA DD 01H DUP (?)			; mouseLeftPushTime
?beforeMouseLeftPushTime@@3IA DD 01H DUP (?)		; beforeMouseLeftPushTime
?nowEncountPercentage@@3FA DW 01H DUP (?)		; nowEncountPercentage
	ALIGN	4

?nowEncountExtra@@3FA DW 01H DUP (?)			; nowEncountExtra
	ALIGN	4

?minEncountPercentage@@3FA DW 01H DUP (?)		; minEncountPercentage
	ALIGN	4

?maxEncountPercentage@@3FA DW 01H DUP (?)		; maxEncountPercentage
	ALIGN	4

?sendEnFlag@@3FA DW 01H DUP (?)				; sendEnFlag
	ALIGN	4

?encountNowFlag@@3FA DW 01H DUP (?)			; encountNowFlag
	ALIGN	4

?eventWarpSendFlag@@3FA DW 01H DUP (?)			; eventWarpSendFlag
	ALIGN	4

?eventWarpSendId@@3FA DW 01H DUP (?)			; eventWarpSendId
	ALIGN	4

?eventEnemySendFlag@@3FA DW 01H DUP (?)			; eventEnemySendFlag
	ALIGN	4

?eventEnemySendId@@3FA DW 01H DUP (?)			; eventEnemySendId
	ALIGN	4

?eventEnemyFlag@@3FA DW 01H DUP (?)			; eventEnemyFlag
	ALIGN	4

?loginFlag@@3HA DD 01H DUP (?)				; loginFlag
?vsLookFlag@@3FA DW 01H DUP (?)				; vsLookFlag
	ALIGN	4

?floorChangeFlag@@3HA DD 01H DUP (?)			; floorChangeFlag
?warpEffectFlag@@3HA DD 01H DUP (?)			; warpEffectFlag
?warpEffectStart@@3HA DD 01H DUP (?)			; warpEffectStart
?warpEffectOk@@3HA DD 01H DUP (?)			; warpEffectOk
?transmigrationEffectFlag@@3HA DD 01H DUP (?)		; transmigrationEffectFlag
?transEffectPaletteStatus@@3HA DD 01H DUP (?)		; transEffectPaletteStatus
?turnSendTime@?1??turnAround@@YAXXZ@4IA DD 01H DUP (?)	; `turnAround'::`2'::turnSendTime
?turnSendTime@?1??turnAround2@@YAXH@Z@4IA DD 01H DUP (?) ; `turnAround2'::`2'::turnSendTime
?useBufMapEffect@@3PAU_MAP_EFFECT@@A DD 01H DUP (?)	; useBufMapEffect
?mapEffectRainLevel@@3FA DW 01H DUP (?)			; mapEffectRainLevel
	ALIGN	4

?oldMapEffectRainLevel@@3FA DW 01H DUP (?)		; oldMapEffectRainLevel
	ALIGN	4

?mapEffectSnowLevel@@3FA DW 01H DUP (?)			; mapEffectSnowLevel
	ALIGN	4

?oldMapEffectSnowLevel@@3FA DW 01H DUP (?)		; oldMapEffectSnowLevel
	ALIGN	4

?mapEffectKamiFubukiLevel@@3FA DW 01H DUP (?)		; mapEffectKamiFubukiLevel
	ALIGN	4

?mapEffectHalloween@@3HA DD 01H DUP (?)			; mapEffectHalloween
?amountXFastDraw@@3HA DD 01H DUP (?)			; amountXFastDraw
?amountYFastDraw@@3HA DD 01H DUP (?)			; amountYFastDraw
?nowXFastDraw@@3HA DD 01H DUP (?)			; nowXFastDraw
?nowYFastDraw@@3HA DD 01H DUP (?)			; nowYFastDraw
?baseXFastDraw@@3HA DD 01H DUP (?)			; baseXFastDraw
?baseYFastDraw@@3HA DD 01H DUP (?)			; baseYFastDraw
?amountXFastDraw2@@3HA DD 01H DUP (?)			; amountXFastDraw2
?amountYFastDraw2@@3HA DD 01H DUP (?)			; amountYFastDraw2
?nowXFastDraw2@@3HA DD 01H DUP (?)			; nowXFastDraw2
?nowYFastDraw2@@3HA DD 01H DUP (?)			; nowYFastDraw2
?baseXFastDraw2@@3HA DD 01H DUP (?)			; baseXFastDraw2
?baseYFastDraw2@@3HA DD 01H DUP (?)			; baseYFastDraw2
_BSS	ENDS
CONST	SEGMENT
?fastDrawTile@@3FB DW 01H				; fastDrawTile
CONST	ENDS
_DATA	SEGMENT
?BitTable@@3PAEA DB 00H					; BitTable
	DB	080H
	DB	040H
	DB	0c0H
	DB	020H
	DB	0a0H
	DB	060H
	DB	0e0H
	DB	010H
	DB	090H
	DB	050H
	DB	0d0H
	DB	030H
	DB	0b0H
	DB	070H
	DB	0f0H
	DB	08H
	DB	088H
	DB	048H
	DB	0c8H
	DB	028H
	DB	0a8H
	DB	068H
	DB	0e8H
	DB	018H
	DB	098H
	DB	058H
	DB	0d8H
	DB	038H
	DB	0b8H
	DB	078H
	DB	0f8H
	DB	04H
	DB	084H
	DB	044H
	DB	0c4H
	DB	024H
	DB	0a4H
	DB	064H
	DB	0e4H
	DB	014H
	DB	094H
	DB	054H
	DB	0d4H
	DB	034H
	DB	0b4H
	DB	074H
	DB	0f4H
	DB	0cH
	DB	08cH
	DB	04cH
	DB	0ccH
	DB	02cH
	DB	0acH
	DB	06cH
	DB	0ecH
	DB	01cH
	DB	09cH
	DB	05cH
	DB	0dcH
	DB	03cH
	DB	0bcH
	DB	07cH
	DB	0fcH
	DB	02H
	DB	082H
	DB	042H
	DB	0c2H
	DB	022H
	DB	0a2H
	DB	062H
	DB	0e2H
	DB	012H
	DB	092H
	DB	052H
	DB	0d2H
	DB	032H
	DB	0b2H
	DB	072H
	DB	0f2H
	DB	0aH
	DB	08aH
	DB	04aH
	DB	0caH
	DB	02aH
	DB	0aaH
	DB	06aH
	DB	0eaH
	DB	01aH
	DB	09aH
	DB	05aH
	DB	0daH
	DB	03aH
	DB	0baH
	DB	07aH
	DB	0faH
	DB	06H
	DB	086H
	DB	046H
	DB	0c6H
	DB	026H
	DB	0a6H
	DB	066H
	DB	0e6H
	DB	016H
	DB	096H
	DB	056H
	DB	0d6H
	DB	036H
	DB	0b6H
	DB	076H
	DB	0f6H
	DB	0eH
	DB	08eH
	DB	04eH
	DB	0ceH
	DB	02eH
	DB	0aeH
	DB	06eH
	DB	0eeH
	DB	01eH
	DB	09eH
	DB	05eH
	DB	0deH
	DB	03eH
	DB	0beH
	DB	07eH
	DB	0feH
	DB	01H
	DB	081H
	DB	041H
	DB	0c1H
	DB	021H
	DB	0a1H
	DB	061H
	DB	0e1H
	DB	011H
	DB	091H
	DB	051H
	DB	0d1H
	DB	031H
	DB	0b1H
	DB	071H
	DB	0f1H
	DB	09H
	DB	089H
	DB	049H
	DB	0c9H
	DB	029H
	DB	0a9H
	DB	069H
	DB	0e9H
	DB	019H
	DB	099H
	DB	059H
	DB	0d9H
	DB	039H
	DB	0b9H
	DB	079H
	DB	0f9H
	DB	05H
	DB	085H
	DB	045H
	DB	0c5H
	DB	025H
	DB	0a5H
	DB	065H
	DB	0e5H
	DB	015H
	DB	095H
	DB	055H
	DB	0d5H
	DB	035H
	DB	0b5H
	DB	075H
	DB	0f5H
	DB	0dH
	DB	08dH
	DB	04dH
	DB	0cdH
	DB	02dH
	DB	0adH
	DB	06dH
	DB	0edH
	DB	01dH
	DB	09dH
	DB	05dH
	DB	0ddH
	DB	03dH
	DB	0bdH
	DB	07dH
	DB	0fdH
	DB	03H
	DB	083H
	DB	043H
	DB	0c3H
	DB	023H
	DB	0a3H
	DB	063H
	DB	0e3H
	DB	013H
	DB	093H
	DB	053H
	DB	0d3H
	DB	033H
	DB	0b3H
	DB	073H
	DB	0f3H
	DB	0bH
	DB	08bH
	DB	04bH
	DB	0cbH
	DB	02bH
	DB	0abH
	DB	06bH
	DB	0ebH
	DB	01bH
	DB	09bH
	DB	05bH
	DB	0dbH
	DB	03bH
	DB	0bbH
	DB	07bH
	DB	0fbH
	DB	07H
	DB	087H
	DB	047H
	DB	0c7H
	DB	027H
	DB	0a7H
	DB	067H
	DB	0e7H
	DB	017H
	DB	097H
	DB	057H
	DB	0d7H
	DB	037H
	DB	0b7H
	DB	077H
	DB	0f7H
	DB	0fH
	DB	08fH
	DB	04fH
	DB	0cfH
	DB	02fH
	DB	0afH
	DB	06fH
	DB	0efH
	DB	01fH
	DB	09fH
	DB	05fH
	DB	0dfH
	DB	03fH
	DB	0bfH
	DB	07fH
	DB	0ffH
?crctab16@@3PAGA DW 00H					; crctab16
	DW	01021H
	DW	02042H
	DW	03063H
	DW	04084H
	DW	050a5H
	DW	060c6H
	DW	070e7H
	DW	08108H
	DW	09129H
	DW	0a14aH
	DW	0b16bH
	DW	0c18cH
	DW	0d1adH
	DW	0e1ceH
	DW	0f1efH
	DW	01231H
	DW	0210H
	DW	03273H
	DW	02252H
	DW	052b5H
	DW	04294H
	DW	072f7H
	DW	062d6H
	DW	09339H
	DW	08318H
	DW	0b37bH
	DW	0a35aH
	DW	0d3bdH
	DW	0c39cH
	DW	0f3ffH
	DW	0e3deH
	DW	02462H
	DW	03443H
	DW	0420H
	DW	01401H
	DW	064e6H
	DW	074c7H
	DW	044a4H
	DW	05485H
	DW	0a56aH
	DW	0b54bH
	DW	08528H
	DW	09509H
	DW	0e5eeH
	DW	0f5cfH
	DW	0c5acH
	DW	0d58dH
	DW	03653H
	DW	02672H
	DW	01611H
	DW	0630H
	DW	076d7H
	DW	066f6H
	DW	05695H
	DW	046b4H
	DW	0b75bH
	DW	0a77aH
	DW	09719H
	DW	08738H
	DW	0f7dfH
	DW	0e7feH
	DW	0d79dH
	DW	0c7bcH
	DW	048c4H
	DW	058e5H
	DW	06886H
	DW	078a7H
	DW	0840H
	DW	01861H
	DW	02802H
	DW	03823H
	DW	0c9ccH
	DW	0d9edH
	DW	0e98eH
	DW	0f9afH
	DW	08948H
	DW	09969H
	DW	0a90aH
	DW	0b92bH
	DW	05af5H
	DW	04ad4H
	DW	07ab7H
	DW	06a96H
	DW	01a71H
	DW	0a50H
	DW	03a33H
	DW	02a12H
	DW	0dbfdH
	DW	0cbdcH
	DW	0fbbfH
	DW	0eb9eH
	DW	09b79H
	DW	08b58H
	DW	0bb3bH
	DW	0ab1aH
	DW	06ca6H
	DW	07c87H
	DW	04ce4H
	DW	05cc5H
	DW	02c22H
	DW	03c03H
	DW	0c60H
	DW	01c41H
	DW	0edaeH
	DW	0fd8fH
	DW	0cdecH
	DW	0ddcdH
	DW	0ad2aH
	DW	0bd0bH
	DW	08d68H
	DW	09d49H
	DW	07e97H
	DW	06eb6H
	DW	05ed5H
	DW	04ef4H
	DW	03e13H
	DW	02e32H
	DW	01e51H
	DW	0e70H
	DW	0ff9fH
	DW	0efbeH
	DW	0dfddH
	DW	0cffcH
	DW	0bf1bH
	DW	0af3aH
	DW	09f59H
	DW	08f78H
	DW	09188H
	DW	081a9H
	DW	0b1caH
	DW	0a1ebH
	DW	0d10cH
	DW	0c12dH
	DW	0f14eH
	DW	0e16fH
	DW	01080H
	DW	0a1H
	DW	030c2H
	DW	020e3H
	DW	05004H
	DW	04025H
	DW	07046H
	DW	06067H
	DW	083b9H
	DW	09398H
	DW	0a3fbH
	DW	0b3daH
	DW	0c33dH
	DW	0d31cH
	DW	0e37fH
	DW	0f35eH
	DW	02b1H
	DW	01290H
	DW	022f3H
	DW	032d2H
	DW	04235H
	DW	05214H
	DW	06277H
	DW	07256H
	DW	0b5eaH
	DW	0a5cbH
	DW	095a8H
	DW	08589H
	DW	0f56eH
	DW	0e54fH
	DW	0d52cH
	DW	0c50dH
	DW	034e2H
	DW	024c3H
	DW	014a0H
	DW	0481H
	DW	07466H
	DW	06447H
	DW	05424H
	DW	04405H
	DW	0a7dbH
	DW	0b7faH
	DW	08799H
	DW	097b8H
	DW	0e75fH
	DW	0f77eH
	DW	0c71dH
	DW	0d73cH
	DW	026d3H
	DW	036f2H
	DW	0691H
	DW	016b0H
	DW	06657H
	DW	07676H
	DW	04615H
	DW	05634H
	DW	0d94cH
	DW	0c96dH
	DW	0f90eH
	DW	0e92fH
	DW	099c8H
	DW	089e9H
	DW	0b98aH
	DW	0a9abH
	DW	05844H
	DW	04865H
	DW	07806H
	DW	06827H
	DW	018c0H
	DW	08e1H
	DW	03882H
	DW	028a3H
	DW	0cb7dH
	DW	0db5cH
	DW	0eb3fH
	DW	0fb1eH
	DW	08bf9H
	DW	09bd8H
	DW	0abbbH
	DW	0bb9aH
	DW	04a75H
	DW	05a54H
	DW	06a37H
	DW	07a16H
	DW	0af1H
	DW	01ad0H
	DW	02ab3H
	DW	03a92H
	DW	0fd2eH
	DW	0ed0fH
	DW	0dd6cH
	DW	0cd4dH
	DW	0bdaaH
	DW	0ad8bH
	DW	09de8H
	DW	08dc9H
	DW	07c26H
	DW	06c07H
	DW	05c64H
	DW	04c45H
	DW	03ca2H
	DW	02c83H
	DW	01ce0H
	DW	0cc1H
	DW	0ef1fH
	DW	0ff3eH
	DW	0cf5dH
	DW	0df7cH
	DW	0af9bH
	DW	0bfbaH
	DW	08fd9H
	DW	09ff8H
	DW	06e17H
	DW	07e36H
	DW	04e55H
	DW	05e74H
	DW	02e93H
	DW	03eb2H
	DW	0ed1H
	DW	01ef0H
?befortime@?1??moveProc@@YAXXZ@4IA DD 0ffffffffH	; `moveProc'::`2'::befortime
?fastWalkFlag@@3HA DD 075H				; fastWalkFlag
?ridePetTable@@3PAUtagRidePetTable@@A DD 018a88H	; ridePetTable
	DD	0186a0H
	DD	018800H
	DD	00H
	DD	018a89H
	DD	0186a5H
	DD	018800H
	DD	00H
	DD	018a8aH
	DD	0186aaH
	DD	018800H
	DD	00H
	DD	018a8bH
	DD	0186afH
	DD	018800H
	DD	00H
	DD	018a8cH
	DD	0186a0H
	DD	0187e9H
	DD	00H
	DD	018a8dH
	DD	0186a5H
	DD	0187e7H
	DD	00H
	DD	018a8eH
	DD	0186aaH
	DD	0187eaH
	DD	00H
	DD	018a8fH
	DD	0186afH
	DD	0187e8H
	DD	00H
	DD	018a90H
	DD	01895cH
	DD	018814H
	DD	00H
	DD	018a91H
	DD	018961H
	DD	018815H
	DD	00H
	DD	018e65H
	DD	018961H
	DD	018cc8H
	DD	00H
	DD	018e5aH
	DD	018961H
	DD	018c9cH
	DD	00H
	DD	018a92H
	DD	0186b4H
	DD	01882cH
	DD	00H
	DD	018a93H
	DD	0186b9H
	DD	01882cH
	DD	00H
	DD	018a94H
	DD	0186beH
	DD	01882cH
	DD	00H
	DD	018a95H
	DD	0186c3H
	DD	01882cH
	DD	00H
	DD	018a96H
	DD	0186b4H
	DD	0187e8H
	DD	00H
	DD	018a97H
	DD	0186b9H
	DD	0187e9H
	DD	00H
	DD	018a98H
	DD	0186beH
	DD	0187e7H
	DD	00H
	DD	018a99H
	DD	0186c3H
	DD	0187eaH
	DD	00H
	DD	018a9aH
	DD	018966H
	DD	018814H
	DD	00H
	DD	018a9bH
	DD	01896bH
	DD	018815H
	DD	00H
	DD	018e64H
	DD	01896bH
	DD	018cc8H
	DD	00H
	DD	018e62H
	DD	01896bH
	DD	018c9cH
	DD	00H
	DD	018a9cH
	DD	0186c8H
	DD	0187ffH
	DD	00H
	DD	018a9dH
	DD	0186cdH
	DD	0187ffH
	DD	00H
	DD	018a9eH
	DD	0186d2H
	DD	0187ffH
	DD	00H
	DD	018a9fH
	DD	0186d7H
	DD	0187ffH
	DD	00H
	DD	018aa0H
	DD	0186c8H
	DD	0187e8H
	DD	00H
	DD	018aa1H
	DD	0186cdH
	DD	0187eaH
	DD	00H
	DD	018aa2H
	DD	0186d2H
	DD	0187e7H
	DD	00H
	DD	018aa3H
	DD	0186d7H
	DD	0187e9H
	DD	00H
	DD	018aa4H
	DD	018970H
	DD	018814H
	DD	00H
	DD	018aa5H
	DD	018975H
	DD	018815H
	DD	00H
	DD	018e4dH
	DD	018975H
	DD	018cc8H
	DD	00H
	DD	018e57H
	DD	018975H
	DD	018c9cH
	DD	00H
	DD	018aa6H
	DD	0186dcH
	DD	018801H
	DD	00H
	DD	018aa7H
	DD	0186e1H
	DD	018801H
	DD	00H
	DD	018aa8H
	DD	0186e6H
	DD	018801H
	DD	00H
	DD	018aa9H
	DD	0186ebH
	DD	018801H
	DD	00H
	DD	018aaaH
	DD	0186dcH
	DD	0187e9H
	DD	00H
	DD	018aabH
	DD	0186e1H
	DD	0187e7H
	DD	00H
	DD	018aacH
	DD	0186e6H
	DD	0187eaH
	DD	00H
	DD	018aadH
	DD	0186ebH
	DD	0187e8H
	DD	00H
	DD	018aaeH
	DD	01897aH
	DD	018814H
	DD	00H
	DD	018aafH
	DD	01897fH
	DD	018815H
	DD	00H
	DD	018e4eH
	DD	01897fH
	DD	018cc8H
	DD	00H
	DD	018e58H
	DD	01897fH
	DD	018c9cH
	DD	00H
	DD	018ab0H
	DD	0186f0H
	DD	01882cH
	DD	00H
	DD	018ab1H
	DD	0186f5H
	DD	01882cH
	DD	00H
	DD	018ab2H
	DD	0186faH
	DD	01882cH
	DD	00H
	DD	018ab3H
	DD	0186ffH
	DD	01882cH
	DD	00H
	DD	018ab4H
	DD	0186f0H
	DD	0187e8H
	DD	00H
	DD	018ab5H
	DD	0186f5H
	DD	0187e7H
	DD	00H
	DD	018ab6H
	DD	0186faH
	DD	0187eaH
	DD	00H
	DD	018ab7H
	DD	0186ffH
	DD	0187e9H
	DD	00H
	DD	018ab8H
	DD	018984H
	DD	018814H
	DD	00H
	DD	018ab9H
	DD	018989H
	DD	018815H
	DD	00H
	DD	018e55H
	DD	018989H
	DD	018cc8H
	DD	00H
	DD	018e60H
	DD	018989H
	DD	018c9cH
	DD	00H
	DD	018abaH
	DD	018704H
	DD	018801H
	DD	00H
	DD	018abbH
	DD	018709H
	DD	018801H
	DD	00H
	DD	018abcH
	DD	01870eH
	DD	018801H
	DD	00H
	DD	018abdH
	DD	018713H
	DD	018801H
	DD	00H
	DD	018abeH
	DD	018704H
	DD	0187e9H
	DD	00H
	DD	018abfH
	DD	018709H
	DD	0187e8H
	DD	00H
	DD	018ac0H
	DD	01870eH
	DD	0187eaH
	DD	00H
	DD	018ac1H
	DD	018713H
	DD	0187e7H
	DD	00H
	DD	018ac2H
	DD	01898eH
	DD	018814H
	DD	00H
	DD	018ac3H
	DD	018993H
	DD	018815H
	DD	00H
	DD	018e56H
	DD	018993H
	DD	018cc8H
	DD	00H
	DD	018e61H
	DD	018993H
	DD	018c9cH
	DD	00H
	DD	018ac4H
	DD	018718H
	DD	018802H
	DD	00H
	DD	018ac5H
	DD	01871dH
	DD	018802H
	DD	00H
	DD	018ac6H
	DD	018722H
	DD	018802H
	DD	00H
	DD	018ac7H
	DD	018727H
	DD	018802H
	DD	00H
	DD	018ac8H
	DD	018718H
	DD	0187e7H
	DD	00H
	DD	018ac9H
	DD	01871dH
	DD	0187eaH
	DD	00H
	DD	018acaH
	DD	018722H
	DD	0187e8H
	DD	00H
	DD	018acbH
	DD	018727H
	DD	0187e9H
	DD	00H
	DD	018accH
	DD	018998H
	DD	018814H
	DD	00H
	DD	018acdH
	DD	01899dH
	DD	018815H
	DD	00H
	DD	018e4fH
	DD	01899dH
	DD	018cc8H
	DD	00H
	DD	018e59H
	DD	01899dH
	DD	018c9cH
	DD	00H
	DD	018aceH
	DD	01872cH
	DD	018802H
	DD	00H
	DD	018acfH
	DD	018731H
	DD	018802H
	DD	00H
	DD	018ad0H
	DD	018736H
	DD	018802H
	DD	00H
	DD	018ad1H
	DD	01873bH
	DD	018802H
	DD	00H
	DD	018ad2H
	DD	01872cH
	DD	0187e7H
	DD	00H
	DD	018ad3H
	DD	018731H
	DD	0187e9H
	DD	00H
	DD	018ad4H
	DD	018736H
	DD	0187eaH
	DD	00H
	DD	018ad5H
	DD	01873bH
	DD	0187e8H
	DD	00H
	DD	018ad6H
	DD	0189a2H
	DD	018814H
	DD	00H
	DD	018ad7H
	DD	0189a7H
	DD	018815H
	DD	00H
	DD	018e50H
	DD	0189a7H
	DD	018cc8H
	DD	00H
	DD	018e5bH
	DD	0189a7H
	DD	018c9cH
	DD	00H
	DD	018ad8H
	DD	018740H
	DD	018800H
	DD	00H
	DD	018ad9H
	DD	018745H
	DD	018800H
	DD	00H
	DD	018adaH
	DD	01874aH
	DD	018800H
	DD	00H
	DD	018adbH
	DD	01874fH
	DD	018800H
	DD	00H
	DD	018adcH
	DD	018740H
	DD	0187eaH
	DD	00H
	DD	018addH
	DD	018745H
	DD	0187e9H
	DD	00H
	DD	018adeH
	DD	01874aH
	DD	0187e7H
	DD	00H
	DD	018adfH
	DD	01874fH
	DD	0187e8H
	DD	00H
	DD	018ae0H
	DD	0189acH
	DD	018814H
	DD	00H
	DD	018ae1H
	DD	0189b1H
	DD	018815H
	DD	00H
	DD	018e52H
	DD	0189b1H
	DD	018cc8H
	DD	00H
	DD	018e5dH
	DD	0189b1H
	DD	018c9cH
	DD	00H
	DD	018ae2H
	DD	018754H
	DD	0187ffH
	DD	00H
	DD	018ae3H
	DD	018759H
	DD	0187ffH
	DD	00H
	DD	018ae4H
	DD	01875eH
	DD	0187ffH
	DD	00H
	DD	018ae5H
	DD	018763H
	DD	0187ffH
	DD	00H
	DD	018ae6H
	DD	018754H
	DD	0187e8H
	DD	00H
	DD	018ae7H
	DD	018759H
	DD	0187eaH
	DD	00H
	DD	018ae8H
	DD	01875eH
	DD	0187e9H
	DD	00H
	DD	018ae9H
	DD	018763H
	DD	0187e7H
	DD	00H
	DD	018aeaH
	DD	0189b6H
	DD	018814H
	DD	00H
	DD	018aebH
	DD	0189bbH
	DD	018815H
	DD	00H
	DD	018e51H
	DD	0189bbH
	DD	018cc8H
	DD	00H
	DD	018e5cH
	DD	0189bbH
	DD	018c9cH
	DD	00H
	DD	018aecH
	DD	018768H
	DD	018801H
	DD	00H
	DD	018aedH
	DD	01876dH
	DD	018801H
	DD	00H
	DD	018aeeH
	DD	018772H
	DD	018801H
	DD	00H
	DD	018aefH
	DD	018777H
	DD	018801H
	DD	00H
	DD	018af0H
	DD	018768H
	DD	0187e9H
	DD	00H
	DD	018af1H
	DD	01876dH
	DD	0187e8H
	DD	00H
	DD	018af2H
	DD	018772H
	DD	0187e7H
	DD	00H
	DD	018af3H
	DD	018777H
	DD	0187eaH
	DD	00H
	DD	018af4H
	DD	0189c0H
	DD	018814H
	DD	00H
	DD	018af5H
	DD	0189c5H
	DD	018815H
	DD	00H
	DD	018e54H
	DD	0189c5H
	DD	018cc8H
	DD	00H
	DD	018e5fH
	DD	0189c5H
	DD	018c9cH
	DD	00H
	DD	018af6H
	DD	01877cH
	DD	01882cH
	DD	00H
	DD	018af7H
	DD	018781H
	DD	01882cH
	DD	00H
	DD	018af8H
	DD	018786H
	DD	01882cH
	DD	00H
	DD	018af9H
	DD	01878bH
	DD	01882cH
	DD	00H
	DD	018afaH
	DD	01877cH
	DD	0187eaH
	DD	00H
	DD	018afbH
	DD	018781H
	DD	0187e7H
	DD	00H
	DD	018afcH
	DD	018786H
	DD	0187e9H
	DD	00H
	DD	018afdH
	DD	01878bH
	DD	0187e8H
	DD	00H
	DD	018afeH
	DD	0189caH
	DD	018814H
	DD	00H
	DD	018affH
	DD	0189cfH
	DD	018815H
	DD	00H
	DD	018e53H
	DD	0189cfH
	DD	018cc8H
	DD	00H
	DD	018e5eH
	DD	0189cfH
	DD	018c9cH
	DD	00H
	DD	018b3bH
	DD	018b39H
	DD	018b3aH
	DD	00H
	DD	018b3bH
	DD	018b3aH
	DD	018b39H
	DD	00H
?RideCodeMode@@3PAUtagRideCodeMode@@A DD 018816H	; RideCodeMode
	DD	01H
	DD	018806H
	DD	02H
	DD	01880aH
	DD	04H
	DD	0187b7H
	DD	08H
	DD	0187c0H
	DD	010H
	DD	0187bbH
	DD	020H
	DD	0187faH
	DD	040H
	DD	0187d6H
	DD	080H
	DD	018814H
	DD	0100H
	DD	018815H
	DD	0200H
	DD	018c9cH
	DD	0800H
	DD	018cc8H
	DD	0400H
	DD	018812H
	DD	01000H
	DD	018811H
	DD	02000H
	DD	018a28H
	DD	04000H
	DD	018a2bH
	DD	08000H
	DD	018f30H
	DD	010000H
	DD	018f31H
	DD	020000H
	DD	018f68H
	DD	040000H
	DD	0187fcH
	DD	080000H
	DD	0187d3H
	DD	0100000H
	DD	018fa9H
	DD	0200000H
	DD	018faaH
	DD	0400000H
	DD	018a09H
	DD	0800000H
	DD	018a0aH
	DD	01000000H
	DD	019394H
	DD	02000000H
	DD	0187b2H
	DD	04000000H
?RideNoList@@3PAUtagRideNoList@@A DD 018bb9H		; RideNoList
	DD	018bbaH
	DD	018bbbH
	DD	018bbcH
	DD	018bbdH
	DD	018bbeH
	DD	018bbfH
	DD	018bc0H
	DD	018a90H
	DD	018a91H
	DD	018e5aH
	DD	018e65H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee5H
	DD	018f0dH
	DD	018f19H
	DD	018f76H
	ORG $+32
	DD	018bc1H
	DD	018bc2H
	DD	018bc3H
	DD	018bc4H
	DD	018bc5H
	DD	018bc6H
	DD	018bc7H
	DD	018bc8H
	DD	018a9aH
	DD	018a9bH
	DD	018e62H
	DD	018e64H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee6H
	DD	018f0eH
	DD	018f1aH
	DD	018f77H
	ORG $+32
	DD	018bc9H
	DD	018bcaH
	DD	018bcbH
	DD	018bccH
	DD	018bcdH
	DD	018bceH
	DD	018bcfH
	DD	018bd0H
	DD	018aa4H
	DD	018aa5H
	DD	018e57H
	DD	018e4dH
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee7H
	DD	018f0fH
	DD	018f1bH
	DD	018f78H
	ORG $+32
	DD	018bd1H
	DD	018bd2H
	DD	018bd3H
	DD	018bd4H
	DD	018bd5H
	DD	018bd6H
	DD	018bd7H
	DD	018bd8H
	DD	018aaeH
	DD	018aafH
	DD	018e58H
	DD	018e4eH
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee8H
	DD	018f10H
	DD	018f1cH
	DD	018f79H
	ORG $+32
	DD	018bd9H
	DD	018bdaH
	DD	018bdbH
	DD	018bdcH
	DD	018bddH
	DD	018bdeH
	DD	018bdfH
	DD	018be0H
	DD	018ab8H
	DD	018ab9H
	DD	018e60H
	DD	018e55H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee9H
	DD	018f11H
	DD	018f1dH
	DD	018f7aH
	ORG $+32
	DD	018be1H
	DD	018be2H
	DD	018be3H
	DD	018be4H
	DD	018be5H
	DD	018be6H
	DD	018be7H
	DD	018be8H
	DD	018ac2H
	DD	018ac3H
	DD	018e61H
	DD	018e56H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eeaH
	DD	018f12H
	DD	018f1eH
	DD	018f7bH
	ORG $+32
	DD	018be9H
	DD	018beaH
	DD	018bebH
	DD	018becH
	DD	018bedH
	DD	018beeH
	DD	018befH
	DD	018bf0H
	DD	018accH
	DD	018acdH
	DD	018e59H
	DD	018e4fH
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eebH
	DD	018f13H
	DD	018f1fH
	DD	018f7cH
	ORG $+32
	DD	018bf1H
	DD	018bf2H
	DD	018bf3H
	DD	018bf4H
	DD	018bf5H
	DD	018bf6H
	DD	018bf7H
	DD	018bf8H
	DD	018ad6H
	DD	018ad7H
	DD	018e5bH
	DD	018e50H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eecH
	DD	018f14H
	DD	018f20H
	DD	018f7dH
	ORG $+32
	DD	018bf9H
	DD	018bfaH
	DD	018bfbH
	DD	018bfcH
	DD	018bfdH
	DD	018bfeH
	DD	018bffH
	DD	018c00H
	DD	018ae0H
	DD	018ae1H
	DD	018e5dH
	DD	018e52H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eedH
	DD	018f15H
	DD	018f21H
	DD	018f7eH
	ORG $+32
	DD	018c01H
	DD	018c02H
	DD	018c03H
	DD	018c04H
	DD	018c05H
	DD	018c06H
	DD	018c07H
	DD	018c08H
	DD	018aeaH
	DD	018aebH
	DD	018e5cH
	DD	018e51H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eeeH
	DD	018f16H
	DD	018f22H
	DD	018f7fH
	ORG $+32
	DD	018c09H
	DD	018c0aH
	DD	018c0bH
	DD	018c0cH
	DD	018c0dH
	DD	018c0eH
	DD	018c0fH
	DD	018c10H
	DD	018af4H
	DD	018af5H
	DD	018e5fH
	DD	018e54H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eefH
	DD	018f17H
	DD	018f23H
	DD	018f80H
	ORG $+32
	DD	018c11H
	DD	018c12H
	DD	018c13H
	DD	018c14H
	DD	018c15H
	DD	018c16H
	DD	018c17H
	DD	018c18H
	DD	018afeH
	DD	018affH
	DD	018e5eH
	DD	018e53H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ef0H
	DD	018f18H
	DD	018f24H
	DD	018f81H
	ORG $+32
?RPlistMode@@3PAUtagRidePetList@@A DD 0186a0H		; RPlistMode
	DD	00H
	DD	0186a5H
	DD	00H
	DD	0186aaH
	DD	00H
	DD	0186afH
	DD	00H
	DD	0186b4H
	DD	01H
	DD	0186b9H
	DD	01H
	DD	0186beH
	DD	01H
	DD	0186c3H
	DD	01H
	DD	0186c8H
	DD	02H
	DD	0186cdH
	DD	02H
	DD	0186d2H
	DD	02H
	DD	0186d7H
	DD	02H
	DD	0186dcH
	DD	03H
	DD	0186e1H
	DD	03H
	DD	0186e6H
	DD	03H
	DD	0186ebH
	DD	03H
	DD	0186f0H
	DD	04H
	DD	0186f5H
	DD	04H
	DD	0186faH
	DD	04H
	DD	0186ffH
	DD	04H
	DD	018704H
	DD	05H
	DD	018709H
	DD	05H
	DD	01870eH
	DD	05H
	DD	018713H
	DD	05H
	DD	018718H
	DD	06H
	DD	01871dH
	DD	06H
	DD	018722H
	DD	06H
	DD	018727H
	DD	06H
	DD	01872cH
	DD	07H
	DD	018731H
	DD	07H
	DD	018736H
	DD	07H
	DD	01873bH
	DD	07H
	DD	018740H
	DD	08H
	DD	018745H
	DD	08H
	DD	01874aH
	DD	08H
	DD	01874fH
	DD	08H
	DD	018754H
	DD	09H
	DD	018759H
	DD	09H
	DD	01875eH
	DD	09H
	DD	018763H
	DD	09H
	DD	018768H
	DD	0aH
	DD	01876dH
	DD	0aH
	DD	018772H
	DD	0aH
	DD	018777H
	DD	0aH
	DD	01877cH
	DD	0bH
	DD	018781H
	DD	0bH
	DD	018786H
	DD	0bH
	DD	01878bH
	DD	0bH
?moveLastDir@@3FA DW 0ffffH				; moveLastDir
	ORG $+2
?autoMappingInitFlag@@3HA DD 01H			; autoMappingInitFlag
?FontPal@@3PAKA DD 0ffffffH				; FontPal
	DD	0ffff00H
	DD	0ff00ffH
	DD	0ff0000H
	DD	0ffffH
	DD	0ff00H
	DD	0ffH
	DD	0a4a0a0H
	DD	0f0caa6H
	DD	0c0dcc0H
	DD	08cffH
	DD	0247fffH
?oldGx@@3HA DD	0ffffffffH				; oldGx
?oldGy@@3HA DD	0ffffffffH				; oldGy
?oldNextGx@@3HA DD 0ffffffffH				; oldNextGx
?oldNextGy@@3HA DD 0ffffffffH				; oldNextGy
?moveAddTbl@@3PAY01FA DW 0ffffH				; moveAddTbl
	DW	01H
	DW	0ffffH
	DW	00H
	DW	0ffffH
	DW	0ffffH
	DW	00H
	DW	0ffffH
	DW	01H
	DW	0ffffH
	DW	01H
	DW	00H
	DW	01H
	DW	01H
	DW	00H
	DW	01H
?mapEffectMoveDir@@3FA DW 0ffffH			; mapEffectMoveDir
	ORG $+2
?fastDrawTileFlag@@3FA DW 01H				; fastDrawTileFlag
_DATA	ENDS
PUBLIC	___local_stdio_printf_options
PUBLIC	??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
PUBLIC	__vsnprintf_l
PUBLIC	__vsprintf_l
PUBLIC	_sprintf
PUBLIC	?initMap@@YAXXZ					; initMap
PUBLIC	?resetMap@@YAXXZ				; resetMap
PUBLIC	?createMap@@YAXHHH@Z				; createMap
PUBLIC	?writeMap@@YAHHHHHHPAG00@Z			; writeMap
PUBLIC	?setMap@@YAXHHH@Z				; setMap
PUBLIC	?setWarpMap@@YAXHH@Z				; setWarpMap
PUBLIC	?mapCheckSum@@YAHHHHHHHHH@Z			; mapCheckSum
PUBLIC	?ddrawBattleMap@@YAXXZ				; ddrawBattleMap
PUBLIC	?drawMap@@YAXXZ					; drawMap
PUBLIC	?drawMap2@@YAXXZ				; drawMap2
PUBLIC	?drawTile@@YAXXZ				; drawTile
PUBLIC	?redrawMap@@YAXXZ				; redrawMap
PUBLIC	?drawGrid@@YAXXZ				; drawGrid
PUBLIC	?moveProc@@YAXXZ				; moveProc
PUBLIC	?checkEmptyMap@@YAHH@Z				; checkEmptyMap
PUBLIC	?setMapMovePoint@@YAXHH@Z			; setMapMovePoint
PUBLIC	?setMapMovePoint2@@YAXHH@Z			; setMapMovePoint2
PUBLIC	?mapMove2@@YAXXZ				; mapMove2
PUBLIC	?updateMapArea@@YAXXZ				; updateMapArea
PUBLIC	?getRouteData@@YAXHPAH0@Z			; getRouteData
PUBLIC	?cnvServDir@@YADHH@Z				; cnvServDir
PUBLIC	?goFrontPartyCharacter@@YAXHHH@Z		; goFrontPartyCharacter
PUBLIC	?initCharPartsPrio@@YAXXZ			; initCharPartsPrio
PUBLIC	?setPartsPrio@@YAXHHHHHMMH@Z			; setPartsPrio
PUBLIC	?setCharPrio@@YAXHHHHHMM@Z			; setCharPrio
PUBLIC	?stockCharParts@@YAXXZ				; stockCharParts
PUBLIC	?drawAutoMap@@YAXHH@Z				; drawAutoMap
PUBLIC	?checkHitMap@@YAHHH@Z				; checkHitMap
PUBLIC	?camMapToGamen@@YAXMMPAM0@Z			; camMapToGamen
PUBLIC	?camGamenToMap@@YAXMMPAM0@Z			; camGamenToMap
PUBLIC	?initMapEffect@@YAXH@Z				; initMapEffect
PUBLIC	?drawMapEffect@@YAXXZ				; drawMapEffect
PUBLIC	?mapEffectProc@@YAXXZ				; mapEffectProc
PUBLIC	?mapEffectRain@@YAXXZ				; mapEffectRain
PUBLIC	?mapEffectSnow@@YAXXZ				; mapEffectSnow
PUBLIC	?mapEffectStar@@YAXXZ				; mapEffectStar
PUBLIC	?mapEffectFallingStar@@YAXXZ			; mapEffectFallingStar
PUBLIC	?mapEffectKamiFubuki@@YAXXZ			; mapEffectKamiFubuki
PUBLIC	?mapEffectHalloweenProc@@YAXXZ			; mapEffectHalloweenProc
PUBLIC	?mapEffectProc2@@YAXH@Z				; mapEffectProc2
PUBLIC	?mapEffectRain2@@YAXH@Z				; mapEffectRain2
PUBLIC	?mapEffectSnow2@@YAXH@Z				; mapEffectSnow2
PUBLIC	?_checkEmptyMap@@YAXXZ				; _checkEmptyMap
PUBLIC	?onceMoveProc@@YAXXZ				; onceMoveProc
PUBLIC	?partyMoveProc@@YAXXZ				; partyMoveProc
PUBLIC	?getPartyTbl@@YAXXZ				; getPartyTbl
PUBLIC	?readMap@@YAHHHHHHPAG00@Z			; readMap
PUBLIC	?readHitMap@@YAXHHHHPAG000@Z			; readHitMap
PUBLIC	?getRouteMap@@YAXXZ				; getRouteMap
PUBLIC	?shiftRouteMap@@YAXXZ				; shiftRouteMap
PUBLIC	?shiftRouteMap2@@YAXXZ				; shiftRouteMap2
PUBLIC	?getDirData@@YAHHHHH@Z				; getDirData
PUBLIC	?checkAreaLimit@@YAXPAF000@Z			; checkAreaLimit
PUBLIC	?turnAround@@YAXXZ				; turnAround
PUBLIC	?turnAround2@@YAXH@Z				; turnAround2
PUBLIC	?checkPrioPartsVsChar@@YAHPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; checkPrioPartsVsChar
PUBLIC	?insertCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; insertCharPartsPrio
PUBLIC	?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; addCharPartsPrio
PUBLIC	?delCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@@Z ; delCharPartsPrio
PUBLIC	?createAutoMap@@YAHHHH@Z			; createAutoMap
PUBLIC	?setEventMemory@@YAXHHG@Z			; setEventMemory
PUBLIC	?sort_parts@@YAHPAUPARTS@@0@Z			; sort_parts
PUBLIC	?CheckCRC@@YAGPAEH@Z				; CheckCRC
PUBLIC	?_etcEventCheck@@YAXXZ				; _etcEventCheck
PUBLIC	?_execEtcEvent@@YAHXZ				; _execEtcEvent
PUBLIC	?_getMoveRoute2@@YAXXZ				; _getMoveRoute2
PUBLIC	?setPcMovePointToChar@@YAXHH@Z			; setPcMovePointToChar
PUBLIC	?setPartyMovePoint@@YAXXZ			; setPartyMovePoint
PUBLIC	?_mapMove@@YAXXZ				; _mapMove
PUBLIC	?_partyMapMove@@YAXXZ				; _partyMapMove
PUBLIC	?_setMapMovePoint@@YAXHH@Z			; _setMapMovePoint
PUBLIC	?_checkEncount@@YAHXZ				; _checkEncount
PUBLIC	?_sendEncount@@YAXXZ				; _sendEncount
PUBLIC	?_sendMoveRoute@@YAXXZ				; _sendMoveRoute
PUBLIC	?_checkWarpEvent@@YAHHH@Z			; _checkWarpEvent
PUBLIC	?_sendWarpEvent@@YAXXZ				; _sendWarpEvent
PUBLIC	?_checkEnemyEvent@@YAHHH@Z			; _checkEnemyEvent
PUBLIC	?_sendEnemyEvent@@YAXXZ				; _sendEnemyEvent
PUBLIC	?checkEmptyMapData@@YAHHHH@Z			; checkEmptyMapData
PUBLIC	?checkGridAround@@YAHHHHH@Z			; checkGridAround
PUBLIC	?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ		; getMapEffectBuf
PUBLIC	?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z		; delMapEffectBuf
PUBLIC	?mapEffectDirHosei@@YAXPAH0@Z			; mapEffectDirHosei
PUBLIC	?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z	; setEffectStar
PUBLIC	?calEffectStar@@YAXPAU_MAP_EFFECT@@@Z		; calEffectStar
PUBLIC	?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage
PUBLIC	?nowX@@3MA					; nowX
PUBLIC	?nowY@@3MA					; nowY
PUBLIC	??_C@_0L@FCEGIJN@map?2?$CFd?4dat?$AA@		; `string'
PUBLIC	??_C@_02JDPG@rb?$AA@				; `string'
PUBLIC	??_C@_03HBNNNHNM@map?$AA@			; `string'
PUBLIC	??_C@_02GMLFBBN@wb?$AA@				; `string'
PUBLIC	??_C@_03CCKOKKND@rb?$CL?$AA@			; `string'
PUBLIC	__real@00000000
PUBLIC	__real@3f800000
PUBLIC	__real@3f99999a
PUBLIC	__real@3faaaaab
PUBLIC	__real@3fcccccd
PUBLIC	__real@3fe0000000000000
PUBLIC	__real@40000000
PUBLIC	__real@40800000
PUBLIC	__real@41b40000
PUBLIC	__real@41c00000
PUBLIC	__real@42000000
PUBLIC	__real@42340000
PUBLIC	__real@42800000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	___report_rangecheckfailure:PROC
EXTRN	__Init_thread_header:PROC
EXTRN	__Init_thread_abort:PROC
EXTRN	__Init_thread_footer:PROC
EXTRN	__imp__fclose:PROC
EXTRN	__imp__fopen:PROC
EXTRN	__imp__fread:PROC
EXTRN	__imp__fseek:PROC
EXTRN	__imp__fwrite:PROC
EXTRN	__imp____stdio_common_vsprintf:PROC
EXTRN	__imp__rand:PROC
EXTRN	_memset:PROC
EXTRN	__imp___mkdir:PROC
EXTRN	_sqrt:PROC
EXTRN	?TimeGetTime@@YAIXZ:PROC			; TimeGetTime
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?DrawAutoMapping@@YAXHHPAEHH@Z:PROC		; DrawAutoMapping
EXTRN	?DrawMapEffect@@YAXXZ:PROC			; DrawMapEffect
EXTRN	?warpEffectProc@@YAXXZ:PROC			; warpEffectProc
EXTRN	?DeathAction@@YAXPAUaction@@@Z:PROC		; DeathAction
EXTRN	?SortDispBuffer@@YAXXZ:PROC			; SortDispBuffer
EXTRN	?StockDispBuffer@@YAHHHEHH@Z:PROC		; StockDispBuffer
EXTRN	?StockDispBuffer2@@YAHHHEHH@Z:PROC		; StockDispBuffer2
EXTRN	?AdjustDir@@YAXPAM@Z:PROC			; AdjustDir
EXTRN	?Atan@@YAMMM@Z:PROC				; Atan
EXTRN	?rand2@@YAHXZ:PROC				; rand2
EXTRN	?pointLen2@@YAMMMMM@Z:PROC			; pointLen2
EXTRN	?setPcPoint@@YAXXZ:PROC				; setPcPoint
EXTRN	?setPcDir@@YAXH@Z:PROC				; setPcDir
EXTRN	?setPcAction@@YAXH@Z:PROC			; setPcAction
EXTRN	?setPcWalkFlag@@YAXXZ:PROC			; setPcWalkFlag
EXTRN	?delPcWalkFlag@@YAXXZ:PROC			; delPcWalkFlag
EXTRN	?checkPcWalkFlag@@YAHXZ:PROC			; checkPcWalkFlag
EXTRN	?getItem@@YAXXZ:PROC				; getItem
EXTRN	?lookAtAround@@YAHXZ:PROC			; lookAtAround
EXTRN	?walkSendForServer@@YAXHHPAD@Z:PROC		; walkSendForServer
EXTRN	?charMove2@@YAXPAUaction@@@Z:PROC		; charMove2
EXTRN	?_charMove@@YAXPAUaction@@@Z:PROC		; _charMove
EXTRN	?shiftBufCount@@YAXPAUaction@@@Z:PROC		; shiftBufCount
EXTRN	?stockCharMovePoint@@YAXPAUaction@@HH@Z:PROC	; stockCharMovePoint
EXTRN	?setCharMovePoint@@YAXPAUaction@@HH@Z:PROC	; setCharMovePoint
EXTRN	?_setCharMovePoint@@YAXPAUaction@@HH@Z:PROC	; _setCharMovePoint
EXTRN	?realGetPos@@YAHKPAF0@Z:PROC			; realGetPos
EXTRN	?realGetWH@@YAHKPAF0@Z:PROC			; realGetWH
EXTRN	?realGetHitPoints@@YAHKPAF0@Z:PROC		; realGetHitPoints
EXTRN	?realGetHitFlag@@YAHKPAF@Z:PROC			; realGetHitFlag
EXTRN	?realGetPrioType@@YAHKPAF@Z:PROC		; realGetPrioType
EXTRN	?realGetNo@@YAHKPAK@Z:PROC			; realGetNo
EXTRN	?lssproto_EV_send@@YAXHHHHHH@Z:PROC		; lssproto_EV_send
EXTRN	?lssproto_EN_send@@YAXHHH@Z:PROC		; lssproto_EN_send
EXTRN	?lssproto_M_send@@YAXHHHHHH@Z:PROC		; lssproto_M_send
EXTRN	?old_lssproto_EV_send@@YAXHHHHHH@Z:PROC		; old_lssproto_EV_send
EXTRN	?old_lssproto_EN_send@@YAXHHH@Z:PROC		; old_lssproto_EN_send
EXTRN	?old_lssproto_M_send@@YAXHHHHHH@Z:PROC		; old_lssproto_M_send
EXTRN	?play_environment@@YAHHHH@Z:PROC		; play_environment
EXTRN	?play_map_bgm@@YAHH@Z:PROC			; play_map_bgm
EXTRN	?closeCharActionAnimeChange@@YAXXZ:PROC		; closeCharActionAnimeChange
EXTRN	?closeEtcSwitch@@YAXXZ:PROC			; closeEtcSwitch
EXTRN	?closeJoinChannelWN@@YAXXZ:PROC			; closeJoinChannelWN
EXTRN	?ReleaseSpecAnim@@YAXXZ:PROC			; ReleaseSpecAnim
EXTRN	?MakeAnimDisp@@YAPAUaction@@HHHH@Z:PROC		; MakeAnimDisp
EXTRN	?getLSTime@@YA?AW4LSTIME_SECTION@@PAUtagLSTIME@@@Z:PROC ; getLSTime
EXTRN	?crossAniRelease@@YAXXZ:PROC			; crossAniRelease
EXTRN	?TalkToNPC@@YAHXZ:PROC				; TalkToNPC
EXTRN	@_RTC_CheckStackVars@8:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_InitBase:PROC
EXTRN	__RTC_Shutdown:PROC
EXTRN	__RTC_UninitUse:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	__chkstk:PROC
EXTRN	__Init_thread_epoch:DWORD
EXTRN	?DEF_APPSIZEX@@3HA:DWORD			; DEF_APPSIZEX
EXTRN	?DEF_APPSIZEY@@3HA:DWORD			; DEF_APPSIZEY
EXTRN	?ResoMode@@3HA:DWORD				; ResoMode
EXTRN	?offlineFlag@@3HA:DWORD				; offlineFlag
EXTRN	?SubProcNo@@3IA:DWORD				; SubProcNo
EXTRN	?mouse@@3UMOUSE@@A:BYTE				; mouse
EXTRN	?HitDispNo@@3HA:DWORD				; HitDispNo
EXTRN	?viewOffsetX@@3HA:DWORD				; viewOffsetX
EXTRN	?viewOffsetY@@3HA:DWORD				; viewOffsetY
EXTRN	?pc@@3UPC@@A:BYTE				; pc
EXTRN	?party@@3PAUPARTY@@A:BYTE			; party
EXTRN	?partyModeFlag@@3FA:WORD			; partyModeFlag
EXTRN	?autoMapColorTbl@@3PAEA:BYTE			; autoMapColorTbl
EXTRN	?sockfd@@3IA:DWORD				; sockfd
EXTRN	?bNewServer@@3HA:DWORD				; bNewServer
EXTRN	?EncountOffFlag@@3HA:DWORD			; EncountOffFlag
EXTRN	?draw_map_bgm_flg@@3HA:DWORD			; draw_map_bgm_flg
EXTRN	?map_bgm_no@@3HA:DWORD				; map_bgm_no
EXTRN	?etcSendFlag@@3FA:WORD				; etcSendFlag
EXTRN	?wnCloseFlag@@3FA:WORD				; wnCloseFlag
EXTRN	?MenuToggleFlag@@3IA:DWORD			; MenuToggleFlag
EXTRN	?MapWmdFlagBak@@3HA:DWORD			; MapWmdFlagBak
EXTRN	?BattleResultWndFlag@@3HA:DWORD			; BattleResultWndFlag
EXTRN	?SaTime@@3UtagLSTIME@@A:BYTE			; SaTime
EXTRN	?fMapBgm@@3HA:DWORD				; fMapBgm
EXTRN	?mapWndFontNo@@3PAHA:BYTE			; mapWndFontNo
EXTRN	?resultWndFontNo@@3PAHA:BYTE			; resultWndFontNo
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
EXTRN	__tls_array:DWORD
EXTRN	__tls_index:DWORD
;	COMDAT ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA
_BSS	SEGMENT
?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA DQ 01H DUP (?) ; `__local_stdio_printf_options'::`2'::_OptionsStorage
_BSS	ENDS
_BSS	SEGMENT
?nowX@@3MA DD	01H DUP (?)				; nowX
?nowY@@3MA DD	01H DUP (?)				; nowY
?time@?1??mapEffectRain@@YAXXZ@4IA DD 01H DUP (?)	; `mapEffectRain'::`2'::time
?$TSS0@?1??mapEffectRain@@YAXXZ@4HA DD 01H DUP (?)	; TSS0<`template-parameter-2',apEffectRain,int, ?? &>
?time@?1??mapEffectSnow@@YAXXZ@4IA DD 01H DUP (?)	; `mapEffectSnow'::`2'::time
?$TSS0@?1??mapEffectSnow@@YAXXZ@4HA DD 01H DUP (?)	; TSS0<`template-parameter-2',apEffectSnow,int, ?? &>
?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A DD 01eH DUP (?) ; `mapEffectStar'::`2'::buf
?time@?1??mapEffectKamiFubuki@@YAXXZ@4IA DD 01H DUP (?)	; `mapEffectKamiFubuki'::`2'::time
?$TSS0@?1??mapEffectKamiFubuki@@YAXXZ@4HA DD 01H DUP (?) ; TSS0<`template-parameter-2',apEffectKamiFubuki,int, ?? &>
?time@?1??mapEffectHalloweenProc@@YAXXZ@4IA DD 01H DUP (?) ; `mapEffectHalloweenProc'::`2'::time
?$TSS0@?1??mapEffectHalloweenProc@@YAXXZ@4HA DD 01H DUP (?) ; TSS0<`template-parameter-2',apEffectHalloweenProc,int, ?? &>
_BSS	ENDS
CRT$XCU	SEGMENT
?nowX$initializer$@@3P6AXXZA DD FLAT:??__EnowX@@YAXXZ	; nowX$initializer$
CRT$XCU	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@42800000
CONST	SEGMENT
__real@42800000 DD 042800000r			; 64
CONST	ENDS
;	COMDAT __real@42340000
CONST	SEGMENT
__real@42340000 DD 042340000r			; 45
CONST	ENDS
;	COMDAT __real@42000000
CONST	SEGMENT
__real@42000000 DD 042000000r			; 32
CONST	ENDS
;	COMDAT __real@41c00000
CONST	SEGMENT
__real@41c00000 DD 041c00000r			; 24
CONST	ENDS
;	COMDAT __real@41b40000
CONST	SEGMENT
__real@41b40000 DD 041b40000r			; 22.5
CONST	ENDS
;	COMDAT __real@40800000
CONST	SEGMENT
__real@40800000 DD 040800000r			; 4
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT __real@3fcccccd
CONST	SEGMENT
__real@3fcccccd DD 03fcccccdr			; 1.6
CONST	ENDS
;	COMDAT __real@3faaaaab
CONST	SEGMENT
__real@3faaaaab DD 03faaaaabr			; 1.33333
CONST	ENDS
;	COMDAT __real@3f99999a
CONST	SEGMENT
__real@3f99999a DD 03f99999ar			; 1.2
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT ??_C@_03CCKOKKND@rb?$CL?$AA@
CONST	SEGMENT
??_C@_03CCKOKKND@rb?$CL?$AA@ DB 'rb+', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_02GMLFBBN@wb?$AA@
CONST	SEGMENT
??_C@_02GMLFBBN@wb?$AA@ DB 'wb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_03HBNNNHNM@map?$AA@
CONST	SEGMENT
??_C@_03HBNNNHNM@map?$AA@ DB 'map', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_02JDPG@rb?$AA@
CONST	SEGMENT
??_C@_02JDPG@rb?$AA@ DB 'rb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@FCEGIJN@map?2?$CFd?4dat?$AA@
CONST	SEGMENT
??_C@_0L@FCEGIJN@map?2?$CFd?4dat?$AA@ DB 'map\%d.dat', 00H ; `string'
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?mapEffectHalloweenProc@@YAXXZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?mapEffectHalloweenProc@@YAXXZ$0
__ehfuncinfo$?mapEffectHalloweenProc@@YAXXZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?mapEffectHalloweenProc@@YAXXZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?mapEffectKamiFubuki@@YAXXZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?mapEffectKamiFubuki@@YAXXZ$0
__ehfuncinfo$?mapEffectKamiFubuki@@YAXXZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?mapEffectKamiFubuki@@YAXXZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?mapEffectSnow@@YAXXZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?mapEffectSnow@@YAXXZ$0
__ehfuncinfo$?mapEffectSnow@@YAXXZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?mapEffectSnow@@YAXXZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?mapEffectRain@@YAXXZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?mapEffectRain@@YAXXZ$0
__ehfuncinfo$?mapEffectRain@@YAXXZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?mapEffectRain@@YAXXZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
CRT$XCU	SEGMENT
?nowY$initializer$@@3P6AXXZA DD FLAT:??__EnowY@@YAXXZ	; nowY$initializer$
CRT$XCU	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?calEffectStar@@YAXPAU_MAP_EFFECT@@@Z
_TEXT	SEGMENT
_my$ = -20						; size = 4
_mx$ = -8						; size = 4
_buf$ = 8						; size = 4
?calEffectStar@@YAXPAU_MAP_EFFECT@@@Z PROC		; calEffectStar, COMDAT

; 5021 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5022 : 	float mx, my;
; 5023 : 	// ?þ¤úû¨?£t
; 5024 : 	camMapToGamen((float)buf->gx * GRID_SIZE, (float)buf->gy * GRID_SIZE, &mx, &my);

  0001e	8d 45 ec	 lea	 eax, DWORD PTR _my$[ebp]
  00021	50		 push	 eax
  00022	8d 4d f8	 lea	 ecx, DWORD PTR _mx$[ebp]
  00025	51		 push	 ecx
  00026	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  00029	f3 0f 2a 42 14	 cvtsi2ss xmm0, DWORD PTR [edx+20]
  0002e	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00036	51		 push	 ecx
  00037	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0003c	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  0003f	f3 0f 2a 40 10	 cvtsi2ss xmm0, DWORD PTR [eax+16]
  00044	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  0004c	51		 push	 ecx
  0004d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00052	e8 00 00 00 00	 call	 ?camMapToGamen@@YAXMMPAM0@Z ; camMapToGamen
  00057	83 c4 10	 add	 esp, 16			; 00000010H

; 5025 : 	buf->x = (int)(mx + .5) + buf->ggx;

  0005a	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _mx$[ebp]
  0005f	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00067	f2 0f 2c c0	 cvttsd2si eax, xmm0
  0006b	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  0006e	03 41 18	 add	 eax, DWORD PTR [ecx+24]
  00071	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  00074	89 02		 mov	 DWORD PTR [edx], eax

; 5026 : 	buf->y = (int)(my + .5) + buf->ggy;

  00076	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _my$[ebp]
  0007b	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00083	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00087	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  0008a	03 41 1c	 add	 eax, DWORD PTR [ecx+28]
  0008d	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  00090	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 5027 : 	//???????????????
; 5028 : 	if (ResoMode == 1)

  00093	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  0009a	75 1a		 jne	 SHORT $LN2@calEffectS

; 5029 : 	{
; 5030 : 		buf->x >>= 1;

  0009c	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  0009f	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a1	d1 f9		 sar	 ecx, 1
  000a3	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  000a6	89 0a		 mov	 DWORD PTR [edx], ecx

; 5031 : 		buf->y >>= 1;

  000a8	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  000ab	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000ae	d1 f9		 sar	 ecx, 1
  000b0	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  000b3	89 4a 04	 mov	 DWORD PTR [edx+4], ecx
$LN2@calEffectS:

; 5032 : 	}
; 5033 : }

  000b6	52		 push	 edx
  000b7	8b cd		 mov	 ecx, ebp
  000b9	50		 push	 eax
  000ba	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN7@calEffectS
  000c0	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000c5	58		 pop	 eax
  000c6	5a		 pop	 edx
  000c7	5f		 pop	 edi
  000c8	5e		 pop	 esi
  000c9	5b		 pop	 ebx
  000ca	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000d0	3b ec		 cmp	 ebp, esp
  000d2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d7	8b e5		 mov	 esp, ebp
  000d9	5d		 pop	 ebp
  000da	c3		 ret	 0
  000db	90		 npad	 1
$LN7@calEffectS:
  000dc	02 00 00 00	 DD	 2
  000e0	00 00 00 00	 DD	 $LN6@calEffectS
$LN6@calEffectS:
  000e4	f8 ff ff ff	 DD	 -8			; fffffff8H
  000e8	04 00 00 00	 DD	 4
  000ec	00 00 00 00	 DD	 $LN4@calEffectS
  000f0	ec ff ff ff	 DD	 -20			; ffffffecH
  000f4	04 00 00 00	 DD	 4
  000f8	00 00 00 00	 DD	 $LN5@calEffectS
$LN5@calEffectS:
  000fc	6d		 DB	 109			; 0000006dH
  000fd	79		 DB	 121			; 00000079H
  000fe	00		 DB	 0
$LN4@calEffectS:
  000ff	6d		 DB	 109			; 0000006dH
  00100	78		 DB	 120			; 00000078H
  00101	00		 DB	 0
?calEffectStar@@YAXPAU_MAP_EFFECT@@@Z ENDP		; calEffectStar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z
_TEXT	SEGMENT
_buf$ = 8						; size = 4
_gx$ = 12						; size = 4
_gy$ = 16						; size = 4
_ggx$ = 20						; size = 4
_ggy$ = 24						; size = 4
_type$ = 28						; size = 4
?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z PROC		; setEffectStar, COMDAT

; 5008 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5009 : 	if (buf)

  0001e	83 7d 08 00	 cmp	 DWORD PTR _buf$[ebp], 0
  00022	74 3b		 je	 SHORT $LN1@setEffectS

; 5010 : 	{
; 5011 : 		buf->type = MAP_EFFECT_TYPE_STAR;

  00024	b8 03 00 00 00	 mov	 eax, 3
  00029	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  0002c	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 5012 : 		buf->gx = gx;

  00030	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00033	8b 4d 0c	 mov	 ecx, DWORD PTR _gx$[ebp]
  00036	89 48 10	 mov	 DWORD PTR [eax+16], ecx

; 5013 : 		buf->gy = gy;

  00039	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  0003c	8b 4d 10	 mov	 ecx, DWORD PTR _gy$[ebp]
  0003f	89 48 14	 mov	 DWORD PTR [eax+20], ecx

; 5014 : 		buf->ggx = ggx;

  00042	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00045	8b 4d 14	 mov	 ecx, DWORD PTR _ggx$[ebp]
  00048	89 48 18	 mov	 DWORD PTR [eax+24], ecx

; 5015 : 		buf->ggy = ggy;

  0004b	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  0004e	8b 4d 18	 mov	 ecx, DWORD PTR _ggy$[ebp]
  00051	89 48 1c	 mov	 DWORD PTR [eax+28], ecx

; 5016 : 		buf->type2 = type;

  00054	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00057	66 8b 4d 1c	 mov	 cx, WORD PTR _type$[ebp]
  0005b	66 89 48 3e	 mov	 WORD PTR [eax+62], cx
$LN1@setEffectS:

; 5017 : 	}
; 5018 : }

  0005f	5f		 pop	 edi
  00060	5e		 pop	 esi
  00061	5b		 pop	 ebx
  00062	8b e5		 mov	 esp, ebp
  00064	5d		 pop	 ebp
  00065	c3		 ret	 0
?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ENDP		; setEffectStar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectDirHosei@@YAXPAH0@Z
_TEXT	SEGMENT
_x$ = 8							; size = 4
_y$ = 12						; size = 4
?mapEffectDirHosei@@YAXPAH0@Z PROC			; mapEffectDirHosei, COMDAT

; 4744 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4745 : 	if (mapEffectMoveDir < 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  00025	85 c0		 test	 eax, eax
  00027	7d 05		 jge	 SHORT $LN2@mapEffectD

; 4746 : 		return;

  00029	e9 15 01 00 00	 jmp	 $LN1@mapEffectD
$LN2@mapEffectD:

; 4747 : 	if (mapEffectMoveDir == 0)

  0002e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  00035	85 c0		 test	 eax, eax
  00037	75 12		 jne	 SHORT $LN3@mapEffectD

; 4748 : 		(*y) -= 2;

  00039	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  0003c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003e	83 e9 02	 sub	 ecx, 2
  00041	8b 55 0c	 mov	 edx, DWORD PTR _y$[ebp]
  00044	89 0a		 mov	 DWORD PTR [edx], ecx
  00046	e9 f8 00 00 00	 jmp	 $LN1@mapEffectD
$LN3@mapEffectD:

; 4749 : 	else if (mapEffectMoveDir == 1)

  0004b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  00052	83 f8 01	 cmp	 eax, 1
  00055	75 1f		 jne	 SHORT $LN5@mapEffectD

; 4750 : 	{
; 4751 : 		(*x)++;

  00057	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  0005a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005c	83 c1 01	 add	 ecx, 1
  0005f	8b 55 08	 mov	 edx, DWORD PTR _x$[ebp]
  00062	89 0a		 mov	 DWORD PTR [edx], ecx

; 4752 : 		(*y)--;

  00064	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  00067	8b 08		 mov	 ecx, DWORD PTR [eax]
  00069	83 e9 01	 sub	 ecx, 1
  0006c	8b 55 0c	 mov	 edx, DWORD PTR _y$[ebp]
  0006f	89 0a		 mov	 DWORD PTR [edx], ecx
  00071	e9 cd 00 00 00	 jmp	 $LN1@mapEffectD
$LN5@mapEffectD:

; 4753 : 	}
; 4754 : 	else if (mapEffectMoveDir == 2)

  00076	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  0007d	83 f8 02	 cmp	 eax, 2
  00080	75 12		 jne	 SHORT $LN7@mapEffectD

; 4755 : 		(*x) += 2;

  00082	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  00085	8b 08		 mov	 ecx, DWORD PTR [eax]
  00087	83 c1 02	 add	 ecx, 2
  0008a	8b 55 08	 mov	 edx, DWORD PTR _x$[ebp]
  0008d	89 0a		 mov	 DWORD PTR [edx], ecx
  0008f	e9 af 00 00 00	 jmp	 $LN1@mapEffectD
$LN7@mapEffectD:

; 4756 : 	else if (mapEffectMoveDir == 3)

  00094	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  0009b	83 f8 03	 cmp	 eax, 3
  0009e	75 1f		 jne	 SHORT $LN9@mapEffectD

; 4757 : 	{
; 4758 : 		(*x)++;

  000a0	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  000a3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a5	83 c1 01	 add	 ecx, 1
  000a8	8b 55 08	 mov	 edx, DWORD PTR _x$[ebp]
  000ab	89 0a		 mov	 DWORD PTR [edx], ecx

; 4759 : 		(*y)++;

  000ad	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  000b0	8b 08		 mov	 ecx, DWORD PTR [eax]
  000b2	83 c1 01	 add	 ecx, 1
  000b5	8b 55 0c	 mov	 edx, DWORD PTR _y$[ebp]
  000b8	89 0a		 mov	 DWORD PTR [edx], ecx
  000ba	e9 84 00 00 00	 jmp	 $LN1@mapEffectD
$LN9@mapEffectD:

; 4760 : 	}
; 4761 : 	else if (mapEffectMoveDir == 4)

  000bf	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  000c6	83 f8 04	 cmp	 eax, 4
  000c9	75 0f		 jne	 SHORT $LN11@mapEffectD

; 4762 : 		(*y) += 2;

  000cb	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  000ce	8b 08		 mov	 ecx, DWORD PTR [eax]
  000d0	83 c1 02	 add	 ecx, 2
  000d3	8b 55 0c	 mov	 edx, DWORD PTR _y$[ebp]
  000d6	89 0a		 mov	 DWORD PTR [edx], ecx
  000d8	eb 69		 jmp	 SHORT $LN1@mapEffectD
$LN11@mapEffectD:

; 4763 : 	else if (mapEffectMoveDir == 5)

  000da	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  000e1	83 f8 05	 cmp	 eax, 5
  000e4	75 1c		 jne	 SHORT $LN13@mapEffectD

; 4764 : 	{
; 4765 : 		(*x)--;

  000e6	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  000e9	8b 08		 mov	 ecx, DWORD PTR [eax]
  000eb	83 e9 01	 sub	 ecx, 1
  000ee	8b 55 08	 mov	 edx, DWORD PTR _x$[ebp]
  000f1	89 0a		 mov	 DWORD PTR [edx], ecx

; 4766 : 		(*y)++;

  000f3	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  000f6	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f8	83 c1 01	 add	 ecx, 1
  000fb	8b 55 0c	 mov	 edx, DWORD PTR _y$[ebp]
  000fe	89 0a		 mov	 DWORD PTR [edx], ecx
  00100	eb 41		 jmp	 SHORT $LN1@mapEffectD
$LN13@mapEffectD:

; 4767 : 	}
; 4768 : 	else if (mapEffectMoveDir == 6)

  00102	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  00109	83 f8 06	 cmp	 eax, 6
  0010c	75 0f		 jne	 SHORT $LN15@mapEffectD

; 4769 : 		(*x) -= 2;

  0010e	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  00111	8b 08		 mov	 ecx, DWORD PTR [eax]
  00113	83 e9 02	 sub	 ecx, 2
  00116	8b 55 08	 mov	 edx, DWORD PTR _x$[ebp]
  00119	89 0a		 mov	 DWORD PTR [edx], ecx
  0011b	eb 26		 jmp	 SHORT $LN1@mapEffectD
$LN15@mapEffectD:

; 4770 : 	else if (mapEffectMoveDir == 7)

  0011d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectMoveDir@@3FA ; mapEffectMoveDir
  00124	83 f8 07	 cmp	 eax, 7
  00127	75 1a		 jne	 SHORT $LN1@mapEffectD

; 4771 : 	{
; 4772 : 		(*x)--;

  00129	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  0012c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0012e	83 e9 01	 sub	 ecx, 1
  00131	8b 55 08	 mov	 edx, DWORD PTR _x$[ebp]
  00134	89 0a		 mov	 DWORD PTR [edx], ecx

; 4773 : 		(*y)--;

  00136	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  00139	8b 08		 mov	 ecx, DWORD PTR [eax]
  0013b	83 e9 01	 sub	 ecx, 1
  0013e	8b 55 0c	 mov	 edx, DWORD PTR _y$[ebp]
  00141	89 0a		 mov	 DWORD PTR [edx], ecx
$LN1@mapEffectD:

; 4774 : 	}
; 4775 : }

  00143	5f		 pop	 edi
  00144	5e		 pop	 esi
  00145	5b		 pop	 ebx
  00146	8b e5		 mov	 esp, ebp
  00148	5d		 pop	 ebp
  00149	c3		 ret	 0
?mapEffectDirHosei@@YAXPAH0@Z ENDP			; mapEffectDirHosei
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z
_TEXT	SEGMENT
_buf$ = 8						; size = 4
?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z PROC		; delMapEffectBuf, COMDAT

; 4727 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4728 : 	if (buf == (MAP_EFFECT*)NULL)

  0001e	83 7d 08 00	 cmp	 DWORD PTR _buf$[ebp], 0
  00022	75 02		 jne	 SHORT $LN2@delMapEffe

; 4729 : 		return;

  00024	eb 6d		 jmp	 SHORT $LN1@delMapEffe
$LN2@delMapEffe:

; 4730 : 	if (buf->pre != (MAP_EFFECT*)NULL)

  00026	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00029	83 78 34 00	 cmp	 DWORD PTR [eax+52], 0
  0002d	74 0f		 je	 SHORT $LN3@delMapEffe

; 4731 : 		buf->pre->next = buf->next;

  0002f	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00032	8b 48 34	 mov	 ecx, DWORD PTR [eax+52]
  00035	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  00038	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  0003b	89 41 38	 mov	 DWORD PTR [ecx+56], eax
$LN3@delMapEffe:

; 4732 : 	if (buf->next != (MAP_EFFECT*)NULL)

  0003e	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00041	83 78 38 00	 cmp	 DWORD PTR [eax+56], 0
  00045	74 0f		 je	 SHORT $LN4@delMapEffe

; 4733 : 		buf->next->pre = buf->pre;

  00047	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  0004a	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  0004d	8b 55 08	 mov	 edx, DWORD PTR _buf$[ebp]
  00050	8b 42 34	 mov	 eax, DWORD PTR [edx+52]
  00053	89 41 34	 mov	 DWORD PTR [ecx+52], eax
$LN4@delMapEffe:

; 4734 : 	if (useBufMapEffect == buf)

  00056	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  0005b	3b 45 08	 cmp	 eax, DWORD PTR _buf$[ebp]
  0005e	75 0c		 jne	 SHORT $LN5@delMapEffe

; 4735 : 		useBufMapEffect = buf->next;

  00060	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00063	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00066	89 0d 00 00 00
	00		 mov	 DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A, ecx ; useBufMapEffect
$LN5@delMapEffe:

; 4736 : 	buf->next = emptyBufMapEffect;

  0006c	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  0006f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A ; emptyBufMapEffect
  00075	89 48 38	 mov	 DWORD PTR [eax+56], ecx

; 4737 : 	buf->pre = (MAP_EFFECT*)NULL;

  00078	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  0007b	c7 40 34 00 00
	00 00		 mov	 DWORD PTR [eax+52], 0

; 4738 : 	emptyBufMapEffect = buf;

  00082	8b 45 08	 mov	 eax, DWORD PTR _buf$[ebp]
  00085	a3 00 00 00 00	 mov	 DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A, eax ; emptyBufMapEffect

; 4739 : 	buf->type = MAP_EFFECT_TYPE_NONE;

  0008a	33 c0		 xor	 eax, eax
  0008c	8b 4d 08	 mov	 ecx, DWORD PTR _buf$[ebp]
  0008f	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax
$LN1@delMapEffe:

; 4740 : }

  00093	5f		 pop	 edi
  00094	5e		 pop	 esi
  00095	5b		 pop	 ebx
  00096	8b e5		 mov	 esp, ebp
  00098	5d		 pop	 ebp
  00099	c3		 ret	 0
?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ENDP		; delMapEffectBuf
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ
_TEXT	SEGMENT
_buf$ = -8						; size = 4
?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ PROC		; getMapEffectBuf, COMDAT

; 4708 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4709 : 	MAP_EFFECT *buf;
; 4710 : 
; 4711 : 	if (emptyBufMapEffect == (MAP_EFFECT *)NULL)

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A, 0 ; emptyBufMapEffect
  00025	75 04		 jne	 SHORT $LN2@getMapEffe

; 4712 : 		return (MAP_EFFECT*)NULL;

  00027	33 c0		 xor	 eax, eax
  00029	eb 60		 jmp	 SHORT $LN1@getMapEffe
$LN2@getMapEffe:

; 4713 : 	buf = emptyBufMapEffect;

  0002b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A ; emptyBufMapEffect
  00030	89 45 f8	 mov	 DWORD PTR _buf$[ebp], eax

; 4714 : 	emptyBufMapEffect = emptyBufMapEffect->next;

  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A ; emptyBufMapEffect
  00038	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  0003b	89 0d 00 00 00
	00		 mov	 DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A, ecx ; emptyBufMapEffect

; 4715 : 	if (emptyBufMapEffect != (MAP_EFFECT*)NULL)

  00041	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A, 0 ; emptyBufMapEffect
  00048	74 0c		 je	 SHORT $LN3@getMapEffe

; 4716 : 		emptyBufMapEffect->pre = (MAP_EFFECT*)NULL;

  0004a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A ; emptyBufMapEffect
  0004f	c7 40 34 00 00
	00 00		 mov	 DWORD PTR [eax+52], 0
$LN3@getMapEffe:

; 4717 : 	buf->next = useBufMapEffect;

  00056	8b 45 f8	 mov	 eax, DWORD PTR _buf$[ebp]
  00059	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  0005f	89 48 38	 mov	 DWORD PTR [eax+56], ecx

; 4718 : 	buf->pre  = (MAP_EFFECT*)NULL;

  00062	8b 45 f8	 mov	 eax, DWORD PTR _buf$[ebp]
  00065	c7 40 34 00 00
	00 00		 mov	 DWORD PTR [eax+52], 0

; 4719 : 	if (useBufMapEffect != (MAP_EFFECT*)NULL)

  0006c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A, 0 ; useBufMapEffect
  00073	74 0b		 je	 SHORT $LN4@getMapEffe

; 4720 : 		useBufMapEffect->pre = buf;

  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _buf$[ebp]
  0007d	89 48 34	 mov	 DWORD PTR [eax+52], ecx
$LN4@getMapEffe:

; 4721 : 	useBufMapEffect = buf;

  00080	8b 45 f8	 mov	 eax, DWORD PTR _buf$[ebp]
  00083	a3 00 00 00 00	 mov	 DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A, eax ; useBufMapEffect

; 4722 : 	return buf;

  00088	8b 45 f8	 mov	 eax, DWORD PTR _buf$[ebp]
$LN1@getMapEffe:

; 4723 : }

  0008b	5f		 pop	 edi
  0008c	5e		 pop	 esi
  0008d	5b		 pop	 ebx
  0008e	8b e5		 mov	 esp, ebp
  00090	5d		 pop	 ebp
  00091	c3		 ret	 0
?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ENDP		; getMapEffectBuf
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?checkGridAround@@YAHHHHH@Z
_TEXT	SEGMENT
tv92 = -196						; size = 4
tv85 = -196						; size = 4
tv77 = -196						; size = 4
tv70 = -196						; size = 4
_gx1$ = 8						; size = 4
_gy1$ = 12						; size = 4
_gx2$ = 16						; size = 4
_gy2$ = 20						; size = 4
?checkGridAround@@YAHHHHH@Z PROC			; checkGridAround, COMDAT

; 3501 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3502 : 	if (((gx1 == gx2) && ABS(gy2 - gy1) == 1) || (ABS(gx2 - gx1) == 1 && (gy1 == gy2)) || (ABS(gx2 - gx1) == 1 && ABS(gy2 - gy1) == 1))

  0001e	8b 45 08	 mov	 eax, DWORD PTR _gx1$[ebp]
  00021	3b 45 10	 cmp	 eax, DWORD PTR _gx2$[ebp]
  00024	75 31		 jne	 SHORT $LN4@checkGridA
  00026	8b 45 14	 mov	 eax, DWORD PTR _gy2$[ebp]
  00029	2b 45 0c	 sub	 eax, DWORD PTR _gy1$[ebp]
  0002c	79 10		 jns	 SHORT $LN7@checkGridA
  0002e	8b 4d 14	 mov	 ecx, DWORD PTR _gy2$[ebp]
  00031	2b 4d 0c	 sub	 ecx, DWORD PTR _gy1$[ebp]
  00034	f7 d9		 neg	 ecx
  00036	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv70[ebp], ecx
  0003c	eb 0c		 jmp	 SHORT $LN8@checkGridA
$LN7@checkGridA:
  0003e	8b 55 14	 mov	 edx, DWORD PTR _gy2$[ebp]
  00041	2b 55 0c	 sub	 edx, DWORD PTR _gy1$[ebp]
  00044	89 95 3c ff ff
	ff		 mov	 DWORD PTR tv70[ebp], edx
$LN8@checkGridA:
  0004a	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv70[ebp], 1
  00051	0f 84 8f 00 00
	00		 je	 $LN3@checkGridA
$LN4@checkGridA:
  00057	8b 45 10	 mov	 eax, DWORD PTR _gx2$[ebp]
  0005a	2b 45 08	 sub	 eax, DWORD PTR _gx1$[ebp]
  0005d	79 10		 jns	 SHORT $LN9@checkGridA
  0005f	8b 4d 10	 mov	 ecx, DWORD PTR _gx2$[ebp]
  00062	2b 4d 08	 sub	 ecx, DWORD PTR _gx1$[ebp]
  00065	f7 d9		 neg	 ecx
  00067	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv77[ebp], ecx
  0006d	eb 0c		 jmp	 SHORT $LN10@checkGridA
$LN9@checkGridA:
  0006f	8b 55 10	 mov	 edx, DWORD PTR _gx2$[ebp]
  00072	2b 55 08	 sub	 edx, DWORD PTR _gx1$[ebp]
  00075	89 95 3c ff ff
	ff		 mov	 DWORD PTR tv77[ebp], edx
$LN10@checkGridA:
  0007b	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv77[ebp], 1
  00082	75 08		 jne	 SHORT $LN5@checkGridA
  00084	8b 45 0c	 mov	 eax, DWORD PTR _gy1$[ebp]
  00087	3b 45 14	 cmp	 eax, DWORD PTR _gy2$[ebp]
  0008a	74 5a		 je	 SHORT $LN3@checkGridA
$LN5@checkGridA:
  0008c	8b 45 10	 mov	 eax, DWORD PTR _gx2$[ebp]
  0008f	2b 45 08	 sub	 eax, DWORD PTR _gx1$[ebp]
  00092	79 10		 jns	 SHORT $LN11@checkGridA
  00094	8b 4d 10	 mov	 ecx, DWORD PTR _gx2$[ebp]
  00097	2b 4d 08	 sub	 ecx, DWORD PTR _gx1$[ebp]
  0009a	f7 d9		 neg	 ecx
  0009c	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv85[ebp], ecx
  000a2	eb 0c		 jmp	 SHORT $LN12@checkGridA
$LN11@checkGridA:
  000a4	8b 55 10	 mov	 edx, DWORD PTR _gx2$[ebp]
  000a7	2b 55 08	 sub	 edx, DWORD PTR _gx1$[ebp]
  000aa	89 95 3c ff ff
	ff		 mov	 DWORD PTR tv85[ebp], edx
$LN12@checkGridA:
  000b0	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv85[ebp], 1
  000b7	75 34		 jne	 SHORT $LN2@checkGridA
  000b9	8b 45 14	 mov	 eax, DWORD PTR _gy2$[ebp]
  000bc	2b 45 0c	 sub	 eax, DWORD PTR _gy1$[ebp]
  000bf	79 10		 jns	 SHORT $LN13@checkGridA
  000c1	8b 4d 14	 mov	 ecx, DWORD PTR _gy2$[ebp]
  000c4	2b 4d 0c	 sub	 ecx, DWORD PTR _gy1$[ebp]
  000c7	f7 d9		 neg	 ecx
  000c9	89 8d 3c ff ff
	ff		 mov	 DWORD PTR tv92[ebp], ecx
  000cf	eb 0c		 jmp	 SHORT $LN14@checkGridA
$LN13@checkGridA:
  000d1	8b 55 14	 mov	 edx, DWORD PTR _gy2$[ebp]
  000d4	2b 55 0c	 sub	 edx, DWORD PTR _gy1$[ebp]
  000d7	89 95 3c ff ff
	ff		 mov	 DWORD PTR tv92[ebp], edx
$LN14@checkGridA:
  000dd	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv92[ebp], 1
  000e4	75 07		 jne	 SHORT $LN2@checkGridA
$LN3@checkGridA:

; 3503 : 		return TRUE;

  000e6	b8 01 00 00 00	 mov	 eax, 1
  000eb	eb 02		 jmp	 SHORT $LN1@checkGridA
$LN2@checkGridA:

; 3504 : 
; 3505 : 	return FALSE;

  000ed	33 c0		 xor	 eax, eax
$LN1@checkGridA:

; 3506 : }

  000ef	5f		 pop	 edi
  000f0	5e		 pop	 esi
  000f1	5b		 pop	 ebx
  000f2	8b e5		 mov	 esp, ebp
  000f4	5d		 pop	 ebp
  000f5	c3		 ret	 0
?checkGridAround@@YAHHHHH@Z ENDP			; checkGridAround
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?checkEmptyMapData@@YAHHHH@Z
_TEXT	SEGMENT
_flag$ = -104						; size = 4
_egy$ = -92						; size = 4
_egx$ = -80						; size = 4
_len$ = -68						; size = 4
_ty$ = -56						; size = 4
_tx$ = -44						; size = 4
_gy$ = -32						; size = 4
_gx$ = -20						; size = 4
_i$ = -8						; size = 4
__gx$ = 8						; size = 4
__gy$ = 12						; size = 4
_dir$ = 16						; size = 4
?checkEmptyMapData@@YAHHHH@Z PROC			; checkEmptyMapData, COMDAT

; 3050 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd d4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-300]
  00012	b9 4b 00 00 00	 mov	 ecx, 75			; 0000004bH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3051 : 	// ?????£t???11?????£??????þ†???TRUE?¨ë?
; 3052 : 	int i, gx, gy, tx, ty, len, egx, egy;
; 3053 : 	BOOL flag = FALSE;

  0001e	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 0

; 3054 : 
; 3055 : 	if (mapAreaWidth < MAP_X_SIZE || mapAreaHeight < MAP_Y_SIZE)

  00025	83 3d 00 00 00
	00 25		 cmp	 DWORD PTR ?mapAreaWidth@@3HA, 37 ; mapAreaWidth, 00000025H
  0002c	7c 09		 jl	 SHORT $LN15@checkEmpty
  0002e	83 3d 00 00 00
	00 25		 cmp	 DWORD PTR ?mapAreaHeight@@3HA, 37 ; mapAreaHeight, 00000025H
  00035	7d 07		 jge	 SHORT $LN14@checkEmpty
$LN15@checkEmpty:

; 3056 : 		return FALSE;

  00037	33 c0		 xor	 eax, eax
  00039	e9 17 06 00 00	 jmp	 $LN1@checkEmpty
$LN14@checkEmpty:

; 3057 : 
; 3058 : 	getMapAreaCnt = 0;

  0003e	33 c0		 xor	 eax, eax
  00040	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 3059 : 	if (dir == 0 || dir == 1 || dir == 2)

  00046	83 7d 10 00	 cmp	 DWORD PTR _dir$[ebp], 0
  0004a	74 10		 je	 SHORT $LN17@checkEmpty
  0004c	83 7d 10 01	 cmp	 DWORD PTR _dir$[ebp], 1
  00050	74 0a		 je	 SHORT $LN17@checkEmpty
  00052	83 7d 10 02	 cmp	 DWORD PTR _dir$[ebp], 2
  00056	0f 85 6e 01 00
	00		 jne	 $LN16@checkEmpty
$LN17@checkEmpty:

; 3060 : 	{
; 3061 : 		gx = _gx - SEARCH_AREA;

  0005c	8b 45 08	 mov	 eax, DWORD PTR __gx$[ebp]
  0005f	83 e8 0b	 sub	 eax, 11			; 0000000bH
  00062	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 3062 : 		gy = _gy - SEARCH_AREA;

  00065	8b 45 0c	 mov	 eax, DWORD PTR __gy$[ebp]
  00068	83 e8 0b	 sub	 eax, 11			; 0000000bH
  0006b	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 3063 : 		tx = -SEARCH_AREA - MAP_TILE_GRID_X1;

  0006e	c7 45 d4 09 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 9

; 3064 : 		ty = -SEARCH_AREA - MAP_TILE_GRID_Y1;

  00075	c7 45 c8 05 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 5

; 3065 : 		len = (SEARCH_AREA << 1) + 1;

  0007c	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 3066 : 		egx = gx + 1;

  00083	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00086	83 c0 01	 add	 eax, 1
  00089	89 45 b0	 mov	 DWORD PTR _egx$[ebp], eax

; 3067 : 		egy = gy + (SEARCH_AREA << 1) + 1;

  0008c	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  0008f	83 c0 17	 add	 eax, 23			; 00000017H
  00092	89 45 a4	 mov	 DWORD PTR _egy$[ebp], eax

; 3068 : 		for (i = 0; i < len; i++)

  00095	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0009c	eb 09		 jmp	 SHORT $LN4@checkEmpty
$LN2@checkEmpty:
  0009e	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000a1	83 c0 01	 add	 eax, 1
  000a4	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@checkEmpty:
  000a7	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000aa	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  000ad	0f 8d 17 01 00
	00		 jge	 $LN16@checkEmpty

; 3069 : 		{
; 3070 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  000b3	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  000b7	0f 8c f6 00 00
	00		 jl	 $LN18@checkEmpty
  000bd	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  000c0	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  000c6	0f 8d e7 00 00
	00		 jge	 $LN18@checkEmpty
  000cc	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  000d0	0f 8c dd 00 00
	00		 jl	 $LN18@checkEmpty
  000d6	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  000d9	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  000df	0f 8d ce 00 00
	00		 jge	 $LN18@checkEmpty

; 3071 : 			{
; 3072 : 				if ((event[ty*mapAreaWidth+tx] & MAP_READ_FLAG) == 0)

  000e5	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  000e8	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  000ef	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  000f2	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  000fa	81 e1 00 80 00
	00		 and	 ecx, 32768		; 00008000H
  00100	0f 85 ad 00 00
	00		 jne	 $LN18@checkEmpty

; 3073 : 				{
; 3074 : 					getMapAreaX1[getMapAreaCnt] = gx - 1;

  00106	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00109	83 e8 01	 sub	 eax, 1
  0010c	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00113	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[ecx*2], ax

; 3075 : 					getMapAreaY1[getMapAreaCnt] = gy - 1;

  0011b	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  0011e	83 e8 01	 sub	 eax, 1
  00121	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00128	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[ecx*2], ax

; 3076 : 					getMapAreaX2[getMapAreaCnt] = egx;

  00130	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00137	66 8b 4d b0	 mov	 cx, WORD PTR _egx$[ebp]
  0013b	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[eax*2], cx

; 3077 : 					getMapAreaY2[getMapAreaCnt] = egy;

  00143	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0014a	66 8b 4d a4	 mov	 cx, WORD PTR _egy$[ebp]
  0014e	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[eax*2], cx

; 3078 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  00156	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0015d	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  00164	51		 push	 ecx
  00165	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0016c	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  00173	50		 push	 eax
  00174	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0017b	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  00182	52		 push	 edx
  00183	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0018a	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  00191	51		 push	 ecx
  00192	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  00197	83 c4 10	 add	 esp, 16			; 00000010H

; 3079 : 					getMapAreaCnt++;

  0019a	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  001a0	66 83 c0 01	 add	 ax, 1
  001a4	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 3080 : 					flag = TRUE;

  001aa	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 3081 : 					break;

  001b1	eb 17		 jmp	 SHORT $LN16@checkEmpty
$LN18@checkEmpty:

; 3082 : 				}
; 3083 : 			}
; 3084 : 			gy++;

  001b3	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  001b6	83 c0 01	 add	 eax, 1
  001b9	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 3085 : 			ty++;

  001bc	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  001bf	83 c0 01	 add	 eax, 1
  001c2	89 45 c8	 mov	 DWORD PTR _ty$[ebp], eax

; 3086 : 		}

  001c5	e9 d4 fe ff ff	 jmp	 $LN2@checkEmpty
$LN16@checkEmpty:

; 3087 : 	}
; 3088 : 	if (dir == 2 || dir == 3 || dir == 4)

  001ca	83 7d 10 02	 cmp	 DWORD PTR _dir$[ebp], 2
  001ce	74 10		 je	 SHORT $LN21@checkEmpty
  001d0	83 7d 10 03	 cmp	 DWORD PTR _dir$[ebp], 3
  001d4	74 0a		 je	 SHORT $LN21@checkEmpty
  001d6	83 7d 10 04	 cmp	 DWORD PTR _dir$[ebp], 4
  001da	0f 85 6e 01 00
	00		 jne	 $LN20@checkEmpty
$LN21@checkEmpty:

; 3089 : 	{
; 3090 : 		gx = _gx - SEARCH_AREA;

  001e0	8b 45 08	 mov	 eax, DWORD PTR __gx$[ebp]
  001e3	83 e8 0b	 sub	 eax, 11			; 0000000bH
  001e6	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 3091 : 		gy = _gy - SEARCH_AREA;

  001e9	8b 45 0c	 mov	 eax, DWORD PTR __gy$[ebp]
  001ec	83 e8 0b	 sub	 eax, 11			; 0000000bH
  001ef	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 3092 : 		tx = -SEARCH_AREA - MAP_TILE_GRID_X1;

  001f2	c7 45 d4 09 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 9

; 3093 : 		ty = -SEARCH_AREA - MAP_TILE_GRID_Y1;

  001f9	c7 45 c8 05 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 5

; 3094 : 		len = (SEARCH_AREA << 1) + 1;

  00200	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 3095 : 		egx = gx + (SEARCH_AREA << 1) + 1;

  00207	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0020a	83 c0 17	 add	 eax, 23			; 00000017H
  0020d	89 45 b0	 mov	 DWORD PTR _egx$[ebp], eax

; 3096 : 		egy = gy + 1;

  00210	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00213	83 c0 01	 add	 eax, 1
  00216	89 45 a4	 mov	 DWORD PTR _egy$[ebp], eax

; 3097 : 		for (i = 0; i < len; i++)

  00219	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00220	eb 09		 jmp	 SHORT $LN7@checkEmpty
$LN5@checkEmpty:
  00222	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00225	83 c0 01	 add	 eax, 1
  00228	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN7@checkEmpty:
  0022b	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0022e	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  00231	0f 8d 17 01 00
	00		 jge	 $LN20@checkEmpty

; 3098 : 		{
; 3099 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  00237	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  0023b	0f 8c f6 00 00
	00		 jl	 $LN22@checkEmpty
  00241	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00244	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  0024a	0f 8d e7 00 00
	00		 jge	 $LN22@checkEmpty
  00250	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  00254	0f 8c dd 00 00
	00		 jl	 $LN22@checkEmpty
  0025a	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  0025d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  00263	0f 8d ce 00 00
	00		 jge	 $LN22@checkEmpty

; 3100 : 			{
; 3101 : 				if ((event[ty*mapAreaWidth+tx] & MAP_READ_FLAG) == 0)

  00269	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  0026c	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00273	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  00276	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  0027e	81 e1 00 80 00
	00		 and	 ecx, 32768		; 00008000H
  00284	0f 85 ad 00 00
	00		 jne	 $LN22@checkEmpty

; 3102 : 				{
; 3103 : 					getMapAreaX1[getMapAreaCnt] = gx - 1;

  0028a	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0028d	83 e8 01	 sub	 eax, 1
  00290	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00297	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[ecx*2], ax

; 3104 : 					getMapAreaY1[getMapAreaCnt] = gy - 1;

  0029f	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  002a2	83 e8 01	 sub	 eax, 1
  002a5	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002ac	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[ecx*2], ax

; 3105 : 					getMapAreaX2[getMapAreaCnt] = egx;

  002b4	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002bb	66 8b 4d b0	 mov	 cx, WORD PTR _egx$[ebp]
  002bf	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[eax*2], cx

; 3106 : 					getMapAreaY2[getMapAreaCnt] = egy;

  002c7	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002ce	66 8b 4d a4	 mov	 cx, WORD PTR _egy$[ebp]
  002d2	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[eax*2], cx

; 3107 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  002da	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002e1	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  002e8	51		 push	 ecx
  002e9	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002f0	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  002f7	50		 push	 eax
  002f8	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002ff	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  00306	52		 push	 edx
  00307	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0030e	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  00315	51		 push	 ecx
  00316	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  0031b	83 c4 10	 add	 esp, 16			; 00000010H

; 3108 : 					getMapAreaCnt++;

  0031e	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00324	66 83 c0 01	 add	 ax, 1
  00328	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 3109 : 					flag = TRUE;

  0032e	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 3110 : 					break;

  00335	eb 17		 jmp	 SHORT $LN20@checkEmpty
$LN22@checkEmpty:

; 3111 : 				}
; 3112 : 			}
; 3113 : 			gx++;

  00337	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0033a	83 c0 01	 add	 eax, 1
  0033d	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 3114 : 			tx++;

  00340	8b 45 d4	 mov	 eax, DWORD PTR _tx$[ebp]
  00343	83 c0 01	 add	 eax, 1
  00346	89 45 d4	 mov	 DWORD PTR _tx$[ebp], eax

; 3115 : 		}

  00349	e9 d4 fe ff ff	 jmp	 $LN5@checkEmpty
$LN20@checkEmpty:

; 3116 : 	}
; 3117 : 	if (dir == 4 || dir == 5 || dir == 6)

  0034e	83 7d 10 04	 cmp	 DWORD PTR _dir$[ebp], 4
  00352	74 10		 je	 SHORT $LN25@checkEmpty
  00354	83 7d 10 05	 cmp	 DWORD PTR _dir$[ebp], 5
  00358	74 0a		 je	 SHORT $LN25@checkEmpty
  0035a	83 7d 10 06	 cmp	 DWORD PTR _dir$[ebp], 6
  0035e	0f 85 6c 01 00
	00		 jne	 $LN24@checkEmpty
$LN25@checkEmpty:

; 3118 : 	{
; 3119 : 		gx = _gx + SEARCH_AREA;

  00364	8b 45 08	 mov	 eax, DWORD PTR __gx$[ebp]
  00367	83 c0 0b	 add	 eax, 11			; 0000000bH
  0036a	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 3120 : 		gy = _gy - SEARCH_AREA;

  0036d	8b 45 0c	 mov	 eax, DWORD PTR __gy$[ebp]
  00370	83 e8 0b	 sub	 eax, 11			; 0000000bH
  00373	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 3121 : 		tx = SEARCH_AREA - MAP_TILE_GRID_X1;

  00376	c7 45 d4 1f 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 31	; 0000001fH

; 3122 : 		ty = -SEARCH_AREA - MAP_TILE_GRID_Y1;

  0037d	c7 45 c8 05 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 5

; 3123 : 		len = (SEARCH_AREA << 1) + 1;

  00384	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 3124 : 		egx = gx + 2;

  0038b	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0038e	83 c0 02	 add	 eax, 2
  00391	89 45 b0	 mov	 DWORD PTR _egx$[ebp], eax

; 3125 : 		egy = gy + (SEARCH_AREA << 1) + 1;

  00394	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00397	83 c0 17	 add	 eax, 23			; 00000017H
  0039a	89 45 a4	 mov	 DWORD PTR _egy$[ebp], eax

; 3126 : 		for (i = 0; i < len; i++)

  0039d	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  003a4	eb 09		 jmp	 SHORT $LN10@checkEmpty
$LN8@checkEmpty:
  003a6	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  003a9	83 c0 01	 add	 eax, 1
  003ac	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN10@checkEmpty:
  003af	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  003b2	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  003b5	0f 8d 15 01 00
	00		 jge	 $LN24@checkEmpty

; 3127 : 		{
; 3128 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  003bb	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  003bf	0f 8c f4 00 00
	00		 jl	 $LN26@checkEmpty
  003c5	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  003c8	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  003ce	0f 8d e5 00 00
	00		 jge	 $LN26@checkEmpty
  003d4	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  003d8	0f 8c db 00 00
	00		 jl	 $LN26@checkEmpty
  003de	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  003e1	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  003e7	0f 8d cc 00 00
	00		 jge	 $LN26@checkEmpty

; 3129 : 			{
; 3130 : 				if ((event[ty*mapAreaWidth+tx] & MAP_READ_FLAG) == 0)

  003ed	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  003f0	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  003f7	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  003fa	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  00402	81 e1 00 80 00
	00		 and	 ecx, 32768		; 00008000H
  00408	0f 85 ab 00 00
	00		 jne	 $LN26@checkEmpty

; 3131 : 				{
; 3132 : 					getMapAreaX1[getMapAreaCnt] = gx;

  0040e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00415	66 8b 4d ec	 mov	 cx, WORD PTR _gx$[ebp]
  00419	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[eax*2], cx

; 3133 : 					getMapAreaY1[getMapAreaCnt] = gy - 1;

  00421	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00424	83 e8 01	 sub	 eax, 1
  00427	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0042e	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[ecx*2], ax

; 3134 : 					getMapAreaX2[getMapAreaCnt] = egx;

  00436	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0043d	66 8b 4d b0	 mov	 cx, WORD PTR _egx$[ebp]
  00441	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[eax*2], cx

; 3135 : 					getMapAreaY2[getMapAreaCnt] = egy;

  00449	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00450	66 8b 4d a4	 mov	 cx, WORD PTR _egy$[ebp]
  00454	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[eax*2], cx

; 3136 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  0045c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00463	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  0046a	51		 push	 ecx
  0046b	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00472	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  00479	50		 push	 eax
  0047a	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00481	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  00488	52		 push	 edx
  00489	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00490	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  00497	51		 push	 ecx
  00498	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  0049d	83 c4 10	 add	 esp, 16			; 00000010H

; 3137 : 					getMapAreaCnt++;

  004a0	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  004a6	66 83 c0 01	 add	 ax, 1
  004aa	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 3138 : 					flag = TRUE;

  004b0	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 3139 : 					break;

  004b7	eb 17		 jmp	 SHORT $LN24@checkEmpty
$LN26@checkEmpty:

; 3140 : 				}
; 3141 : 			}
; 3142 : 			gy++;

  004b9	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  004bc	83 c0 01	 add	 eax, 1
  004bf	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 3143 : 			ty++;

  004c2	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  004c5	83 c0 01	 add	 eax, 1
  004c8	89 45 c8	 mov	 DWORD PTR _ty$[ebp], eax

; 3144 : 		}

  004cb	e9 d6 fe ff ff	 jmp	 $LN8@checkEmpty
$LN24@checkEmpty:

; 3145 : 	}
; 3146 : 	if (dir == 6 || dir == 7 || dir == 0)

  004d0	83 7d 10 06	 cmp	 DWORD PTR _dir$[ebp], 6
  004d4	74 10		 je	 SHORT $LN29@checkEmpty
  004d6	83 7d 10 07	 cmp	 DWORD PTR _dir$[ebp], 7
  004da	74 0a		 je	 SHORT $LN29@checkEmpty
  004dc	83 7d 10 00	 cmp	 DWORD PTR _dir$[ebp], 0
  004e0	0f 85 6c 01 00
	00		 jne	 $LN28@checkEmpty
$LN29@checkEmpty:

; 3147 : 	{
; 3148 : 		gx = _gx - SEARCH_AREA;

  004e6	8b 45 08	 mov	 eax, DWORD PTR __gx$[ebp]
  004e9	83 e8 0b	 sub	 eax, 11			; 0000000bH
  004ec	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 3149 : 		gy = _gy + SEARCH_AREA;

  004ef	8b 45 0c	 mov	 eax, DWORD PTR __gy$[ebp]
  004f2	83 c0 0b	 add	 eax, 11			; 0000000bH
  004f5	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 3150 : 		tx = -SEARCH_AREA - MAP_TILE_GRID_X1;

  004f8	c7 45 d4 09 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 9

; 3151 : 		ty = SEARCH_AREA - MAP_TILE_GRID_Y1;

  004ff	c7 45 c8 1b 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 27	; 0000001bH

; 3152 : 		len = (SEARCH_AREA << 1) + 1;

  00506	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 3153 : 		egx = gx + (SEARCH_AREA << 1) + 1;

  0050d	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00510	83 c0 17	 add	 eax, 23			; 00000017H
  00513	89 45 b0	 mov	 DWORD PTR _egx$[ebp], eax

; 3154 : 		egy = gy + 2;

  00516	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00519	83 c0 02	 add	 eax, 2
  0051c	89 45 a4	 mov	 DWORD PTR _egy$[ebp], eax

; 3155 : 		for (i = 0; i < len; i++)

  0051f	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00526	eb 09		 jmp	 SHORT $LN13@checkEmpty
$LN11@checkEmpty:
  00528	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0052b	83 c0 01	 add	 eax, 1
  0052e	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN13@checkEmpty:
  00531	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00534	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  00537	0f 8d 15 01 00
	00		 jge	 $LN28@checkEmpty

; 3156 : 		{
; 3157 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  0053d	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  00541	0f 8c f4 00 00
	00		 jl	 $LN30@checkEmpty
  00547	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0054a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  00550	0f 8d e5 00 00
	00		 jge	 $LN30@checkEmpty
  00556	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  0055a	0f 8c db 00 00
	00		 jl	 $LN30@checkEmpty
  00560	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00563	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  00569	0f 8d cc 00 00
	00		 jge	 $LN30@checkEmpty

; 3158 : 			{
; 3159 : 				if ((event[ty*mapAreaWidth+tx] & MAP_READ_FLAG) == 0)

  0056f	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  00572	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00579	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  0057c	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  00584	81 e1 00 80 00
	00		 and	 ecx, 32768		; 00008000H
  0058a	0f 85 ab 00 00
	00		 jne	 $LN30@checkEmpty

; 3160 : 				{
; 3161 : 					getMapAreaX1[getMapAreaCnt] = gx - 1;

  00590	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00593	83 e8 01	 sub	 eax, 1
  00596	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0059d	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[ecx*2], ax

; 3162 : 					getMapAreaY1[getMapAreaCnt] = gy;

  005a5	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005ac	66 8b 4d e0	 mov	 cx, WORD PTR _gy$[ebp]
  005b0	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[eax*2], cx

; 3163 : 					getMapAreaX2[getMapAreaCnt] = egx;

  005b8	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005bf	66 8b 4d b0	 mov	 cx, WORD PTR _egx$[ebp]
  005c3	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[eax*2], cx

; 3164 : 					getMapAreaY2[getMapAreaCnt] = egy;

  005cb	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005d2	66 8b 4d a4	 mov	 cx, WORD PTR _egy$[ebp]
  005d6	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[eax*2], cx

; 3165 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  005de	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005e5	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  005ec	51		 push	 ecx
  005ed	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005f4	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  005fb	50		 push	 eax
  005fc	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00603	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  0060a	52		 push	 edx
  0060b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00612	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  00619	51		 push	 ecx
  0061a	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  0061f	83 c4 10	 add	 esp, 16			; 00000010H

; 3166 : 					getMapAreaCnt++;

  00622	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00628	66 83 c0 01	 add	 ax, 1
  0062c	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 3167 : 					flag = TRUE;

  00632	c7 45 98 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 3168 : 					break;

  00639	eb 17		 jmp	 SHORT $LN28@checkEmpty
$LN30@checkEmpty:

; 3169 : 				}
; 3170 : 			}
; 3171 : 			gx++;

  0063b	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0063e	83 c0 01	 add	 eax, 1
  00641	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 3172 : 			tx++;

  00644	8b 45 d4	 mov	 eax, DWORD PTR _tx$[ebp]
  00647	83 c0 01	 add	 eax, 1
  0064a	89 45 d4	 mov	 DWORD PTR _tx$[ebp], eax

; 3173 : 		}

  0064d	e9 d6 fe ff ff	 jmp	 $LN11@checkEmpty
$LN28@checkEmpty:

; 3174 : 	}
; 3175 : 
; 3176 : 	return flag;

  00652	8b 45 98	 mov	 eax, DWORD PTR _flag$[ebp]
$LN1@checkEmpty:

; 3177 : }

  00655	5f		 pop	 edi
  00656	5e		 pop	 esi
  00657	5b		 pop	 ebx
  00658	81 c4 2c 01 00
	00		 add	 esp, 300		; 0000012cH
  0065e	3b ec		 cmp	 ebp, esp
  00660	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00665	8b e5		 mov	 esp, ebp
  00667	5d		 pop	 ebp
  00668	c3		 ret	 0
?checkEmptyMapData@@YAHHHH@Z ENDP			; checkEmptyMapData
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_sendEnemyEvent@@YAXXZ
_TEXT	SEGMENT
?_sendEnemyEvent@@YAXXZ PROC				; _sendEnemyEvent, COMDAT

; 3006 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3007 : 	resetMap();

  0001e	e8 00 00 00 00	 call	 ?resetMap@@YAXXZ	; resetMap

; 3008 : 
; 3009 : //	eventEnemySendFlag = 1;
; 3010 : //JL fix ¿ìËÙÕ½¶·´ò°ÙÈËºóÈËÎï²»ÄÜÒÆ¶¯
; 3011 : 	eventEnemySendFlag = 0;

  00023	33 c0		 xor	 eax, eax
  00025	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemySendFlag@@3FA, ax ; eventEnemySendFlag

; 3012 : 	etcEventFlag = 1;

  0002b	b8 01 00 00 00	 mov	 eax, 1
  00030	66 a3 00 00 00
	00		 mov	 WORD PTR ?etcEventFlag@@3FA, ax ; etcEventFlag

; 3013 : 	eventEnemySendId = eventId;

  00036	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?eventId@@3HA
  0003c	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemySendId@@3FA, ax ; eventEnemySendId

; 3014 : 	if (bNewServer)

  00042	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00049	74 2d		 je	 SHORT $LN2@sendEnemyE

; 3015 : 		lssproto_EV_send(sockfd, EVENT_ENEMY, eventId,	nowGx, nowGy, _enemyEventDir);

  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?_enemyEventDir@@3HA ; _enemyEventDir
  00050	50		 push	 eax
  00051	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGy@@3HA ; nowGy
  00057	51		 push	 ecx
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?nowGx@@3HA ; nowGx
  0005e	52		 push	 edx
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eventId@@3HA ; eventId
  00064	50		 push	 eax
  00065	6a 02		 push	 2
  00067	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  0006d	51		 push	 ecx
  0006e	e8 00 00 00 00	 call	 ?lssproto_EV_send@@YAXHHHHHH@Z ; lssproto_EV_send
  00073	83 c4 18	 add	 esp, 24			; 00000018H

; 3016 : 	else

  00076	eb 2b		 jmp	 SHORT $LN3@sendEnemyE
$LN2@sendEnemyE:

; 3017 : 		old_lssproto_EV_send(sockfd, EVENT_ENEMY, eventId,	nowGx, nowGy, _enemyEventDir);

  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?_enemyEventDir@@3HA ; _enemyEventDir
  0007d	50		 push	 eax
  0007e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGy@@3HA ; nowGy
  00084	51		 push	 ecx
  00085	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?nowGx@@3HA ; nowGx
  0008b	52		 push	 edx
  0008c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eventId@@3HA ; eventId
  00091	50		 push	 eax
  00092	6a 02		 push	 2
  00094	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  0009a	51		 push	 ecx
  0009b	e8 00 00 00 00	 call	 ?old_lssproto_EV_send@@YAXHHHHHH@Z ; old_lssproto_EV_send
  000a0	83 c4 18	 add	 esp, 24			; 00000018H
$LN3@sendEnemyE:

; 3018 : 	eventId++;

  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eventId@@3HA ; eventId
  000a8	83 c0 01	 add	 eax, 1
  000ab	a3 00 00 00 00	 mov	 DWORD PTR ?eventId@@3HA, eax ; eventId

; 3019 : 	wnCloseFlag = 1;

  000b0	b8 01 00 00 00	 mov	 eax, 1
  000b5	66 a3 00 00 00
	00		 mov	 WORD PTR ?wnCloseFlag@@3FA, ax ; wnCloseFlag

; 3020 : 	eventEnemyFlag = 1;

  000bb	b8 01 00 00 00	 mov	 eax, 1
  000c0	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemyFlag@@3FA, ax ; eventEnemyFlag

; 3021 : }

  000c6	5f		 pop	 edi
  000c7	5e		 pop	 esi
  000c8	5b		 pop	 ebx
  000c9	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  000cf	3b ec		 cmp	 ebp, esp
  000d1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c3		 ret	 0
?_sendEnemyEvent@@YAXXZ ENDP				; _sendEnemyEvent
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_checkEnemyEvent@@YAHHH@Z
_TEXT	SEGMENT
_ev$ = -32						; size = 4
_y$ = -20						; size = 4
_x$ = -8						; size = 4
_gx$ = 8						; size = 4
_gy$ = 12						; size = 4
?_checkEnemyEvent@@YAHHH@Z PROC				; _checkEnemyEvent, COMDAT

; 2991 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2992 : 	int x, y, ev;
; 2993 : 
; 2994 : 	x = gx - mapAreaX1;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _gx$[ebp]
  00021	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00027	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax

; 2995 : 	y = gy - mapAreaY1;

  0002a	8b 45 0c	 mov	 eax, DWORD PTR _gy$[ebp]
  0002d	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00033	89 45 ec	 mov	 DWORD PTR _y$[ebp], eax

; 2996 : 
; 2997 : 	ev = (event[y * mapAreaWidth + x] & 0x0fff);

  00036	8b 45 ec	 mov	 eax, DWORD PTR _y$[ebp]
  00039	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00040	03 45 f8	 add	 eax, DWORD PTR _x$[ebp]
  00043	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  0004b	81 e1 ff 0f 00
	00		 and	 ecx, 4095		; 00000fffH
  00051	89 4d e0	 mov	 DWORD PTR _ev$[ebp], ecx

; 2998 : 	// ??????
; 2999 : 	if (ev == EVENT_ENEMY)

  00054	83 7d e0 02	 cmp	 DWORD PTR _ev$[ebp], 2
  00058	75 07		 jne	 SHORT $LN2@checkEnemy

; 3000 : 		return TRUE;

  0005a	b8 01 00 00 00	 mov	 eax, 1
  0005f	eb 02		 jmp	 SHORT $LN1@checkEnemy
$LN2@checkEnemy:

; 3001 : 
; 3002 : 	return FALSE;

  00061	33 c0		 xor	 eax, eax
$LN1@checkEnemy:

; 3003 : }

  00063	5f		 pop	 edi
  00064	5e		 pop	 esi
  00065	5b		 pop	 ebx
  00066	8b e5		 mov	 esp, ebp
  00068	5d		 pop	 ebp
  00069	c3		 ret	 0
?_checkEnemyEvent@@YAHHH@Z ENDP				; _checkEnemyEvent
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_sendWarpEvent@@YAXXZ
_TEXT	SEGMENT
?_sendWarpEvent@@YAXXZ PROC				; _sendWarpEvent, COMDAT

; 2955 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2956 : 	resetMap();

  0001e	e8 00 00 00 00	 call	 ?resetMap@@YAXXZ	; resetMap

; 2957 : 	eventWarpSendFlag = 1;

  00023	b8 01 00 00 00	 mov	 eax, 1
  00028	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventWarpSendFlag@@3FA, ax ; eventWarpSendFlag

; 2958 : 	etcEventFlag = 1;

  0002e	b8 01 00 00 00	 mov	 eax, 1
  00033	66 a3 00 00 00
	00		 mov	 WORD PTR ?etcEventFlag@@3FA, ax ; etcEventFlag

; 2959 : 	eventWarpSendId = eventId;

  00039	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?eventId@@3HA
  0003f	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventWarpSendId@@3FA, ax ; eventWarpSendId

; 2960 : 	if (bNewServer)

  00045	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  0004c	74 2f		 je	 SHORT $LN2@sendWarpEv

; 2961 : 		lssproto_EV_send(sockfd, _eventWarpNo, eventId, nowGx, nowGy, -1);

  0004e	6a ff		 push	 -1
  00050	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00055	50		 push	 eax
  00056	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGx@@3HA ; nowGx
  0005c	51		 push	 ecx
  0005d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?eventId@@3HA ; eventId
  00063	52		 push	 edx
  00064	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_eventWarpNo@@3FA ; _eventWarpNo
  0006b	50		 push	 eax
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  00072	51		 push	 ecx
  00073	e8 00 00 00 00	 call	 ?lssproto_EV_send@@YAXHHHHHH@Z ; lssproto_EV_send
  00078	83 c4 18	 add	 esp, 24			; 00000018H

; 2962 : 	else

  0007b	eb 2d		 jmp	 SHORT $LN3@sendWarpEv
$LN2@sendWarpEv:

; 2963 : 		old_lssproto_EV_send(sockfd, _eventWarpNo, eventId, nowGx, nowGy, -1);

  0007d	6a ff		 push	 -1
  0007f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00084	50		 push	 eax
  00085	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGx@@3HA ; nowGx
  0008b	51		 push	 ecx
  0008c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?eventId@@3HA ; eventId
  00092	52		 push	 edx
  00093	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_eventWarpNo@@3FA ; _eventWarpNo
  0009a	50		 push	 eax
  0009b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 ?old_lssproto_EV_send@@YAXHHHHHH@Z ; old_lssproto_EV_send
  000a7	83 c4 18	 add	 esp, 24			; 00000018H
$LN3@sendWarpEv:

; 2964 : 	eventId++;

  000aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?eventId@@3HA ; eventId
  000af	83 c0 01	 add	 eax, 1
  000b2	a3 00 00 00 00	 mov	 DWORD PTR ?eventId@@3HA, eax ; eventId

; 2965 : 	wnCloseFlag = 1;	// §[???????¨–??

  000b7	b8 01 00 00 00	 mov	 eax, 1
  000bc	66 a3 00 00 00
	00		 mov	 WORD PTR ?wnCloseFlag@@3FA, ax ; wnCloseFlag

; 2966 : #ifdef __AI
; 2967 : 	void AI_CloseWnd();
; 2968 : //			AI_CloseWnd();
; 2969 : #endif
; 2970 : 	closeEtcSwitch();	// ?ûï¡@¤e?????¨–??

  000c2	e8 00 00 00 00	 call	 ?closeEtcSwitch@@YAXXZ	; closeEtcSwitch

; 2971 : 	closeCharActionAnimeChange();	// ???????????¨–??

  000c7	e8 00 00 00 00	 call	 ?closeCharActionAnimeChange@@YAXXZ ; closeCharActionAnimeChange

; 2972 : 	closeJoinChannelWN();

  000cc	e8 00 00 00 00	 call	 ?closeJoinChannelWN@@YAXXZ ; closeJoinChannelWN

; 2973 : 	// ????üÒûÂ?
; 2974 : 	SubProcNo = 200;

  000d1	c7 05 00 00 00
	00 c8 00 00 00	 mov	 DWORD PTR ?SubProcNo@@3IA, 200 ; SubProcNo, 000000c8H

; 2975 : 	//void JL_¹Ø±ÕµØÍ¼ÌØÐ§();
; 2976 : 	//JL_¹Ø±ÕµØÍ¼ÌØÐ§();		//JL µØÍ¼ÌØÐ§¹Ø±Õ
; 2977 : 	// ??¤œ??þ???
; 2978 : 	warpEffectProc();

  000db	e8 00 00 00 00	 call	 ?warpEffectProc@@YAXXZ	; warpEffectProc

; 2979 : 	warpEffectFlag = TRUE;

  000e0	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?warpEffectFlag@@3HA, 1 ; warpEffectFlag

; 2980 : 	floorChangeFlag = TRUE;

  000ea	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?floorChangeFlag@@3HA, 1 ; floorChangeFlag

; 2981 : 	// ?????????????????
; 2982 : 	if (MenuToggleFlag & JOY_CTRL_M)

  000f4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?MenuToggleFlag@@3IA ; MenuToggleFlag
  000f9	25 00 00 00 40	 and	 eax, 1073741824		; 40000000H
  000fe	74 0a		 je	 SHORT $LN1@sendWarpEv

; 2983 : 		MapWmdFlagBak = TRUE;

  00100	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?MapWmdFlagBak@@3HA, 1 ; MapWmdFlagBak
$LN1@sendWarpEv:

; 2984 : }

  0010a	5f		 pop	 edi
  0010b	5e		 pop	 esi
  0010c	5b		 pop	 ebx
  0010d	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00113	3b ec		 cmp	 ebp, esp
  00115	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0011a	8b e5		 mov	 esp, ebp
  0011c	5d		 pop	 ebp
  0011d	c3		 ret	 0
?_sendWarpEvent@@YAXXZ ENDP				; _sendWarpEvent
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_checkWarpEvent@@YAHHH@Z
_TEXT	SEGMENT
_timeZoneNo$ = -32					; size = 4
_y$ = -20						; size = 4
_x$ = -8						; size = 4
_gx$ = 8						; size = 4
_gy$ = 12						; size = 4
?_checkWarpEvent@@YAHHH@Z PROC				; _checkWarpEvent, COMDAT

; 2931 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2932 : 	int x, y, timeZoneNo;
; 2933 : 
; 2934 : 	x = gx - mapAreaX1;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _gx$[ebp]
  00021	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00027	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax

; 2935 : 	y = gy - mapAreaY1;

  0002a	8b 45 0c	 mov	 eax, DWORD PTR _gy$[ebp]
  0002d	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00033	89 45 ec	 mov	 DWORD PTR _y$[ebp], eax

; 2936 : 	timeZoneNo = getLSTime (&SaTime);

  00036	68 00 00 00 00	 push	 OFFSET ?SaTime@@3UtagLSTIME@@A ; SaTime
  0003b	e8 00 00 00 00	 call	 ?getLSTime@@YA?AW4LSTIME_SECTION@@PAUtagLSTIME@@@Z ; getLSTime
  00040	83 c4 04	 add	 esp, 4
  00043	89 45 e0	 mov	 DWORD PTR _timeZoneNo$[ebp], eax

; 2937 : 	_eventWarpNo = (event[y * mapAreaWidth + x] & 0x0fff);

  00046	8b 45 ec	 mov	 eax, DWORD PTR _y$[ebp]
  00049	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00050	03 45 f8	 add	 eax, DWORD PTR _x$[ebp]
  00053	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  0005b	81 e1 ff 0f 00
	00		 and	 ecx, 4095		; 00000fffH
  00061	66 89 0d 00 00
	00 00		 mov	 WORD PTR ?_eventWarpNo@@3FA, cx ; _eventWarpNo

; 2938 : 	// ???
; 2939 : 	if (_eventWarpNo == EVENT_WARP)

  00068	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_eventWarpNo@@3FA ; _eventWarpNo
  0006f	83 f8 03	 cmp	 eax, 3
  00072	75 09		 jne	 SHORT $LN2@checkWarpE

; 2940 : 		return TRUE;

  00074	b8 01 00 00 00	 mov	 eax, 1
  00079	eb 59		 jmp	 SHORT $LN1@checkWarpE
  0007b	eb 55		 jmp	 SHORT $LN3@checkWarpE
$LN2@checkWarpE:

; 2941 : 	// £‡?????
; 2942 : 	else if (_eventWarpNo == EVENT_WARP_MONING && timeZoneNo == LS_MORNING)

  0007d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_eventWarpNo@@3FA ; _eventWarpNo
  00084	83 f8 06	 cmp	 eax, 6
  00087	75 0f		 jne	 SHORT $LN4@checkWarpE
  00089	83 7d e0 03	 cmp	 DWORD PTR _timeZoneNo$[ebp], 3
  0008d	75 09		 jne	 SHORT $LN4@checkWarpE

; 2943 : 		return TRUE;

  0008f	b8 01 00 00 00	 mov	 eax, 1
  00094	eb 3e		 jmp	 SHORT $LN1@checkWarpE
  00096	eb 3a		 jmp	 SHORT $LN3@checkWarpE
$LN4@checkWarpE:

; 2944 : 	// ??????
; 2945 : 	else if (_eventWarpNo == EVENT_WARP_NOON && (timeZoneNo == LS_NOON || timeZoneNo == LS_EVENING))

  00098	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_eventWarpNo@@3FA ; _eventWarpNo
  0009f	83 f8 07	 cmp	 eax, 7
  000a2	75 15		 jne	 SHORT $LN6@checkWarpE
  000a4	83 7d e0 00	 cmp	 DWORD PTR _timeZoneNo$[ebp], 0
  000a8	74 06		 je	 SHORT $LN8@checkWarpE
  000aa	83 7d e0 01	 cmp	 DWORD PTR _timeZoneNo$[ebp], 1
  000ae	75 09		 jne	 SHORT $LN6@checkWarpE
$LN8@checkWarpE:

; 2946 : 		return TRUE;

  000b0	b8 01 00 00 00	 mov	 eax, 1
  000b5	eb 1d		 jmp	 SHORT $LN1@checkWarpE
  000b7	eb 19		 jmp	 SHORT $LN3@checkWarpE
$LN6@checkWarpE:

; 2947 : 	// ??????
; 2948 : 	else if (_eventWarpNo == EVENT_WARP_NIGHT && timeZoneNo == LS_NIGHT)

  000b9	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_eventWarpNo@@3FA ; _eventWarpNo
  000c0	83 f8 08	 cmp	 eax, 8
  000c3	75 0d		 jne	 SHORT $LN3@checkWarpE
  000c5	83 7d e0 02	 cmp	 DWORD PTR _timeZoneNo$[ebp], 2
  000c9	75 07		 jne	 SHORT $LN3@checkWarpE

; 2949 : 		return TRUE;

  000cb	b8 01 00 00 00	 mov	 eax, 1
  000d0	eb 02		 jmp	 SHORT $LN1@checkWarpE
$LN3@checkWarpE:

; 2950 : 
; 2951 : 	return FALSE;

  000d2	33 c0		 xor	 eax, eax
$LN1@checkWarpE:

; 2952 : }

  000d4	5f		 pop	 edi
  000d5	5e		 pop	 esi
  000d6	5b		 pop	 ebx
  000d7	81 c4 e4 00 00
	00		 add	 esp, 228		; 000000e4H
  000dd	3b ec		 cmp	 ebp, esp
  000df	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000e4	8b e5		 mov	 esp, ebp
  000e6	5d		 pop	 ebp
  000e7	c3		 ret	 0
?_checkWarpEvent@@YAHHH@Z ENDP				; _checkWarpEvent
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_sendMoveRoute@@YAXXZ
_TEXT	SEGMENT
$T1 = -212						; size = 4
_i$ = -8						; size = 4
?_sendMoveRoute@@YAXXZ PROC				; _sendMoveRoute, COMDAT

; 2864 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2865 : 	int i;
; 2866 : 	if (moveRouteCnt2 <= 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00025	85 c0		 test	 eax, eax
  00027	7f 05		 jg	 SHORT $LN5@sendMoveRo

; 2867 : 		return;

  00029	e9 96 00 00 00	 jmp	 $LN8@sendMoveRo
$LN5@sendMoveRo:

; 2868 : 
; 2869 : 	for (i = 0; i < moveRouteCnt2; i++)

  0002e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00035	eb 09		 jmp	 SHORT $LN4@sendMoveRo
$LN2@sendMoveRo:
  00037	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0003a	83 c0 01	 add	 eax, 1
  0003d	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@sendMoveRo:
  00040	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00047	39 45 f8	 cmp	 DWORD PTR _i$[ebp], eax
  0004a	7d 21		 jge	 SHORT $LN3@sendMoveRo

; 2870 : 		moveRouteDir[i] = cnvServDir(moveRoute2[i], 0);

  0004c	6a 00		 push	 0
  0004e	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00051	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?moveRoute2@@3PAFA[eax*2]
  00059	51		 push	 ecx
  0005a	e8 00 00 00 00	 call	 ?cnvServDir@@YADHH@Z	; cnvServDir
  0005f	83 c4 08	 add	 esp, 8
  00062	8b 55 f8	 mov	 edx, DWORD PTR _i$[ebp]
  00065	88 82 00 00 00
	00		 mov	 BYTE PTR ?moveRouteDir@@3PADA[edx], al
  0006b	eb ca		 jmp	 SHORT $LN2@sendMoveRo
$LN3@sendMoveRo:

; 2871 : #ifdef  _STONDEBUG_
; 2872 : 	if (!offlineFlag)
; 2873 : #endif
; 2874 : 	{
; 2875 : 		if (partyModeFlag == 0 || (pc.status & CHR_STATUS_LEADER) != 0)

  0006d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  00074	85 c0		 test	 eax, eax
  00076	74 0c		 je	 SHORT $LN7@sendMoveRo
  00078	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+164
  0007d	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00082	74 40		 je	 SHORT $LN8@sendMoveRo
$LN7@sendMoveRo:

; 2876 : 		{
; 2877 : 			moveRouteDir[i] = '\0';

  00084	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00087	89 85 2c ff ff
	ff		 mov	 DWORD PTR $T1[ebp], eax
  0008d	83 bd 2c ff ff
	ff 64		 cmp	 DWORD PTR $T1[ebp], 100	; 00000064H
  00094	73 02		 jae	 SHORT $LN9@sendMoveRo
  00096	eb 05		 jmp	 SHORT $LN10@sendMoveRo
$LN9@sendMoveRo:
  00098	e8 00 00 00 00	 call	 ___report_rangecheckfailure
$LN10@sendMoveRo:
  0009d	8b 8d 2c ff ff
	ff		 mov	 ecx, DWORD PTR $T1[ebp]
  000a3	c6 81 00 00 00
	00 00		 mov	 BYTE PTR ?moveRouteDir@@3PADA[ecx], 0

; 2878 : 
; 2879 : #ifdef MAP_CACHE_PROC
; 2880 : 			if (checkMapCache(nowGx, nowGy, moveRoute2, moveRouteCnt2, nowFloor, nowFloorGxSize, nowFloorGySize))
; 2881 : 				noChecksumWalkSendForServer(nowGx, nowGy, moveRouteDir);
; 2882 : 			else
; 2883 : 				walkSendForServer(nowGx, nowGy, moveRouteDir);
; 2884 : #else
; 2885 : 			walkSendForServer(nowGx, nowGy, moveRouteDir);

  000aa	68 00 00 00 00	 push	 OFFSET ?moveRouteDir@@3PADA ; moveRouteDir
  000af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  000b4	50		 push	 eax
  000b5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGx@@3HA ; nowGx
  000bb	51		 push	 ecx
  000bc	e8 00 00 00 00	 call	 ?walkSendForServer@@YAXHHPAD@Z ; walkSendForServer
  000c1	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN8@sendMoveRo:

; 2886 : #endif
; 2887 : 		}
; 2888 : 	}
; 2889 : }

  000c4	5f		 pop	 edi
  000c5	5e		 pop	 esi
  000c6	5b		 pop	 ebx
  000c7	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000cd	3b ec		 cmp	 ebp, esp
  000cf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d4	8b e5		 mov	 esp, ebp
  000d6	5d		 pop	 ebp
  000d7	c3		 ret	 0
?_sendMoveRoute@@YAXXZ ENDP				; _sendMoveRoute
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_sendEncount@@YAXXZ
_TEXT	SEGMENT
?_sendEncount@@YAXXZ PROC				; _sendEncount, COMDAT

; 2918 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2919 : 	resetMap();

  0001e	e8 00 00 00 00	 call	 ?resetMap@@YAXXZ	; resetMap

; 2920 : 	sendEnFlag = 1;

  00023	b8 01 00 00 00	 mov	 eax, 1
  00028	66 a3 00 00 00
	00		 mov	 WORD PTR ?sendEnFlag@@3FA, ax ; sendEnFlag

; 2921 : 	etcEventFlag = 1;

  0002e	b8 01 00 00 00	 mov	 eax, 1
  00033	66 a3 00 00 00
	00		 mov	 WORD PTR ?etcEventFlag@@3FA, ax ; etcEventFlag

; 2922 : 	eventEnemyFlag = 0;

  00039	33 c0		 xor	 eax, eax
  0003b	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemyFlag@@3FA, ax ; eventEnemyFlag

; 2923 : 
; 2924 : 	if (bNewServer)

  00041	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00048	74 1e		 je	 SHORT $LN2@sendEncoun

; 2925 : 		lssproto_EN_send(sockfd, nowGx, nowGy);

  0004a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0004f	50		 push	 eax
  00050	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGx@@3HA ; nowGx
  00056	51		 push	 ecx
  00057	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?sockfd@@3IA ; sockfd
  0005d	52		 push	 edx
  0005e	e8 00 00 00 00	 call	 ?lssproto_EN_send@@YAXHHH@Z ; lssproto_EN_send
  00063	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2926 : 	else

  00066	eb 1c		 jmp	 SHORT $LN1@sendEncoun
$LN2@sendEncoun:

; 2927 : 		old_lssproto_EN_send(sockfd, nowGx, nowGy);

  00068	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0006d	50		 push	 eax
  0006e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGx@@3HA ; nowGx
  00074	51		 push	 ecx
  00075	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?sockfd@@3IA ; sockfd
  0007b	52		 push	 edx
  0007c	e8 00 00 00 00	 call	 ?old_lssproto_EN_send@@YAXHHH@Z ; old_lssproto_EN_send
  00081	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@sendEncoun:

; 2928 : }

  00084	5f		 pop	 edi
  00085	5e		 pop	 esi
  00086	5b		 pop	 ebx
  00087	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0008d	3b ec		 cmp	 ebp, esp
  0008f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00094	8b e5		 mov	 esp, ebp
  00096	5d		 pop	 ebp
  00097	c3		 ret	 0
?_sendEncount@@YAXXZ ENDP				; _sendEncount
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_checkEncount@@YAHXZ
_TEXT	SEGMENT
_ret$ = -8						; size = 4
?_checkEncount@@YAHXZ PROC				; _checkEncount, COMDAT

; 2892 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2893 : 	BOOL ret = FALSE;

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _ret$[ebp], 0

; 2894 : 
; 2895 : 	if (EncountOffFlag)

  00025	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?EncountOffFlag@@3HA, 0 ; EncountOffFlag
  0002c	74 04		 je	 SHORT $LN2@checkEncou

; 2896 : 		return FALSE;

  0002e	33 c0		 xor	 eax, eax
  00030	eb 79		 jmp	 SHORT $LN1@checkEncou
$LN2@checkEncou:

; 2897 : 
; 2898 : 	if (partyModeFlag == 0 || (pc.status & CHR_STATUS_LEADER) != 0)

  00032	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  00039	85 c0		 test	 eax, eax
  0003b	74 0c		 je	 SHORT $LN4@checkEncou
  0003d	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+164
  00042	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00047	74 1f		 je	 SHORT $LN3@checkEncou
$LN4@checkEncou:

; 2899 : 	{
; 2900 : 		if (nowEncountPercentage > rand2())

  00049	0f bf 35 00 00
	00 00		 movsx	 esi, WORD PTR ?nowEncountPercentage@@3FA ; nowEncountPercentage
  00050	e8 00 00 00 00	 call	 ?rand2@@YAHXZ		; rand2
  00055	3b f0		 cmp	 esi, eax
  00057	7e 0f		 jle	 SHORT $LN3@checkEncou

; 2901 : 		{
; 2902 : 			ret = TRUE;

  00059	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _ret$[ebp], 1

; 2903 : 			nowEncountExtra = 0;

  00060	33 c0		 xor	 eax, eax
  00062	66 a3 00 00 00
	00		 mov	 WORD PTR ?nowEncountExtra@@3FA, ax ; nowEncountExtra
$LN3@checkEncou:

; 2904 : 		}
; 2905 : 	}
; 2906 : 	if (6 > nowEncountExtra)

  00068	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?nowEncountExtra@@3FA ; nowEncountExtra
  0006f	83 f8 06	 cmp	 eax, 6
  00072	7d 12		 jge	 SHORT $LN6@checkEncou

; 2907 : 		nowEncountExtra++;

  00074	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?nowEncountExtra@@3FA ; nowEncountExtra
  0007a	66 83 c0 01	 add	 ax, 1
  0007e	66 a3 00 00 00
	00		 mov	 WORD PTR ?nowEncountExtra@@3FA, ax ; nowEncountExtra

; 2908 : 	else

  00084	eb 22		 jmp	 SHORT $LN7@checkEncou
$LN6@checkEncou:

; 2909 : 	{
; 2910 : 		if (maxEncountPercentage > nowEncountPercentage)

  00086	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?maxEncountPercentage@@3FA ; maxEncountPercentage
  0008d	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?nowEncountPercentage@@3FA ; nowEncountPercentage
  00094	3b c1		 cmp	 eax, ecx
  00096	7e 10		 jle	 SHORT $LN7@checkEncou

; 2911 : 			nowEncountPercentage++;

  00098	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?nowEncountPercentage@@3FA ; nowEncountPercentage
  0009e	66 83 c0 01	 add	 ax, 1
  000a2	66 a3 00 00 00
	00		 mov	 WORD PTR ?nowEncountPercentage@@3FA, ax ; nowEncountPercentage
$LN7@checkEncou:

; 2912 : 	}
; 2913 : 
; 2914 : 	return ret;

  000a8	8b 45 f8	 mov	 eax, DWORD PTR _ret$[ebp]
$LN1@checkEncou:

; 2915 : }

  000ab	5f		 pop	 edi
  000ac	5e		 pop	 esi
  000ad	5b		 pop	 ebx
  000ae	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  000b4	3b ec		 cmp	 ebp, esp
  000b6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000bb	8b e5		 mov	 esp, ebp
  000bd	5d		 pop	 ebp
  000be	c3		 ret	 0
?_checkEncount@@YAHXZ ENDP				; _checkEncount
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_setMapMovePoint@@YAXHH@Z
_TEXT	SEGMENT
tv156 = -256						; size = 4
_dir$ = -56						; size = 4
_dir1$ = -44						; size = 4
_len$ = -32						; size = 4
_dy$ = -20						; size = 4
_dx$ = -8						; size = 4
__nextGx$ = 8						; size = 4
__nextGy$ = 12						; size = 4
?_setMapMovePoint@@YAXHH@Z PROC				; _setMapMovePoint, COMDAT

; 2552 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 00 01 00
	00		 sub	 esp, 256		; 00000100H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 00 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-256]
  00012	b9 40 00 00 00	 mov	 ecx, 64			; 00000040H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2553 : 	float dx, dy, len, dir1;
; 2554 : 	int dir;
; 2555 : 
; 2556 : 	nextGx = _nextGx;

  0001e	8b 45 08	 mov	 eax, DWORD PTR __nextGx$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?nextGx@@3HA, eax ; nextGx

; 2557 : 	nextGy = _nextGy;

  00026	8b 45 0c	 mov	 eax, DWORD PTR __nextGy$[ebp]
  00029	a3 00 00 00 00	 mov	 DWORD PTR ?nextGy@@3HA, eax ; nextGy

; 2558 : 	// ?¥h?????
; 2559 : 	dx = nextGx * GRID_SIZE - nowX;

  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nextGx@@3HA ; nextGx
  00033	c1 e0 06	 shl	 eax, 6
  00036	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  0003a	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?nowX@@3MA
  00042	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 2560 : 	dy = nextGy * GRID_SIZE - nowY;

  00047	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nextGy@@3HA ; nextGy
  0004c	c1 e0 06	 shl	 eax, 6
  0004f	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00053	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?nowY@@3MA
  0005b	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0

; 2561 : 	len = (float)sqrt((double)(dx * dx + dy * dy));

  00060	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00065	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _dx$[ebp]
  0006a	f3 0f 10 4d ec	 movss	 xmm1, DWORD PTR _dy$[ebp]
  0006f	f3 0f 59 4d ec	 mulss	 xmm1, DWORD PTR _dy$[ebp]
  00074	f3 0f 58 c1	 addss	 xmm0, xmm1
  00078	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  0007c	83 ec 08	 sub	 esp, 8
  0007f	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00084	e8 00 00 00 00	 call	 _sqrt
  00089	83 c4 08	 add	 esp, 8
  0008c	d9 5d e0	 fstp	 DWORD PTR _len$[ebp]

; 2562 : 	if (len > 0)

  0008f	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _len$[ebp]
  00094	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  0009b	76 20		 jbe	 SHORT $LN2@setMapMove

; 2563 : 	{
; 2564 : 		dx /= len;

  0009d	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  000a2	f3 0f 5e 45 e0	 divss	 xmm0, DWORD PTR _len$[ebp]
  000a7	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 2565 : 		dy /= len;

  000ac	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  000b1	f3 0f 5e 45 e0	 divss	 xmm0, DWORD PTR _len$[ebp]
  000b6	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0

; 2566 : 	}
; 2567 : 	else

  000bb	eb 10		 jmp	 SHORT $LN3@setMapMove
$LN2@setMapMove:

; 2568 : 	{
; 2569 : 		dx = 0;

  000bd	0f 57 c0	 xorps	 xmm0, xmm0
  000c0	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 2570 : 		dy = 0;

  000c5	0f 57 c0	 xorps	 xmm0, xmm0
  000c8	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0
$LN3@setMapMove:

; 2571 : 	}
; 2572 : 	nowVx = dx * MOVE_SPEED;

  000cd	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  000d2	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40800000
  000da	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 2573 : 	nowVy = dy * MOVE_SPEED;

  000e2	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  000e7	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40800000
  000ef	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 2574 : 	// PC????©˜?¡@¤e
; 2575 : 	if (dx != 0 || dy != 0)

  000f7	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  000fc	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00103	9f		 lahf
  00104	f6 c4 44	 test	 ah, 68			; 00000044H
  00107	7a 12		 jp	 SHORT $LN5@setMapMove
  00109	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  0010e	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00115	9f		 lahf
  00116	f6 c4 44	 test	 ah, 68			; 00000044H
  00119	7b 6a		 jnp	 SHORT $LN4@setMapMove
$LN5@setMapMove:

; 2576 : 	{
; 2577 : 		dir1 = Atan(dx, dy) + 22.5F;

  0011b	51		 push	 ecx
  0011c	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  00121	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00126	51		 push	 ecx
  00127	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  0012c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00131	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  00136	83 c4 08	 add	 esp, 8
  00139	d9 9d 00 ff ff
	ff		 fstp	 DWORD PTR tv156[ebp]
  0013f	f3 0f 10 85 00
	ff ff ff	 movss	 xmm0, DWORD PTR tv156[ebp]
  00147	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  0014f	f3 0f 11 45 d4	 movss	 DWORD PTR _dir1$[ebp], xmm0

; 2578 : 		AdjustDir(&dir1);

  00154	8d 45 d4	 lea	 eax, DWORD PTR _dir1$[ebp]
  00157	50		 push	 eax
  00158	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  0015d	83 c4 04	 add	 esp, 4

; 2579 : 		dir = (int)(dir1 / 45);

  00160	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _dir1$[ebp]
  00165	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  0016d	f3 0f 2c c0	 cvttss2si eax, xmm0
  00171	89 45 c8	 mov	 DWORD PTR _dir$[ebp], eax

; 2580 : 		setPcDir(dir);

  00174	8b 45 c8	 mov	 eax, DWORD PTR _dir$[ebp]
  00177	50		 push	 eax
  00178	e8 00 00 00 00	 call	 ?setPcDir@@YAXH@Z	; setPcDir
  0017d	83 c4 04	 add	 esp, 4

; 2581 : 		setPcWalkFlag();

  00180	e8 00 00 00 00	 call	 ?setPcWalkFlag@@YAXXZ	; setPcWalkFlag
$LN4@setMapMove:

; 2582 : 	}
; 2583 : 	// PC?????????£t?¥i???
; 2584 : 	setPcPoint();

  00185	e8 00 00 00 00	 call	 ?setPcPoint@@YAXXZ	; setPcPoint

; 2585 : }

  0018a	52		 push	 edx
  0018b	8b cd		 mov	 ecx, ebp
  0018d	50		 push	 eax
  0018e	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN9@setMapMove
  00194	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00199	58		 pop	 eax
  0019a	5a		 pop	 edx
  0019b	5f		 pop	 edi
  0019c	5e		 pop	 esi
  0019d	5b		 pop	 ebx
  0019e	81 c4 00 01 00
	00		 add	 esp, 256		; 00000100H
  001a4	3b ec		 cmp	 ebp, esp
  001a6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ab	8b e5		 mov	 esp, ebp
  001ad	5d		 pop	 ebp
  001ae	c3		 ret	 0
  001af	90		 npad	 1
$LN9@setMapMove:
  001b0	01 00 00 00	 DD	 1
  001b4	00 00 00 00	 DD	 $LN8@setMapMove
$LN8@setMapMove:
  001b8	d4 ff ff ff	 DD	 -44			; ffffffd4H
  001bc	04 00 00 00	 DD	 4
  001c0	00 00 00 00	 DD	 $LN7@setMapMove
$LN7@setMapMove:
  001c4	64		 DB	 100			; 00000064H
  001c5	69		 DB	 105			; 00000069H
  001c6	72		 DB	 114			; 00000072H
  001c7	31		 DB	 49			; 00000031H
  001c8	00		 DB	 0
?_setMapMovePoint@@YAXHH@Z ENDP				; _setMapMovePoint
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_partyMapMove@@YAXXZ
_TEXT	SEGMENT
_i$ = -8						; size = 4
?_partyMapMove@@YAXXZ PROC				; _partyMapMove, COMDAT

; 2700 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2701 : 	int i;
; 2702 : 
; 2703 : 	// ???????????¥h???¢\??????¥h??
; 2704 : 	if (partyModeFlag != 0 && (pc.status & CHR_STATUS_LEADER) != 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  00025	85 c0		 test	 eax, eax
  00027	74 56		 je	 SHORT $LN1@partyMapMo
  00029	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+164
  0002e	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00033	74 4a		 je	 SHORT $LN1@partyMapMo

; 2705 : 	{
; 2706 : 		for (i = 1; i < MAX_PARTY; i++)

  00035	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _i$[ebp], 1
  0003c	eb 09		 jmp	 SHORT $LN4@partyMapMo
$LN2@partyMapMo:
  0003e	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00041	83 c0 01	 add	 eax, 1
  00044	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@partyMapMo:
  00047	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  0004b	7d 32		 jge	 SHORT $LN1@partyMapMo

; 2707 : 		{
; 2708 : 			if (_partyTbl[i] >= 0)

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00050	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00058	85 c9		 test	 ecx, ecx
  0005a	7c 1f		 jl	 SHORT $LN6@partyMapMo

; 2709 : 				charMove2(party[_partyTbl[i]].ptAct);

  0005c	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0005f	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00067	6b d1 30	 imul	 edx, ecx, 48
  0006a	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  00070	50		 push	 eax
  00071	e8 00 00 00 00	 call	 ?charMove2@@YAXPAUaction@@@Z ; charMove2
  00076	83 c4 04	 add	 esp, 4

; 2710 : 			else

  00079	eb 02		 jmp	 SHORT $LN7@partyMapMo
$LN6@partyMapMo:

; 2711 : 				break;

  0007b	eb 02		 jmp	 SHORT $LN1@partyMapMo
$LN7@partyMapMo:

; 2712 : 		}

  0007d	eb bf		 jmp	 SHORT $LN2@partyMapMo
$LN1@partyMapMo:

; 2713 : 	}
; 2714 : }

  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00088	3b ec		 cmp	 ebp, esp
  0008a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0008f	8b e5		 mov	 esp, ebp
  00091	5d		 pop	 ebp
  00092	c3		 ret	 0
?_partyMapMove@@YAXXZ ENDP				; _partyMapMove
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_mapMove@@YAXXZ
_TEXT	SEGMENT
tv147 = -244						; size = 4
_vy$ = -44						; size = 4
_vx$ = -32						; size = 4
_nGy$ = -20						; size = 4
_nGx$ = -8						; size = 4
?_mapMove@@YAXXZ PROC					; _mapMove, COMDAT

; 2640 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f4 00 00
	00		 sub	 esp, 244		; 000000f4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 0c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-244]
  00012	b9 3d 00 00 00	 mov	 ecx, 61			; 0000003dH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2641 : 	float nGx, nGy, vx, vy;
; 2642 : 	if (nowVx != 0 || nowVy != 0)

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVx@@3MA
  00026	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  0002d	9f		 lahf
  0002e	f6 c4 44	 test	 ah, 68			; 00000044H
  00031	7a 19		 jp	 SHORT $LN4@mapMove
  00033	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVy@@3MA
  0003b	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00042	9f		 lahf
  00043	f6 c4 44	 test	 ah, 68			; 00000044H
  00046	0f 8b 56 01 00
	00		 jnp	 $LN2@mapMove
$LN4@mapMove:

; 2643 : 	{
; 2644 : 		nGx = (float)nextGx * GRID_SIZE;

  0004c	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGx@@3HA ; nextGx
  00054	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  0005c	f3 0f 11 45 f8	 movss	 DWORD PTR _nGx$[ebp], xmm0

; 2645 : 		nGy = (float)nextGy * GRID_SIZE;

  00061	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGy@@3HA ; nextGy
  00069	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00071	f3 0f 11 45 ec	 movss	 DWORD PTR _nGy$[ebp], xmm0

; 2646 : 
; 2647 : 		vx = nowVx * nowSpdRate;

  00076	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVx@@3MA
  0007e	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR ?nowSpdRate@@3MA
  00086	f3 0f 11 45 e0	 movss	 DWORD PTR _vx$[ebp], xmm0

; 2648 : 		vy = nowVy * nowSpdRate;

  0008b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVy@@3MA
  00093	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR ?nowSpdRate@@3MA
  0009b	f3 0f 11 45 d4	 movss	 DWORD PTR _vy$[ebp], xmm0

; 2649 : 
; 2650 : 		//JL 2016.8.25
; 2651 : 		if (fastWalkFlag == 0x74)	//74 75ÓëwgÆ¥Åä

  000a0	83 3d 00 00 00
	00 74		 cmp	 DWORD PTR ?fastWalkFlag@@3HA, 116 ; fastWalkFlag, 00000074H
  000a7	75 04		 jne	 SHORT $LN5@mapMove

; 2652 : 			goto reachDest;

  000a9	eb 63		 jmp	 SHORT $LN6@mapMove
  000ab	eb 61		 jmp	 SHORT $reachDest$12
$LN5@mapMove:

; 2653 : 
; 2654 : 		if (pointLen2(nowX, nowY, nGx, nGy) <= vx * vx + vy * vy)

  000ad	51		 push	 ecx
  000ae	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _nGy$[ebp]
  000b3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b8	51		 push	 ecx
  000b9	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _nGx$[ebp]
  000be	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c3	51		 push	 ecx
  000c4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  000cc	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000d1	51		 push	 ecx
  000d2	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  000da	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000df	e8 00 00 00 00	 call	 ?pointLen2@@YAMMMMM@Z	; pointLen2
  000e4	83 c4 10	 add	 esp, 16			; 00000010H
  000e7	d9 9d 0c ff ff
	ff		 fstp	 DWORD PTR tv147[ebp]
  000ed	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _vx$[ebp]
  000f2	f3 0f 59 45 e0	 mulss	 xmm0, DWORD PTR _vx$[ebp]
  000f7	f3 0f 10 4d d4	 movss	 xmm1, DWORD PTR _vy$[ebp]
  000fc	f3 0f 59 4d d4	 mulss	 xmm1, DWORD PTR _vy$[ebp]
  00101	f3 0f 58 c1	 addss	 xmm0, xmm1
  00105	0f 2f 85 0c ff
	ff ff		 comiss	 xmm0, DWORD PTR tv147[ebp]
  0010c	72 3d		 jb	 SHORT $LN7@mapMove
$LN6@mapMove:
$reachDest$12:

; 2655 : 		{
; 2656 : 		reachDest:
; 2657 : 			nowX = nGx;

  0010e	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _nGx$[ebp]
  00113	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0

; 2658 : 			nowY = nGy;

  0011b	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _nGy$[ebp]
  00120	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0

; 2659 : 			nowVx = 0;

  00128	0f 57 c0	 xorps	 xmm0, xmm0
  0012b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 2660 : 			nowVy = 0;

  00133	0f 57 c0	 xorps	 xmm0, xmm0
  00136	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 2661 : 			justGoalFlag = 1;	// JL×¢ÊÍ µ½´ïÄ¿µÄµØ

  0013e	b8 01 00 00 00	 mov	 eax, 1
  00143	66 a3 00 00 00
	00		 mov	 WORD PTR ?justGoalFlag@@3FA, ax ; justGoalFlag

; 2662 : 		}
; 2663 : 		else

  00149	eb 2a		 jmp	 SHORT $LN8@mapMove
$LN7@mapMove:

; 2664 : 		{
; 2665 : 			// ?¥h
; 2666 : 			nowX += vx;

  0014b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  00153	f3 0f 58 45 e0	 addss	 xmm0, DWORD PTR _vx$[ebp]
  00158	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0

; 2667 : 			nowY += vy;

  00160	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  00168	f3 0f 58 45 d4	 addss	 xmm0, DWORD PTR _vy$[ebp]
  0016d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0
$LN8@mapMove:

; 2668 : 		}
; 2669 : 
; 2670 : 
; 2671 : 
; 2672 : 		setPcAction(ANIM_WALK);

  00175	6a 04		 push	 4
  00177	e8 00 00 00 00	 call	 ?setPcAction@@YAXH@Z	; setPcAction
  0017c	83 c4 04	 add	 esp, 4

; 2673 : 		setPcWalkFlag();

  0017f	e8 00 00 00 00	 call	 ?setPcWalkFlag@@YAXXZ	; setPcWalkFlag

; 2674 : 
; 2675 : 		if (pc.ptAct != NULL)

  00184	83 3d ec 50 00
	00 00		 cmp	 DWORD PTR ?pc@@3UPC@@A+20716, 0
  0018b	74 13		 je	 SHORT $LN9@mapMove

; 2676 : 			mapEffectMoveDir = pc.ptAct->anim_ang;

  0018d	a1 ec 50 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+20716
  00192	66 8b 88 54 01
	00 00		 mov	 cx, WORD PTR [eax+340]
  00199	66 89 0d 00 00
	00 00		 mov	 WORD PTR ?mapEffectMoveDir@@3FA, cx ; mapEffectMoveDir
$LN9@mapMove:

; 2677 : 	}
; 2678 : 	else

  001a0	eb 22		 jmp	 SHORT $LN3@mapMove
$LN2@mapMove:

; 2679 : 	{
; 2680 : 		// PC????????????WALK???????????STAND???
; 2681 : 		if (checkPcWalkFlag() == 1)

  001a2	e8 00 00 00 00	 call	 ?checkPcWalkFlag@@YAHXZ	; checkPcWalkFlag
  001a7	83 f8 01	 cmp	 eax, 1
  001aa	75 0f		 jne	 SHORT $LN10@mapMove

; 2682 : 		{
; 2683 : 			setPcAction(ANIM_STAND);

  001ac	6a 03		 push	 3
  001ae	e8 00 00 00 00	 call	 ?setPcAction@@YAXH@Z	; setPcAction
  001b3	83 c4 04	 add	 esp, 4

; 2684 : 			delPcWalkFlag();

  001b6	e8 00 00 00 00	 call	 ?delPcWalkFlag@@YAXXZ	; delPcWalkFlag
$LN10@mapMove:

; 2685 : 		}
; 2686 : 		mapEffectMoveDir = -1;

  001bb	83 c8 ff	 or	 eax, -1
  001be	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectMoveDir@@3FA, ax ; mapEffectMoveDir
$LN3@mapMove:

; 2687 : 	}
; 2688 : 
; 2689 : 	{
; 2690 : 		nowGx = (int)(nowX / GRID_SIZE);

  001c4	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  001cc	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  001d4	f3 0f 2c c0	 cvttss2si eax, xmm0
  001d8	a3 00 00 00 00	 mov	 DWORD PTR ?nowGx@@3HA, eax ; nowGx

; 2691 : 		nowGy = (int)(nowY / GRID_SIZE);

  001dd	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  001e5	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  001ed	f3 0f 2c c0	 cvttss2si eax, xmm0
  001f1	a3 00 00 00 00	 mov	 DWORD PTR ?nowGy@@3HA, eax ; nowGy

; 2692 : 	}
; 2693 : 	// PC?????????£t?¥i???
; 2694 : 	setPcPoint();

  001f6	e8 00 00 00 00	 call	 ?setPcPoint@@YAXXZ	; setPcPoint

; 2695 : }

  001fb	5f		 pop	 edi
  001fc	5e		 pop	 esi
  001fd	5b		 pop	 ebx
  001fe	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  00204	3b ec		 cmp	 ebp, esp
  00206	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0020b	8b e5		 mov	 esp, ebp
  0020d	5d		 pop	 ebp
  0020e	c3		 ret	 0
?_mapMove@@YAXXZ ENDP					; _mapMove
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setPartyMovePoint@@YAXXZ
_TEXT	SEGMENT
_ptActNext$ = -32					; size = 4
_ptAct$ = -20						; size = 4
_i$ = -8						; size = 4
?setPartyMovePoint@@YAXXZ PROC				; setPartyMovePoint, COMDAT

; 2602 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2603 : 	int i;
; 2604 : 	ACTION *ptAct, *ptActNext;
; 2605 : 
; 2606 : 	if (partyModeFlag != 0 && (pc.status & CHR_STATUS_LEADER) != 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  00025	85 c0		 test	 eax, eax
  00027	0f 84 4e 01 00
	00		 je	 $LN3@setPartyMo
  0002d	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+164
  00032	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00037	0f 84 3e 01 00
	00		 je	 $LN3@setPartyMo

; 2607 : 	{
; 2608 : 		for (i = 1; i < MAX_PARTY; i++)

  0003d	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _i$[ebp], 1
  00044	eb 09		 jmp	 SHORT $LN4@setPartyMo
$LN2@setPartyMo:
  00046	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00049	83 c0 01	 add	 eax, 1
  0004c	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@setPartyMo:
  0004f	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  00053	0f 8d 22 01 00
	00		 jge	 $LN3@setPartyMo

; 2609 : 		{
; 2610 : 			if (_partyTbl[i] >= 0)

  00059	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0005c	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00064	85 c9		 test	 ecx, ecx
  00066	0f 8c 08 01 00
	00		 jl	 $LN6@setPartyMo

; 2611 : 			{
; 2612 : 				ptAct = party[_partyTbl[i]].ptAct;

  0006c	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0006f	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00077	6b d1 30	 imul	 edx, ecx, 48
  0007a	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  00080	89 45 ec	 mov	 DWORD PTR _ptAct$[ebp], eax

; 2613 : 
; 2614 : 				// ??????????ýõ?
; 2615 : 				if ((float)ptAct->nextGx * GRID_SIZE == ptAct->mx && (float)ptAct->nextGy * GRID_SIZE == ptAct->my)

  00083	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00086	f3 0f 2a 80 bc
	00 00 00	 cvtsi2ss xmm0, DWORD PTR [eax+188]
  0008e	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00096	8b 4d ec	 mov	 ecx, DWORD PTR _ptAct$[ebp]
  00099	0f 2e 81 18 01
	00 00		 ucomiss xmm0, DWORD PTR [ecx+280]
  000a0	9f		 lahf
  000a1	f6 c4 44	 test	 ah, 68			; 00000044H
  000a4	0f 8a c8 00 00
	00		 jp	 $LN10@setPartyMo
  000aa	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  000ad	f3 0f 2a 80 c0
	00 00 00	 cvtsi2ss xmm0, DWORD PTR [eax+192]
  000b5	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  000bd	8b 4d ec	 mov	 ecx, DWORD PTR _ptAct$[ebp]
  000c0	0f 2e 81 1c 01
	00 00		 ucomiss xmm0, DWORD PTR [ecx+284]
  000c7	9f		 lahf
  000c8	f6 c4 44	 test	 ah, 68			; 00000044H
  000cb	0f 8a a1 00 00
	00		 jp	 $LN10@setPartyMo

; 2616 : 				{
; 2617 : 					// ????????¤õ?????¡@¤e
; 2618 : 					if (ptAct->bufCount > 0)

  000d1	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  000d4	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  000db	85 c9		 test	 ecx, ecx
  000dd	0f 8e 8f 00 00
	00		 jle	 $LN10@setPartyMo

; 2619 : 					{
; 2620 : 						setCharMovePoint(ptAct, ptAct->bufGx[0], ptAct->bufGy[0]);

  000e3	b8 04 00 00 00	 mov	 eax, 4
  000e8	6b c8 00	 imul	 ecx, eax, 0
  000eb	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  000ee	8b 84 0a ec 00
	00 00		 mov	 eax, DWORD PTR [edx+ecx+236]
  000f5	50		 push	 eax
  000f6	b9 04 00 00 00	 mov	 ecx, 4
  000fb	6b d1 00	 imul	 edx, ecx, 0
  000fe	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00101	8b 8c 10 c4 00
	00 00		 mov	 ecx, DWORD PTR [eax+edx+196]
  00108	51		 push	 ecx
  00109	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  0010c	52		 push	 edx
  0010d	e8 00 00 00 00	 call	 ?setCharMovePoint@@YAXPAUaction@@HH@Z ; setCharMovePoint
  00112	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2621 : 						shiftBufCount(ptAct);

  00115	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00118	50		 push	 eax
  00119	e8 00 00 00 00	 call	 ?shiftBufCount@@YAXPAUaction@@@Z ; shiftBufCount
  0011e	83 c4 04	 add	 esp, 4

; 2622 : 						// ????????¤õ?¥J?
; 2623 : 						if (_partyTbl[i + 1] >= 0 && (i + 1) < MAX_PARTY)

  00121	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00124	0f bf 0c 45 02
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2+2]
  0012c	85 c9		 test	 ecx, ecx
  0012e	7c 42		 jl	 SHORT $LN10@setPartyMo
  00130	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00133	83 c0 01	 add	 eax, 1
  00136	83 f8 05	 cmp	 eax, 5
  00139	7d 37		 jge	 SHORT $LN10@setPartyMo

; 2624 : 						{
; 2625 : 							ptActNext = party[_partyTbl[i + 1]].ptAct;

  0013b	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0013e	0f bf 0c 45 02
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2+2]
  00146	6b d1 30	 imul	 edx, ecx, 48
  00149	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  0014f	89 45 e0	 mov	 DWORD PTR _ptActNext$[ebp], eax

; 2626 : 							stockCharMovePoint(ptActNext, ptAct->gx, ptAct->gy);

  00152	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00155	8b 88 b8 00 00
	00		 mov	 ecx, DWORD PTR [eax+184]
  0015b	51		 push	 ecx
  0015c	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  0015f	8b 82 b4 00 00
	00		 mov	 eax, DWORD PTR [edx+180]
  00165	50		 push	 eax
  00166	8b 4d e0	 mov	 ecx, DWORD PTR _ptActNext$[ebp]
  00169	51		 push	 ecx
  0016a	e8 00 00 00 00	 call	 ?stockCharMovePoint@@YAXPAUaction@@HH@Z ; stockCharMovePoint
  0016f	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN10@setPartyMo:

; 2627 : 						}
; 2628 : 					}
; 2629 : 				}
; 2630 : 			}
; 2631 : 			else

  00172	eb 02		 jmp	 SHORT $LN7@setPartyMo
$LN6@setPartyMo:

; 2632 : 				break;

  00174	eb 05		 jmp	 SHORT $LN3@setPartyMo
$LN7@setPartyMo:

; 2633 : 		}

  00176	e9 cb fe ff ff	 jmp	 $LN2@setPartyMo
$LN3@setPartyMo:

; 2634 : 	}
; 2635 : }

  0017b	5f		 pop	 edi
  0017c	5e		 pop	 esi
  0017d	5b		 pop	 ebx
  0017e	81 c4 e4 00 00
	00		 add	 esp, 228		; 000000e4H
  00184	3b ec		 cmp	 ebp, esp
  00186	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0018b	8b e5		 mov	 esp, ebp
  0018d	5d		 pop	 ebp
  0018e	c3		 ret	 0
?setPartyMovePoint@@YAXXZ ENDP				; setPartyMovePoint
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setPcMovePointToChar@@YAXHH@Z
_TEXT	SEGMENT
_gx$ = 8						; size = 4
_gy$ = 12						; size = 4
?setPcMovePointToChar@@YAXHH@Z PROC			; setPcMovePointToChar, COMDAT

; 2591 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2592 : 	if (partyModeFlag != 0 && (pc.status & CHR_STATUS_LEADER) != 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  00025	85 c0		 test	 eax, eax
  00027	74 48		 je	 SHORT $LN1@setPcMoveP
  00029	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+164
  0002e	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00033	74 3c		 je	 SHORT $LN1@setPcMoveP

; 2593 : 	{
; 2594 : 		if (_partyTbl[1] >= 0)

  00035	b8 02 00 00 00	 mov	 eax, 2
  0003a	c1 e0 00	 shl	 eax, 0
  0003d	0f bf 88 00 00
	00 00		 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax]
  00044	85 c9		 test	 ecx, ecx
  00046	7c 29		 jl	 SHORT $LN1@setPcMoveP

; 2595 : 			stockCharMovePoint(party[_partyTbl[1]].ptAct, gx, gy);

  00048	8b 45 0c	 mov	 eax, DWORD PTR _gy$[ebp]
  0004b	50		 push	 eax
  0004c	8b 4d 08	 mov	 ecx, DWORD PTR _gx$[ebp]
  0004f	51		 push	 ecx
  00050	ba 02 00 00 00	 mov	 edx, 2
  00055	c1 e2 00	 shl	 edx, 0
  00058	0f bf 82 00 00
	00 00		 movsx	 eax, WORD PTR ?_partyTbl@@3PAFA[edx]
  0005f	6b c8 30	 imul	 ecx, eax, 48
  00062	8b 91 2c 00 00
	00		 mov	 edx, DWORD PTR ?party@@3PAUPARTY@@A[ecx+44]
  00068	52		 push	 edx
  00069	e8 00 00 00 00	 call	 ?stockCharMovePoint@@YAXPAUaction@@HH@Z ; stockCharMovePoint
  0006e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@setPcMoveP:

; 2596 : 	}
; 2597 : }

  00071	5f		 pop	 edi
  00072	5e		 pop	 esi
  00073	5b		 pop	 ebx
  00074	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0007a	3b ec		 cmp	 ebp, esp
  0007c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00081	8b e5		 mov	 esp, ebp
  00083	5d		 pop	 ebp
  00084	c3		 ret	 0
?setPcMovePointToChar@@YAXHH@Z ENDP			; setPcMovePointToChar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_getMoveRoute2@@YAXXZ
_TEXT	SEGMENT
_i$ = -8						; size = 4
?_getMoveRoute2@@YAXXZ PROC				; _getMoveRoute2, COMDAT

; 2852 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2853 : 	int i;
; 2854 : 
; 2855 : 	for (i = 0; i < MOVE_MAX2 && moveRouteCnt > 0; i++)

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00025	eb 09		 jmp	 SHORT $LN4@getMoveRou
$LN2@getMoveRou:
  00027	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0002a	83 c0 01	 add	 eax, 1
  0002d	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@getMoveRou:
  00030	83 7d f8 01	 cmp	 DWORD PTR _i$[ebp], 1
  00034	7d 40		 jge	 SHORT $LN1@getMoveRou
  00036	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0003d	85 c0		 test	 eax, eax
  0003f	7e 35		 jle	 SHORT $LN1@getMoveRou

; 2856 : 	{
; 2857 : 		moveRoute2[moveRouteCnt2] = moveRoute[0];

  00041	b8 02 00 00 00	 mov	 eax, 2
  00046	6b c8 00	 imul	 ecx, eax, 0
  00049	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00050	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?moveRoute@@3PAFA[ecx]
  00057	66 89 04 55 00
	00 00 00	 mov	 WORD PTR ?moveRoute2@@3PAFA[edx*2], ax

; 2858 : 		moveRouteCnt2++;

  0005f	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00065	66 83 c0 01	 add	 ax, 1
  00069	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt2@@3FA, ax ; moveRouteCnt2

; 2859 : 		shiftRouteMap();

  0006f	e8 00 00 00 00	 call	 ?shiftRouteMap@@YAXXZ	; shiftRouteMap

; 2860 : 	}

  00074	eb b1		 jmp	 SHORT $LN2@getMoveRou
$LN1@getMoveRou:

; 2861 : }

  00076	5f		 pop	 edi
  00077	5e		 pop	 esi
  00078	5b		 pop	 ebx
  00079	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0007f	3b ec		 cmp	 ebp, esp
  00081	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00086	8b e5		 mov	 esp, ebp
  00088	5d		 pop	 ebp
  00089	c3		 ret	 0
?_getMoveRoute2@@YAXXZ ENDP				; _getMoveRoute2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_execEtcEvent@@YAHXZ
_TEXT	SEGMENT
tv73 = -196						; size = 4
?_execEtcEvent@@YAHXZ PROC				; _execEtcEvent, COMDAT

; 2818 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2819 : 	if (_etcEventFlag)

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?_etcEventFlag@@3HA, 0 ; _etcEventFlag
  00025	0f 84 90 00 00
	00		 je	 $LN4@execEtcEve

; 2820 : 	{
; 2821 : 		if (justGoalFlag)

  0002b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?justGoalFlag@@3FA ; justGoalFlag
  00032	85 c0		 test	 eax, eax
  00034	74 1b		 je	 SHORT $LN5@execEtcEve

; 2822 : 		{
; 2823 : 			if (_etcEventStep > 0)

  00036	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_etcEventStep@@3FA ; _etcEventStep
  0003d	85 c0		 test	 eax, eax
  0003f	7e 10		 jle	 SHORT $LN5@execEtcEve

; 2824 : 				_etcEventStep--;

  00041	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?_etcEventStep@@3FA ; _etcEventStep
  00047	66 83 e8 01	 sub	 ax, 1
  0004b	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventStep@@3FA, ax ; _etcEventStep
$LN5@execEtcEve:

; 2825 : 		}
; 2826 : 		if (_etcEventStep <= 0)

  00051	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_etcEventStep@@3FA ; _etcEventStep
  00058	85 c0		 test	 eax, eax
  0005a	7f 5f		 jg	 SHORT $LN4@execEtcEve

; 2827 : 		{
; 2828 : 			switch (_etcEventMode)

  0005c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?_etcEventMode@@3FA ; _etcEventMode
  00063	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv73[ebp], eax
  00069	83 bd 3c ff ff
	ff 01		 cmp	 DWORD PTR tv73[ebp], 1
  00070	74 14		 je	 SHORT $LN8@execEtcEve
  00072	83 bd 3c ff ff
	ff 02		 cmp	 DWORD PTR tv73[ebp], 2
  00079	74 12		 je	 SHORT $LN9@execEtcEve
  0007b	83 bd 3c ff ff
	ff 03		 cmp	 DWORD PTR tv73[ebp], 3
  00082	74 19		 je	 SHORT $LN11@execEtcEve
  00084	eb 1c		 jmp	 SHORT $LN2@execEtcEve
$LN8@execEtcEve:

; 2829 : 			{
; 2830 : 				case etcEventMode_Warp:
; 2831 : 					_sendWarpEvent();

  00086	e8 00 00 00 00	 call	 ?_sendWarpEvent@@YAXXZ	; _sendWarpEvent

; 2832 : 					break;

  0008b	eb 15		 jmp	 SHORT $LN2@execEtcEve
$LN9@execEtcEve:

; 2833 : 				case etcEventMode_LocalEncount:
; 2834 : 					//cary ¾É°æÓöµÐ
; 2835 : 					if (!bNewServer)

  0008d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00094	75 05		 jne	 SHORT $LN10@execEtcEve

; 2836 : 						_sendEncount();

  00096	e8 00 00 00 00	 call	 ?_sendEncount@@YAXXZ	; _sendEncount
$LN10@execEtcEve:

; 2837 : 					//end test
; 2838 : 					break;

  0009b	eb 05		 jmp	 SHORT $LN2@execEtcEve
$LN11@execEtcEve:

; 2839 : 				case etcEventMode_Enemy:
; 2840 : 					_sendEnemyEvent();

  0009d	e8 00 00 00 00	 call	 ?_sendEnemyEvent@@YAXXZ	; _sendEnemyEvent
$LN2@execEtcEve:

; 2841 : 					break;
; 2842 : 			}
; 2843 : 			_etcEventFlag = FALSE;

  000a2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?_etcEventFlag@@3HA, 0 ; _etcEventFlag

; 2844 : 			_etcEventStep = 0;

  000ac	33 c0		 xor	 eax, eax
  000ae	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventStep@@3FA, ax ; _etcEventStep

; 2845 : 			return TRUE;

  000b4	b8 01 00 00 00	 mov	 eax, 1
  000b9	eb 02		 jmp	 SHORT $LN1@execEtcEve
$LN4@execEtcEve:

; 2846 : 		}
; 2847 : 	}
; 2848 : 	return FALSE;

  000bb	33 c0		 xor	 eax, eax
$LN1@execEtcEve:

; 2849 : }

  000bd	5f		 pop	 edi
  000be	5e		 pop	 esi
  000bf	5b		 pop	 ebx
  000c0	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  000c6	3b ec		 cmp	 ebp, esp
  000c8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000cd	8b e5		 mov	 esp, ebp
  000cf	5d		 pop	 ebp
  000d0	c3		 ret	 0
?_execEtcEvent@@YAHXZ ENDP				; _execEtcEvent
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_etcEventCheck@@YAXXZ
_TEXT	SEGMENT
tv168 = -292						; size = 4
_tmpDir$ = -92						; size = 4
_breakFlag$ = -80					; size = 4
_ogy$ = -68						; size = 4
_ogx$ = -56						; size = 4
_gy$ = -44						; size = 4
_gx$ = -32						; size = 4
_dir$ = -20						; size = 4
_i$ = -8						; size = 4
?_etcEventCheck@@YAXXZ PROC				; _etcEventCheck, COMDAT

; 2755 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 24 01 00
	00		 sub	 esp, 292		; 00000124H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd dc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-292]
  00012	b9 49 00 00 00	 mov	 ecx, 73			; 00000049H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2756 : 	int i, dir, gx, gy, ogx, ogy;
; 2757 : 	BOOL breakFlag;
; 2758 : 	float tmpDir;
; 2759 : 
; 2760 : 	gx = nowGx;

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00023	89 45 e0	 mov	 DWORD PTR _gx$[ebp], eax

; 2761 : 	gy = nowGy;

  00026	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0002b	89 45 d4	 mov	 DWORD PTR _gy$[ebp], eax

; 2762 : 	ogx = gx;

  0002e	8b 45 e0	 mov	 eax, DWORD PTR _gx$[ebp]
  00031	89 45 c8	 mov	 DWORD PTR _ogx$[ebp], eax

; 2763 : 	ogy = gy;

  00034	8b 45 d4	 mov	 eax, DWORD PTR _gy$[ebp]
  00037	89 45 bc	 mov	 DWORD PTR _ogy$[ebp], eax

; 2764 : 	breakFlag = FALSE;

  0003a	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _breakFlag$[ebp], 0

; 2765 : 
; 2766 : 	for (i = 0; i < moveRouteCnt2; i++)

  00041	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00048	eb 09		 jmp	 SHORT $LN4@etcEventCh
$LN2@etcEventCh:
  0004a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0004d	83 c0 01	 add	 eax, 1
  00050	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@etcEventCh:
  00053	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  0005a	39 45 f8	 cmp	 DWORD PTR _i$[ebp], eax
  0005d	0f 8d 96 01 00
	00		 jge	 $LN3@etcEventCh

; 2767 : 	{
; 2768 : 		gx += moveAddTbl[moveRoute2[i]][0];

  00063	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00066	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?moveRoute2@@3PAFA[eax*2]
  0006e	ba 02 00 00 00	 mov	 edx, 2
  00073	6b c2 00	 imul	 eax, edx, 0
  00076	0f bf 8c 88 00
	00 00 00	 movsx	 ecx, WORD PTR ?moveAddTbl@@3PAY01FA[eax+ecx*4]
  0007e	03 4d e0	 add	 ecx, DWORD PTR _gx$[ebp]
  00081	89 4d e0	 mov	 DWORD PTR _gx$[ebp], ecx

; 2769 : 		gy += moveAddTbl[moveRoute2[i]][1];

  00084	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00087	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?moveRoute2@@3PAFA[eax*2]
  0008f	ba 02 00 00 00	 mov	 edx, 2
  00094	c1 e2 00	 shl	 edx, 0
  00097	0f bf 84 8a 00
	00 00 00	 movsx	 eax, WORD PTR ?moveAddTbl@@3PAY01FA[edx+ecx*4]
  0009f	03 45 d4	 add	 eax, DWORD PTR _gy$[ebp]
  000a2	89 45 d4	 mov	 DWORD PTR _gy$[ebp], eax

; 2770 : 		tmpDir = Atan((float)(gx - ogx), (float)(gy - ogy)) + 22.5F;

  000a5	8b 45 d4	 mov	 eax, DWORD PTR _gy$[ebp]
  000a8	2b 45 bc	 sub	 eax, DWORD PTR _ogy$[ebp]
  000ab	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  000af	51		 push	 ecx
  000b0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b5	8b 4d e0	 mov	 ecx, DWORD PTR _gx$[ebp]
  000b8	2b 4d c8	 sub	 ecx, DWORD PTR _ogx$[ebp]
  000bb	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  000bf	51		 push	 ecx
  000c0	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c5	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  000ca	83 c4 08	 add	 esp, 8
  000cd	d9 9d dc fe ff
	ff		 fstp	 DWORD PTR tv168[ebp]
  000d3	f3 0f 10 85 dc
	fe ff ff	 movss	 xmm0, DWORD PTR tv168[ebp]
  000db	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  000e3	f3 0f 11 45 a4	 movss	 DWORD PTR _tmpDir$[ebp], xmm0

; 2771 : 		AdjustDir(&tmpDir);

  000e8	8d 45 a4	 lea	 eax, DWORD PTR _tmpDir$[ebp]
  000eb	50		 push	 eax
  000ec	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  000f1	83 c4 04	 add	 esp, 4

; 2772 : 		dir = (int)(tmpDir / 45);

  000f4	f3 0f 10 45 a4	 movss	 xmm0, DWORD PTR _tmpDir$[ebp]
  000f9	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  00101	f3 0f 2c c0	 cvttss2si eax, xmm0
  00105	89 45 ec	 mov	 DWORD PTR _dir$[ebp], eax

; 2773 : 
; 2774 : 		if (_checkEnemyEvent(gx, gy))

  00108	8b 45 d4	 mov	 eax, DWORD PTR _gy$[ebp]
  0010b	50		 push	 eax
  0010c	8b 4d e0	 mov	 ecx, DWORD PTR _gx$[ebp]
  0010f	51		 push	 ecx
  00110	e8 00 00 00 00	 call	 ?_checkEnemyEvent@@YAHHH@Z ; _checkEnemyEvent
  00115	83 c4 08	 add	 esp, 8
  00118	85 c0		 test	 eax, eax
  0011a	74 50		 je	 SHORT $LN5@etcEventCh

; 2775 : 		{
; 2776 : 			_etcEventFlag = TRUE;

  0011c	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?_etcEventFlag@@3HA, 1 ; _etcEventFlag

; 2777 : 			_etcEventStep = i;

  00126	66 8b 45 f8	 mov	 ax, WORD PTR _i$[ebp]
  0012a	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventStep@@3FA, ax ; _etcEventStep

; 2778 : 			_etcEventMode = etcEventMode_Enemy;

  00130	b8 03 00 00 00	 mov	 eax, 3
  00135	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventMode@@3FA, ax ; _etcEventMode

; 2779 : 			_enemyEventDir = dir - 3;

  0013b	8b 45 ec	 mov	 eax, DWORD PTR _dir$[ebp]
  0013e	83 e8 03	 sub	 eax, 3
  00141	a3 00 00 00 00	 mov	 DWORD PTR ?_enemyEventDir@@3HA, eax ; _enemyEventDir

; 2780 : 			if (_enemyEventDir < 0)

  00146	79 0d		 jns	 SHORT $LN7@etcEventCh

; 2781 : 				_enemyEventDir += 8;

  00148	a1 00 00 00 00	 mov	 eax, DWORD PTR ?_enemyEventDir@@3HA ; _enemyEventDir
  0014d	83 c0 08	 add	 eax, 8
  00150	a3 00 00 00 00	 mov	 DWORD PTR ?_enemyEventDir@@3HA, eax ; _enemyEventDir
$LN7@etcEventCh:

; 2782 : 			i--;

  00155	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00158	83 e8 01	 sub	 eax, 1
  0015b	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 2783 : 			breakFlag = TRUE;

  0015e	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _breakFlag$[ebp], 1

; 2784 : 			break;

  00165	e9 8f 00 00 00	 jmp	 $LN3@etcEventCh
  0016a	eb 7c		 jmp	 SHORT $LN10@etcEventCh
$LN5@etcEventCh:

; 2785 : 		}
; 2786 : 		else if (_checkWarpEvent(gx, gy))

  0016c	8b 45 d4	 mov	 eax, DWORD PTR _gy$[ebp]
  0016f	50		 push	 eax
  00170	8b 4d e0	 mov	 ecx, DWORD PTR _gx$[ebp]
  00173	51		 push	 ecx
  00174	e8 00 00 00 00	 call	 ?_checkWarpEvent@@YAHHH@Z ; _checkWarpEvent
  00179	83 c4 08	 add	 esp, 8
  0017c	85 c0		 test	 eax, eax
  0017e	74 2c		 je	 SHORT $LN8@etcEventCh

; 2787 : 		{
; 2788 : 			_etcEventFlag = TRUE;

  00180	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?_etcEventFlag@@3HA, 1 ; _etcEventFlag

; 2789 : 			_etcEventStep = i + 1;

  0018a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0018d	83 c0 01	 add	 eax, 1
  00190	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventStep@@3FA, ax ; _etcEventStep

; 2790 : 			_etcEventMode = etcEventMode_Warp;

  00196	b8 01 00 00 00	 mov	 eax, 1
  0019b	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventMode@@3FA, ax ; _etcEventMode

; 2791 : 			breakFlag = TRUE;

  001a1	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _breakFlag$[ebp], 1

; 2792 : 			break;

  001a8	eb 4f		 jmp	 SHORT $LN3@etcEventCh
  001aa	eb 3c		 jmp	 SHORT $LN10@etcEventCh
$LN8@etcEventCh:

; 2793 : 		}
; 2794 : 		else if (_checkEncount())

  001ac	e8 00 00 00 00	 call	 ?_checkEncount@@YAHXZ	; _checkEncount
  001b1	85 c0		 test	 eax, eax
  001b3	74 33		 je	 SHORT $LN10@etcEventCh

; 2795 : 		{
; 2796 : 			//cary ¾É°æÓöµÐ
; 2797 : 			if (!bNewServer)

  001b5	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  001bc	75 28		 jne	 SHORT $LN11@etcEventCh

; 2798 : 			{
; 2799 : 				_etcEventFlag = TRUE;

  001be	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?_etcEventFlag@@3HA, 1 ; _etcEventFlag

; 2800 : 				_etcEventStep = i + 1;

  001c8	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  001cb	83 c0 01	 add	 eax, 1
  001ce	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventStep@@3FA, ax ; _etcEventStep

; 2801 : 				_etcEventMode = etcEventMode_LocalEncount;

  001d4	b8 02 00 00 00	 mov	 eax, 2
  001d9	66 a3 00 00 00
	00		 mov	 WORD PTR ?_etcEventMode@@3FA, ax ; _etcEventMode

; 2802 : 				breakFlag = TRUE;

  001df	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _breakFlag$[ebp], 1
$LN11@etcEventCh:

; 2803 : 			}
; 2804 : 			break;

  001e6	eb 11		 jmp	 SHORT $LN3@etcEventCh
$LN10@etcEventCh:

; 2805 : 			//end cary
; 2806 : 		}
; 2807 : 		ogx = gx;

  001e8	8b 45 e0	 mov	 eax, DWORD PTR _gx$[ebp]
  001eb	89 45 c8	 mov	 DWORD PTR _ogx$[ebp], eax

; 2808 : 		ogy = gy;

  001ee	8b 45 d4	 mov	 eax, DWORD PTR _gy$[ebp]
  001f1	89 45 bc	 mov	 DWORD PTR _ogy$[ebp], eax

; 2809 : 	}

  001f4	e9 51 fe ff ff	 jmp	 $LN2@etcEventCh
$LN3@etcEventCh:

; 2810 : 	if (i < MOVE_MAX2 && breakFlag)

  001f9	83 7d f8 01	 cmp	 DWORD PTR _i$[ebp], 1
  001fd	7d 1a		 jge	 SHORT $LN12@etcEventCh
  001ff	83 7d b0 00	 cmp	 DWORD PTR _breakFlag$[ebp], 0
  00203	74 14		 je	 SHORT $LN12@etcEventCh

; 2811 : 	{
; 2812 : 		moveRouteCnt2 = i + 1;

  00205	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00208	83 c0 01	 add	 eax, 1
  0020b	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt2@@3FA, ax ; moveRouteCnt2

; 2813 : 		moveRouteCnt = 0;

  00211	33 c0		 xor	 eax, eax
  00213	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt
$LN12@etcEventCh:

; 2814 : 	}
; 2815 : }

  00219	52		 push	 edx
  0021a	8b cd		 mov	 ecx, ebp
  0021c	50		 push	 eax
  0021d	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN16@etcEventCh
  00223	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00228	58		 pop	 eax
  00229	5a		 pop	 edx
  0022a	5f		 pop	 edi
  0022b	5e		 pop	 esi
  0022c	5b		 pop	 ebx
  0022d	81 c4 24 01 00
	00		 add	 esp, 292		; 00000124H
  00233	3b ec		 cmp	 ebp, esp
  00235	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0023a	8b e5		 mov	 esp, ebp
  0023c	5d		 pop	 ebp
  0023d	c3		 ret	 0
  0023e	66 90		 npad	 2
$LN16@etcEventCh:
  00240	01 00 00 00	 DD	 1
  00244	00 00 00 00	 DD	 $LN15@etcEventCh
$LN15@etcEventCh:
  00248	a4 ff ff ff	 DD	 -92			; ffffffa4H
  0024c	04 00 00 00	 DD	 4
  00250	00 00 00 00	 DD	 $LN14@etcEventCh
$LN14@etcEventCh:
  00254	74		 DB	 116			; 00000074H
  00255	6d		 DB	 109			; 0000006dH
  00256	70		 DB	 112			; 00000070H
  00257	44		 DB	 68			; 00000044H
  00258	69		 DB	 105			; 00000069H
  00259	72		 DB	 114			; 00000072H
  0025a	00		 DB	 0
?_etcEventCheck@@YAXXZ ENDP				; _etcEventCheck
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?CheckCRC@@YAGPAEH@Z
_TEXT	SEGMENT
_i$ = -20						; size = 4
_crc$ = -8						; size = 2
_p$ = 8							; size = 4
_size$ = 12						; size = 4
?CheckCRC@@YAGPAEH@Z PROC				; CheckCRC, COMDAT

; 1443 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1444 : 	unsigned short	crc = 0;

  0001e	33 c0		 xor	 eax, eax
  00020	66 89 45 f8	 mov	 WORD PTR _crc$[ebp], ax

; 1445 : 	int		i;
; 1446 : 	
; 1447 : 	for (i = 0; i < size; i ++)

  00024	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0002b	eb 09		 jmp	 SHORT $LN4@CheckCRC
$LN2@CheckCRC:
  0002d	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00030	83 c0 01	 add	 eax, 1
  00033	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN4@CheckCRC:
  00036	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00039	3b 45 0c	 cmp	 eax, DWORD PTR _size$[ebp]
  0003c	7d 35		 jge	 SHORT $LN3@CheckCRC

; 1448 : 	{
; 1449 : 		crc = (crctab16[(crc >> 8) & 0xFF] ^ (crc << 8) ^ BitTable[p[i]]);

  0003e	0f b7 45 f8	 movzx	 eax, WORD PTR _crc$[ebp]
  00042	c1 f8 08	 sar	 eax, 8
  00045	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0004a	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?crctab16@@3PAGA[eax*2]
  00052	0f b7 55 f8	 movzx	 edx, WORD PTR _crc$[ebp]
  00056	c1 e2 08	 shl	 edx, 8
  00059	33 ca		 xor	 ecx, edx
  0005b	8b 45 08	 mov	 eax, DWORD PTR _p$[ebp]
  0005e	03 45 ec	 add	 eax, DWORD PTR _i$[ebp]
  00061	0f b6 10	 movzx	 edx, BYTE PTR [eax]
  00064	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR ?BitTable@@3PAEA[edx]
  0006b	33 c8		 xor	 ecx, eax
  0006d	66 89 4d f8	 mov	 WORD PTR _crc$[ebp], cx

; 1450 : 	}

  00071	eb ba		 jmp	 SHORT $LN2@CheckCRC
$LN3@CheckCRC:

; 1451 : 	return crc;

  00073	66 8b 45 f8	 mov	 ax, WORD PTR _crc$[ebp]

; 1452 : }

  00077	5f		 pop	 edi
  00078	5e		 pop	 esi
  00079	5b		 pop	 ebx
  0007a	8b e5		 mov	 esp, ebp
  0007c	5d		 pop	 ebp
  0007d	c3		 ret	 0
?CheckCRC@@YAGPAEH@Z ENDP				; CheckCRC
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?sort_parts@@YAHPAUPARTS@@0@Z
_TEXT	SEGMENT
_h$ = -20						; size = 2
_w$ = -8						; size = 2
_ptc$ = 8						; size = 4
_ptp$ = 12						; size = 4
?sort_parts@@YAHPAUPARTS@@0@Z PROC			; sort_parts, COMDAT

; 738  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 739  : 	S2 w, h;
; 740  : 	if (ptc->mx > ptp->mx && ptc->my < ptp->my)

  0001e	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  00021	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  00024	f3 0f 10 40 08	 movss	 xmm0, DWORD PTR [eax+8]
  00029	0f 2f 41 08	 comiss	 xmm0, DWORD PTR [ecx+8]
  0002d	76 20		 jbe	 SHORT $LN2@sort_parts
  0002f	8b 45 0c	 mov	 eax, DWORD PTR _ptp$[ebp]
  00032	8b 4d 08	 mov	 ecx, DWORD PTR _ptc$[ebp]
  00035	f3 0f 10 40 0c	 movss	 xmm0, DWORD PTR [eax+12]
  0003a	0f 2f 41 0c	 comiss	 xmm0, DWORD PTR [ecx+12]
  0003e	76 0f		 jbe	 SHORT $LN2@sort_parts

; 741  : 		return 1;

  00040	b8 01 00 00 00	 mov	 eax, 1
  00045	e9 98 00 00 00	 jmp	 $LN1@sort_parts

; 742  : 	else

  0004a	e9 8e 00 00 00	 jmp	 $LN10@sort_parts
$LN2@sort_parts:

; 743  : 	{
; 744  : 		realGetHitPoints(ptp->bmpNO, &w, &h);

  0004f	8d 45 ec	 lea	 eax, DWORD PTR _h$[ebp]
  00052	50		 push	 eax
  00053	8d 4d f8	 lea	 ecx, DWORD PTR _w$[ebp]
  00056	51		 push	 ecx
  00057	8b 55 0c	 mov	 edx, DWORD PTR _ptp$[ebp]
  0005a	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?realGetHitPoints@@YAHKPAF0@Z ; realGetHitPoints
  00063	83 c4 0c	 add	 esp, 12			; 0000000cH

; 745  : 		if (ptc->x > ptp->x)

  00066	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  00069	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  0006c	8b 10		 mov	 edx, DWORD PTR [eax]
  0006e	3b 11		 cmp	 edx, DWORD PTR [ecx]
  00070	7e 26		 jle	 SHORT $LN4@sort_parts

; 746  : 		{
; 747  : 			if (ptp->y - (w - 1) * SURFACE_HEIGHT / 2 <= ptc->y)

  00072	0f bf 45 f8	 movsx	 eax, WORD PTR _w$[ebp]
  00076	83 e8 01	 sub	 eax, 1
  00079	6b c0 30	 imul	 eax, eax, 48
  0007c	99		 cdq
  0007d	2b c2		 sub	 eax, edx
  0007f	d1 f8		 sar	 eax, 1
  00081	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  00084	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00087	2b d0		 sub	 edx, eax
  00089	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  0008c	3b 50 04	 cmp	 edx, DWORD PTR [eax+4]
  0008f	7f 05		 jg	 SHORT $LN6@sort_parts

; 748  : 				return -1;

  00091	83 c8 ff	 or	 eax, -1
  00094	eb 4c		 jmp	 SHORT $LN1@sort_parts
$LN6@sort_parts:

; 749  : 		}

  00096	eb 45		 jmp	 SHORT $LN10@sort_parts
$LN4@sort_parts:

; 750  : 		else if (ptc->x < ptp->x)

  00098	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  0009b	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  0009e	8b 10		 mov	 edx, DWORD PTR [eax]
  000a0	3b 11		 cmp	 edx, DWORD PTR [ecx]
  000a2	7d 26		 jge	 SHORT $LN7@sort_parts

; 751  : 		{
; 752  : 			if (ptp->y - (h - 1) * SURFACE_HEIGHT / 2 <= ptc->y)

  000a4	0f bf 45 ec	 movsx	 eax, WORD PTR _h$[ebp]
  000a8	83 e8 01	 sub	 eax, 1
  000ab	6b c0 30	 imul	 eax, eax, 48
  000ae	99		 cdq
  000af	2b c2		 sub	 eax, edx
  000b1	d1 f8		 sar	 eax, 1
  000b3	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  000b6	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  000b9	2b d0		 sub	 edx, eax
  000bb	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  000be	3b 50 04	 cmp	 edx, DWORD PTR [eax+4]
  000c1	7f 05		 jg	 SHORT $LN9@sort_parts

; 753  : 				return -1;

  000c3	83 c8 ff	 or	 eax, -1
  000c6	eb 1a		 jmp	 SHORT $LN1@sort_parts
$LN9@sort_parts:

; 754  : 		}
; 755  : 		else

  000c8	eb 13		 jmp	 SHORT $LN10@sort_parts
$LN7@sort_parts:

; 756  : 		{
; 757  : 			if (ptp->y <= ptc->y)

  000ca	8b 45 0c	 mov	 eax, DWORD PTR _ptp$[ebp]
  000cd	8b 4d 08	 mov	 ecx, DWORD PTR _ptc$[ebp]
  000d0	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000d3	3b 51 04	 cmp	 edx, DWORD PTR [ecx+4]
  000d6	7f 05		 jg	 SHORT $LN10@sort_parts

; 758  : 				return -1;

  000d8	83 c8 ff	 or	 eax, -1
  000db	eb 05		 jmp	 SHORT $LN1@sort_parts
$LN10@sort_parts:

; 759  : 		}
; 760  : 	}
; 761  : 	return 1;

  000dd	b8 01 00 00 00	 mov	 eax, 1
$LN1@sort_parts:

; 762  : 
; 763  : }

  000e2	52		 push	 edx
  000e3	8b cd		 mov	 ecx, ebp
  000e5	50		 push	 eax
  000e6	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN15@sort_parts
  000ec	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000f1	58		 pop	 eax
  000f2	5a		 pop	 edx
  000f3	5f		 pop	 edi
  000f4	5e		 pop	 esi
  000f5	5b		 pop	 ebx
  000f6	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000fc	3b ec		 cmp	 ebp, esp
  000fe	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00103	8b e5		 mov	 esp, ebp
  00105	5d		 pop	 ebp
  00106	c3		 ret	 0
  00107	90		 npad	 1
$LN15@sort_parts:
  00108	02 00 00 00	 DD	 2
  0010c	00 00 00 00	 DD	 $LN14@sort_parts
$LN14@sort_parts:
  00110	f8 ff ff ff	 DD	 -8			; fffffff8H
  00114	02 00 00 00	 DD	 2
  00118	00 00 00 00	 DD	 $LN12@sort_parts
  0011c	ec ff ff ff	 DD	 -20			; ffffffecH
  00120	02 00 00 00	 DD	 2
  00124	00 00 00 00	 DD	 $LN13@sort_parts
$LN13@sort_parts:
  00128	68		 DB	 104			; 00000068H
  00129	00		 DB	 0
$LN12@sort_parts:
  0012a	77		 DB	 119			; 00000077H
  0012b	00		 DB	 0
?sort_parts@@YAHPAUPARTS@@0@Z ENDP			; sort_parts
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setEventMemory@@YAXHHG@Z
_TEXT	SEGMENT
_x$ = 8							; size = 4
_y$ = 12						; size = 4
_ev$ = 16						; size = 2
?setEventMemory@@YAXHHG@Z PROC				; setEventMemory, COMDAT

; 472  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 473  : 	event[(y - mapAreaY1) * mapAreaWidth + (x - mapAreaX1)] = ev;

  0001e	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  00021	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00027	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0002e	8b 4d 08	 mov	 ecx, DWORD PTR _x$[ebp]
  00031	2b 0d 00 00 00
	00		 sub	 ecx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00037	03 c1		 add	 eax, ecx
  00039	66 8b 55 10	 mov	 dx, WORD PTR _ev$[ebp]
  0003d	66 89 14 45 00
	00 00 00	 mov	 WORD PTR ?event@@3PAGA[eax*2], dx

; 474  : }

  00045	5f		 pop	 edi
  00046	5e		 pop	 esi
  00047	5b		 pop	 ebx
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
?setEventMemory@@YAXHHG@Z ENDP				; setEventMemory
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?createAutoMap@@YAHHHH@Z
_TEXT	SEGMENT
_l$1 = -18096						; size = 4
_k$2 = -18084						; size = 4
_hitY$3 = -18072					; size = 2
_hitX$4 = -18060					; size = 2
_hit$5 = -18048						; size = 2
_bmpNo$6 = -18036					; size = 4
_event$ = -18024					; size = 5832
_parts$ = -12184					; size = 5832
_tile$ = -6344						; size = 5832
_index$ = -504						; size = 4
_y2$ = -492						; size = 4
_x2$ = -480						; size = 4
_y1$ = -468						; size = 4
_x1$ = -456						; size = 4
_j$ = -444						; size = 4
_i$ = -432						; size = 4
_len2$ = -420						; size = 4
_len$ = -408						; size = 4
_my$ = -396						; size = 4
_mx$ = -384						; size = 4
_fy$ = -372						; size = 4
_fx$ = -360						; size = 4
_height$ = -348						; size = 4
_width$ = -336						; size = 4
_mWidth$ = -324						; size = 4
_fOffset$ = -312					; size = 4
_fHeight$ = -300					; size = 4
_fWidth$ = -288						; size = 4
_filename$ = -276					; size = 255
_fp$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_floor$ = 8						; size = 4
_gx$ = 12						; size = 4
_gy$ = 16						; size = 4
?createAutoMap@@YAHHHH@Z PROC				; createAutoMap, COMDAT

; 4029 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 b4 4c 00 00	 mov	 eax, 19636		; 00004cb4H
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	53		 push	 ebx
  0000e	56		 push	 esi
  0000f	57		 push	 edi
  00010	8d bd 4c b3 ff
	ff		 lea	 edi, DWORD PTR [ebp-19636]
  00016	b9 2d 13 00 00	 mov	 ecx, 4909		; 0000132dH
  0001b	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  00020	f3 ab		 rep stosd
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00027	33 c5		 xor	 eax, ebp
  00029	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 4030 : 	FILE *fp;
; 4031 : 	char filename[255];
; 4032 : 	int fWidth, fHeight, fOffset, mWidth, width, height, fx, fy, mx, my, len, len2, i, j;
; 4033 : 	int x1, y1, x2, y2, index;
; 4034 : 	unsigned short tile[AUTO_MAPPING_W*AUTO_MAPPING_H];
; 4035 : 	unsigned short parts[AUTO_MAPPING_W*AUTO_MAPPING_H];
; 4036 : 	unsigned short event[AUTO_MAPPING_W*AUTO_MAPPING_H];
; 4037 : 
; 4038 : 	memset(autoMappingBuf, 0, sizeof(autoMappingBuf));

  0002c	68 64 0b 00 00	 push	 2916			; 00000b64H
  00031	6a 00		 push	 0
  00033	68 00 00 00 00	 push	 OFFSET ?autoMappingBuf@@3PAY0DG@EA ; autoMappingBuf
  00038	e8 00 00 00 00	 call	 _memset
  0003d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4039 : 	// ¥‚???????þ?þÎ
; 4040 : 	sprintf(filename, "map\\%d.dat", floor);

  00040	8b 45 08	 mov	 eax, DWORD PTR _floor$[ebp]
  00043	50		 push	 eax
  00044	68 00 00 00 00	 push	 OFFSET ??_C@_0L@FCEGIJN@map?2?$CFd?4dat?$AA@
  00049	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR _filename$[ebp]
  0004f	51		 push	 ecx
  00050	e8 00 00 00 00	 call	 _sprintf
  00055	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4041 : 	// ????????
; 4042 : 	if ((fp = fopen(filename, "rb"))==NULL)

  00058	8b f4		 mov	 esi, esp
  0005a	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  0005f	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  00065	50		 push	 eax
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  0006c	83 c4 08	 add	 esp, 8
  0006f	3b f4		 cmp	 esi, esp
  00071	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00076	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  00079	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  0007d	75 7c		 jne	 SHORT $LN29@createAuto

; 4043 : 	{
; 4044 : 		// ûº¦???????????????þ†???
; 4045 : 		// ??????????
; 4046 : 		_mkdir("map");

  0007f	8b f4		 mov	 esi, esp
  00081	68 00 00 00 00	 push	 OFFSET ??_C@_03HBNNNHNM@map?$AA@
  00086	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___mkdir
  0008c	83 c4 04	 add	 esp, 4
  0008f	3b f4		 cmp	 esi, esp
  00091	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4047 : 		// ¥‚?????????
; 4048 : 		fp = fopen(filename, "wb");

  00096	8b f4		 mov	 esi, esp
  00098	68 00 00 00 00	 push	 OFFSET ??_C@_02GMLFBBN@wb?$AA@
  0009d	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  000a3	50		 push	 eax
  000a4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  000aa	83 c4 08	 add	 esp, 8
  000ad	3b f4		 cmp	 esi, esp
  000af	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000b4	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax

; 4049 : 		fclose(fp);

  000b7	8b f4		 mov	 esi, esp
  000b9	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  000bc	50		 push	 eax
  000bd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  000c3	83 c4 04	 add	 esp, 4
  000c6	3b f4		 cmp	 esi, esp
  000c8	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4050 : 		// ¥‚??????????¥T????
; 4051 : 		if ((fp = fopen(filename, "rb")) == NULL)

  000cd	8b f4		 mov	 esi, esp
  000cf	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  000d4	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  000da	50		 push	 eax
  000db	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  000e1	83 c4 08	 add	 esp, 8
  000e4	3b f4		 cmp	 esi, esp
  000e6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000eb	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  000ee	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  000f2	75 07		 jne	 SHORT $LN29@createAuto

; 4052 : 			return FALSE;

  000f4	33 c0		 xor	 eax, eax
  000f6	e9 52 07 00 00	 jmp	 $LN1@createAuto
$LN29@createAuto:

; 4053 : 	}
; 4054 : 
; 4055 : 	memset(tile, 0, sizeof(tile));

  000fb	68 c8 16 00 00	 push	 5832			; 000016c8H
  00100	6a 00		 push	 0
  00102	8d 85 38 e7 ff
	ff		 lea	 eax, DWORD PTR _tile$[ebp]
  00108	50		 push	 eax
  00109	e8 00 00 00 00	 call	 _memset
  0010e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4056 : 	memset(parts, 0, sizeof(parts));

  00111	68 c8 16 00 00	 push	 5832			; 000016c8H
  00116	6a 00		 push	 0
  00118	8d 85 68 d0 ff
	ff		 lea	 eax, DWORD PTR _parts$[ebp]
  0011e	50		 push	 eax
  0011f	e8 00 00 00 00	 call	 _memset
  00124	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4057 : 	memset(event, 0, sizeof(event));

  00127	68 c8 16 00 00	 push	 5832			; 000016c8H
  0012c	6a 00		 push	 0
  0012e	8d 85 98 b9 ff
	ff		 lea	 eax, DWORD PTR _event$[ebp]
  00134	50		 push	 eax
  00135	e8 00 00 00 00	 call	 _memset
  0013a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4058 : 	fseek(fp, 0, SEEK_SET);

  0013d	8b f4		 mov	 esi, esp
  0013f	6a 00		 push	 0
  00141	6a 00		 push	 0
  00143	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00146	50		 push	 eax
  00147	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  0014d	83 c4 0c	 add	 esp, 12			; 0000000cH
  00150	3b f4		 cmp	 esi, esp
  00152	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4059 : 	fread(&fWidth,  sizeof(int), 1, fp);

  00157	8b f4		 mov	 esi, esp
  00159	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0015c	50		 push	 eax
  0015d	6a 01		 push	 1
  0015f	6a 04		 push	 4
  00161	8d 8d e0 fe ff
	ff		 lea	 ecx, DWORD PTR _fWidth$[ebp]
  00167	51		 push	 ecx
  00168	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0016e	83 c4 10	 add	 esp, 16			; 00000010H
  00171	3b f4		 cmp	 esi, esp
  00173	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4060 : 	fread(&fHeight, sizeof(int), 1, fp);

  00178	8b f4		 mov	 esi, esp
  0017a	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0017d	50		 push	 eax
  0017e	6a 01		 push	 1
  00180	6a 04		 push	 4
  00182	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _fHeight$[ebp]
  00188	51		 push	 ecx
  00189	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0018f	83 c4 10	 add	 esp, 16			; 00000010H
  00192	3b f4		 cmp	 esi, esp
  00194	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4061 : 	x1 = gx - (AUTO_MAPPING_W >> 1);

  00199	8b 45 0c	 mov	 eax, DWORD PTR _gx$[ebp]
  0019c	83 e8 1b	 sub	 eax, 27			; 0000001bH
  0019f	89 85 38 fe ff
	ff		 mov	 DWORD PTR _x1$[ebp], eax

; 4062 : 	y1 = gy - (AUTO_MAPPING_H >> 1);

  001a5	8b 45 10	 mov	 eax, DWORD PTR _gy$[ebp]
  001a8	83 e8 1b	 sub	 eax, 27			; 0000001bH
  001ab	89 85 2c fe ff
	ff		 mov	 DWORD PTR _y1$[ebp], eax

; 4063 : 	x2 = x1 + AUTO_MAPPING_W;

  001b1	8b 85 38 fe ff
	ff		 mov	 eax, DWORD PTR _x1$[ebp]
  001b7	83 c0 36	 add	 eax, 54			; 00000036H
  001ba	89 85 20 fe ff
	ff		 mov	 DWORD PTR _x2$[ebp], eax

; 4064 : 	y2 = y1 + AUTO_MAPPING_H;

  001c0	8b 85 2c fe ff
	ff		 mov	 eax, DWORD PTR _y1$[ebp]
  001c6	83 c0 36	 add	 eax, 54			; 00000036H
  001c9	89 85 14 fe ff
	ff		 mov	 DWORD PTR _y2$[ebp], eax

; 4065 : 	mWidth = x2 - x1;

  001cf	8b 85 20 fe ff
	ff		 mov	 eax, DWORD PTR _x2$[ebp]
  001d5	2b 85 38 fe ff
	ff		 sub	 eax, DWORD PTR _x1$[ebp]
  001db	89 85 bc fe ff
	ff		 mov	 DWORD PTR _mWidth$[ebp], eax

; 4066 : 	width = mWidth;

  001e1	8b 85 bc fe ff
	ff		 mov	 eax, DWORD PTR _mWidth$[ebp]
  001e7	89 85 b0 fe ff
	ff		 mov	 DWORD PTR _width$[ebp], eax

; 4067 : 	height = y2 - y1;

  001ed	8b 85 14 fe ff
	ff		 mov	 eax, DWORD PTR _y2$[ebp]
  001f3	2b 85 2c fe ff
	ff		 sub	 eax, DWORD PTR _y1$[ebp]
  001f9	89 85 a4 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], eax

; 4068 : 	mx = 0;

  001ff	c7 85 80 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _mx$[ebp], 0

; 4069 : 	fx = x1;

  00209	8b 85 38 fe ff
	ff		 mov	 eax, DWORD PTR _x1$[ebp]
  0020f	89 85 98 fe ff
	ff		 mov	 DWORD PTR _fx$[ebp], eax

; 4070 : 	if (x1 < 0)

  00215	83 bd 38 fe ff
	ff 00		 cmp	 DWORD PTR _x1$[ebp], 0
  0021c	7d 2e		 jge	 SHORT $LN31@createAuto

; 4071 : 	{
; 4072 : 		width += x1;

  0021e	8b 85 b0 fe ff
	ff		 mov	 eax, DWORD PTR _width$[ebp]
  00224	03 85 38 fe ff
	ff		 add	 eax, DWORD PTR _x1$[ebp]
  0022a	89 85 b0 fe ff
	ff		 mov	 DWORD PTR _width$[ebp], eax

; 4073 : 		fx = 0;

  00230	c7 85 98 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _fx$[ebp], 0

; 4074 : 		mx -= x1;

  0023a	8b 85 80 fe ff
	ff		 mov	 eax, DWORD PTR _mx$[ebp]
  00240	2b 85 38 fe ff
	ff		 sub	 eax, DWORD PTR _x1$[ebp]
  00246	89 85 80 fe ff
	ff		 mov	 DWORD PTR _mx$[ebp], eax
$LN31@createAuto:

; 4075 : 	}
; 4076 : 	if (x2 > fWidth)

  0024c	8b 85 20 fe ff
	ff		 mov	 eax, DWORD PTR _x2$[ebp]
  00252	3b 85 e0 fe ff
	ff		 cmp	 eax, DWORD PTR _fWidth$[ebp]
  00258	7e 1a		 jle	 SHORT $LN32@createAuto

; 4077 : 		width -= (x2 - fWidth);

  0025a	8b 85 20 fe ff
	ff		 mov	 eax, DWORD PTR _x2$[ebp]
  00260	2b 85 e0 fe ff
	ff		 sub	 eax, DWORD PTR _fWidth$[ebp]
  00266	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  0026c	2b c8		 sub	 ecx, eax
  0026e	89 8d b0 fe ff
	ff		 mov	 DWORD PTR _width$[ebp], ecx
$LN32@createAuto:

; 4078 : 	my = 0;

  00274	c7 85 74 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _my$[ebp], 0

; 4079 : 	fy = y1;

  0027e	8b 85 2c fe ff
	ff		 mov	 eax, DWORD PTR _y1$[ebp]
  00284	89 85 8c fe ff
	ff		 mov	 DWORD PTR _fy$[ebp], eax

; 4080 : 	if (y1 < 0)

  0028a	83 bd 2c fe ff
	ff 00		 cmp	 DWORD PTR _y1$[ebp], 0
  00291	7d 2e		 jge	 SHORT $LN33@createAuto

; 4081 : 	{
; 4082 : 		height += y1;

  00293	8b 85 a4 fe ff
	ff		 mov	 eax, DWORD PTR _height$[ebp]
  00299	03 85 2c fe ff
	ff		 add	 eax, DWORD PTR _y1$[ebp]
  0029f	89 85 a4 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], eax

; 4083 : 		fy = 0;

  002a5	c7 85 8c fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _fy$[ebp], 0

; 4084 : 		my -= y1;

  002af	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  002b5	2b 85 2c fe ff
	ff		 sub	 eax, DWORD PTR _y1$[ebp]
  002bb	89 85 74 fe ff
	ff		 mov	 DWORD PTR _my$[ebp], eax
$LN33@createAuto:

; 4085 : 	}
; 4086 : 	if (y2 > fHeight)

  002c1	8b 85 14 fe ff
	ff		 mov	 eax, DWORD PTR _y2$[ebp]
  002c7	3b 85 d4 fe ff
	ff		 cmp	 eax, DWORD PTR _fHeight$[ebp]
  002cd	7e 1a		 jle	 SHORT $LN34@createAuto

; 4087 : 		height -= (y2 - fHeight);

  002cf	8b 85 14 fe ff
	ff		 mov	 eax, DWORD PTR _y2$[ebp]
  002d5	2b 85 d4 fe ff
	ff		 sub	 eax, DWORD PTR _fHeight$[ebp]
  002db	8b 8d a4 fe ff
	ff		 mov	 ecx, DWORD PTR _height$[ebp]
  002e1	2b c8		 sub	 ecx, eax
  002e3	89 8d a4 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], ecx
$LN34@createAuto:

; 4088 : 
; 4089 : 	fOffset = sizeof(int) << 1;

  002e9	c7 85 c8 fe ff
	ff 08 00 00 00	 mov	 DWORD PTR _fOffset$[ebp], 8

; 4090 : 	len = fy * fWidth + fx;

  002f3	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  002f9	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  00300	03 85 98 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  00306	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 4091 : 	len2 = my * mWidth + mx;

  0030c	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  00312	0f af 85 bc fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  00319	03 85 80 fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  0031f	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 4092 : 	for (i = 0; i < height; i++)

  00325	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0032f	eb 0f		 jmp	 SHORT $LN4@createAuto
$LN2@createAuto:
  00331	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00337	83 c0 01	 add	 eax, 1
  0033a	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@createAuto:
  00340	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00346	3b 85 a4 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  0034c	0f 8d 80 00 00
	00		 jge	 $LN3@createAuto

; 4093 : 	{
; 4094 : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  00352	8b f4		 mov	 esi, esp
  00354	6a 00		 push	 0
  00356	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  0035c	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00362	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00365	52		 push	 edx
  00366	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00369	50		 push	 eax
  0036a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00370	83 c4 0c	 add	 esp, 12			; 0000000cH
  00373	3b f4		 cmp	 esi, esp
  00375	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4095 : 		fread(&tile[len2], sizeof(short) * width, 1, fp);

  0037a	8b f4		 mov	 esi, esp
  0037c	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0037f	50		 push	 eax
  00380	6a 01		 push	 1
  00382	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  00388	d1 e1		 shl	 ecx, 1
  0038a	51		 push	 ecx
  0038b	8b 95 5c fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  00391	8d 84 55 38 e7
	ff ff		 lea	 eax, DWORD PTR _tile$[ebp+edx*2]
  00398	50		 push	 eax
  00399	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0039f	83 c4 10	 add	 esp, 16			; 00000010H
  003a2	3b f4		 cmp	 esi, esp
  003a4	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4096 : 		len  += fWidth;

  003a9	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  003af	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  003b5	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 4097 : 		len2 += mWidth;

  003bb	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  003c1	03 85 bc fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  003c7	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 4098 : 	}

  003cd	e9 5f ff ff ff	 jmp	 $LN2@createAuto
$LN3@createAuto:

; 4099 : 
; 4100 : 	fOffset += sizeof(short) * (fWidth * fHeight);

  003d2	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _fWidth$[ebp]
  003d8	0f af 85 d4 fe
	ff ff		 imul	 eax, DWORD PTR _fHeight$[ebp]
  003df	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  003e5	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  003e8	89 95 c8 fe ff
	ff		 mov	 DWORD PTR _fOffset$[ebp], edx

; 4101 : 	len = fy * fWidth + fx;

  003ee	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  003f4	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  003fb	03 85 98 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  00401	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 4102 : 	len2 = my * mWidth + mx;

  00407	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  0040d	0f af 85 bc fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  00414	03 85 80 fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  0041a	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 4103 : 	for (i = 0; i < height; i++)

  00420	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0042a	eb 0f		 jmp	 SHORT $LN7@createAuto
$LN5@createAuto:
  0042c	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00432	83 c0 01	 add	 eax, 1
  00435	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN7@createAuto:
  0043b	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00441	3b 85 a4 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  00447	0f 8d 80 00 00
	00		 jge	 $LN6@createAuto

; 4104 : 	{
; 4105 : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  0044d	8b f4		 mov	 esi, esp
  0044f	6a 00		 push	 0
  00451	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  00457	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  0045d	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00460	52		 push	 edx
  00461	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00464	50		 push	 eax
  00465	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  0046b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0046e	3b f4		 cmp	 esi, esp
  00470	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4106 : 		fread(&parts[len2], sizeof(short) * width, 1, fp);

  00475	8b f4		 mov	 esi, esp
  00477	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0047a	50		 push	 eax
  0047b	6a 01		 push	 1
  0047d	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  00483	d1 e1		 shl	 ecx, 1
  00485	51		 push	 ecx
  00486	8b 95 5c fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  0048c	8d 84 55 68 d0
	ff ff		 lea	 eax, DWORD PTR _parts$[ebp+edx*2]
  00493	50		 push	 eax
  00494	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0049a	83 c4 10	 add	 esp, 16			; 00000010H
  0049d	3b f4		 cmp	 esi, esp
  0049f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4107 : 		len  += fWidth;

  004a4	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  004aa	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  004b0	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 4108 : 		len2 += mWidth;

  004b6	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  004bc	03 85 bc fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  004c2	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 4109 : 	}

  004c8	e9 5f ff ff ff	 jmp	 $LN5@createAuto
$LN6@createAuto:

; 4110 : 	fOffset += sizeof(short) * (fWidth * fHeight);

  004cd	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _fWidth$[ebp]
  004d3	0f af 85 d4 fe
	ff ff		 imul	 eax, DWORD PTR _fHeight$[ebp]
  004da	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  004e0	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  004e3	89 95 c8 fe ff
	ff		 mov	 DWORD PTR _fOffset$[ebp], edx

; 4111 : 	len = fy * fWidth + fx;

  004e9	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  004ef	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  004f6	03 85 98 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  004fc	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 4112 : 	len2 = my * mWidth + mx;

  00502	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  00508	0f af 85 bc fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  0050f	03 85 80 fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  00515	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 4113 : 	for (i = 0; i < height; i++)

  0051b	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  00525	eb 0f		 jmp	 SHORT $LN10@createAuto
$LN8@createAuto:
  00527	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0052d	83 c0 01	 add	 eax, 1
  00530	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN10@createAuto:
  00536	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0053c	3b 85 a4 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  00542	0f 8d 80 00 00
	00		 jge	 $LN9@createAuto

; 4114 : 	{
; 4115 : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  00548	8b f4		 mov	 esi, esp
  0054a	6a 00		 push	 0
  0054c	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  00552	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00558	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0055b	52		 push	 edx
  0055c	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0055f	50		 push	 eax
  00560	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00566	83 c4 0c	 add	 esp, 12			; 0000000cH
  00569	3b f4		 cmp	 esi, esp
  0056b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4116 : 		fread(&event[len2], sizeof(short) * width, 1, fp);

  00570	8b f4		 mov	 esi, esp
  00572	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00575	50		 push	 eax
  00576	6a 01		 push	 1
  00578	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  0057e	d1 e1		 shl	 ecx, 1
  00580	51		 push	 ecx
  00581	8b 95 5c fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  00587	8d 84 55 98 b9
	ff ff		 lea	 eax, DWORD PTR _event$[ebp+edx*2]
  0058e	50		 push	 eax
  0058f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00595	83 c4 10	 add	 esp, 16			; 00000010H
  00598	3b f4		 cmp	 esi, esp
  0059a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4117 : 		len  += fWidth;

  0059f	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  005a5	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  005ab	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 4118 : 		len2 += mWidth;

  005b1	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  005b7	03 85 bc fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  005bd	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 4119 : 	}

  005c3	e9 5f ff ff ff	 jmp	 $LN8@createAuto
$LN9@createAuto:

; 4120 : 	fclose (fp);

  005c8	8b f4		 mov	 esi, esp
  005ca	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  005cd	50		 push	 eax
  005ce	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  005d4	83 c4 04	 add	 esp, 4
  005d7	3b f4		 cmp	 esi, esp
  005d9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4121 : 	// ???¡@¤e
; 4122 : 	for (i = 0; i < AUTO_MAPPING_H; i++)

  005de	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  005e8	eb 0f		 jmp	 SHORT $LN13@createAuto
$LN11@createAuto:
  005ea	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  005f0	83 c0 01	 add	 eax, 1
  005f3	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN13@createAuto:
  005f9	83 bd 50 fe ff
	ff 36		 cmp	 DWORD PTR _i$[ebp], 54	; 00000036H
  00600	7d 77		 jge	 SHORT $LN12@createAuto

; 4123 : 	{
; 4124 : 		for (j = 0; j < AUTO_MAPPING_W; j++)

  00602	c7 85 44 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  0060c	eb 0f		 jmp	 SHORT $LN16@createAuto
$LN14@createAuto:
  0060e	8b 85 44 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  00614	83 c0 01	 add	 eax, 1
  00617	89 85 44 fe ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN16@createAuto:
  0061d	83 bd 44 fe ff
	ff 36		 cmp	 DWORD PTR _j$[ebp], 54	; 00000036H
  00624	7d 4e		 jge	 SHORT $LN15@createAuto

; 4125 : 		{
; 4126 : 			// ??????þ†?ýÍ?????????¤úû¨???
; 4127 : 			if (event[i * AUTO_MAPPING_W + j] & MAP_SEE_FLAG)

  00626	6b 85 50 fe ff
	ff 36		 imul	 eax, DWORD PTR _i$[ebp], 54
  0062d	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  00633	0f b7 8c 45 98
	b9 ff ff	 movzx	 ecx, WORD PTR _event$[ebp+eax*2]
  0063b	81 e1 00 40 00
	00		 and	 ecx, 16384		; 00004000H
  00641	74 2f		 je	 SHORT $LN35@createAuto

; 4128 : 			{
; 4129 : 				autoMappingBuf[i][j] = autoMapColorTbl[tile[i * AUTO_MAPPING_W + j]];

  00643	6b 85 50 fe ff
	ff 36		 imul	 eax, DWORD PTR _i$[ebp], 54
  0064a	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  00650	0f b7 8c 45 38
	e7 ff ff	 movzx	 ecx, WORD PTR _tile$[ebp+eax*2]
  00658	6b 95 50 fe ff
	ff 36		 imul	 edx, DWORD PTR _i$[ebp], 54
  0065f	8b 85 44 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  00665	8a 89 00 00 00
	00		 mov	 cl, BYTE PTR ?autoMapColorTbl@@3PAEA[ecx]
  0066b	88 8c 02 00 00
	00 00		 mov	 BYTE PTR ?autoMappingBuf@@3PAY0DG@EA[edx+eax], cl
$LN35@createAuto:

; 4130 : 			}
; 4131 : 		}

  00672	eb 9a		 jmp	 SHORT $LN14@createAuto
$LN15@createAuto:

; 4132 : 	}

  00674	e9 71 ff ff ff	 jmp	 $LN11@createAuto
$LN12@createAuto:

; 4133 : 	// ???¡@¤e
; 4134 : 	for (i = 0; i < AUTO_MAPPING_H; i++)

  00679	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  00683	eb 0f		 jmp	 SHORT $LN19@createAuto
$LN17@createAuto:
  00685	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0068b	83 c0 01	 add	 eax, 1
  0068e	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN19@createAuto:
  00694	83 bd 50 fe ff
	ff 36		 cmp	 DWORD PTR _i$[ebp], 54	; 00000036H
  0069b	0f 8d a7 01 00
	00		 jge	 $LN18@createAuto

; 4135 : 	{
; 4136 : 		for (j = 0; j < AUTO_MAPPING_W; j++)

  006a1	c7 85 44 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  006ab	eb 0f		 jmp	 SHORT $LN22@createAuto
$LN20@createAuto:
  006ad	8b 85 44 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  006b3	83 c0 01	 add	 eax, 1
  006b6	89 85 44 fe ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN22@createAuto:
  006bc	83 bd 44 fe ff
	ff 36		 cmp	 DWORD PTR _j$[ebp], 54	; 00000036H
  006c3	0f 8d 7a 01 00
	00		 jge	 $LN21@createAuto

; 4137 : 		{
; 4138 : 			// ??????þ†?ýÍ?????????¤úû¨???
; 4139 : 			if (event[i*AUTO_MAPPING_W+j] & MAP_SEE_FLAG)

  006c9	6b 85 50 fe ff
	ff 36		 imul	 eax, DWORD PTR _i$[ebp], 54
  006d0	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  006d6	0f b7 8c 45 98
	b9 ff ff	 movzx	 ecx, WORD PTR _event$[ebp+eax*2]
  006de	81 e1 00 40 00
	00		 and	 ecx, 16384		; 00004000H
  006e4	0f 84 54 01 00
	00		 je	 $LN36@createAuto

; 4140 : 			{
; 4141 : 				index = autoMapColorTbl[parts[i * AUTO_MAPPING_W + j]];

  006ea	6b 85 50 fe ff
	ff 36		 imul	 eax, DWORD PTR _i$[ebp], 54
  006f1	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  006f7	0f b7 8c 45 68
	d0 ff ff	 movzx	 ecx, WORD PTR _parts$[ebp+eax*2]
  006ff	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR ?autoMapColorTbl@@3PAEA[ecx]
  00706	89 95 08 fe ff
	ff		 mov	 DWORD PTR _index$[ebp], edx

; 4142 : 				if (index != 0)

  0070c	83 bd 08 fe ff
	ff 00		 cmp	 DWORD PTR _index$[ebp], 0
  00713	0f 84 25 01 00
	00		 je	 $LN36@createAuto

; 4143 : 				{
; 4144 : 					U4 bmpNo;
; 4145 : 					S2 hit, hitX, hitY;
; 4146 : 					int k, l;
; 4147 : 
; 4148 : 					realGetNo(parts[i * AUTO_MAPPING_W + j], &bmpNo);

  00719	8d 85 8c b9 ff
	ff		 lea	 eax, DWORD PTR _bmpNo$6[ebp]
  0071f	50		 push	 eax
  00720	6b 8d 50 fe ff
	ff 36		 imul	 ecx, DWORD PTR _i$[ebp], 54
  00727	03 8d 44 fe ff
	ff		 add	 ecx, DWORD PTR _j$[ebp]
  0072d	0f b7 94 4d 68
	d0 ff ff	 movzx	 edx, WORD PTR _parts$[ebp+ecx*2]
  00735	52		 push	 edx
  00736	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo
  0073b	83 c4 08	 add	 esp, 8

; 4149 : 					// ???§R¤e??þ†
; 4150 : 					realGetHitFlag(bmpNo, &hit);

  0073e	8d 85 80 b9 ff
	ff		 lea	 eax, DWORD PTR _hit$5[ebp]
  00744	50		 push	 eax
  00745	8b 8d 8c b9 ff
	ff		 mov	 ecx, DWORD PTR _bmpNo$6[ebp]
  0074b	51		 push	 ecx
  0074c	e8 00 00 00 00	 call	 ?realGetHitFlag@@YAHKPAF@Z ; realGetHitFlag
  00751	83 c4 08	 add	 esp, 8

; 4151 : 					// ???§R¤e?????????¡@¤e
; 4152 : 					if (hit == 0)

  00754	0f bf 85 80 b9
	ff ff		 movsx	 eax, WORD PTR _hit$5[ebp]
  0075b	85 c0		 test	 eax, eax
  0075d	0f 85 c1 00 00
	00		 jne	 $LN38@createAuto

; 4153 : 					{
; 4154 : 						realGetHitPoints(bmpNo, &hitX, &hitY);

  00763	8d 85 68 b9 ff
	ff		 lea	 eax, DWORD PTR _hitY$3[ebp]
  00769	50		 push	 eax
  0076a	8d 8d 74 b9 ff
	ff		 lea	 ecx, DWORD PTR _hitX$4[ebp]
  00770	51		 push	 ecx
  00771	8b 95 8c b9 ff
	ff		 mov	 edx, DWORD PTR _bmpNo$6[ebp]
  00777	52		 push	 edx
  00778	e8 00 00 00 00	 call	 ?realGetHitPoints@@YAHKPAF0@Z ; realGetHitPoints
  0077d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4155 : 						for (k = 0; k < hitY; k++)

  00780	c7 85 5c b9 ff
	ff 00 00 00 00	 mov	 DWORD PTR _k$2[ebp], 0
  0078a	eb 0f		 jmp	 SHORT $LN25@createAuto
$LN23@createAuto:
  0078c	8b 85 5c b9 ff
	ff		 mov	 eax, DWORD PTR _k$2[ebp]
  00792	83 c0 01	 add	 eax, 1
  00795	89 85 5c b9 ff
	ff		 mov	 DWORD PTR _k$2[ebp], eax
$LN25@createAuto:
  0079b	0f bf 85 68 b9
	ff ff		 movsx	 eax, WORD PTR _hitY$3[ebp]
  007a2	39 85 5c b9 ff
	ff		 cmp	 DWORD PTR _k$2[ebp], eax
  007a8	7d 78		 jge	 SHORT $LN24@createAuto

; 4156 : 						{
; 4157 : 							for (l = 0; l < hitX; l++)

  007aa	c7 85 50 b9 ff
	ff 00 00 00 00	 mov	 DWORD PTR _l$1[ebp], 0
  007b4	eb 0f		 jmp	 SHORT $LN28@createAuto
$LN26@createAuto:
  007b6	8b 85 50 b9 ff
	ff		 mov	 eax, DWORD PTR _l$1[ebp]
  007bc	83 c0 01	 add	 eax, 1
  007bf	89 85 50 b9 ff
	ff		 mov	 DWORD PTR _l$1[ebp], eax
$LN28@createAuto:
  007c5	0f bf 85 74 b9
	ff ff		 movsx	 eax, WORD PTR _hitX$4[ebp]
  007cc	39 85 50 b9 ff
	ff		 cmp	 DWORD PTR _l$1[ebp], eax
  007d2	7d 49		 jge	 SHORT $LN27@createAuto

; 4158 : 							{
; 4159 : 								if ((i - k) >= 0 && (j + l) < AUTO_MAPPING_W)

  007d4	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  007da	2b 85 5c b9 ff
	ff		 sub	 eax, DWORD PTR _k$2[ebp]
  007e0	78 39		 js	 SHORT $LN40@createAuto
  007e2	8b 85 44 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  007e8	03 85 50 b9 ff
	ff		 add	 eax, DWORD PTR _l$1[ebp]
  007ee	83 f8 36	 cmp	 eax, 54			; 00000036H
  007f1	7d 28		 jge	 SHORT $LN40@createAuto

; 4160 : 									autoMappingBuf[i - k][j + l] = index;

  007f3	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  007f9	2b 85 5c b9 ff
	ff		 sub	 eax, DWORD PTR _k$2[ebp]
  007ff	6b c8 36	 imul	 ecx, eax, 54
  00802	8b 95 44 fe ff
	ff		 mov	 edx, DWORD PTR _j$[ebp]
  00808	03 95 50 b9 ff
	ff		 add	 edx, DWORD PTR _l$1[ebp]
  0080e	8a 85 08 fe ff
	ff		 mov	 al, BYTE PTR _index$[ebp]
  00814	88 84 11 00 00
	00 00		 mov	 BYTE PTR ?autoMappingBuf@@3PAY0DG@EA[ecx+edx], al
$LN40@createAuto:

; 4161 : 							}

  0081b	eb 99		 jmp	 SHORT $LN26@createAuto
$LN27@createAuto:

; 4162 : 						}

  0081d	e9 6a ff ff ff	 jmp	 $LN23@createAuto
$LN24@createAuto:

; 4163 : 					}
; 4164 : 					else

  00822	eb 1a		 jmp	 SHORT $LN36@createAuto
$LN38@createAuto:

; 4165 : 						autoMappingBuf[i][j] = index;

  00824	6b 85 50 fe ff
	ff 36		 imul	 eax, DWORD PTR _i$[ebp], 54
  0082b	8b 8d 44 fe ff
	ff		 mov	 ecx, DWORD PTR _j$[ebp]
  00831	8a 95 08 fe ff
	ff		 mov	 dl, BYTE PTR _index$[ebp]
  00837	88 94 08 00 00
	00 00		 mov	 BYTE PTR ?autoMappingBuf@@3PAY0DG@EA[eax+ecx], dl
$LN36@createAuto:

; 4166 : 				}
; 4167 : 			}
; 4168 : 		}

  0083e	e9 6a fe ff ff	 jmp	 $LN20@createAuto
$LN21@createAuto:

; 4169 : 	}

  00843	e9 3d fe ff ff	 jmp	 $LN17@createAuto
$LN18@createAuto:

; 4170 : 
; 4171 : 	return TRUE;

  00848	b8 01 00 00 00	 mov	 eax, 1
$LN1@createAuto:

; 4172 : }

  0084d	52		 push	 edx
  0084e	8b cd		 mov	 ecx, ebp
  00850	50		 push	 eax
  00851	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN53@createAuto
  00857	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0085c	58		 pop	 eax
  0085d	5a		 pop	 edx
  0085e	5f		 pop	 edi
  0085f	5e		 pop	 esi
  00860	5b		 pop	 ebx
  00861	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00864	33 cd		 xor	 ecx, ebp
  00866	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0086b	81 c4 b4 4c 00
	00		 add	 esp, 19636		; 00004cb4H
  00871	3b ec		 cmp	 ebp, esp
  00873	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00878	8b e5		 mov	 esp, ebp
  0087a	5d		 pop	 ebp
  0087b	c3		 ret	 0
$LN53@createAuto:
  0087c	0a 00 00 00	 DD	 10			; 0000000aH
  00880	00 00 00 00	 DD	 $LN52@createAuto
$LN52@createAuto:
  00884	ec fe ff ff	 DD	 -276			; fffffeecH
  00888	ff 00 00 00	 DD	 255			; 000000ffH
  0088c	00 00 00 00	 DD	 $LN42@createAuto
  00890	e0 fe ff ff	 DD	 -288			; fffffee0H
  00894	04 00 00 00	 DD	 4
  00898	00 00 00 00	 DD	 $LN43@createAuto
  0089c	d4 fe ff ff	 DD	 -300			; fffffed4H
  008a0	04 00 00 00	 DD	 4
  008a4	00 00 00 00	 DD	 $LN44@createAuto
  008a8	38 e7 ff ff	 DD	 -6344			; ffffe738H
  008ac	c8 16 00 00	 DD	 5832			; 000016c8H
  008b0	00 00 00 00	 DD	 $LN45@createAuto
  008b4	68 d0 ff ff	 DD	 -12184			; ffffd068H
  008b8	c8 16 00 00	 DD	 5832			; 000016c8H
  008bc	00 00 00 00	 DD	 $LN46@createAuto
  008c0	98 b9 ff ff	 DD	 -18024			; ffffb998H
  008c4	c8 16 00 00	 DD	 5832			; 000016c8H
  008c8	00 00 00 00	 DD	 $LN47@createAuto
  008cc	8c b9 ff ff	 DD	 -18036			; ffffb98cH
  008d0	04 00 00 00	 DD	 4
  008d4	00 00 00 00	 DD	 $LN48@createAuto
  008d8	80 b9 ff ff	 DD	 -18048			; ffffb980H
  008dc	02 00 00 00	 DD	 2
  008e0	00 00 00 00	 DD	 $LN49@createAuto
  008e4	74 b9 ff ff	 DD	 -18060			; ffffb974H
  008e8	02 00 00 00	 DD	 2
  008ec	00 00 00 00	 DD	 $LN50@createAuto
  008f0	68 b9 ff ff	 DD	 -18072			; ffffb968H
  008f4	02 00 00 00	 DD	 2
  008f8	00 00 00 00	 DD	 $LN51@createAuto
$LN51@createAuto:
  008fc	68		 DB	 104			; 00000068H
  008fd	69		 DB	 105			; 00000069H
  008fe	74		 DB	 116			; 00000074H
  008ff	59		 DB	 89			; 00000059H
  00900	00		 DB	 0
$LN50@createAuto:
  00901	68		 DB	 104			; 00000068H
  00902	69		 DB	 105			; 00000069H
  00903	74		 DB	 116			; 00000074H
  00904	58		 DB	 88			; 00000058H
  00905	00		 DB	 0
$LN49@createAuto:
  00906	68		 DB	 104			; 00000068H
  00907	69		 DB	 105			; 00000069H
  00908	74		 DB	 116			; 00000074H
  00909	00		 DB	 0
$LN48@createAuto:
  0090a	62		 DB	 98			; 00000062H
  0090b	6d		 DB	 109			; 0000006dH
  0090c	70		 DB	 112			; 00000070H
  0090d	4e		 DB	 78			; 0000004eH
  0090e	6f		 DB	 111			; 0000006fH
  0090f	00		 DB	 0
$LN47@createAuto:
  00910	65		 DB	 101			; 00000065H
  00911	76		 DB	 118			; 00000076H
  00912	65		 DB	 101			; 00000065H
  00913	6e		 DB	 110			; 0000006eH
  00914	74		 DB	 116			; 00000074H
  00915	00		 DB	 0
$LN46@createAuto:
  00916	70		 DB	 112			; 00000070H
  00917	61		 DB	 97			; 00000061H
  00918	72		 DB	 114			; 00000072H
  00919	74		 DB	 116			; 00000074H
  0091a	73		 DB	 115			; 00000073H
  0091b	00		 DB	 0
$LN45@createAuto:
  0091c	74		 DB	 116			; 00000074H
  0091d	69		 DB	 105			; 00000069H
  0091e	6c		 DB	 108			; 0000006cH
  0091f	65		 DB	 101			; 00000065H
  00920	00		 DB	 0
$LN44@createAuto:
  00921	66		 DB	 102			; 00000066H
  00922	48		 DB	 72			; 00000048H
  00923	65		 DB	 101			; 00000065H
  00924	69		 DB	 105			; 00000069H
  00925	67		 DB	 103			; 00000067H
  00926	68		 DB	 104			; 00000068H
  00927	74		 DB	 116			; 00000074H
  00928	00		 DB	 0
$LN43@createAuto:
  00929	66		 DB	 102			; 00000066H
  0092a	57		 DB	 87			; 00000057H
  0092b	69		 DB	 105			; 00000069H
  0092c	64		 DB	 100			; 00000064H
  0092d	74		 DB	 116			; 00000074H
  0092e	68		 DB	 104			; 00000068H
  0092f	00		 DB	 0
$LN42@createAuto:
  00930	66		 DB	 102			; 00000066H
  00931	69		 DB	 105			; 00000069H
  00932	6c		 DB	 108			; 0000006cH
  00933	65		 DB	 101			; 00000065H
  00934	6e		 DB	 110			; 0000006eH
  00935	61		 DB	 97			; 00000061H
  00936	6d		 DB	 109			; 0000006dH
  00937	65		 DB	 101			; 00000065H
  00938	00		 DB	 0
?createAutoMap@@YAHHHH@Z ENDP				; createAutoMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?delCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@@Z
_TEXT	SEGMENT
_pt1$ = 8						; size = 4
?delCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@@Z PROC ; delCharPartsPrio, COMDAT

; 3948 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3949 : 	if (pt1 == NULL)

  0001e	83 7d 08 00	 cmp	 DWORD PTR _pt1$[ebp], 0
  00022	75 02		 jne	 SHORT $LN2@delCharPar

; 3950 : 		return;

  00024	eb 32		 jmp	 SHORT $LN1@delCharPar
$LN2@delCharPar:

; 3951 : 	// ¡I¥d????????????
; 3952 : 	if (pt1->pre == NULL)

  00026	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  00029	83 78 24 00	 cmp	 DWORD PTR [eax+36], 0
  0002d	75 02		 jne	 SHORT $LN3@delCharPar

; 3953 : 		return;

  0002f	eb 27		 jmp	 SHORT $LN1@delCharPar
$LN3@delCharPar:

; 3954 : 	(pt1->pre)->next = pt1->next;

  00031	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  00034	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  00037	8b 55 08	 mov	 edx, DWORD PTR _pt1$[ebp]
  0003a	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0003d	89 41 28	 mov	 DWORD PTR [ecx+40], eax

; 3955 : 	if (pt1->next != NULL)

  00040	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  00043	83 78 28 00	 cmp	 DWORD PTR [eax+40], 0
  00047	74 0f		 je	 SHORT $LN1@delCharPar

; 3956 : 		(pt1->next)->pre = pt1->pre;

  00049	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  0004c	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  0004f	8b 55 08	 mov	 edx, DWORD PTR _pt1$[ebp]
  00052	8b 42 24	 mov	 eax, DWORD PTR [edx+36]
  00055	89 41 24	 mov	 DWORD PTR [ecx+36], eax
$LN1@delCharPar:

; 3957 : }

  00058	5f		 pop	 edi
  00059	5e		 pop	 esi
  0005a	5b		 pop	 ebx
  0005b	8b e5		 mov	 esp, ebp
  0005d	5d		 pop	 ebp
  0005e	c3		 ret	 0
?delCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@@Z ENDP ; delCharPartsPrio
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z
_TEXT	SEGMENT
_pt1$ = 8						; size = 4
_pt2$ = 12						; size = 4
?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z PROC ; addCharPartsPrio, COMDAT

; 3935 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3936 : 	if (pt1 == NULL || pt2 == NULL)

  0001e	83 7d 08 00	 cmp	 DWORD PTR _pt1$[ebp], 0
  00022	74 06		 je	 SHORT $LN3@addCharPar
  00024	83 7d 0c 00	 cmp	 DWORD PTR _pt2$[ebp], 0
  00028	75 02		 jne	 SHORT $LN2@addCharPar
$LN3@addCharPar:

; 3937 : 		return;

  0002a	eb 33		 jmp	 SHORT $LN1@addCharPar
$LN2@addCharPar:

; 3938 : 
; 3939 : 	pt2->pre = pt1;

  0002c	8b 45 0c	 mov	 eax, DWORD PTR _pt2$[ebp]
  0002f	8b 4d 08	 mov	 ecx, DWORD PTR _pt1$[ebp]
  00032	89 48 24	 mov	 DWORD PTR [eax+36], ecx

; 3940 : 	pt2->next = pt1->next;

  00035	8b 45 0c	 mov	 eax, DWORD PTR _pt2$[ebp]
  00038	8b 4d 08	 mov	 ecx, DWORD PTR _pt1$[ebp]
  0003b	8b 51 28	 mov	 edx, DWORD PTR [ecx+40]
  0003e	89 50 28	 mov	 DWORD PTR [eax+40], edx

; 3941 : 	if (pt1->next != NULL)

  00041	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  00044	83 78 28 00	 cmp	 DWORD PTR [eax+40], 0
  00048	74 0c		 je	 SHORT $LN4@addCharPar

; 3942 : 		(pt1->next)->pre = pt2;

  0004a	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  0004d	8b 48 28	 mov	 ecx, DWORD PTR [eax+40]
  00050	8b 55 0c	 mov	 edx, DWORD PTR _pt2$[ebp]
  00053	89 51 24	 mov	 DWORD PTR [ecx+36], edx
$LN4@addCharPar:

; 3943 : 	pt1->next = pt2;

  00056	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  00059	8b 4d 0c	 mov	 ecx, DWORD PTR _pt2$[ebp]
  0005c	89 48 28	 mov	 DWORD PTR [eax+40], ecx
$LN1@addCharPar:

; 3944 : }

  0005f	5f		 pop	 edi
  00060	5e		 pop	 esi
  00061	5b		 pop	 ebx
  00062	8b e5		 mov	 esp, ebp
  00064	5d		 pop	 ebp
  00065	c3		 ret	 0
?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ENDP ; addCharPartsPrio
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?insertCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z
_TEXT	SEGMENT
_pt1$ = 8						; size = 4
_pt2$ = 12						; size = 4
?insertCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z PROC ; insertCharPartsPrio, COMDAT

; 3923 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3924 : 	if (pt1 == NULL || pt2 == NULL)

  0001e	83 7d 08 00	 cmp	 DWORD PTR _pt1$[ebp], 0
  00022	74 06		 je	 SHORT $LN3@insertChar
  00024	83 7d 0c 00	 cmp	 DWORD PTR _pt2$[ebp], 0
  00028	75 02		 jne	 SHORT $LN2@insertChar
$LN3@insertChar:

; 3925 : 		return;

  0002a	eb 2a		 jmp	 SHORT $LN1@insertChar
$LN2@insertChar:

; 3926 : 
; 3927 : 	pt2->pre = pt1->pre;

  0002c	8b 45 0c	 mov	 eax, DWORD PTR _pt2$[ebp]
  0002f	8b 4d 08	 mov	 ecx, DWORD PTR _pt1$[ebp]
  00032	8b 51 24	 mov	 edx, DWORD PTR [ecx+36]
  00035	89 50 24	 mov	 DWORD PTR [eax+36], edx

; 3928 : 	pt2->next = pt1;

  00038	8b 45 0c	 mov	 eax, DWORD PTR _pt2$[ebp]
  0003b	8b 4d 08	 mov	 ecx, DWORD PTR _pt1$[ebp]
  0003e	89 48 28	 mov	 DWORD PTR [eax+40], ecx

; 3929 : 	(pt1->pre)->next = pt2;

  00041	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  00044	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  00047	8b 55 0c	 mov	 edx, DWORD PTR _pt2$[ebp]
  0004a	89 51 28	 mov	 DWORD PTR [ecx+40], edx

; 3930 : 	pt1->pre = pt2;

  0004d	8b 45 08	 mov	 eax, DWORD PTR _pt1$[ebp]
  00050	8b 4d 0c	 mov	 ecx, DWORD PTR _pt2$[ebp]
  00053	89 48 24	 mov	 DWORD PTR [eax+36], ecx
$LN1@insertChar:

; 3931 : }

  00056	5f		 pop	 edi
  00057	5e		 pop	 esi
  00058	5b		 pop	 ebx
  00059	8b e5		 mov	 esp, ebp
  0005b	5d		 pop	 ebp
  0005c	c3		 ret	 0
?insertCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ENDP ; insertCharPartsPrio
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?checkPrioPartsVsChar@@YAHPAUTAG_CHAR_PARTS_PRIORITY@@0@Z
_TEXT	SEGMENT
_h$ = -44						; size = 2
_w$ = -32						; size = 2
_prioType$ = -20					; size = 2
_hit$ = -8						; size = 2
_ptc$ = 8						; size = 4
_ptp$ = 12						; size = 4
?checkPrioPartsVsChar@@YAHPAUTAG_CHAR_PARTS_PRIORITY@@0@Z PROC ; checkPrioPartsVsChar, COMDAT

; 3843 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 10 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-240]
  00012	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3844 : 	short hit, prioType;
; 3845 : 	S2 w, h;
; 3846 : 
; 3847 : 	// ¤þ??¡I???¤e????ûè?üÒ?
; 3848 : 	realGetPrioType(ptp->graNo, &prioType);

  0001e	8d 45 ec	 lea	 eax, DWORD PTR _prioType$[ebp]
  00021	50		 push	 eax
  00022	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  00025	8b 11		 mov	 edx, DWORD PTR [ecx]
  00027	52		 push	 edx
  00028	e8 00 00 00 00	 call	 ?realGetPrioType@@YAHKPAF@Z ; realGetPrioType
  0002d	83 c4 08	 add	 esp, 8

; 3849 : 	// ???§R¤e??þ†
; 3850 : 	realGetHitFlag(ptp->graNo, &hit);

  00030	8d 45 f8	 lea	 eax, DWORD PTR _hit$[ebp]
  00033	50		 push	 eax
  00034	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  00037	8b 11		 mov	 edx, DWORD PTR [ecx]
  00039	52		 push	 edx
  0003a	e8 00 00 00 00	 call	 ?realGetHitFlag@@YAHKPAF@Z ; realGetHitFlag
  0003f	83 c4 08	 add	 esp, 8

; 3851 : 	// ¨÷??§Ä¢l? prioType == 3 ??????
; 3852 : 	if (hit != 0 && prioType == 3)

  00042	0f bf 45 f8	 movsx	 eax, WORD PTR _hit$[ebp]
  00046	85 c0		 test	 eax, eax
  00048	74 10		 je	 SHORT $LN2@checkPrioP
  0004a	0f bf 45 ec	 movsx	 eax, WORD PTR _prioType$[ebp]
  0004e	83 f8 03	 cmp	 eax, 3
  00051	75 07		 jne	 SHORT $LN2@checkPrioP

; 3853 : 		return FALSE;

  00053	33 c0		 xor	 eax, eax
  00055	e9 02 01 00 00	 jmp	 $LN1@checkPrioP
$LN2@checkPrioP:

; 3854 : 	// ????
; 3855 : 	//  ????????
; 3856 : /*	if (329585 <= ptp->graNo && ptp->graNo <= 329590)
; 3857 : 		return FALSE;*/
; 3858 : 	if (prioType == 1)

  0005a	0f bf 45 ec	 movsx	 eax, WORD PTR _prioType$[ebp]
  0005e	83 f8 01	 cmp	 eax, 1
  00061	75 35		 jne	 SHORT $LN5@checkPrioP

; 3859 : 	{
; 3860 : 		if (ptc->mx <= ptp->mx || ptc->my >= ptp->my)

  00063	8b 45 0c	 mov	 eax, DWORD PTR _ptp$[ebp]
  00066	8b 4d 08	 mov	 ecx, DWORD PTR _ptc$[ebp]
  00069	f3 0f 10 40 18	 movss	 xmm0, DWORD PTR [eax+24]
  0006e	0f 2f 41 18	 comiss	 xmm0, DWORD PTR [ecx+24]
  00072	73 11		 jae	 SHORT $LN6@checkPrioP
  00074	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  00077	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  0007a	f3 0f 10 40 1c	 movss	 xmm0, DWORD PTR [eax+28]
  0007f	0f 2f 41 1c	 comiss	 xmm0, DWORD PTR [ecx+28]
  00083	72 09		 jb	 SHORT $LN4@checkPrioP
$LN6@checkPrioP:

; 3861 : 			return FALSE;

  00085	33 c0		 xor	 eax, eax
  00087	e9 d0 00 00 00	 jmp	 $LN1@checkPrioP

; 3862 : 		else

  0008c	eb 0a		 jmp	 SHORT $LN5@checkPrioP
$LN4@checkPrioP:

; 3863 : 			return TRUE;

  0008e	b8 01 00 00 00	 mov	 eax, 1
  00093	e9 c4 00 00 00	 jmp	 $LN1@checkPrioP
$LN5@checkPrioP:

; 3864 : 	}
; 3865 : #if 0
; 3866 : 	// ????
; 3867 : 	//  ????¥i??????
; 3868 : 	else if (prioType == 2)
; 3869 : 	{
; 3870 : 		// ??¡@¤e??????????
; 3871 : 		if ((ptc->mx <= ptp->mx && ptc->my >= ptp->my) || (ptc->mx < ptp->mx-GRID_SIZE || ptc->my > ptp->my+GRID_SIZE))
; 3872 : 			return FALSE;
; 3873 : 		else
; 3874 : 			return TRUE;
; 3875 : 	}
; 3876 : #endif
; 3877 : 	// ??????????????
; 3878 : #if 1
; 3879 : 	if (ptc->mx > ptp->mx && ptc->my < ptp->my)

  00098	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  0009b	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  0009e	f3 0f 10 40 18	 movss	 xmm0, DWORD PTR [eax+24]
  000a3	0f 2f 41 18	 comiss	 xmm0, DWORD PTR [ecx+24]
  000a7	76 20		 jbe	 SHORT $LN7@checkPrioP
  000a9	8b 45 0c	 mov	 eax, DWORD PTR _ptp$[ebp]
  000ac	8b 4d 08	 mov	 ecx, DWORD PTR _ptc$[ebp]
  000af	f3 0f 10 40 1c	 movss	 xmm0, DWORD PTR [eax+28]
  000b4	0f 2f 41 1c	 comiss	 xmm0, DWORD PTR [ecx+28]
  000b8	76 0f		 jbe	 SHORT $LN7@checkPrioP

; 3880 : 		return TRUE;

  000ba	b8 01 00 00 00	 mov	 eax, 1
  000bf	e9 98 00 00 00	 jmp	 $LN1@checkPrioP

; 3881 : 	else

  000c4	e9 8e 00 00 00	 jmp	 $LN15@checkPrioP
$LN7@checkPrioP:

; 3882 : 	{
; 3883 : 		realGetHitPoints(ptp->graNo, &w, &h);

  000c9	8d 45 d4	 lea	 eax, DWORD PTR _h$[ebp]
  000cc	50		 push	 eax
  000cd	8d 4d e0	 lea	 ecx, DWORD PTR _w$[ebp]
  000d0	51		 push	 ecx
  000d1	8b 55 0c	 mov	 edx, DWORD PTR _ptp$[ebp]
  000d4	8b 02		 mov	 eax, DWORD PTR [edx]
  000d6	50		 push	 eax
  000d7	e8 00 00 00 00	 call	 ?realGetHitPoints@@YAHKPAF0@Z ; realGetHitPoints
  000dc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3884 : 		if (ptc->x > ptp->x)

  000df	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  000e2	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  000e5	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000e8	3b 51 04	 cmp	 edx, DWORD PTR [ecx+4]
  000eb	7e 25		 jle	 SHORT $LN9@checkPrioP

; 3885 : 		{
; 3886 : 			// PC??§Ä??¢D???
; 3887 : 			if (ptp->y - (w - 1) * SURFACE_HEIGHT / 2 <= ptc->y)

  000ed	0f bf 45 e0	 movsx	 eax, WORD PTR _w$[ebp]
  000f1	83 e8 01	 sub	 eax, 1
  000f4	6b c0 30	 imul	 eax, eax, 48
  000f7	99		 cdq
  000f8	2b c2		 sub	 eax, edx
  000fa	d1 f8		 sar	 eax, 1
  000fc	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  000ff	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00102	2b d0		 sub	 edx, eax
  00104	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  00107	3b 50 08	 cmp	 edx, DWORD PTR [eax+8]
  0010a	7f 04		 jg	 SHORT $LN11@checkPrioP

; 3888 : 				return FALSE;

  0010c	33 c0		 xor	 eax, eax
  0010e	eb 4c		 jmp	 SHORT $LN1@checkPrioP
$LN11@checkPrioP:

; 3889 : 		}

  00110	eb 45		 jmp	 SHORT $LN15@checkPrioP
$LN9@checkPrioP:

; 3890 : 		else if (ptc->x < ptp->x)

  00112	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  00115	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  00118	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0011b	3b 51 04	 cmp	 edx, DWORD PTR [ecx+4]
  0011e	7d 25		 jge	 SHORT $LN12@checkPrioP

; 3891 : 		{
; 3892 : 			// PC??§Ä??¢D???
; 3893 : 			if (ptp->y - (h - 1) * SURFACE_HEIGHT / 2 <= ptc->y)

  00120	0f bf 45 d4	 movsx	 eax, WORD PTR _h$[ebp]
  00124	83 e8 01	 sub	 eax, 1
  00127	6b c0 30	 imul	 eax, eax, 48
  0012a	99		 cdq
  0012b	2b c2		 sub	 eax, edx
  0012d	d1 f8		 sar	 eax, 1
  0012f	8b 4d 0c	 mov	 ecx, DWORD PTR _ptp$[ebp]
  00132	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00135	2b d0		 sub	 edx, eax
  00137	8b 45 08	 mov	 eax, DWORD PTR _ptc$[ebp]
  0013a	3b 50 08	 cmp	 edx, DWORD PTR [eax+8]
  0013d	7f 04		 jg	 SHORT $LN14@checkPrioP

; 3894 : 				return FALSE;

  0013f	33 c0		 xor	 eax, eax
  00141	eb 19		 jmp	 SHORT $LN1@checkPrioP
$LN14@checkPrioP:

; 3895 : 		}
; 3896 : 		else

  00143	eb 12		 jmp	 SHORT $LN15@checkPrioP
$LN12@checkPrioP:

; 3897 : 		{
; 3898 : 			if (ptp->y <= ptc->y)

  00145	8b 45 0c	 mov	 eax, DWORD PTR _ptp$[ebp]
  00148	8b 4d 08	 mov	 ecx, DWORD PTR _ptc$[ebp]
  0014b	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0014e	3b 51 08	 cmp	 edx, DWORD PTR [ecx+8]
  00151	7f 04		 jg	 SHORT $LN15@checkPrioP

; 3899 : 				return FALSE;

  00153	33 c0		 xor	 eax, eax
  00155	eb 05		 jmp	 SHORT $LN1@checkPrioP
$LN15@checkPrioP:

; 3900 : 		}
; 3901 : 	}
; 3902 : #else
; 3903 : 	realGetHitPoints(ptp->graNo, &w, &h);
; 3904 : 	if (ptc->x >= ptp->x)
; 3905 : 	{
; 3906 : 		// PC??§Ä??¢D???
; 3907 : 		if (ptp->y - (w - 1) * SURFACE_HEIGHT / 2 < ptc->y)
; 3908 : 			return FALSE;
; 3909 : 	}
; 3910 : 	else
; 3911 : 	{
; 3912 : 		// PC??§Ä??¢D???
; 3913 : 		if (ptp->y - (h - 1) * SURFACE_HEIGHT / 2 < ptc->y)
; 3914 : 			return FALSE;
; 3915 : 	}
; 3916 : #endif
; 3917 : 
; 3918 : 	return TRUE;

  00157	b8 01 00 00 00	 mov	 eax, 1
$LN1@checkPrioP:

; 3919 : }

  0015c	52		 push	 edx
  0015d	8b cd		 mov	 ecx, ebp
  0015f	50		 push	 eax
  00160	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN22@checkPrioP
  00166	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0016b	58		 pop	 eax
  0016c	5a		 pop	 edx
  0016d	5f		 pop	 edi
  0016e	5e		 pop	 esi
  0016f	5b		 pop	 ebx
  00170	81 c4 f0 00 00
	00		 add	 esp, 240		; 000000f0H
  00176	3b ec		 cmp	 ebp, esp
  00178	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0017d	8b e5		 mov	 esp, ebp
  0017f	5d		 pop	 ebp
  00180	c3		 ret	 0
  00181	0f 1f 00	 npad	 3
$LN22@checkPrioP:
  00184	04 00 00 00	 DD	 4
  00188	00 00 00 00	 DD	 $LN21@checkPrioP
$LN21@checkPrioP:
  0018c	f8 ff ff ff	 DD	 -8			; fffffff8H
  00190	02 00 00 00	 DD	 2
  00194	00 00 00 00	 DD	 $LN17@checkPrioP
  00198	ec ff ff ff	 DD	 -20			; ffffffecH
  0019c	02 00 00 00	 DD	 2
  001a0	00 00 00 00	 DD	 $LN18@checkPrioP
  001a4	e0 ff ff ff	 DD	 -32			; ffffffe0H
  001a8	02 00 00 00	 DD	 2
  001ac	00 00 00 00	 DD	 $LN19@checkPrioP
  001b0	d4 ff ff ff	 DD	 -44			; ffffffd4H
  001b4	02 00 00 00	 DD	 2
  001b8	00 00 00 00	 DD	 $LN20@checkPrioP
$LN20@checkPrioP:
  001bc	68		 DB	 104			; 00000068H
  001bd	00		 DB	 0
$LN19@checkPrioP:
  001be	77		 DB	 119			; 00000077H
  001bf	00		 DB	 0
$LN18@checkPrioP:
  001c0	70		 DB	 112			; 00000070H
  001c1	72		 DB	 114			; 00000072H
  001c2	69		 DB	 105			; 00000069H
  001c3	6f		 DB	 111			; 0000006fH
  001c4	54		 DB	 84			; 00000054H
  001c5	79		 DB	 121			; 00000079H
  001c6	70		 DB	 112			; 00000070H
  001c7	65		 DB	 101			; 00000065H
  001c8	00		 DB	 0
$LN17@checkPrioP:
  001c9	68		 DB	 104			; 00000068H
  001ca	69		 DB	 105			; 00000069H
  001cb	74		 DB	 116			; 00000074H
  001cc	00		 DB	 0
?checkPrioPartsVsChar@@YAHPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ENDP ; checkPrioPartsVsChar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?turnAround2@@YAXH@Z
_TEXT	SEGMENT
$T1 = -212						; size = 4
_dir2$ = -8						; size = 2
_dir$ = 8						; size = 4
?turnAround2@@YAXH@Z PROC				; turnAround2, COMDAT

; 3399 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3400 : 	char dir2[2];
; 3401 : 	static unsigned int turnSendTime = 0;
; 3402 : 
; 3403 : 	// ©˜??????????????
; 3404 : 	if (dir < 0 || 7 < dir)

  0001e	83 7d 08 00	 cmp	 DWORD PTR _dir$[ebp], 0
  00022	7c 06		 jl	 SHORT $LN3@turnAround
  00024	83 7d 08 07	 cmp	 DWORD PTR _dir$[ebp], 7
  00028	7e 05		 jle	 SHORT $LN2@turnAround
$LN3@turnAround:

; 3405 : 		return;

  0002a	e9 f1 00 00 00	 jmp	 $LN1@turnAround
$LN2@turnAround:

; 3406 : 	// PC?????????????
; 3407 : 	if (pc.ptAct == NULL)

  0002f	83 3d ec 50 00
	00 00		 cmp	 DWORD PTR ?pc@@3UPC@@A+20716, 0
  00036	75 05		 jne	 SHORT $LN4@turnAround

; 3408 : 		return;

  00038	e9 e3 00 00 00	 jmp	 $LN1@turnAround
$LN4@turnAround:

; 3409 : 	// ?¥h?¥N????????
; 3410 : 	if (nowVx != 0 || nowVy != 0)

  0003d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVx@@3MA
  00045	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  0004c	9f		 lahf
  0004d	f6 c4 44	 test	 ah, 68			; 00000044H
  00050	7a 15		 jp	 SHORT $LN6@turnAround
  00052	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVy@@3MA
  0005a	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00061	9f		 lahf
  00062	f6 c4 44	 test	 ah, 68			; 00000044H
  00065	7b 05		 jnp	 SHORT $LN5@turnAround
$LN6@turnAround:

; 3411 : 		return;

  00067	e9 b4 00 00 00	 jmp	 $LN1@turnAround
$LN5@turnAround:

; 3412 : 	// ???????????????????
; 3413 : 	if (etcSendFlag != 0 || etcEventFlag != 0)

  0006c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?etcSendFlag@@3FA ; etcSendFlag
  00073	85 c0		 test	 eax, eax
  00075	75 0b		 jne	 SHORT $LN8@turnAround
  00077	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?etcEventFlag@@3FA ; etcEventFlag
  0007e	85 c0		 test	 eax, eax
  00080	74 05		 je	 SHORT $LN7@turnAround
$LN8@turnAround:

; 3414 : 		return;

  00082	e9 99 00 00 00	 jmp	 $LN1@turnAround
$LN7@turnAround:

; 3415 : 	// ???¥i????????
; 3416 : 	if (pc.ptAct->anim_ang == dir)

  00087	a1 ec 50 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+20716
  0008c	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  00092	3b 4d 08	 cmp	 ecx, DWORD PTR _dir$[ebp]
  00095	75 05		 jne	 SHORT $LN9@turnAround

; 3417 : 		return;

  00097	e9 84 00 00 00	 jmp	 $LN1@turnAround
$LN9@turnAround:

; 3418 : 	// ?ûÍ?þÉ
; 3419 : 	if (turnSendTime + FIELD_BTN_PUSH_WAIT < TimeGetTime())

  0009c	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?turnSendTime@?1??turnAround2@@YAXH@Z@4IA
  000a2	81 c6 f4 01 00
	00		 add	 esi, 500		; 000001f4H
  000a8	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  000ad	3b f0		 cmp	 esi, eax
  000af	73 6f		 jae	 SHORT $LN10@turnAround

; 3420 : 	{
; 3421 : 		setPcDir(dir);

  000b1	8b 45 08	 mov	 eax, DWORD PTR _dir$[ebp]
  000b4	50		 push	 eax
  000b5	e8 00 00 00 00	 call	 ?setPcDir@@YAXH@Z	; setPcDir
  000ba	83 c4 04	 add	 esp, 4

; 3422 : 		dir2[0] = cnvServDir(dir, 1);

  000bd	6a 01		 push	 1
  000bf	8b 45 08	 mov	 eax, DWORD PTR _dir$[ebp]
  000c2	50		 push	 eax
  000c3	e8 00 00 00 00	 call	 ?cnvServDir@@YADHH@Z	; cnvServDir
  000c8	83 c4 08	 add	 esp, 8
  000cb	b9 01 00 00 00	 mov	 ecx, 1
  000d0	6b d1 00	 imul	 edx, ecx, 0
  000d3	88 44 15 f8	 mov	 BYTE PTR _dir2$[ebp+edx], al

; 3423 : 		dir2[1] = '\0';

  000d7	c7 85 2c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR $T1[ebp], 1
  000e1	83 bd 2c ff ff
	ff 02		 cmp	 DWORD PTR $T1[ebp], 2
  000e8	73 02		 jae	 SHORT $LN12@turnAround
  000ea	eb 05		 jmp	 SHORT $LN13@turnAround
$LN12@turnAround:
  000ec	e8 00 00 00 00	 call	 ___report_rangecheckfailure
$LN13@turnAround:
  000f1	8b 85 2c ff ff
	ff		 mov	 eax, DWORD PTR $T1[ebp]
  000f7	c6 44 05 f8 00	 mov	 BYTE PTR _dir2$[ebp+eax], 0

; 3424 : 		walkSendForServer(nowGx, nowGy, dir2);

  000fc	8d 45 f8	 lea	 eax, DWORD PTR _dir2$[ebp]
  000ff	50		 push	 eax
  00100	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGy@@3HA ; nowGy
  00106	51		 push	 ecx
  00107	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?nowGx@@3HA ; nowGx
  0010d	52		 push	 edx
  0010e	e8 00 00 00 00	 call	 ?walkSendForServer@@YAXHHPAD@Z ; walkSendForServer
  00113	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3425 : 		turnSendTime = TimeGetTime();

  00116	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0011b	a3 00 00 00 00	 mov	 DWORD PTR ?turnSendTime@?1??turnAround2@@YAXH@Z@4IA, eax
$LN10@turnAround:
$LN1@turnAround:

; 3426 : 	}
; 3427 : }

  00120	52		 push	 edx
  00121	8b cd		 mov	 ecx, ebp
  00123	50		 push	 eax
  00124	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN16@turnAround
  0012a	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0012f	58		 pop	 eax
  00130	5a		 pop	 edx
  00131	5f		 pop	 edi
  00132	5e		 pop	 esi
  00133	5b		 pop	 ebx
  00134	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  0013a	3b ec		 cmp	 ebp, esp
  0013c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00141	8b e5		 mov	 esp, ebp
  00143	5d		 pop	 ebp
  00144	c3		 ret	 0
  00145	0f 1f 00	 npad	 3
$LN16@turnAround:
  00148	01 00 00 00	 DD	 1
  0014c	00 00 00 00	 DD	 $LN15@turnAround
$LN15@turnAround:
  00150	f8 ff ff ff	 DD	 -8			; fffffff8H
  00154	02 00 00 00	 DD	 2
  00158	00 00 00 00	 DD	 $LN14@turnAround
$LN14@turnAround:
  0015c	64		 DB	 100			; 00000064H
  0015d	69		 DB	 105			; 00000069H
  0015e	72		 DB	 114			; 00000072H
  0015f	32		 DB	 50			; 00000032H
  00160	00		 DB	 0
?turnAround2@@YAXH@Z ENDP				; turnAround2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?turnAround@@YAXXZ
_TEXT	SEGMENT
tv147 = -268						; size = 4
$T1 = -260						; size = 4
_dir2$ = -56						; size = 2
_dir$ = -44						; size = 4
_tmpY$ = -32						; size = 4
_tmpX$ = -20						; size = 4
_tmpDir$ = -8						; size = 4
?turnAround@@YAXXZ PROC					; turnAround, COMDAT

; 3362 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 0c 01 00
	00		 sub	 esp, 268		; 0000010cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd f4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-268]
  00012	b9 43 00 00 00	 mov	 ecx, 67			; 00000043H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3363 : 	float tmpDir, tmpX, tmpY;
; 3364 : 	int dir;
; 3365 : 	char dir2[2];
; 3366 : 	static unsigned int turnSendTime = 0;
; 3367 : 
; 3368 : 	// PC?????????????
; 3369 : 	if (pc.ptAct == NULL)

  0001e	83 3d ec 50 00
	00 00		 cmp	 DWORD PTR ?pc@@3UPC@@A+20716, 0
  00025	75 05		 jne	 SHORT $LN2@turnAround

; 3370 : 		return;

  00027	e9 64 01 00 00	 jmp	 $LN1@turnAround
$LN2@turnAround:

; 3371 : 	// ?¥h?¥N????????
; 3372 : 	if (nowVx != 0 || nowVy != 0)

  0002c	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVx@@3MA
  00034	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  0003b	9f		 lahf
  0003c	f6 c4 44	 test	 ah, 68			; 00000044H
  0003f	7a 15		 jp	 SHORT $LN4@turnAround
  00041	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVy@@3MA
  00049	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00050	9f		 lahf
  00051	f6 c4 44	 test	 ah, 68			; 00000044H
  00054	7b 05		 jnp	 SHORT $LN3@turnAround
$LN4@turnAround:

; 3373 : 		return;

  00056	e9 35 01 00 00	 jmp	 $LN1@turnAround
$LN3@turnAround:

; 3374 : 	// ???????????????????
; 3375 : 	if (etcSendFlag != 0 || etcEventFlag != 0)

  0005b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?etcSendFlag@@3FA ; etcSendFlag
  00062	85 c0		 test	 eax, eax
  00064	75 0b		 jne	 SHORT $LN6@turnAround
  00066	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?etcEventFlag@@3FA ; etcEventFlag
  0006d	85 c0		 test	 eax, eax
  0006f	74 05		 je	 SHORT $LN5@turnAround
$LN6@turnAround:

; 3376 : 		return;

  00071	e9 1a 01 00 00	 jmp	 $LN1@turnAround
$LN5@turnAround:

; 3377 : 	{
; 3378 : 		tmpX = (float)(mouseMapGx - nowGx);

  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGx@@3HA ; mouseMapGx
  0007b	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00081	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00085	f3 0f 11 45 ec	 movss	 DWORD PTR _tmpX$[ebp], xmm0

; 3379 : 		tmpY = (float)(mouseMapGy - nowGy);

  0008a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGy@@3HA ; mouseMapGy
  0008f	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00095	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00099	f3 0f 11 45 e0	 movss	 DWORD PTR _tmpY$[ebp], xmm0

; 3380 : 	}
; 3381 : 	tmpDir = Atan(tmpX, tmpY) + 22.5F;

  0009e	51		 push	 ecx
  0009f	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _tmpY$[ebp]
  000a4	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a9	51		 push	 ecx
  000aa	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _tmpX$[ebp]
  000af	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b4	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  000b9	83 c4 08	 add	 esp, 8
  000bc	d9 9d f4 fe ff
	ff		 fstp	 DWORD PTR tv147[ebp]
  000c2	f3 0f 10 85 f4
	fe ff ff	 movss	 xmm0, DWORD PTR tv147[ebp]
  000ca	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  000d2	f3 0f 11 45 f8	 movss	 DWORD PTR _tmpDir$[ebp], xmm0

; 3382 : 	AdjustDir(&tmpDir);

  000d7	8d 45 f8	 lea	 eax, DWORD PTR _tmpDir$[ebp]
  000da	50		 push	 eax
  000db	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  000e0	83 c4 04	 add	 esp, 4

; 3383 : 	dir = (int)(tmpDir / 45);

  000e3	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _tmpDir$[ebp]
  000e8	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  000f0	f3 0f 2c c0	 cvttss2si eax, xmm0
  000f4	89 45 d4	 mov	 DWORD PTR _dir$[ebp], eax

; 3384 : 	// ???¥i????????
; 3385 : 	if (pc.ptAct->anim_ang == dir)

  000f7	a1 ec 50 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+20716
  000fc	8b 88 54 01 00
	00		 mov	 ecx, DWORD PTR [eax+340]
  00102	3b 4d d4	 cmp	 ecx, DWORD PTR _dir$[ebp]
  00105	75 05		 jne	 SHORT $LN7@turnAround

; 3386 : 		return;

  00107	e9 84 00 00 00	 jmp	 $LN1@turnAround
$LN7@turnAround:

; 3387 : 	// ?ûÍ?þÉ
; 3388 : 	if (turnSendTime+FIELD_BTN_PUSH_WAIT < TimeGetTime())

  0010c	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?turnSendTime@?1??turnAround@@YAXXZ@4IA
  00112	81 c6 f4 01 00
	00		 add	 esi, 500		; 000001f4H
  00118	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0011d	3b f0		 cmp	 esi, eax
  0011f	73 6f		 jae	 SHORT $LN8@turnAround

; 3389 : 	{
; 3390 : 		setPcDir(dir);

  00121	8b 45 d4	 mov	 eax, DWORD PTR _dir$[ebp]
  00124	50		 push	 eax
  00125	e8 00 00 00 00	 call	 ?setPcDir@@YAXH@Z	; setPcDir
  0012a	83 c4 04	 add	 esp, 4

; 3391 : 		dir2[0] = cnvServDir(dir, 1);

  0012d	6a 01		 push	 1
  0012f	8b 45 d4	 mov	 eax, DWORD PTR _dir$[ebp]
  00132	50		 push	 eax
  00133	e8 00 00 00 00	 call	 ?cnvServDir@@YADHH@Z	; cnvServDir
  00138	83 c4 08	 add	 esp, 8
  0013b	b9 01 00 00 00	 mov	 ecx, 1
  00140	6b d1 00	 imul	 edx, ecx, 0
  00143	88 44 15 c8	 mov	 BYTE PTR _dir2$[ebp+edx], al

; 3392 : 		dir2[1] = '\0';

  00147	c7 85 fc fe ff
	ff 01 00 00 00	 mov	 DWORD PTR $T1[ebp], 1
  00151	83 bd fc fe ff
	ff 02		 cmp	 DWORD PTR $T1[ebp], 2
  00158	73 02		 jae	 SHORT $LN10@turnAround
  0015a	eb 05		 jmp	 SHORT $LN11@turnAround
$LN10@turnAround:
  0015c	e8 00 00 00 00	 call	 ___report_rangecheckfailure
$LN11@turnAround:
  00161	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR $T1[ebp]
  00167	c6 44 05 c8 00	 mov	 BYTE PTR _dir2$[ebp+eax], 0

; 3393 : 		walkSendForServer(nowGx, nowGy, dir2);

  0016c	8d 45 c8	 lea	 eax, DWORD PTR _dir2$[ebp]
  0016f	50		 push	 eax
  00170	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGy@@3HA ; nowGy
  00176	51		 push	 ecx
  00177	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?nowGx@@3HA ; nowGx
  0017d	52		 push	 edx
  0017e	e8 00 00 00 00	 call	 ?walkSendForServer@@YAXHHPAD@Z ; walkSendForServer
  00183	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3394 : 		turnSendTime = TimeGetTime();

  00186	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0018b	a3 00 00 00 00	 mov	 DWORD PTR ?turnSendTime@?1??turnAround@@YAXXZ@4IA, eax
$LN8@turnAround:
$LN1@turnAround:

; 3395 : 	}
; 3396 : }

  00190	52		 push	 edx
  00191	8b cd		 mov	 ecx, ebp
  00193	50		 push	 eax
  00194	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN15@turnAround
  0019a	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0019f	58		 pop	 eax
  001a0	5a		 pop	 edx
  001a1	5f		 pop	 edi
  001a2	5e		 pop	 esi
  001a3	5b		 pop	 ebx
  001a4	81 c4 0c 01 00
	00		 add	 esp, 268		; 0000010cH
  001aa	3b ec		 cmp	 ebp, esp
  001ac	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b1	8b e5		 mov	 esp, ebp
  001b3	5d		 pop	 ebp
  001b4	c3		 ret	 0
  001b5	0f 1f 00	 npad	 3
$LN15@turnAround:
  001b8	02 00 00 00	 DD	 2
  001bc	00 00 00 00	 DD	 $LN14@turnAround
$LN14@turnAround:
  001c0	f8 ff ff ff	 DD	 -8			; fffffff8H
  001c4	04 00 00 00	 DD	 4
  001c8	00 00 00 00	 DD	 $LN12@turnAround
  001cc	c8 ff ff ff	 DD	 -56			; ffffffc8H
  001d0	02 00 00 00	 DD	 2
  001d4	00 00 00 00	 DD	 $LN13@turnAround
$LN13@turnAround:
  001d8	64		 DB	 100			; 00000064H
  001d9	69		 DB	 105			; 00000069H
  001da	72		 DB	 114			; 00000072H
  001db	32		 DB	 50			; 00000032H
  001dc	00		 DB	 0
$LN12@turnAround:
  001dd	74		 DB	 116			; 00000074H
  001de	6d		 DB	 109			; 0000006dH
  001df	70		 DB	 112			; 00000070H
  001e0	44		 DB	 68			; 00000044H
  001e1	69		 DB	 105			; 00000069H
  001e2	72		 DB	 114			; 00000072H
  001e3	00		 DB	 0
?turnAround@@YAXXZ ENDP					; turnAround
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?checkAreaLimit@@YAXPAF000@Z
_TEXT	SEGMENT
_x1$ = 8						; size = 4
_y1$ = 12						; size = 4
_x2$ = 16						; size = 4
_y2$ = 20						; size = 4
?checkAreaLimit@@YAXPAF000@Z PROC			; checkAreaLimit, COMDAT

; 2032 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2033 : 	if (*x1 < 0)

  0001e	8b 45 08	 mov	 eax, DWORD PTR _x1$[ebp]
  00021	0f bf 08	 movsx	 ecx, WORD PTR [eax]
  00024	85 c9		 test	 ecx, ecx
  00026	7d 08		 jge	 SHORT $LN2@checkAreaL

; 2034 : 		*x1 = 0;

  00028	33 c0		 xor	 eax, eax
  0002a	8b 4d 08	 mov	 ecx, DWORD PTR _x1$[ebp]
  0002d	66 89 01	 mov	 WORD PTR [ecx], ax
$LN2@checkAreaL:

; 2035 : 	if (*y1 < 0)

  00030	8b 45 0c	 mov	 eax, DWORD PTR _y1$[ebp]
  00033	0f bf 08	 movsx	 ecx, WORD PTR [eax]
  00036	85 c9		 test	 ecx, ecx
  00038	7d 08		 jge	 SHORT $LN3@checkAreaL

; 2036 : 		*y1 = 0;

  0003a	33 c0		 xor	 eax, eax
  0003c	8b 4d 0c	 mov	 ecx, DWORD PTR _y1$[ebp]
  0003f	66 89 01	 mov	 WORD PTR [ecx], ax
$LN3@checkAreaL:

; 2037 : 	if (*x2 > nowFloorGxSize)

  00042	8b 45 10	 mov	 eax, DWORD PTR _x2$[ebp]
  00045	0f bf 08	 movsx	 ecx, WORD PTR [eax]
  00048	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  0004e	7e 0d		 jle	 SHORT $LN4@checkAreaL

; 2038 : 		*x2 = nowFloorGxSize;

  00050	8b 45 10	 mov	 eax, DWORD PTR _x2$[ebp]
  00053	66 8b 0d 00 00
	00 00		 mov	 cx, WORD PTR ?nowFloorGxSize@@3HA
  0005a	66 89 08	 mov	 WORD PTR [eax], cx
$LN4@checkAreaL:

; 2039 : 	if (*y2 > nowFloorGySize)

  0005d	8b 45 14	 mov	 eax, DWORD PTR _y2$[ebp]
  00060	0f bf 08	 movsx	 ecx, WORD PTR [eax]
  00063	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  00069	7e 0d		 jle	 SHORT $LN1@checkAreaL

; 2040 : 		*y2 = nowFloorGySize;

  0006b	8b 45 14	 mov	 eax, DWORD PTR _y2$[ebp]
  0006e	66 8b 0d 00 00
	00 00		 mov	 cx, WORD PTR ?nowFloorGySize@@3HA
  00075	66 89 08	 mov	 WORD PTR [eax], cx
$LN1@checkAreaL:

; 2041 : }

  00078	5f		 pop	 edi
  00079	5e		 pop	 esi
  0007a	5b		 pop	 ebx
  0007b	8b e5		 mov	 esp, ebp
  0007d	5d		 pop	 ebp
  0007e	c3		 ret	 0
?checkAreaLimit@@YAXPAF000@Z ENDP			; checkAreaLimit
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?getDirData@@YAHHHHH@Z
_TEXT	SEGMENT
tv85 = -232						; size = 4
_tmpY$ = -32						; size = 4
_tmpX$ = -20						; size = 4
_tmpDir$ = -8						; size = 4
_gx1$ = 8						; size = 4
_gy1$ = 12						; size = 4
_gx2$ = 16						; size = 4
_gy2$ = 20						; size = 4
?getDirData@@YAHHHHH@Z PROC				; getDirData, COMDAT

; 3486 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e8 00 00
	00		 sub	 esp, 232		; 000000e8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 18 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-232]
  00012	b9 3a 00 00 00	 mov	 ecx, 58			; 0000003aH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3487 : 	float tmpDir, tmpX, tmpY;
; 3488 : 
; 3489 : 	// ?¤†Ô?©˜??£??
; 3490 : 	tmpX = (float)(gx2 - gx1);

  0001e	8b 45 10	 mov	 eax, DWORD PTR _gx2$[ebp]
  00021	2b 45 08	 sub	 eax, DWORD PTR _gx1$[ebp]
  00024	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00028	f3 0f 11 45 ec	 movss	 DWORD PTR _tmpX$[ebp], xmm0

; 3491 : 	tmpY = (float)(gy2 - gy1);

  0002d	8b 45 14	 mov	 eax, DWORD PTR _gy2$[ebp]
  00030	2b 45 0c	 sub	 eax, DWORD PTR _gy1$[ebp]
  00033	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00037	f3 0f 11 45 e0	 movss	 DWORD PTR _tmpY$[ebp], xmm0

; 3492 : 	tmpDir = Atan(tmpX, tmpY) + 22.5F;

  0003c	51		 push	 ecx
  0003d	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _tmpY$[ebp]
  00042	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00047	51		 push	 ecx
  00048	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _tmpX$[ebp]
  0004d	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00052	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  00057	83 c4 08	 add	 esp, 8
  0005a	d9 9d 18 ff ff
	ff		 fstp	 DWORD PTR tv85[ebp]
  00060	f3 0f 10 85 18
	ff ff ff	 movss	 xmm0, DWORD PTR tv85[ebp]
  00068	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  00070	f3 0f 11 45 f8	 movss	 DWORD PTR _tmpDir$[ebp], xmm0

; 3493 : 	AdjustDir(&tmpDir);

  00075	8d 45 f8	 lea	 eax, DWORD PTR _tmpDir$[ebp]
  00078	50		 push	 eax
  00079	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  0007e	83 c4 04	 add	 esp, 4

; 3494 : 
; 3495 : 	return (int)(tmpDir / 45);

  00081	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _tmpDir$[ebp]
  00086	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  0008e	f3 0f 2c c0	 cvttss2si eax, xmm0

; 3496 : }

  00092	52		 push	 edx
  00093	8b cd		 mov	 ecx, ebp
  00095	50		 push	 eax
  00096	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN5@getDirData
  0009c	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000a1	58		 pop	 eax
  000a2	5a		 pop	 edx
  000a3	5f		 pop	 edi
  000a4	5e		 pop	 esi
  000a5	5b		 pop	 ebx
  000a6	81 c4 e8 00 00
	00		 add	 esp, 232		; 000000e8H
  000ac	3b ec		 cmp	 ebp, esp
  000ae	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000b3	8b e5		 mov	 esp, ebp
  000b5	5d		 pop	 ebp
  000b6	c3		 ret	 0
  000b7	90		 npad	 1
$LN5@getDirData:
  000b8	01 00 00 00	 DD	 1
  000bc	00 00 00 00	 DD	 $LN4@getDirData
$LN4@getDirData:
  000c0	f8 ff ff ff	 DD	 -8			; fffffff8H
  000c4	04 00 00 00	 DD	 4
  000c8	00 00 00 00	 DD	 $LN3@getDirData
$LN3@getDirData:
  000cc	74		 DB	 116			; 00000074H
  000cd	6d		 DB	 109			; 0000006dH
  000ce	70		 DB	 112			; 00000070H
  000cf	44		 DB	 68			; 00000044H
  000d0	69		 DB	 105			; 00000069H
  000d1	72		 DB	 114			; 00000072H
  000d2	00		 DB	 0
?getDirData@@YAHHHHH@Z ENDP				; getDirData
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?shiftRouteMap2@@YAXXZ
_TEXT	SEGMENT
_i$ = -8						; size = 4
?shiftRouteMap2@@YAXXZ PROC				; shiftRouteMap2, COMDAT

; 3697 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3698 : 	int i;
; 3699 : 
; 3700 : 	if (moveRouteCnt2 <= 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00025	85 c0		 test	 eax, eax
  00027	7f 02		 jg	 SHORT $LN5@shiftRoute

; 3701 : 		return;

  00029	eb 46		 jmp	 SHORT $LN1@shiftRoute
$LN5@shiftRoute:

; 3702 : 
; 3703 : 	moveRouteCnt2--;

  0002b	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00031	66 83 e8 01	 sub	 ax, 1
  00035	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt2@@3FA, ax ; moveRouteCnt2

; 3704 : 	for (i = 0; i < moveRouteCnt2; i++)

  0003b	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00042	eb 09		 jmp	 SHORT $LN4@shiftRoute
$LN2@shiftRoute:
  00044	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00047	83 c0 01	 add	 eax, 1
  0004a	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@shiftRoute:
  0004d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00054	39 45 f8	 cmp	 DWORD PTR _i$[ebp], eax
  00057	7d 18		 jge	 SHORT $LN1@shiftRoute

; 3705 : 	{
; 3706 : 		moveRoute2[i] = moveRoute2[i + 1];

  00059	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0005c	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  0005f	66 8b 14 4d 02
	00 00 00	 mov	 dx, WORD PTR ?moveRoute2@@3PAFA[ecx*2+2]
  00067	66 89 14 45 00
	00 00 00	 mov	 WORD PTR ?moveRoute2@@3PAFA[eax*2], dx

; 3707 : 	}

  0006f	eb d3		 jmp	 SHORT $LN2@shiftRoute
$LN1@shiftRoute:

; 3708 : }

  00071	5f		 pop	 edi
  00072	5e		 pop	 esi
  00073	5b		 pop	 ebx
  00074	8b e5		 mov	 esp, ebp
  00076	5d		 pop	 ebp
  00077	c3		 ret	 0
?shiftRouteMap2@@YAXXZ ENDP				; shiftRouteMap2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?shiftRouteMap@@YAXXZ
_TEXT	SEGMENT
_i$ = -8						; size = 4
?shiftRouteMap@@YAXXZ PROC				; shiftRouteMap, COMDAT

; 3681 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3682 : 	int i;
; 3683 : 
; 3684 : 	if (moveRouteCnt <= 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00025	85 c0		 test	 eax, eax
  00027	7f 02		 jg	 SHORT $LN5@shiftRoute

; 3685 : 		return;

  00029	eb 72		 jmp	 SHORT $LN1@shiftRoute
$LN5@shiftRoute:

; 3686 : 
; 3687 : 	moveRouteCnt--;

  0002b	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00031	66 83 e8 01	 sub	 ax, 1
  00035	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 3688 : 	for (i = 0; i < moveRouteCnt; i++)

  0003b	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00042	eb 09		 jmp	 SHORT $LN4@shiftRoute
$LN2@shiftRoute:
  00044	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00047	83 c0 01	 add	 eax, 1
  0004a	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@shiftRoute:
  0004d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00054	39 45 f8	 cmp	 DWORD PTR _i$[ebp], eax
  00057	7d 44		 jge	 SHORT $LN1@shiftRoute

; 3689 : 	{
; 3690 : 		moveRoute[i] = moveRoute[i + 1];

  00059	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0005c	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  0005f	66 8b 14 4d 02
	00 00 00	 mov	 dx, WORD PTR ?moveRoute@@3PAFA[ecx*2+2]
  00067	66 89 14 45 00
	00 00 00	 mov	 WORD PTR ?moveRoute@@3PAFA[eax*2], dx

; 3691 : 		moveRouteGx[i] = moveRouteGx[i + 1];

  0006f	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00072	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  00075	66 8b 14 4d 02
	00 00 00	 mov	 dx, WORD PTR ?moveRouteGx@@3PAFA[ecx*2+2]
  0007d	66 89 14 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGx@@3PAFA[eax*2], dx

; 3692 : 		moveRouteGy[i] = moveRouteGy[i + 1];

  00085	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00088	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  0008b	66 8b 14 4d 02
	00 00 00	 mov	 dx, WORD PTR ?moveRouteGy@@3PAFA[ecx*2+2]
  00093	66 89 14 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGy@@3PAFA[eax*2], dx

; 3693 : 	}

  0009b	eb a7		 jmp	 SHORT $LN2@shiftRoute
$LN1@shiftRoute:

; 3694 : }

  0009d	5f		 pop	 edi
  0009e	5e		 pop	 esi
  0009f	5b		 pop	 ebx
  000a0	8b e5		 mov	 esp, ebp
  000a2	5d		 pop	 ebp
  000a3	c3		 ret	 0
?shiftRouteMap@@YAXXZ ENDP				; shiftRouteMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?getRouteMap@@YAXXZ
_TEXT	SEGMENT
tv522 = -508						; size = 4
tv403 = -508						; size = 4
tv385 = -508						; size = 4
_flag3$1 = -308						; size = 4
_flag2$2 = -296						; size = 4
_dy3$3 = -284						; size = 4
_dx3$4 = -272						; size = 4
_dir3$5 = -260						; size = 4
_dy2$6 = -248						; size = 4
_dx2$7 = -236						; size = 4
_dir2$8 = -224						; size = 4
_flag$ = -212						; size = 4
_tmpY$ = -200						; size = 4
_tmpX$ = -188						; size = 4
_tmpDir$ = -176						; size = 4
_dirTbl$ = -164						; size = 12
_i$ = -144						; size = 4
_checkDir2$ = -132					; size = 4
_checkDir1$ = -120					; size = 4
_nowDir$ = -108						; size = 4
_targetDir$ = -96					; size = 4
_dy$ = -84						; size = 4
_dx$ = -72						; size = 4
_dir$ = -60						; size = 4
_nowy$ = -48						; size = 4
_nowx$ = -36						; size = 4
_my$ = -24						; size = 4
_mx$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
?getRouteMap@@YAXXZ PROC				; getRouteMap, COMDAT

; 3509 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 01 00
	00		 sub	 esp, 508		; 000001fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 04 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-508]
  00012	b9 7f 00 00 00	 mov	 ecx, 127		; 0000007fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 3510 : 	int mx = moveStackGx, my = moveStackGy, nowx = nowGx, nowy = nowGy, dir, dx, dy, targetDir, nowDir, checkDir1, checkDir2, i;

  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?moveStackGx@@3HA ; moveStackGx
  0002d	89 45 f4	 mov	 DWORD PTR _mx$[ebp], eax
  00030	a1 00 00 00 00	 mov	 eax, DWORD PTR ?moveStackGy@@3HA ; moveStackGy
  00035	89 45 e8	 mov	 DWORD PTR _my$[ebp], eax
  00038	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  0003d	89 45 dc	 mov	 DWORD PTR _nowx$[ebp], eax
  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00045	89 45 d0	 mov	 DWORD PTR _nowy$[ebp], eax

; 3511 : 	int dirTbl[] = { 0, 1, -1 };

  00048	c7 85 5c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _dirTbl$[ebp], 0
  00052	c7 85 60 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _dirTbl$[ebp+4], 1
  0005c	c7 85 64 ff ff
	ff ff ff ff ff	 mov	 DWORD PTR _dirTbl$[ebp+8], -1

; 3512 : 	float tmpDir;
; 3513 : 	float tmpX, tmpY;
; 3514 : 	BOOL flag;
; 3515 : 
; 3516 : 	moveLastDir = -1;

  00066	83 c8 ff	 or	 eax, -1
  00069	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveLastDir@@3FA, ax ; moveLastDir

; 3517 : 	if (nowx == mx && nowy == my)

  0006f	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  00072	3b 45 f4	 cmp	 eax, DWORD PTR _mx$[ebp]
  00075	75 0d		 jne	 SHORT $LN11@getRouteMa
  00077	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  0007a	3b 45 e8	 cmp	 eax, DWORD PTR _my$[ebp]
  0007d	75 05		 jne	 SHORT $LN11@getRouteMa

; 3518 : 		return;

  0007f	e9 d8 07 00 00	 jmp	 $LN1@getRouteMa
$LN11@getRouteMa:

; 3519 : 	tmpX = (float)(mx - nowx);

  00084	8b 45 f4	 mov	 eax, DWORD PTR _mx$[ebp]
  00087	2b 45 dc	 sub	 eax, DWORD PTR _nowx$[ebp]
  0008a	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  0008e	f3 0f 11 85 44
	ff ff ff	 movss	 DWORD PTR _tmpX$[ebp], xmm0

; 3520 : 	tmpY = (float)(my - nowy);

  00096	8b 45 e8	 mov	 eax, DWORD PTR _my$[ebp]
  00099	2b 45 d0	 sub	 eax, DWORD PTR _nowy$[ebp]
  0009c	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  000a0	f3 0f 11 85 38
	ff ff ff	 movss	 DWORD PTR _tmpY$[ebp], xmm0

; 3521 : 	tmpDir = Atan(tmpX, tmpY) + 22.5F;

  000a8	51		 push	 ecx
  000a9	f3 0f 10 85 38
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpY$[ebp]
  000b1	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000b6	51		 push	 ecx
  000b7	f3 0f 10 85 44
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpX$[ebp]
  000bf	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000c4	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  000c9	83 c4 08	 add	 esp, 8
  000cc	d9 9d 04 fe ff
	ff		 fstp	 DWORD PTR tv385[ebp]
  000d2	f3 0f 10 85 04
	fe ff ff	 movss	 xmm0, DWORD PTR tv385[ebp]
  000da	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  000e2	f3 0f 11 85 50
	ff ff ff	 movss	 DWORD PTR _tmpDir$[ebp], xmm0

; 3522 : 	AdjustDir(&tmpDir);

  000ea	8d 85 50 ff ff
	ff		 lea	 eax, DWORD PTR _tmpDir$[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  000f6	83 c4 04	 add	 esp, 4

; 3523 : 	targetDir = (int)(tmpDir / 45);

  000f9	f3 0f 10 85 50
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpDir$[ebp]
  00101	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  00109	f3 0f 2c c0	 cvttss2si eax, xmm0
  0010d	89 45 a0	 mov	 DWORD PTR _targetDir$[ebp], eax

; 3524 : 
; 3525 : 	moveRouteCnt = 0;

  00110	33 c0		 xor	 eax, eax
  00112	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt
$LN2@getRouteMa:

; 3526 : 
; 3527 : 	while (nowx != mx || nowy != my)

  00118	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  0011b	3b 45 f4	 cmp	 eax, DWORD PTR _mx$[ebp]
  0011e	75 0c		 jne	 SHORT $LN12@getRouteMa
  00120	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  00123	3b 45 e8	 cmp	 eax, DWORD PTR _my$[ebp]
  00126	0f 84 10 05 00
	00		 je	 $LN3@getRouteMa
$LN12@getRouteMa:

; 3528 : 	{
; 3529 : 		if (moveRouteCnt >= MOVE_MAX)

  0012c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00133	83 f8 64	 cmp	 eax, 100		; 00000064H
  00136	7c 0d		 jl	 SHORT $LN13@getRouteMa

; 3530 : 		{
; 3531 : 			moveRouteCnt = 0;

  00138	33 c0		 xor	 eax, eax
  0013a	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 3532 : 			return;

  00140	e9 17 07 00 00	 jmp	 $LN1@getRouteMa
$LN13@getRouteMa:

; 3533 : 		}
; 3534 : 
; 3535 : 		tmpX = (float)(mx - nowx);

  00145	8b 45 f4	 mov	 eax, DWORD PTR _mx$[ebp]
  00148	2b 45 dc	 sub	 eax, DWORD PTR _nowx$[ebp]
  0014b	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  0014f	f3 0f 11 85 44
	ff ff ff	 movss	 DWORD PTR _tmpX$[ebp], xmm0

; 3536 : 		tmpY = (float)(my - nowy);

  00157	8b 45 e8	 mov	 eax, DWORD PTR _my$[ebp]
  0015a	2b 45 d0	 sub	 eax, DWORD PTR _nowy$[ebp]
  0015d	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00161	f3 0f 11 85 38
	ff ff ff	 movss	 DWORD PTR _tmpY$[ebp], xmm0

; 3537 : 		tmpDir = Atan(tmpX, tmpY) + 22.5F;

  00169	51		 push	 ecx
  0016a	f3 0f 10 85 38
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpY$[ebp]
  00172	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00177	51		 push	 ecx
  00178	f3 0f 10 85 44
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpX$[ebp]
  00180	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00185	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  0018a	83 c4 08	 add	 esp, 8
  0018d	d9 9d 04 fe ff
	ff		 fstp	 DWORD PTR tv403[ebp]
  00193	f3 0f 10 85 04
	fe ff ff	 movss	 xmm0, DWORD PTR tv403[ebp]
  0019b	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  001a3	f3 0f 11 85 50
	ff ff ff	 movss	 DWORD PTR _tmpDir$[ebp], xmm0

; 3538 : 		AdjustDir(&tmpDir);

  001ab	8d 85 50 ff ff
	ff		 lea	 eax, DWORD PTR _tmpDir$[ebp]
  001b1	50		 push	 eax
  001b2	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  001b7	83 c4 04	 add	 esp, 4

; 3539 : 		nowDir = (int)(tmpDir / 45);

  001ba	f3 0f 10 85 50
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpDir$[ebp]
  001c2	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  001ca	f3 0f 2c c0	 cvttss2si eax, xmm0
  001ce	89 45 94	 mov	 DWORD PTR _nowDir$[ebp], eax

; 3540 : 		checkDir1 = targetDir + 1;

  001d1	8b 45 a0	 mov	 eax, DWORD PTR _targetDir$[ebp]
  001d4	83 c0 01	 add	 eax, 1
  001d7	89 45 88	 mov	 DWORD PTR _checkDir1$[ebp], eax

; 3541 : 		checkDir1 &= 7;

  001da	8b 45 88	 mov	 eax, DWORD PTR _checkDir1$[ebp]
  001dd	83 e0 07	 and	 eax, 7
  001e0	89 45 88	 mov	 DWORD PTR _checkDir1$[ebp], eax

; 3542 : 		checkDir2 = targetDir - 1;

  001e3	8b 45 a0	 mov	 eax, DWORD PTR _targetDir$[ebp]
  001e6	83 e8 01	 sub	 eax, 1
  001e9	89 85 7c ff ff
	ff		 mov	 DWORD PTR _checkDir2$[ebp], eax

; 3543 : 		checkDir2 &= 7;

  001ef	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _checkDir2$[ebp]
  001f5	83 e0 07	 and	 eax, 7
  001f8	89 85 7c ff ff
	ff		 mov	 DWORD PTR _checkDir2$[ebp], eax

; 3544 : 		if (nowDir != targetDir && nowDir != checkDir1 && nowDir != checkDir2)

  001fe	8b 45 94	 mov	 eax, DWORD PTR _nowDir$[ebp]
  00201	3b 45 a0	 cmp	 eax, DWORD PTR _targetDir$[ebp]
  00204	74 18		 je	 SHORT $LN14@getRouteMa
  00206	8b 45 94	 mov	 eax, DWORD PTR _nowDir$[ebp]
  00209	3b 45 88	 cmp	 eax, DWORD PTR _checkDir1$[ebp]
  0020c	74 10		 je	 SHORT $LN14@getRouteMa
  0020e	8b 45 94	 mov	 eax, DWORD PTR _nowDir$[ebp]
  00211	3b 85 7c ff ff
	ff		 cmp	 eax, DWORD PTR _checkDir2$[ebp]
  00217	74 05		 je	 SHORT $LN14@getRouteMa

; 3545 : 			break;

  00219	e9 1e 04 00 00	 jmp	 $LN3@getRouteMa
$LN14@getRouteMa:

; 3546 : 		flag = TRUE;

  0021e	c7 85 2c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _flag$[ebp], 1

; 3547 : 		for (i = 0; i < sizeof(dirTbl) / sizeof(int); i++)

  00228	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  00232	eb 0f		 jmp	 SHORT $LN6@getRouteMa
$LN4@getRouteMa:
  00234	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0023a	83 c0 01	 add	 eax, 1
  0023d	89 85 70 ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN6@getRouteMa:
  00243	83 bd 70 ff ff
	ff 03		 cmp	 DWORD PTR _i$[ebp], 3
  0024a	0f 83 81 03 00
	00		 jae	 $LN5@getRouteMa

; 3548 : 		{
; 3549 : 			dir = nowDir + dirTbl[i];

  00250	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00256	8b 4d 94	 mov	 ecx, DWORD PTR _nowDir$[ebp]
  00259	03 8c 85 5c ff
	ff ff		 add	 ecx, DWORD PTR _dirTbl$[ebp+eax*4]
  00260	89 4d c4	 mov	 DWORD PTR _dir$[ebp], ecx

; 3550 : 			dir &= 7;

  00263	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  00266	83 e0 07	 and	 eax, 7
  00269	89 45 c4	 mov	 DWORD PTR _dir$[ebp], eax

; 3551 : 			checkDir1 = targetDir + 1;

  0026c	8b 45 a0	 mov	 eax, DWORD PTR _targetDir$[ebp]
  0026f	83 c0 01	 add	 eax, 1
  00272	89 45 88	 mov	 DWORD PTR _checkDir1$[ebp], eax

; 3552 : 			checkDir1 &= 7;

  00275	8b 45 88	 mov	 eax, DWORD PTR _checkDir1$[ebp]
  00278	83 e0 07	 and	 eax, 7
  0027b	89 45 88	 mov	 DWORD PTR _checkDir1$[ebp], eax

; 3553 : 			checkDir2 = targetDir - 1;

  0027e	8b 45 a0	 mov	 eax, DWORD PTR _targetDir$[ebp]
  00281	83 e8 01	 sub	 eax, 1
  00284	89 85 7c ff ff
	ff		 mov	 DWORD PTR _checkDir2$[ebp], eax

; 3554 : 			checkDir2 &= 7;

  0028a	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _checkDir2$[ebp]
  00290	83 e0 07	 and	 eax, 7
  00293	89 85 7c ff ff
	ff		 mov	 DWORD PTR _checkDir2$[ebp], eax

; 3555 : 			if (dir != targetDir && dir != checkDir1 && dir != checkDir2)

  00299	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  0029c	3b 45 a0	 cmp	 eax, DWORD PTR _targetDir$[ebp]
  0029f	74 18		 je	 SHORT $LN15@getRouteMa
  002a1	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  002a4	3b 45 88	 cmp	 eax, DWORD PTR _checkDir1$[ebp]
  002a7	74 10		 je	 SHORT $LN15@getRouteMa
  002a9	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  002ac	3b 85 7c ff ff
	ff		 cmp	 eax, DWORD PTR _checkDir2$[ebp]
  002b2	74 05		 je	 SHORT $LN15@getRouteMa

; 3556 : 				continue;

  002b4	e9 7b ff ff ff	 jmp	 $LN4@getRouteMa
$LN15@getRouteMa:

; 3557 : 			getRouteData(dir, &dx, &dy);

  002b9	8d 45 ac	 lea	 eax, DWORD PTR _dy$[ebp]
  002bc	50		 push	 eax
  002bd	8d 4d b8	 lea	 ecx, DWORD PTR _dx$[ebp]
  002c0	51		 push	 ecx
  002c1	8b 55 c4	 mov	 edx, DWORD PTR _dir$[ebp]
  002c4	52		 push	 edx
  002c5	e8 00 00 00 00	 call	 ?getRouteData@@YAXHPAH0@Z ; getRouteData
  002ca	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3558 : 			//CC FIX 
; 3559 : 			//Õâ¸öÅÐ¶Ï¿ÉÄÜÉæ¼°´©Ç½ÐÐ×ß
; 3560 : 			//Ç¿ÖÆÕâ¸öif false ±ù³Ç¿ÉÒÔ×ßÂ·
; 3561 : 			if (_checkWarpEvent(nowx + dx, nowy + dy))

  002cd	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  002d0	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  002d3	50		 push	 eax
  002d4	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  002d7	03 4d b8	 add	 ecx, DWORD PTR _dx$[ebp]
  002da	51		 push	 ecx
  002db	e8 00 00 00 00	 call	 ?_checkWarpEvent@@YAHHH@Z ; _checkWarpEvent
  002e0	83 c4 08	 add	 esp, 8
  002e3	85 c0		 test	 eax, eax
  002e5	74 0a		 je	 SHORT $LN16@getRouteMa

; 3562 : 			{
; 3563 : 				flag = TRUE;

  002e7	c7 85 2c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _flag$[ebp], 1
$LN16@getRouteMa:

; 3564 : 		//		break;
; 3565 : 			}
; 3566 : 			if (checkHitMap(nowx + dx, nowy + dy))

  002f1	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  002f4	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  002f7	50		 push	 eax
  002f8	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  002fb	03 4d b8	 add	 ecx, DWORD PTR _dx$[ebp]
  002fe	51		 push	 ecx
  002ff	e8 00 00 00 00	 call	 ?checkHitMap@@YAHHH@Z	; checkHitMap
  00304	83 c4 08	 add	 esp, 8
  00307	85 c0		 test	 eax, eax
  00309	74 44		 je	 SHORT $LN19@getRouteMa

; 3567 : 			{
; 3568 : 				if ((nowx + dx) == mx && (nowy + dy) == my)

  0030b	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  0030e	03 45 b8	 add	 eax, DWORD PTR _dx$[ebp]
  00311	3b 45 f4	 cmp	 eax, DWORD PTR _mx$[ebp]
  00314	75 34		 jne	 SHORT $LN18@getRouteMa
  00316	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  00319	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  0031c	3b 45 e8	 cmp	 eax, DWORD PTR _my$[ebp]
  0031f	75 29		 jne	 SHORT $LN18@getRouteMa

; 3569 : 				{
; 3570 : 
; 3571 : 					if ((dir % 2) == 0)

  00321	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  00324	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00329	79 05		 jns	 SHORT $LN47@getRouteMa
  0032b	48		 dec	 eax
  0032c	83 c8 fe	 or	 eax, -2			; fffffffeH
  0032f	40		 inc	 eax
$LN47@getRouteMa:
  00330	85 c0		 test	 eax, eax
  00332	75 05		 jne	 SHORT $LN20@getRouteMa

; 3572 : 						continue;

  00334	e9 fb fe ff ff	 jmp	 $LN4@getRouteMa
$LN20@getRouteMa:

; 3573 : 					flag = TRUE;

  00339	c7 85 2c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _flag$[ebp], 1

; 3574 : 					break;

  00343	e9 89 02 00 00	 jmp	 $LN5@getRouteMa

; 3575 : 				}
; 3576 : 				else

  00348	eb 05		 jmp	 SHORT $LN19@getRouteMa
$LN18@getRouteMa:

; 3577 : 					continue;

  0034a	e9 e5 fe ff ff	 jmp	 $LN4@getRouteMa
$LN19@getRouteMa:

; 3578 : 			}
; 3579 : 			
; 3580 : 			if ((dir % 2) == 0)

  0034f	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  00352	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00357	79 05		 jns	 SHORT $LN48@getRouteMa
  00359	48		 dec	 eax
  0035a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0035d	40		 inc	 eax
$LN48@getRouteMa:
  0035e	85 c0		 test	 eax, eax
  00360	0f 85 5a 02 00
	00		 jne	 $LN24@getRouteMa

; 3581 : 			{
; 3582 : 				int dir2, dx2, dy2, dir3, dx3, dy3;
; 3583 : 				BOOL flag2, flag3;
; 3584 : 
; 3585 : 				dir2 = dir + 1;

  00366	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  00369	83 c0 01	 add	 eax, 1
  0036c	89 85 20 ff ff
	ff		 mov	 DWORD PTR _dir2$8[ebp], eax

; 3586 : 				dir2 &= 7;

  00372	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _dir2$8[ebp]
  00378	83 e0 07	 and	 eax, 7
  0037b	89 85 20 ff ff
	ff		 mov	 DWORD PTR _dir2$8[ebp], eax

; 3587 : 				getRouteData(dir2, &dx2, &dy2);

  00381	8d 85 08 ff ff
	ff		 lea	 eax, DWORD PTR _dy2$6[ebp]
  00387	50		 push	 eax
  00388	8d 8d 14 ff ff
	ff		 lea	 ecx, DWORD PTR _dx2$7[ebp]
  0038e	51		 push	 ecx
  0038f	8b 95 20 ff ff
	ff		 mov	 edx, DWORD PTR _dir2$8[ebp]
  00395	52		 push	 edx
  00396	e8 00 00 00 00	 call	 ?getRouteData@@YAXHPAH0@Z ; getRouteData
  0039b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3588 : 				dir3 = dir - 1;

  0039e	8b 45 c4	 mov	 eax, DWORD PTR _dir$[ebp]
  003a1	83 e8 01	 sub	 eax, 1
  003a4	89 85 fc fe ff
	ff		 mov	 DWORD PTR _dir3$5[ebp], eax

; 3589 : 				dir3 &= 7;

  003aa	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR _dir3$5[ebp]
  003b0	83 e0 07	 and	 eax, 7
  003b3	89 85 fc fe ff
	ff		 mov	 DWORD PTR _dir3$5[ebp], eax

; 3590 : 				getRouteData(dir3, &dx3, &dy3);

  003b9	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _dy3$3[ebp]
  003bf	50		 push	 eax
  003c0	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _dx3$4[ebp]
  003c6	51		 push	 ecx
  003c7	8b 95 fc fe ff
	ff		 mov	 edx, DWORD PTR _dir3$5[ebp]
  003cd	52		 push	 edx
  003ce	e8 00 00 00 00	 call	 ?getRouteData@@YAXHPAH0@Z ; getRouteData
  003d3	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3591 : 				flag2 = checkHitMap(nowx + dx2, nowy + dy2);

  003d6	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  003d9	03 85 08 ff ff
	ff		 add	 eax, DWORD PTR _dy2$6[ebp]
  003df	50		 push	 eax
  003e0	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  003e3	03 8d 14 ff ff
	ff		 add	 ecx, DWORD PTR _dx2$7[ebp]
  003e9	51		 push	 ecx
  003ea	e8 00 00 00 00	 call	 ?checkHitMap@@YAHHH@Z	; checkHitMap
  003ef	83 c4 08	 add	 esp, 8
  003f2	89 85 d8 fe ff
	ff		 mov	 DWORD PTR _flag2$2[ebp], eax

; 3592 : 				flag3 = checkHitMap(nowx + dx3, nowy + dy3);

  003f8	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  003fb	03 85 e4 fe ff
	ff		 add	 eax, DWORD PTR _dy3$3[ebp]
  00401	50		 push	 eax
  00402	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  00405	03 8d f0 fe ff
	ff		 add	 ecx, DWORD PTR _dx3$4[ebp]
  0040b	51		 push	 ecx
  0040c	e8 00 00 00 00	 call	 ?checkHitMap@@YAHHH@Z	; checkHitMap
  00411	83 c4 08	 add	 esp, 8
  00414	89 85 cc fe ff
	ff		 mov	 DWORD PTR _flag3$1[ebp], eax

; 3593 : 				if (flag2 && flag3)

  0041a	83 bd d8 fe ff
	ff 00		 cmp	 DWORD PTR _flag2$2[ebp], 0
  00421	74 0e		 je	 SHORT $LN22@getRouteMa
  00423	83 bd cc fe ff
	ff 00		 cmp	 DWORD PTR _flag3$1[ebp], 0
  0042a	74 05		 je	 SHORT $LN22@getRouteMa

; 3594 : 					break;

  0042c	e9 a0 01 00 00	 jmp	 $LN5@getRouteMa
$LN22@getRouteMa:

; 3595 : 				if (flag2)

  00431	83 bd d8 fe ff
	ff 00		 cmp	 DWORD PTR _flag2$2[ebp], 0
  00438	0f 84 bc 00 00
	00		 je	 $LN23@getRouteMa

; 3596 : 				{
; 3597 : 					moveRoute[moveRouteCnt] = dir3;

  0043e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00445	66 8b 8d fc fe
	ff ff		 mov	 cx, WORD PTR _dir3$5[ebp]
  0044c	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRoute@@3PAFA[eax*2], cx

; 3598 : 					moveRouteGx[moveRouteCnt] = nowx + dx3;

  00454	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  00457	03 85 f0 fe ff
	ff		 add	 eax, DWORD PTR _dx3$4[ebp]
  0045d	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00464	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?moveRouteGx@@3PAFA[ecx*2], ax

; 3599 : 					moveRouteGy[moveRouteCnt] = nowy + dy3;

  0046c	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  0046f	03 85 e4 fe ff
	ff		 add	 eax, DWORD PTR _dy3$3[ebp]
  00475	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0047c	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?moveRouteGy@@3PAFA[ecx*2], ax

; 3600 : 					moveRouteCnt++;

  00484	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0048a	66 83 c0 01	 add	 ax, 1
  0048e	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 3601 : 					dx = (nowx + dx) - (nowx + dx3);

  00494	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  00497	03 45 b8	 add	 eax, DWORD PTR _dx$[ebp]
  0049a	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  0049d	03 8d f0 fe ff
	ff		 add	 ecx, DWORD PTR _dx3$4[ebp]
  004a3	2b c1		 sub	 eax, ecx
  004a5	89 45 b8	 mov	 DWORD PTR _dx$[ebp], eax

; 3602 : 					dy = (nowy + dy) - (nowy + dy3);

  004a8	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  004ab	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  004ae	8b 4d d0	 mov	 ecx, DWORD PTR _nowy$[ebp]
  004b1	03 8d e4 fe ff
	ff		 add	 ecx, DWORD PTR _dy3$3[ebp]
  004b7	2b c1		 sub	 eax, ecx
  004b9	89 45 ac	 mov	 DWORD PTR _dy$[ebp], eax

; 3603 : 					dir = getDirData(0, 0, dx, dy);

  004bc	8b 45 ac	 mov	 eax, DWORD PTR _dy$[ebp]
  004bf	50		 push	 eax
  004c0	8b 4d b8	 mov	 ecx, DWORD PTR _dx$[ebp]
  004c3	51		 push	 ecx
  004c4	6a 00		 push	 0
  004c6	6a 00		 push	 0
  004c8	e8 00 00 00 00	 call	 ?getDirData@@YAHHHHH@Z	; getDirData
  004cd	83 c4 10	 add	 esp, 16			; 00000010H
  004d0	89 45 c4	 mov	 DWORD PTR _dir$[ebp], eax

; 3604 : 					nowx += dx3;

  004d3	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  004d6	03 85 f0 fe ff
	ff		 add	 eax, DWORD PTR _dx3$4[ebp]
  004dc	89 45 dc	 mov	 DWORD PTR _nowx$[ebp], eax

; 3605 : 					nowy += dy3;

  004df	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  004e2	03 85 e4 fe ff
	ff		 add	 eax, DWORD PTR _dy3$3[ebp]
  004e8	89 45 d0	 mov	 DWORD PTR _nowy$[ebp], eax

; 3606 : 					flag = FALSE;

  004eb	c7 85 2c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _flag$[ebp], 0

; 3607 : 					break;

  004f5	e9 d7 00 00 00	 jmp	 $LN5@getRouteMa
$LN23@getRouteMa:

; 3608 : 				}
; 3609 : 				if (flag3)

  004fa	83 bd cc fe ff
	ff 00		 cmp	 DWORD PTR _flag3$1[ebp], 0
  00501	0f 84 b9 00 00
	00		 je	 $LN24@getRouteMa

; 3610 : 				{
; 3611 : 					moveRoute[moveRouteCnt] = dir2;

  00507	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0050e	66 8b 8d 20 ff
	ff ff		 mov	 cx, WORD PTR _dir2$8[ebp]
  00515	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRoute@@3PAFA[eax*2], cx

; 3612 : 					moveRouteGx[moveRouteCnt] = nowx + dx2;

  0051d	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  00520	03 85 14 ff ff
	ff		 add	 eax, DWORD PTR _dx2$7[ebp]
  00526	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0052d	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?moveRouteGx@@3PAFA[ecx*2], ax

; 3613 : 					moveRouteGy[moveRouteCnt] = nowy + dy2;

  00535	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  00538	03 85 08 ff ff
	ff		 add	 eax, DWORD PTR _dy2$6[ebp]
  0053e	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00545	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?moveRouteGy@@3PAFA[ecx*2], ax

; 3614 : 					moveRouteCnt++;

  0054d	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00553	66 83 c0 01	 add	 ax, 1
  00557	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 3615 : 					dx = (nowx + dx) - (nowx + dx2);

  0055d	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  00560	03 45 b8	 add	 eax, DWORD PTR _dx$[ebp]
  00563	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  00566	03 8d 14 ff ff
	ff		 add	 ecx, DWORD PTR _dx2$7[ebp]
  0056c	2b c1		 sub	 eax, ecx
  0056e	89 45 b8	 mov	 DWORD PTR _dx$[ebp], eax

; 3616 : 					dy = (nowy + dy) - (nowy + dy2);

  00571	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  00574	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  00577	8b 4d d0	 mov	 ecx, DWORD PTR _nowy$[ebp]
  0057a	03 8d 08 ff ff
	ff		 add	 ecx, DWORD PTR _dy2$6[ebp]
  00580	2b c1		 sub	 eax, ecx
  00582	89 45 ac	 mov	 DWORD PTR _dy$[ebp], eax

; 3617 : 					dir = getDirData(0, 0, dx, dy);

  00585	8b 45 ac	 mov	 eax, DWORD PTR _dy$[ebp]
  00588	50		 push	 eax
  00589	8b 4d b8	 mov	 ecx, DWORD PTR _dx$[ebp]
  0058c	51		 push	 ecx
  0058d	6a 00		 push	 0
  0058f	6a 00		 push	 0
  00591	e8 00 00 00 00	 call	 ?getDirData@@YAHHHHH@Z	; getDirData
  00596	83 c4 10	 add	 esp, 16			; 00000010H
  00599	89 45 c4	 mov	 DWORD PTR _dir$[ebp], eax

; 3618 : 					nowx += dx2;

  0059c	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  0059f	03 85 14 ff ff
	ff		 add	 eax, DWORD PTR _dx2$7[ebp]
  005a5	89 45 dc	 mov	 DWORD PTR _nowx$[ebp], eax

; 3619 : 					nowy += dy2;

  005a8	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  005ab	03 85 08 ff ff
	ff		 add	 eax, DWORD PTR _dy2$6[ebp]
  005b1	89 45 d0	 mov	 DWORD PTR _nowy$[ebp], eax

; 3620 : 					flag = FALSE;

  005b4	c7 85 2c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _flag$[ebp], 0

; 3621 : 					break;

  005be	eb 11		 jmp	 SHORT $LN5@getRouteMa
$LN24@getRouteMa:

; 3622 : 				}
; 3623 : 			}
; 3624 : 			flag = FALSE;

  005c0	c7 85 2c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _flag$[ebp], 0

; 3625 : 			break;

  005ca	eb 05		 jmp	 SHORT $LN5@getRouteMa

; 3626 : 		}

  005cc	e9 63 fc ff ff	 jmp	 $LN4@getRouteMa
$LN5@getRouteMa:

; 3627 : 		if (flag)

  005d1	83 bd 2c ff ff
	ff 00		 cmp	 DWORD PTR _flag$[ebp], 0
  005d8	74 02		 je	 SHORT $LN25@getRouteMa

; 3628 : 			break;

  005da	eb 60		 jmp	 SHORT $LN3@getRouteMa
$LN25@getRouteMa:

; 3629 : 		nowx += dx;

  005dc	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  005df	03 45 b8	 add	 eax, DWORD PTR _dx$[ebp]
  005e2	89 45 dc	 mov	 DWORD PTR _nowx$[ebp], eax

; 3630 : 		nowy += dy;

  005e5	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  005e8	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  005eb	89 45 d0	 mov	 DWORD PTR _nowy$[ebp], eax

; 3631 : 		moveRoute[moveRouteCnt] = dir;

  005ee	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  005f5	66 8b 4d c4	 mov	 cx, WORD PTR _dir$[ebp]
  005f9	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRoute@@3PAFA[eax*2], cx

; 3632 : 		moveRouteGx[moveRouteCnt] = nowx;

  00601	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00608	66 8b 4d dc	 mov	 cx, WORD PTR _nowx$[ebp]
  0060c	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGx@@3PAFA[eax*2], cx

; 3633 : 		moveRouteGy[moveRouteCnt] = nowy;

  00614	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0061b	66 8b 4d d0	 mov	 cx, WORD PTR _nowy$[ebp]
  0061f	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGy@@3PAFA[eax*2], cx

; 3634 : 		moveRouteCnt++;

  00627	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0062d	66 83 c0 01	 add	 ax, 1
  00631	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 3635 : 	}

  00637	e9 dc fa ff ff	 jmp	 $LN2@getRouteMa
$LN3@getRouteMa:

; 3636 : 	dx = 0;

  0063c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR _dx$[ebp], 0

; 3637 : 	if (mx - nowx > 0)

  00643	8b 45 f4	 mov	 eax, DWORD PTR _mx$[ebp]
  00646	2b 45 dc	 sub	 eax, DWORD PTR _nowx$[ebp]
  00649	85 c0		 test	 eax, eax
  0064b	7e 09		 jle	 SHORT $LN26@getRouteMa

; 3638 : 		dx = 1;

  0064d	c7 45 b8 01 00
	00 00		 mov	 DWORD PTR _dx$[ebp], 1
  00654	eb 0f		 jmp	 SHORT $LN28@getRouteMa
$LN26@getRouteMa:

; 3639 : 	else if (mx - nowx < 0)

  00656	8b 45 f4	 mov	 eax, DWORD PTR _mx$[ebp]
  00659	2b 45 dc	 sub	 eax, DWORD PTR _nowx$[ebp]
  0065c	79 07		 jns	 SHORT $LN28@getRouteMa

; 3640 : 		dx = -1;

  0065e	c7 45 b8 ff ff
	ff ff		 mov	 DWORD PTR _dx$[ebp], -1
$LN28@getRouteMa:

; 3641 : 	if (dx != 0)

  00665	83 7d b8 00	 cmp	 DWORD PTR _dx$[ebp], 0
  00669	0f 84 84 00 00
	00		 je	 $LN8@getRouteMa
$LN7@getRouteMa:

; 3642 : 	{
; 3643 : 		while (!checkHitMap(nowx + dx, nowy) && mx != nowx)

  0066f	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  00672	50		 push	 eax
  00673	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  00676	03 4d b8	 add	 ecx, DWORD PTR _dx$[ebp]
  00679	51		 push	 ecx
  0067a	e8 00 00 00 00	 call	 ?checkHitMap@@YAHHH@Z	; checkHitMap
  0067f	83 c4 08	 add	 esp, 8
  00682	85 c0		 test	 eax, eax
  00684	75 6d		 jne	 SHORT $LN8@getRouteMa
  00686	8b 45 f4	 mov	 eax, DWORD PTR _mx$[ebp]
  00689	3b 45 dc	 cmp	 eax, DWORD PTR _nowx$[ebp]
  0068c	74 65		 je	 SHORT $LN8@getRouteMa

; 3644 : 		{
; 3645 : 			nowx += dx;

  0068e	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  00691	03 45 b8	 add	 eax, DWORD PTR _dx$[ebp]
  00694	89 45 dc	 mov	 DWORD PTR _nowx$[ebp], eax

; 3646 : 			moveRoute[moveRouteCnt] = getDirData(0, 0, dx, 0);

  00697	6a 00		 push	 0
  00699	8b 45 b8	 mov	 eax, DWORD PTR _dx$[ebp]
  0069c	50		 push	 eax
  0069d	6a 00		 push	 0
  0069f	6a 00		 push	 0
  006a1	e8 00 00 00 00	 call	 ?getDirData@@YAHHHHH@Z	; getDirData
  006a6	83 c4 10	 add	 esp, 16			; 00000010H
  006a9	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  006b0	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?moveRoute@@3PAFA[ecx*2], ax

; 3647 : 			moveRouteGx[moveRouteCnt] = nowx;

  006b8	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  006bf	66 8b 4d dc	 mov	 cx, WORD PTR _nowx$[ebp]
  006c3	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGx@@3PAFA[eax*2], cx

; 3648 : 			moveRouteGy[moveRouteCnt] = nowy;

  006cb	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  006d2	66 8b 4d d0	 mov	 cx, WORD PTR _nowy$[ebp]
  006d6	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGy@@3PAFA[eax*2], cx

; 3649 : 			moveRouteCnt++;

  006de	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  006e4	66 83 c0 01	 add	 ax, 1
  006e8	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 3650 : 		}

  006ee	e9 7c ff ff ff	 jmp	 $LN7@getRouteMa
$LN8@getRouteMa:

; 3651 : 	}
; 3652 : 	dy = 0;

  006f3	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _dy$[ebp], 0

; 3653 : 	if (my - nowy > 0)

  006fa	8b 45 e8	 mov	 eax, DWORD PTR _my$[ebp]
  006fd	2b 45 d0	 sub	 eax, DWORD PTR _nowy$[ebp]
  00700	85 c0		 test	 eax, eax
  00702	7e 09		 jle	 SHORT $LN30@getRouteMa

; 3654 : 		dy = 1;

  00704	c7 45 ac 01 00
	00 00		 mov	 DWORD PTR _dy$[ebp], 1
  0070b	eb 0f		 jmp	 SHORT $LN32@getRouteMa
$LN30@getRouteMa:

; 3655 :  	else if (my - nowy < 0)

  0070d	8b 45 e8	 mov	 eax, DWORD PTR _my$[ebp]
  00710	2b 45 d0	 sub	 eax, DWORD PTR _nowy$[ebp]
  00713	79 07		 jns	 SHORT $LN32@getRouteMa

; 3656 : 		dy = -1;

  00715	c7 45 ac ff ff
	ff ff		 mov	 DWORD PTR _dy$[ebp], -1
$LN32@getRouteMa:

; 3657 : 	if (dy != 0)

  0071c	83 7d ac 00	 cmp	 DWORD PTR _dy$[ebp], 0
  00720	0f 84 84 00 00
	00		 je	 $LN10@getRouteMa
$LN9@getRouteMa:

; 3658 : 	{
; 3659 : 		while (!checkHitMap(nowx, nowy + dy) && my != nowy)

  00726	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  00729	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  0072c	50		 push	 eax
  0072d	8b 4d dc	 mov	 ecx, DWORD PTR _nowx$[ebp]
  00730	51		 push	 ecx
  00731	e8 00 00 00 00	 call	 ?checkHitMap@@YAHHH@Z	; checkHitMap
  00736	83 c4 08	 add	 esp, 8
  00739	85 c0		 test	 eax, eax
  0073b	75 6d		 jne	 SHORT $LN10@getRouteMa
  0073d	8b 45 e8	 mov	 eax, DWORD PTR _my$[ebp]
  00740	3b 45 d0	 cmp	 eax, DWORD PTR _nowy$[ebp]
  00743	74 65		 je	 SHORT $LN10@getRouteMa

; 3660 : 		{
; 3661 : 			nowy += dy;

  00745	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  00748	03 45 ac	 add	 eax, DWORD PTR _dy$[ebp]
  0074b	89 45 d0	 mov	 DWORD PTR _nowy$[ebp], eax

; 3662 : 			moveRoute[moveRouteCnt] = getDirData(0, 0, 0, dy);

  0074e	8b 45 ac	 mov	 eax, DWORD PTR _dy$[ebp]
  00751	50		 push	 eax
  00752	6a 00		 push	 0
  00754	6a 00		 push	 0
  00756	6a 00		 push	 0
  00758	e8 00 00 00 00	 call	 ?getDirData@@YAHHHHH@Z	; getDirData
  0075d	83 c4 10	 add	 esp, 16			; 00000010H
  00760	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00767	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?moveRoute@@3PAFA[ecx*2], ax

; 3663 : 			moveRouteGx[moveRouteCnt] = nowx;

  0076f	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00776	66 8b 4d dc	 mov	 cx, WORD PTR _nowx$[ebp]
  0077a	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGx@@3PAFA[eax*2], cx

; 3664 : 			moveRouteGy[moveRouteCnt] = nowy;

  00782	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00789	66 8b 4d d0	 mov	 cx, WORD PTR _nowy$[ebp]
  0078d	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?moveRouteGy@@3PAFA[eax*2], cx

; 3665 : 			moveRouteCnt++;

  00795	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  0079b	66 83 c0 01	 add	 ax, 1
  0079f	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 3666 : 		}

  007a5	e9 7c ff ff ff	 jmp	 $LN9@getRouteMa
$LN10@getRouteMa:

; 3667 : 	}
; 3668 : 	if (moveRouteCnt > 0 && (nowx != mx || nowy != my))

  007aa	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  007b1	85 c0		 test	 eax, eax
  007b3	0f 8e a3 00 00
	00		 jle	 $LN34@getRouteMa
  007b9	8b 45 dc	 mov	 eax, DWORD PTR _nowx$[ebp]
  007bc	3b 45 f4	 cmp	 eax, DWORD PTR _mx$[ebp]
  007bf	75 0c		 jne	 SHORT $LN35@getRouteMa
  007c1	8b 45 d0	 mov	 eax, DWORD PTR _nowy$[ebp]
  007c4	3b 45 e8	 cmp	 eax, DWORD PTR _my$[ebp]
  007c7	0f 84 8f 00 00
	00		 je	 $LN34@getRouteMa
$LN35@getRouteMa:

; 3669 : 	{
; 3670 : 		tmpX = (float)(mx - nowx);

  007cd	8b 45 f4	 mov	 eax, DWORD PTR _mx$[ebp]
  007d0	2b 45 dc	 sub	 eax, DWORD PTR _nowx$[ebp]
  007d3	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  007d7	f3 0f 11 85 44
	ff ff ff	 movss	 DWORD PTR _tmpX$[ebp], xmm0

; 3671 : 		tmpY = (float)(my - nowy);

  007df	8b 45 e8	 mov	 eax, DWORD PTR _my$[ebp]
  007e2	2b 45 d0	 sub	 eax, DWORD PTR _nowy$[ebp]
  007e5	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  007e9	f3 0f 11 85 38
	ff ff ff	 movss	 DWORD PTR _tmpY$[ebp], xmm0

; 3672 : 		tmpDir = Atan(tmpX, tmpY) + 22.5F;

  007f1	51		 push	 ecx
  007f2	f3 0f 10 85 38
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpY$[ebp]
  007fa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  007ff	51		 push	 ecx
  00800	f3 0f 10 85 44
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpX$[ebp]
  00808	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0080d	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  00812	83 c4 08	 add	 esp, 8
  00815	d9 9d 04 fe ff
	ff		 fstp	 DWORD PTR tv522[ebp]
  0081b	f3 0f 10 85 04
	fe ff ff	 movss	 xmm0, DWORD PTR tv522[ebp]
  00823	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  0082b	f3 0f 11 85 50
	ff ff ff	 movss	 DWORD PTR _tmpDir$[ebp], xmm0

; 3673 : 		AdjustDir(&tmpDir);

  00833	8d 85 50 ff ff
	ff		 lea	 eax, DWORD PTR _tmpDir$[ebp]
  00839	50		 push	 eax
  0083a	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  0083f	83 c4 04	 add	 esp, 4

; 3674 : 		moveLastDir = (int)(tmpDir / 45);

  00842	f3 0f 10 85 50
	ff ff ff	 movss	 xmm0, DWORD PTR _tmpDir$[ebp]
  0084a	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  00852	f3 0f 2c c0	 cvttss2si eax, xmm0
  00856	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveLastDir@@3FA, ax ; moveLastDir
$LN34@getRouteMa:
$LN1@getRouteMa:

; 3675 : 	}
; 3676 : 
; 3677 : 	return;
; 3678 : }

  0085c	52		 push	 edx
  0085d	8b cd		 mov	 ecx, ebp
  0085f	50		 push	 eax
  00860	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN46@getRouteMa
  00866	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0086b	58		 pop	 eax
  0086c	5a		 pop	 edx
  0086d	5f		 pop	 edi
  0086e	5e		 pop	 esi
  0086f	5b		 pop	 ebx
  00870	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00873	33 cd		 xor	 ecx, ebp
  00875	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0087a	81 c4 fc 01 00
	00		 add	 esp, 508		; 000001fcH
  00880	3b ec		 cmp	 ebp, esp
  00882	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00887	8b e5		 mov	 esp, ebp
  00889	5d		 pop	 ebp
  0088a	c3		 ret	 0
  0088b	90		 npad	 1
$LN46@getRouteMa:
  0088c	08 00 00 00	 DD	 8
  00890	00 00 00 00	 DD	 $LN45@getRouteMa
$LN45@getRouteMa:
  00894	b8 ff ff ff	 DD	 -72			; ffffffb8H
  00898	04 00 00 00	 DD	 4
  0089c	00 00 00 00	 DD	 $LN37@getRouteMa
  008a0	ac ff ff ff	 DD	 -84			; ffffffacH
  008a4	04 00 00 00	 DD	 4
  008a8	00 00 00 00	 DD	 $LN38@getRouteMa
  008ac	5c ff ff ff	 DD	 -164			; ffffff5cH
  008b0	0c 00 00 00	 DD	 12			; 0000000cH
  008b4	00 00 00 00	 DD	 $LN39@getRouteMa
  008b8	50 ff ff ff	 DD	 -176			; ffffff50H
  008bc	04 00 00 00	 DD	 4
  008c0	00 00 00 00	 DD	 $LN40@getRouteMa
  008c4	14 ff ff ff	 DD	 -236			; ffffff14H
  008c8	04 00 00 00	 DD	 4
  008cc	00 00 00 00	 DD	 $LN41@getRouteMa
  008d0	08 ff ff ff	 DD	 -248			; ffffff08H
  008d4	04 00 00 00	 DD	 4
  008d8	00 00 00 00	 DD	 $LN42@getRouteMa
  008dc	f0 fe ff ff	 DD	 -272			; fffffef0H
  008e0	04 00 00 00	 DD	 4
  008e4	00 00 00 00	 DD	 $LN43@getRouteMa
  008e8	e4 fe ff ff	 DD	 -284			; fffffee4H
  008ec	04 00 00 00	 DD	 4
  008f0	00 00 00 00	 DD	 $LN44@getRouteMa
$LN44@getRouteMa:
  008f4	64		 DB	 100			; 00000064H
  008f5	79		 DB	 121			; 00000079H
  008f6	33		 DB	 51			; 00000033H
  008f7	00		 DB	 0
$LN43@getRouteMa:
  008f8	64		 DB	 100			; 00000064H
  008f9	78		 DB	 120			; 00000078H
  008fa	33		 DB	 51			; 00000033H
  008fb	00		 DB	 0
$LN42@getRouteMa:
  008fc	64		 DB	 100			; 00000064H
  008fd	79		 DB	 121			; 00000079H
  008fe	32		 DB	 50			; 00000032H
  008ff	00		 DB	 0
$LN41@getRouteMa:
  00900	64		 DB	 100			; 00000064H
  00901	78		 DB	 120			; 00000078H
  00902	32		 DB	 50			; 00000032H
  00903	00		 DB	 0
$LN40@getRouteMa:
  00904	74		 DB	 116			; 00000074H
  00905	6d		 DB	 109			; 0000006dH
  00906	70		 DB	 112			; 00000070H
  00907	44		 DB	 68			; 00000044H
  00908	69		 DB	 105			; 00000069H
  00909	72		 DB	 114			; 00000072H
  0090a	00		 DB	 0
$LN39@getRouteMa:
  0090b	64		 DB	 100			; 00000064H
  0090c	69		 DB	 105			; 00000069H
  0090d	72		 DB	 114			; 00000072H
  0090e	54		 DB	 84			; 00000054H
  0090f	62		 DB	 98			; 00000062H
  00910	6c		 DB	 108			; 0000006cH
  00911	00		 DB	 0
$LN38@getRouteMa:
  00912	64		 DB	 100			; 00000064H
  00913	79		 DB	 121			; 00000079H
  00914	00		 DB	 0
$LN37@getRouteMa:
  00915	64		 DB	 100			; 00000064H
  00916	78		 DB	 120			; 00000078H
  00917	00		 DB	 0
?getRouteMap@@YAXXZ ENDP				; getRouteMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?readHitMap@@YAXHHHHPAG000@Z
_TEXT	SEGMENT
tv325 = -316						; size = 4
tv158 = -316						; size = 4
_bmpNo$ = -116						; size = 4
_hitY$ = -104						; size = 2
_hitX$ = -92						; size = 2
_hit$ = -80						; size = 2
_l$ = -68						; size = 4
_k$ = -56						; size = 4
_j$ = -44						; size = 4
_i$ = -32						; size = 4
_height$ = -20						; size = 4
_width$ = -8						; size = 4
_x1$ = 8						; size = 4
_y1$ = 12						; size = 4
_x2$ = 16						; size = 4
_y2$ = 20						; size = 4
_tile$ = 24						; size = 4
_parts$ = 28						; size = 4
_event$ = 32						; size = 4
_hitMap$ = 36						; size = 4
?readHitMap@@YAXHHHHPAG000@Z PROC			; readHitMap, COMDAT

; 1553 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 3c 01 00
	00		 sub	 esp, 316		; 0000013cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd c4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-316]
  00012	b9 4f 00 00 00	 mov	 ecx, 79			; 0000004fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1554 : 	int width, height, i, j, k, l;
; 1555 : 	S2 hit, hitX, hitY;
; 1556 : 	U4 bmpNo = 0;

  0001e	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _bmpNo$[ebp], 0

; 1557 : 
; 1558 : 	memset(hitMap, 0, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));

  00025	68 b2 0a 00 00	 push	 2738			; 00000ab2H
  0002a	6a 00		 push	 0
  0002c	8b 45 24	 mov	 eax, DWORD PTR _hitMap$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 _memset
  00035	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1559 : 
; 1560 : 	width = x2 - x1;

  00038	8b 45 10	 mov	 eax, DWORD PTR _x2$[ebp]
  0003b	2b 45 08	 sub	 eax, DWORD PTR _x1$[ebp]
  0003e	89 45 f8	 mov	 DWORD PTR _width$[ebp], eax

; 1561 : 	height = y2 - y1;

  00041	8b 45 14	 mov	 eax, DWORD PTR _y2$[ebp]
  00044	2b 45 0c	 sub	 eax, DWORD PTR _y1$[ebp]
  00047	89 45 ec	 mov	 DWORD PTR _height$[ebp], eax

; 1562 : 	if (width < 1 || height < 1)

  0004a	83 7d f8 01	 cmp	 DWORD PTR _width$[ebp], 1
  0004e	7c 06		 jl	 SHORT $LN37@readHitMap
  00050	83 7d ec 01	 cmp	 DWORD PTR _height$[ebp], 1
  00054	7d 05		 jge	 SHORT $LN36@readHitMap
$LN37@readHitMap:

; 1563 : 		return;

  00056	e9 b3 05 00 00	 jmp	 $LN1@readHitMap
$LN36@readHitMap:

; 1564 : 
; 1565 : 	// ???
; 1566 : 	for (i = 0; i < height; i++)

  0005b	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00062	eb 09		 jmp	 SHORT $LN4@readHitMap
$LN2@readHitMap:
  00064	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00067	83 c0 01	 add	 eax, 1
  0006a	89 45 e0	 mov	 DWORD PTR _i$[ebp], eax
$LN4@readHitMap:
  0006d	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00070	3b 45 ec	 cmp	 eax, DWORD PTR _height$[ebp]
  00073	0f 8d 94 01 00
	00		 jge	 $LN3@readHitMap

; 1567 : 	{
; 1568 : 		for (j = 0; j < width; j++)

  00079	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _j$[ebp], 0
  00080	eb 09		 jmp	 SHORT $LN7@readHitMap
$LN5@readHitMap:
  00082	8b 45 d4	 mov	 eax, DWORD PTR _j$[ebp]
  00085	83 c0 01	 add	 eax, 1
  00088	89 45 d4	 mov	 DWORD PTR _j$[ebp], eax
$LN7@readHitMap:
  0008b	8b 45 d4	 mov	 eax, DWORD PTR _j$[ebp]
  0008e	3b 45 f8	 cmp	 eax, DWORD PTR _width$[ebp]
  00091	0f 8d 71 01 00
	00		 jge	 $LN6@readHitMap

; 1569 : 		{
; 1570 : 			// ???????§R¤e
; 1571 : 			bmpNo = 0;

  00097	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _bmpNo$[ebp], 0

; 1572 : 			if (tile[i * width + j] > CG_INVISIBLE || (60 <= tile[i * width + j] && tile[i * width + j] <= 79))

  0009e	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  000a1	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  000a5	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  000a8	8b 4d 18	 mov	 ecx, DWORD PTR _tile$[ebp]
  000ab	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  000af	83 fa 63	 cmp	 edx, 99			; 00000063H
  000b2	7f 34		 jg	 SHORT $LN40@readHitMap
  000b4	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  000b7	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  000bb	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  000be	8b 4d 18	 mov	 ecx, DWORD PTR _tile$[ebp]
  000c1	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  000c5	83 fa 3c	 cmp	 edx, 60			; 0000003cH
  000c8	0f 8c a2 00 00
	00		 jl	 $LN38@readHitMap
  000ce	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  000d1	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  000d5	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  000d8	8b 4d 18	 mov	 ecx, DWORD PTR _tile$[ebp]
  000db	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  000df	83 fa 4f	 cmp	 edx, 79			; 0000004fH
  000e2	0f 8f 88 00 00
	00		 jg	 $LN38@readHitMap
$LN40@readHitMap:

; 1573 : 			{
; 1574 : 				realGetNo(tile[i * width + j], &bmpNo);

  000e8	8d 45 8c	 lea	 eax, DWORD PTR _bmpNo$[ebp]
  000eb	50		 push	 eax
  000ec	8b 4d e0	 mov	 ecx, DWORD PTR _i$[ebp]
  000ef	0f af 4d f8	 imul	 ecx, DWORD PTR _width$[ebp]
  000f3	03 4d d4	 add	 ecx, DWORD PTR _j$[ebp]
  000f6	8b 55 18	 mov	 edx, DWORD PTR _tile$[ebp]
  000f9	0f b7 04 4a	 movzx	 eax, WORD PTR [edx+ecx*2]
  000fd	50		 push	 eax
  000fe	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo
  00103	83 c4 08	 add	 esp, 8

; 1575 : 				// ???§R¤e??þ†
; 1576 : 				realGetHitFlag(bmpNo, &hit);

  00106	8d 45 b0	 lea	 eax, DWORD PTR _hit$[ebp]
  00109	50		 push	 eax
  0010a	8b 4d 8c	 mov	 ecx, DWORD PTR _bmpNo$[ebp]
  0010d	51		 push	 ecx
  0010e	e8 00 00 00 00	 call	 ?realGetHitFlag@@YAHKPAF@Z ; realGetHitFlag
  00113	83 c4 08	 add	 esp, 8

; 1577 : 				//CC FIX
; 1578 : 				//20170812
; 1579 : 				//ÐÞ¸´ realGetHitFlag¶ÔÓÚ hit Öµ = 0µÄÇé¿ö
; 1580 : 				//ËÆºõÕý³£µÄ¾ùÎª1
; 1581 : 				if (bmpNo > 300000)	//±ù³ÇµÄbmpNo´óÔ¼¶¼ÊÇ300000ÒÔºó£¿
; 1582 : 				{
; 1583 : 					//if (hit == 0) hit = 1;
; 1584 : 				}
; 1585 : 				if (hit == 0 && hitMap[i * width + j] != 2)

  00116	0f bf 45 b0	 movsx	 eax, WORD PTR _hit$[ebp]
  0011a	85 c0		 test	 eax, eax
  0011c	75 2e		 jne	 SHORT $LN42@readHitMap
  0011e	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00121	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00125	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00128	8b 4d 24	 mov	 ecx, DWORD PTR _hitMap$[ebp]
  0012b	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0012f	83 fa 02	 cmp	 edx, 2
  00132	74 18		 je	 SHORT $LN42@readHitMap

; 1586 : 					hitMap[i * width + j] = 1;

  00134	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00137	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  0013b	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  0013e	b9 01 00 00 00	 mov	 ecx, 1
  00143	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  00146	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
  0014a	eb 1f		 jmp	 SHORT $LN43@readHitMap
$LN42@readHitMap:

; 1587 : 				else if (hit == 2) // hit?2??????§R¤e???

  0014c	0f bf 45 b0	 movsx	 eax, WORD PTR _hit$[ebp]
  00150	83 f8 02	 cmp	 eax, 2
  00153	75 16		 jne	 SHORT $LN43@readHitMap

; 1588 : 					hitMap[i * width + j] = 2;

  00155	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00158	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  0015c	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  0015f	b9 02 00 00 00	 mov	 ecx, 2
  00164	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  00167	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN43@readHitMap:

; 1589 : 			}
; 1590 : 			else

  0016b	e9 93 00 00 00	 jmp	 $LN39@readHitMap
$LN38@readHitMap:

; 1591 : 			{
; 1592 : 				// 0??11??????????????
; 1593 : 				switch (tile[i * width + j])

  00170	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00173	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00177	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  0017a	8b 4d 18	 mov	 ecx, DWORD PTR _tile$[ebp]
  0017d	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00181	89 95 c4 fe ff
	ff		 mov	 DWORD PTR tv158[ebp], edx
  00187	83 bd c4 fe ff
	ff 0a		 cmp	 DWORD PTR tv158[ebp], 10 ; 0000000aH
  0018e	77 73		 ja	 SHORT $LN39@readHitMap
  00190	8b 85 c4 fe ff
	ff		 mov	 eax, DWORD PTR tv158[ebp]
  00196	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR $LN70@readHitMap[eax]
  0019d	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN78@readHitMap[ecx*4]
$LN45@readHitMap:

; 1594 : 				{
; 1595 : 					case 0:	// 0.bmp(þ†???)???????§R¤e?????
; 1596 : 						// ¥‚????????????????????
; 1597 : 						if ((event[i * width + j] & MAP_SEE_FLAG) == 0)

  001a4	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  001a7	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  001ab	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  001ae	8b 4d 20	 mov	 ecx, DWORD PTR _event$[ebp]
  001b1	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  001b5	81 e2 00 40 00
	00		 and	 edx, 16384		; 00004000H
  001bb	75 02		 jne	 SHORT $LN47@readHitMap

; 1598 : 							break;

  001bd	eb 44		 jmp	 SHORT $LN39@readHitMap
$LN47@readHitMap:

; 1599 : 					case 1:
; 1600 : 					case 2:
; 1601 : 					case 5:
; 1602 : 					case 6:
; 1603 : 					case 9:
; 1604 : 					case 10:
; 1605 : 						// ???§R¤e???????¡@¤e???
; 1606 : 						if (hitMap[i * width + j] != 2)

  001bf	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  001c2	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  001c6	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  001c9	8b 4d 24	 mov	 ecx, DWORD PTR _hitMap$[ebp]
  001cc	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  001d0	83 fa 02	 cmp	 edx, 2
  001d3	74 16		 je	 SHORT $LN48@readHitMap

; 1607 : 							hitMap[i * width + j] = 1;

  001d5	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  001d8	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  001dc	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  001df	b9 01 00 00 00	 mov	 ecx, 1
  001e4	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  001e7	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN48@readHitMap:

; 1608 : 						break;

  001eb	eb 16		 jmp	 SHORT $LN39@readHitMap
$LN49@readHitMap:

; 1609 : 
; 1610 : 					case 4:
; 1611 : 						hitMap[i * width + j] = 2;

  001ed	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  001f0	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  001f4	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  001f7	b9 02 00 00 00	 mov	 ecx, 2
  001fc	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  001ff	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN39@readHitMap:

; 1612 : 						break;
; 1613 : 				}
; 1614 : 			}
; 1615 : //#define SHOW_DEBUG_HIT 
; 1616 : #ifdef SHOW_DEBUG_HIT
; 1617 : 			char buf[100];
; 1618 : 			wsprintfA(buf, "%d,%3d,%-3d bmpNo:%-6d  hit:%d  tile:%d\n", nowFloor, x1 + j, y1 + i, bmpNo, hitMap[i * width + j], tile[i * width + j]);
; 1619 : 			OutputDebugString(buf);
; 1620 : #endif
; 1621 : 		}

  00203	e9 7a fe ff ff	 jmp	 $LN5@readHitMap
$LN6@readHitMap:

; 1622 : 	}

  00208	e9 57 fe ff ff	 jmp	 $LN2@readHitMap
$LN3@readHitMap:

; 1623 : #ifdef SHOW_DEBUG_HIT
; 1624 : 	OutputDebugString("---------------Í¼²ã¼ÓÉÏ½¨ÖþÎïÊÇ·ñ¿Éhit----------------\n");
; 1625 : #endif
; 1626 : 	// ???
; 1627 : 	for (i = 0; i < height; i++)

  0020d	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00214	eb 09		 jmp	 SHORT $LN12@readHitMap
$LN10@readHitMap:
  00216	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00219	83 c0 01	 add	 eax, 1
  0021c	89 45 e0	 mov	 DWORD PTR _i$[ebp], eax
$LN12@readHitMap:
  0021f	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00222	3b 45 ec	 cmp	 eax, DWORD PTR _height$[ebp]
  00225	0f 8d e3 03 00
	00		 jge	 $LN1@readHitMap

; 1628 : 	{
; 1629 : 		for (j = 0; j < width; j++)

  0022b	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _j$[ebp], 0
  00232	eb 09		 jmp	 SHORT $LN15@readHitMap
$LN13@readHitMap:
  00234	8b 45 d4	 mov	 eax, DWORD PTR _j$[ebp]
  00237	83 c0 01	 add	 eax, 1
  0023a	89 45 d4	 mov	 DWORD PTR _j$[ebp], eax
$LN15@readHitMap:
  0023d	8b 45 d4	 mov	 eax, DWORD PTR _j$[ebp]
  00240	3b 45 f8	 cmp	 eax, DWORD PTR _width$[ebp]
  00243	0f 8d c0 03 00
	00		 jge	 $LN14@readHitMap

; 1630 : 		{ 
; 1631 : 			// ???????§R¤e
; 1632 : 			bmpNo = 0;

  00249	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _bmpNo$[ebp], 0

; 1633 : 			if (parts[i * width + j] > CG_INVISIBLE)

  00250	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00253	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00257	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  0025a	8b 4d 1c	 mov	 ecx, DWORD PTR _parts$[ebp]
  0025d	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00261	83 fa 63	 cmp	 edx, 99			; 00000063H
  00264	0f 8e 25 02 00
	00		 jle	 $LN50@readHitMap

; 1634 : 			{
; 1635 : 				realGetNo(parts[i * width + j], &bmpNo);

  0026a	8d 45 8c	 lea	 eax, DWORD PTR _bmpNo$[ebp]
  0026d	50		 push	 eax
  0026e	8b 4d e0	 mov	 ecx, DWORD PTR _i$[ebp]
  00271	0f af 4d f8	 imul	 ecx, DWORD PTR _width$[ebp]
  00275	03 4d d4	 add	 ecx, DWORD PTR _j$[ebp]
  00278	8b 55 1c	 mov	 edx, DWORD PTR _parts$[ebp]
  0027b	0f b7 04 4a	 movzx	 eax, WORD PTR [edx+ecx*2]
  0027f	50		 push	 eax
  00280	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo
  00285	83 c4 08	 add	 esp, 8

; 1636 : 				// ???§R¤e??þ†
; 1637 : 				realGetHitFlag(bmpNo, &hit);

  00288	8d 45 b0	 lea	 eax, DWORD PTR _hit$[ebp]
  0028b	50		 push	 eax
  0028c	8b 4d 8c	 mov	 ecx, DWORD PTR _bmpNo$[ebp]
  0028f	51		 push	 ecx
  00290	e8 00 00 00 00	 call	 ?realGetHitFlag@@YAHKPAF@Z ; realGetHitFlag
  00295	83 c4 08	 add	 esp, 8

; 1638 : 				// ???§R¤e?????????¡@¤e
; 1639 : 				if (hit == 0)

  00298	0f bf 45 b0	 movsx	 eax, WORD PTR _hit$[ebp]
  0029c	85 c0		 test	 eax, eax
  0029e	0f 85 9e 00 00
	00		 jne	 $LN52@readHitMap

; 1640 : 				{
; 1641 : 					realGetHitPoints(bmpNo, &hitX, &hitY);

  002a4	8d 45 98	 lea	 eax, DWORD PTR _hitY$[ebp]
  002a7	50		 push	 eax
  002a8	8d 4d a4	 lea	 ecx, DWORD PTR _hitX$[ebp]
  002ab	51		 push	 ecx
  002ac	8b 55 8c	 mov	 edx, DWORD PTR _bmpNo$[ebp]
  002af	52		 push	 edx
  002b0	e8 00 00 00 00	 call	 ?realGetHitPoints@@YAHKPAF0@Z ; realGetHitPoints
  002b5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1642 : 					for (k = 0; k < hitY; k++)

  002b8	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _k$[ebp], 0
  002bf	eb 09		 jmp	 SHORT $LN18@readHitMap
$LN16@readHitMap:
  002c1	8b 45 c8	 mov	 eax, DWORD PTR _k$[ebp]
  002c4	83 c0 01	 add	 eax, 1
  002c7	89 45 c8	 mov	 DWORD PTR _k$[ebp], eax
$LN18@readHitMap:
  002ca	0f bf 45 98	 movsx	 eax, WORD PTR _hitY$[ebp]
  002ce	39 45 c8	 cmp	 DWORD PTR _k$[ebp], eax
  002d1	7d 6a		 jge	 SHORT $LN17@readHitMap

; 1643 : 					{
; 1644 : 						for (l = 0; l < hitX; l++)

  002d3	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _l$[ebp], 0
  002da	eb 09		 jmp	 SHORT $LN21@readHitMap
$LN19@readHitMap:
  002dc	8b 45 bc	 mov	 eax, DWORD PTR _l$[ebp]
  002df	83 c0 01	 add	 eax, 1
  002e2	89 45 bc	 mov	 DWORD PTR _l$[ebp], eax
$LN21@readHitMap:
  002e5	0f bf 45 a4	 movsx	 eax, WORD PTR _hitX$[ebp]
  002e9	39 45 bc	 cmp	 DWORD PTR _l$[ebp], eax
  002ec	7d 4d		 jge	 SHORT $LN20@readHitMap

; 1645 : 						{
; 1646 : 							if ((i - k) >= 0 && (j + l) < width && hitMap[(i - k) * width + j + l] != 2)

  002ee	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  002f1	2b 45 c8	 sub	 eax, DWORD PTR _k$[ebp]
  002f4	78 43		 js	 SHORT $LN54@readHitMap
  002f6	8b 45 d4	 mov	 eax, DWORD PTR _j$[ebp]
  002f9	03 45 bc	 add	 eax, DWORD PTR _l$[ebp]
  002fc	3b 45 f8	 cmp	 eax, DWORD PTR _width$[ebp]
  002ff	7d 38		 jge	 SHORT $LN54@readHitMap
  00301	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00304	2b 45 c8	 sub	 eax, DWORD PTR _k$[ebp]
  00307	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  0030b	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  0030e	03 45 bc	 add	 eax, DWORD PTR _l$[ebp]
  00311	8b 4d 24	 mov	 ecx, DWORD PTR _hitMap$[ebp]
  00314	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00318	83 fa 02	 cmp	 edx, 2
  0031b	74 1c		 je	 SHORT $LN54@readHitMap

; 1647 : 								hitMap[(i - k) * width + j + l] = 1;

  0031d	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00320	2b 45 c8	 sub	 eax, DWORD PTR _k$[ebp]
  00323	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00327	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  0032a	03 45 bc	 add	 eax, DWORD PTR _l$[ebp]
  0032d	b9 01 00 00 00	 mov	 ecx, 1
  00332	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  00335	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN54@readHitMap:

; 1648 : 						}

  00339	eb a1		 jmp	 SHORT $LN19@readHitMap
$LN20@readHitMap:

; 1649 : 					}

  0033b	eb 84		 jmp	 SHORT $LN16@readHitMap
$LN17@readHitMap:

; 1650 : 				}
; 1651 : 				// ???§R¤e?????????¨÷?????
; 1652 : 				// ?þÉ¤†?¨÷???????
; 1653 : 				else if (hit == 2)

  0033d	e9 48 01 00 00	 jmp	 $LN53@readHitMap
$LN52@readHitMap:
  00342	0f bf 45 b0	 movsx	 eax, WORD PTR _hit$[ebp]
  00346	83 f8 02	 cmp	 eax, 2
  00349	0f 85 82 00 00
	00		 jne	 $LN55@readHitMap

; 1654 : 				{
; 1655 : 					realGetHitPoints(bmpNo, &hitX, &hitY);

  0034f	8d 45 98	 lea	 eax, DWORD PTR _hitY$[ebp]
  00352	50		 push	 eax
  00353	8d 4d a4	 lea	 ecx, DWORD PTR _hitX$[ebp]
  00356	51		 push	 ecx
  00357	8b 55 8c	 mov	 edx, DWORD PTR _bmpNo$[ebp]
  0035a	52		 push	 edx
  0035b	e8 00 00 00 00	 call	 ?realGetHitPoints@@YAHKPAF0@Z ; realGetHitPoints
  00360	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1656 : 					for (k = 0; k < hitY; k++)

  00363	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _k$[ebp], 0
  0036a	eb 09		 jmp	 SHORT $LN24@readHitMap
$LN22@readHitMap:
  0036c	8b 45 c8	 mov	 eax, DWORD PTR _k$[ebp]
  0036f	83 c0 01	 add	 eax, 1
  00372	89 45 c8	 mov	 DWORD PTR _k$[ebp], eax
$LN24@readHitMap:
  00375	0f bf 45 98	 movsx	 eax, WORD PTR _hitY$[ebp]
  00379	39 45 c8	 cmp	 DWORD PTR _k$[ebp], eax
  0037c	7d 4e		 jge	 SHORT $LN23@readHitMap

; 1657 : 					{
; 1658 : 						for (l = 0; l < hitX; l++)

  0037e	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _l$[ebp], 0
  00385	eb 09		 jmp	 SHORT $LN27@readHitMap
$LN25@readHitMap:
  00387	8b 45 bc	 mov	 eax, DWORD PTR _l$[ebp]
  0038a	83 c0 01	 add	 eax, 1
  0038d	89 45 bc	 mov	 DWORD PTR _l$[ebp], eax
$LN27@readHitMap:
  00390	0f bf 45 a4	 movsx	 eax, WORD PTR _hitX$[ebp]
  00394	39 45 bc	 cmp	 DWORD PTR _l$[ebp], eax
  00397	7d 31		 jge	 SHORT $LN26@readHitMap

; 1659 : 						{
; 1660 : 							if ((i - k) >= 0 && (j + l) < width)

  00399	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  0039c	2b 45 c8	 sub	 eax, DWORD PTR _k$[ebp]
  0039f	78 27		 js	 SHORT $LN57@readHitMap
  003a1	8b 45 d4	 mov	 eax, DWORD PTR _j$[ebp]
  003a4	03 45 bc	 add	 eax, DWORD PTR _l$[ebp]
  003a7	3b 45 f8	 cmp	 eax, DWORD PTR _width$[ebp]
  003aa	7d 1c		 jge	 SHORT $LN57@readHitMap

; 1661 : 								hitMap[(i - k) * width + j + l] = 2;

  003ac	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  003af	2b 45 c8	 sub	 eax, DWORD PTR _k$[ebp]
  003b2	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  003b6	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  003b9	03 45 bc	 add	 eax, DWORD PTR _l$[ebp]
  003bc	b9 02 00 00 00	 mov	 ecx, 2
  003c1	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  003c4	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN57@readHitMap:

; 1662 : 						}

  003c8	eb bd		 jmp	 SHORT $LN25@readHitMap
$LN26@readHitMap:

; 1663 : 					}

  003ca	eb a0		 jmp	 SHORT $LN22@readHitMap
$LN23@readHitMap:

; 1664 : 				}
; 1665 : 				else if (hit == 1 && parts[i * width + j] >= 15680 && parts[i * width + j] <= 15732)

  003cc	e9 b9 00 00 00	 jmp	 $LN53@readHitMap
$LN55@readHitMap:
  003d1	0f bf 45 b0	 movsx	 eax, WORD PTR _hit$[ebp]
  003d5	83 f8 01	 cmp	 eax, 1
  003d8	0f 85 ac 00 00
	00		 jne	 $LN53@readHitMap
  003de	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  003e1	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  003e5	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  003e8	8b 4d 1c	 mov	 ecx, DWORD PTR _parts$[ebp]
  003eb	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  003ef	81 fa 40 3d 00
	00		 cmp	 edx, 15680		; 00003d40H
  003f5	0f 8c 8f 00 00
	00		 jl	 $LN53@readHitMap
  003fb	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  003fe	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00402	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00405	8b 4d 1c	 mov	 ecx, DWORD PTR _parts$[ebp]
  00408	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0040c	81 fa 74 3d 00
	00		 cmp	 edx, 15732		; 00003d74H
  00412	7f 76		 jg	 SHORT $LN53@readHitMap

; 1666 : 				{
; 1667 : 					realGetHitPoints(bmpNo, &hitX, &hitY);

  00414	8d 45 98	 lea	 eax, DWORD PTR _hitY$[ebp]
  00417	50		 push	 eax
  00418	8d 4d a4	 lea	 ecx, DWORD PTR _hitX$[ebp]
  0041b	51		 push	 ecx
  0041c	8b 55 8c	 mov	 edx, DWORD PTR _bmpNo$[ebp]
  0041f	52		 push	 edx
  00420	e8 00 00 00 00	 call	 ?realGetHitPoints@@YAHKPAF0@Z ; realGetHitPoints
  00425	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1668 : 					for (k = 0; k < hitY; k++)

  00428	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _k$[ebp], 0
  0042f	eb 09		 jmp	 SHORT $LN30@readHitMap
$LN28@readHitMap:
  00431	8b 45 c8	 mov	 eax, DWORD PTR _k$[ebp]
  00434	83 c0 01	 add	 eax, 1
  00437	89 45 c8	 mov	 DWORD PTR _k$[ebp], eax
$LN30@readHitMap:
  0043a	0f bf 45 98	 movsx	 eax, WORD PTR _hitY$[ebp]
  0043e	39 45 c8	 cmp	 DWORD PTR _k$[ebp], eax
  00441	7d 47		 jge	 SHORT $LN53@readHitMap

; 1669 : 					{
; 1670 : 						for (l = 0; l < hitX; l++)

  00443	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _l$[ebp], 0
  0044a	eb 09		 jmp	 SHORT $LN33@readHitMap
$LN31@readHitMap:
  0044c	8b 45 bc	 mov	 eax, DWORD PTR _l$[ebp]
  0044f	83 c0 01	 add	 eax, 1
  00452	89 45 bc	 mov	 DWORD PTR _l$[ebp], eax
$LN33@readHitMap:
  00455	0f bf 45 a4	 movsx	 eax, WORD PTR _hitX$[ebp]
  00459	39 45 bc	 cmp	 DWORD PTR _l$[ebp], eax
  0045c	7d 2a		 jge	 SHORT $LN32@readHitMap

; 1671 : 						{
; 1672 : 							//if ((i - k) >= 0 && (j + l) < width)
; 1673 : 								//hitMap[(i-k)*width+j+l] = 0;
; 1674 : 							if (k == 0 && l == 0)

  0045e	83 7d c8 00	 cmp	 DWORD PTR _k$[ebp], 0
  00462	75 22		 jne	 SHORT $LN59@readHitMap
  00464	83 7d bc 00	 cmp	 DWORD PTR _l$[ebp], 0
  00468	75 1c		 jne	 SHORT $LN59@readHitMap

; 1675 : 								hitMap[(i - k) * width + j + l] = 1;

  0046a	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  0046d	2b 45 c8	 sub	 eax, DWORD PTR _k$[ebp]
  00470	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00474	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00477	03 45 bc	 add	 eax, DWORD PTR _l$[ebp]
  0047a	b9 01 00 00 00	 mov	 ecx, 1
  0047f	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  00482	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN59@readHitMap:

; 1676 : 						}

  00486	eb c4		 jmp	 SHORT $LN31@readHitMap
$LN32@readHitMap:

; 1677 : 					}					

  00488	eb a7		 jmp	 SHORT $LN28@readHitMap
$LN53@readHitMap:

; 1678 : 				}	
; 1679 : 			}

  0048a	e9 43 01 00 00	 jmp	 $LN51@readHitMap
$LN50@readHitMap:

; 1680 : 			else if (60 <= parts[i * width + j] && parts[i * width + j] <= 79)

  0048f	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00492	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00496	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00499	8b 4d 1c	 mov	 ecx, DWORD PTR _parts$[ebp]
  0049c	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  004a0	83 fa 3c	 cmp	 edx, 60			; 0000003cH
  004a3	0f 8c a2 00 00
	00		 jl	 $LN60@readHitMap
  004a9	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  004ac	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  004b0	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  004b3	8b 4d 1c	 mov	 ecx, DWORD PTR _parts$[ebp]
  004b6	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  004ba	83 fa 4f	 cmp	 edx, 79			; 0000004fH
  004bd	0f 8f 88 00 00
	00		 jg	 $LN60@readHitMap

; 1681 : 			{
; 1682 : 				realGetNo(parts[i * width + j], &bmpNo);

  004c3	8d 45 8c	 lea	 eax, DWORD PTR _bmpNo$[ebp]
  004c6	50		 push	 eax
  004c7	8b 4d e0	 mov	 ecx, DWORD PTR _i$[ebp]
  004ca	0f af 4d f8	 imul	 ecx, DWORD PTR _width$[ebp]
  004ce	03 4d d4	 add	 ecx, DWORD PTR _j$[ebp]
  004d1	8b 55 1c	 mov	 edx, DWORD PTR _parts$[ebp]
  004d4	0f b7 04 4a	 movzx	 eax, WORD PTR [edx+ecx*2]
  004d8	50		 push	 eax
  004d9	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo
  004de	83 c4 08	 add	 esp, 8

; 1683 : 				// ???§R¤e??þ†
; 1684 : 				realGetHitFlag(bmpNo, &hit);

  004e1	8d 45 b0	 lea	 eax, DWORD PTR _hit$[ebp]
  004e4	50		 push	 eax
  004e5	8b 4d 8c	 mov	 ecx, DWORD PTR _bmpNo$[ebp]
  004e8	51		 push	 ecx
  004e9	e8 00 00 00 00	 call	 ?realGetHitFlag@@YAHKPAF@Z ; realGetHitFlag
  004ee	83 c4 08	 add	 esp, 8

; 1685 : 				// ???§R¤e?????????¡@¤e
; 1686 : 				if (hit == 0 && hitMap[i * width + j] != 2)

  004f1	0f bf 45 b0	 movsx	 eax, WORD PTR _hit$[ebp]
  004f5	85 c0		 test	 eax, eax
  004f7	75 2e		 jne	 SHORT $LN62@readHitMap
  004f9	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  004fc	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00500	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00503	8b 4d 24	 mov	 ecx, DWORD PTR _hitMap$[ebp]
  00506	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0050a	83 fa 02	 cmp	 edx, 2
  0050d	74 18		 je	 SHORT $LN62@readHitMap

; 1687 : 					hitMap[i * width + j] = 1;

  0050f	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00512	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00516	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00519	b9 01 00 00 00	 mov	 ecx, 1
  0051e	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  00521	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
  00525	eb 1f		 jmp	 SHORT $LN63@readHitMap
$LN62@readHitMap:

; 1688 : 				// hit?2??????§R¤e???
; 1689 : 				else if (hit == 2)

  00527	0f bf 45 b0	 movsx	 eax, WORD PTR _hit$[ebp]
  0052b	83 f8 02	 cmp	 eax, 2
  0052e	75 16		 jne	 SHORT $LN63@readHitMap

; 1690 : 					hitMap[i * width + j] = 2;

  00530	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00533	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00537	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  0053a	b9 02 00 00 00	 mov	 ecx, 2
  0053f	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  00542	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN63@readHitMap:

; 1691 : 			}
; 1692 : 			else

  00546	e9 87 00 00 00	 jmp	 $LN51@readHitMap
$LN60@readHitMap:

; 1693 : 			{
; 1694 : 				// 0??11??????????????
; 1695 : 				switch (parts[i * width + j])

  0054b	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  0054e	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00552	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00555	8b 4d 1c	 mov	 ecx, DWORD PTR _parts$[ebp]
  00558	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0055c	89 95 c4 fe ff
	ff		 mov	 DWORD PTR tv325[ebp], edx
  00562	8b 85 c4 fe ff
	ff		 mov	 eax, DWORD PTR tv325[ebp]
  00568	83 e8 01	 sub	 eax, 1
  0056b	89 85 c4 fe ff
	ff		 mov	 DWORD PTR tv325[ebp], eax
  00571	83 bd c4 fe ff
	ff 09		 cmp	 DWORD PTR tv325[ebp], 9
  00578	77 58		 ja	 SHORT $LN51@readHitMap
  0057a	8b 8d c4 fe ff
	ff		 mov	 ecx, DWORD PTR tv325[ebp]
  00580	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN71@readHitMap[ecx]
  00587	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN79@readHitMap[edx*4]
$LN65@readHitMap:

; 1696 : 				{	
; 1697 : 					case 1:
; 1698 : 					case 2:
; 1699 : 					case 5:
; 1700 : 					case 6:
; 1701 : 					case 9:
; 1702 : 					case 10:
; 1703 : 						// ???§R¤e???????¡@¤e???
; 1704 : 						if (hitMap[i * width + j] != 2)

  0058e	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00591	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  00595	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  00598	8b 4d 24	 mov	 ecx, DWORD PTR _hitMap$[ebp]
  0059b	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0059f	83 fa 02	 cmp	 edx, 2
  005a2	74 16		 je	 SHORT $LN66@readHitMap

; 1705 : 							hitMap[i * width + j] = 1;

  005a4	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  005a7	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  005ab	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  005ae	b9 01 00 00 00	 mov	 ecx, 1
  005b3	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  005b6	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN66@readHitMap:

; 1706 : 						break;

  005ba	eb 16		 jmp	 SHORT $LN51@readHitMap
$LN67@readHitMap:

; 1707 : 
; 1708 : 					case 4:
; 1709 : 						hitMap[i * width + j] = 2;

  005bc	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  005bf	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  005c3	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  005c6	b9 02 00 00 00	 mov	 ecx, 2
  005cb	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  005ce	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN51@readHitMap:

; 1710 : 						break;
; 1711 : 				}
; 1712 : 			}
; 1713 : 
; 1714 : 			// ?¤e????????ýÄ?§Ä?????
; 1715 : 			if ((event[i * width + j] & 0x0fff) == EVENT_NPC)

  005d2	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  005d5	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  005d9	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  005dc	8b 4d 20	 mov	 ecx, DWORD PTR _event$[ebp]
  005df	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  005e3	81 e2 ff 0f 00
	00		 and	 edx, 4095		; 00000fffH
  005e9	83 fa 01	 cmp	 edx, 1
  005ec	75 16		 jne	 SHORT $LN68@readHitMap

; 1716 : 				hitMap[i * width + j] = 1;

  005ee	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  005f1	0f af 45 f8	 imul	 eax, DWORD PTR _width$[ebp]
  005f5	03 45 d4	 add	 eax, DWORD PTR _j$[ebp]
  005f8	b9 01 00 00 00	 mov	 ecx, 1
  005fd	8b 55 24	 mov	 edx, DWORD PTR _hitMap$[ebp]
  00600	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx
$LN68@readHitMap:

; 1717 : 		
; 1718 : #ifdef SHOW_DEBUG_HIT	
; 1719 : 			char buf[100];
; 1720 : 
; 1721 : 			wsprintfA(buf, "%d,%3d,%-3d bmpNo:%-6d  hit:%d  parts:%d\n", nowFloor, x1 + j, y1 + i, bmpNo, hitMap[i * width + j], parts[i * width + j]);
; 1722 : 			OutputDebugString(buf);
; 1723 : #endif
; 1724 : 		}

  00604	e9 2b fc ff ff	 jmp	 $LN13@readHitMap
$LN14@readHitMap:

; 1725 : 	
; 1726 : 
; 1727 : 	
; 1728 : 	}

  00609	e9 08 fc ff ff	 jmp	 $LN10@readHitMap
$LN1@readHitMap:

; 1729 : }

  0060e	52		 push	 edx
  0060f	8b cd		 mov	 ecx, ebp
  00611	50		 push	 eax
  00612	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN77@readHitMap
  00618	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0061d	58		 pop	 eax
  0061e	5a		 pop	 edx
  0061f	5f		 pop	 edi
  00620	5e		 pop	 esi
  00621	5b		 pop	 ebx
  00622	81 c4 3c 01 00
	00		 add	 esp, 316		; 0000013cH
  00628	3b ec		 cmp	 ebp, esp
  0062a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0062f	8b e5		 mov	 esp, ebp
  00631	5d		 pop	 ebp
  00632	c3		 ret	 0
  00633	90		 npad	 1
$LN77@readHitMap:
  00634	04 00 00 00	 DD	 4
  00638	00 00 00 00	 DD	 $LN76@readHitMap
$LN76@readHitMap:
  0063c	b0 ff ff ff	 DD	 -80			; ffffffb0H
  00640	02 00 00 00	 DD	 2
  00644	00 00 00 00	 DD	 $LN72@readHitMap
  00648	a4 ff ff ff	 DD	 -92			; ffffffa4H
  0064c	02 00 00 00	 DD	 2
  00650	00 00 00 00	 DD	 $LN73@readHitMap
  00654	98 ff ff ff	 DD	 -104			; ffffff98H
  00658	02 00 00 00	 DD	 2
  0065c	00 00 00 00	 DD	 $LN74@readHitMap
  00660	8c ff ff ff	 DD	 -116			; ffffff8cH
  00664	04 00 00 00	 DD	 4
  00668	00 00 00 00	 DD	 $LN75@readHitMap
$LN75@readHitMap:
  0066c	62		 DB	 98			; 00000062H
  0066d	6d		 DB	 109			; 0000006dH
  0066e	70		 DB	 112			; 00000070H
  0066f	4e		 DB	 78			; 0000004eH
  00670	6f		 DB	 111			; 0000006fH
  00671	00		 DB	 0
$LN74@readHitMap:
  00672	68		 DB	 104			; 00000068H
  00673	69		 DB	 105			; 00000069H
  00674	74		 DB	 116			; 00000074H
  00675	59		 DB	 89			; 00000059H
  00676	00		 DB	 0
$LN73@readHitMap:
  00677	68		 DB	 104			; 00000068H
  00678	69		 DB	 105			; 00000069H
  00679	74		 DB	 116			; 00000074H
  0067a	58		 DB	 88			; 00000058H
  0067b	00		 DB	 0
$LN72@readHitMap:
  0067c	68		 DB	 104			; 00000068H
  0067d	69		 DB	 105			; 00000069H
  0067e	74		 DB	 116			; 00000074H
  0067f	00		 DB	 0
$LN78@readHitMap:
  00680	00 00 00 00	 DD	 $LN45@readHitMap
  00684	00 00 00 00	 DD	 $LN47@readHitMap
  00688	00 00 00 00	 DD	 $LN49@readHitMap
  0068c	00 00 00 00	 DD	 $LN39@readHitMap
$LN70@readHitMap:
  00690	00		 DB	 0
  00691	01		 DB	 1
  00692	01		 DB	 1
  00693	03		 DB	 3
  00694	02		 DB	 2
  00695	01		 DB	 1
  00696	01		 DB	 1
  00697	03		 DB	 3
  00698	03		 DB	 3
  00699	01		 DB	 1
  0069a	01		 DB	 1
  0069b	90		 npad	 1
$LN79@readHitMap:
  0069c	00 00 00 00	 DD	 $LN65@readHitMap
  006a0	00 00 00 00	 DD	 $LN67@readHitMap
  006a4	00 00 00 00	 DD	 $LN51@readHitMap
$LN71@readHitMap:
  006a8	00		 DB	 0
  006a9	00		 DB	 0
  006aa	02		 DB	 2
  006ab	01		 DB	 1
  006ac	00		 DB	 0
  006ad	00		 DB	 0
  006ae	02		 DB	 2
  006af	02		 DB	 2
  006b0	00		 DB	 0
  006b1	00		 DB	 0
?readHitMap@@YAXHHHHPAG000@Z ENDP			; readHitMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?readMap@@YAHHHHHHPAG00@Z
_TEXT	SEGMENT
_i$ = -452						; size = 4
_len2$ = -440						; size = 4
_len$ = -428						; size = 4
_my$ = -416						; size = 4
_mx$ = -404						; size = 4
_fy$ = -392						; size = 4
_fx$ = -380						; size = 4
_height$ = -368						; size = 4
_width$ = -356						; size = 4
_mWidth$ = -344						; size = 4
_fOffset$ = -332					; size = 4
_fHeight$ = -320					; size = 4
_fWidth$ = -308						; size = 4
_list$ = -296						; size = 10
_filename$ = -276					; size = 255
_fp$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_floor$ = 8						; size = 4
_x1$ = 12						; size = 4
_y1$ = 16						; size = 4
_x2$ = 20						; size = 4
_y2$ = 24						; size = 4
_tile$ = 28						; size = 4
_parts$ = 32						; size = 4
_event$ = 36						; size = 4
?readMap@@YAHHHHHHPAG00@Z PROC				; readMap, COMDAT

; 582  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 02 00
	00		 sub	 esp, 648		; 00000288H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 78 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-648]
  00012	b9 a2 00 00 00	 mov	 ecx, 162		; 000000a2H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 583  : 	FILE *fp;
; 584  : 	char filename[255];
; 585  : #ifdef _FIX_DEL_MAP           // WON ÐÞÕýÍæ¼Ò³éµØÍ¼
; 586  : 	char list[10];
; 587  : #endif
; 588  : 	int fWidth, fHeight, fOffset, mWidth, width, height, fx, fy, mx, my, len, len2, i;    
; 589  : 
; 590  : 	// ¶ÁÈ¡ÎÄ¼þÃû´´½¨
; 591  : 	sprintf(filename, "map\\%d.dat", floor);

  00028	8b 45 08	 mov	 eax, DWORD PTR _floor$[ebp]
  0002b	50		 push	 eax
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0L@FCEGIJN@map?2?$CFd?4dat?$AA@
  00031	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR _filename$[ebp]
  00037	51		 push	 ecx
  00038	e8 00 00 00 00	 call	 _sprintf
  0003d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 592  : 
; 593  : 	//ÎÄ¼þ´ò¿ª
; 594  : 	if ((fp = fopen(filename, "rb")) == NULL)

  00040	8b f4		 mov	 esi, esp
  00042	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  00047	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  0004d	50		 push	 eax
  0004e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00054	83 c4 08	 add	 esp, 8
  00057	3b f4		 cmp	 esi, esp
  00059	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005e	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  00061	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  00065	75 44		 jne	 SHORT $LN11@readMap

; 595  : 	{
; 596  : #ifdef _FIX_DEL_MAP	//andy_add
; 597  : 		memset(tile, 193, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));

  00067	68 b2 0a 00 00	 push	 2738			; 00000ab2H
  0006c	68 c1 00 00 00	 push	 193			; 000000c1H
  00071	8b 45 1c	 mov	 eax, DWORD PTR _tile$[ebp]
  00074	50		 push	 eax
  00075	e8 00 00 00 00	 call	 _memset
  0007a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 598  : 		//memset(parts, 193, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));
; 599  : #else
; 600  : 		// ËùÒÔ×öÒ»¸öÎÄ¼þ¼Ð
; 601  : 		_mkdir("map");
; 602  : 		// Ò²¶ÁÈ¡Êý¾Ý
; 603  : 		fp = fopen(filename, "wb");     
; 604  : 		fclose(fp);
; 605  : 		// ÔÚ¶ÁÈ¡Ä£Ê½ÏÂÔÙ´Î´ò¿ª
; 606  : #endif
; 607  : 		// ¥‚??????????¥T????
; 608  : 		if ((fp = fopen(filename, "rb")) == NULL)

  0007d	8b f4		 mov	 esi, esp
  0007f	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  00084	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  0008a	50		 push	 eax
  0008b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00091	83 c4 08	 add	 esp, 8
  00094	3b f4		 cmp	 esi, esp
  00096	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0009b	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  0009e	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  000a2	75 07		 jne	 SHORT $LN11@readMap

; 609  : 			return FALSE;

  000a4	33 c0		 xor	 eax, eax
  000a6	e9 df 04 00 00	 jmp	 $LN1@readMap
$LN11@readMap:

; 610  : 	}
; 611  : 
; 612  : #ifdef _FIX_DEL_MAP           // WON ÐÞÕýÍæ¼Ò³éµØÍ¼    
; 613  :     fseek(fp, 0, SEEK_SET);

  000ab	8b f4		 mov	 esi, esp
  000ad	6a 00		 push	 0
  000af	6a 00		 push	 0
  000b1	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  000b4	50		 push	 eax
  000b5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  000bb	83 c4 0c	 add	 esp, 12			; 0000000cH
  000be	3b f4		 cmp	 esi, esp
  000c0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 614  : 	if (!fread(list, sizeof(char), 1, fp)) {   // Íæ¼Ò³éµôµØÍ¼ËÍ¼àÓü

  000c5	8b f4		 mov	 esi, esp
  000c7	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  000ca	50		 push	 eax
  000cb	6a 01		 push	 1
  000cd	6a 01		 push	 1
  000cf	8d 8d d8 fe ff
	ff		 lea	 ecx, DWORD PTR _list$[ebp]
  000d5	51		 push	 ecx
  000d6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000dc	83 c4 10	 add	 esp, 16			; 00000010H
  000df	3b f4		 cmp	 esi, esp
  000e1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000e6	85 c0		 test	 eax, eax
  000e8	75 36		 jne	 SHORT $LN13@readMap

; 615  : 		//andy_add
; 616  : 		memset(tile, 193, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));

  000ea	68 b2 0a 00 00	 push	 2738			; 00000ab2H
  000ef	68 c1 00 00 00	 push	 193			; 000000c1H
  000f4	8b 45 1c	 mov	 eax, DWORD PTR _tile$[ebp]
  000f7	50		 push	 eax
  000f8	e8 00 00 00 00	 call	 _memset
  000fd	83 c4 0c	 add	 esp, 12			; 0000000cH

; 617  : 		//memset(parts, 193, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));
; 618  :          fclose(fp);

  00100	8b f4		 mov	 esi, esp
  00102	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00105	50		 push	 eax
  00106	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  0010c	83 c4 04	 add	 esp, 4
  0010f	3b f4		 cmp	 esi, esp
  00111	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 619  :          //lssproto_DM_send(sockfd);
; 620  :          return TRUE;

  00116	b8 01 00 00 00	 mov	 eax, 1
  0011b	e9 6a 04 00 00	 jmp	 $LN1@readMap
$LN13@readMap:

; 621  : 	}
; 622  : #endif
; 623  : 
; 624  : 	memset(tile, 0, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));

  00120	68 b2 0a 00 00	 push	 2738			; 00000ab2H
  00125	6a 00		 push	 0
  00127	8b 45 1c	 mov	 eax, DWORD PTR _tile$[ebp]
  0012a	50		 push	 eax
  0012b	e8 00 00 00 00	 call	 _memset
  00130	83 c4 0c	 add	 esp, 12			; 0000000cH

; 625  : 	memset(parts, 0, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));

  00133	68 b2 0a 00 00	 push	 2738			; 00000ab2H
  00138	6a 00		 push	 0
  0013a	8b 45 20	 mov	 eax, DWORD PTR _parts$[ebp]
  0013d	50		 push	 eax
  0013e	e8 00 00 00 00	 call	 _memset
  00143	83 c4 0c	 add	 esp, 12			; 0000000cH

; 626  : 	memset(event, 0, MAP_X_SIZE * MAP_Y_SIZE * sizeof(short));

  00146	68 b2 0a 00 00	 push	 2738			; 00000ab2H
  0014b	6a 00		 push	 0
  0014d	8b 45 24	 mov	 eax, DWORD PTR _event$[ebp]
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 _memset
  00156	83 c4 0c	 add	 esp, 12			; 0000000cH

; 627  : 	fseek(fp, 0, SEEK_SET);

  00159	8b f4		 mov	 esi, esp
  0015b	6a 00		 push	 0
  0015d	6a 00		 push	 0
  0015f	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00162	50		 push	 eax
  00163	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00169	83 c4 0c	 add	 esp, 12			; 0000000cH
  0016c	3b f4		 cmp	 esi, esp
  0016e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 628  : 	fread(&fWidth,  sizeof(int), 1, fp);

  00173	8b f4		 mov	 esi, esp
  00175	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00178	50		 push	 eax
  00179	6a 01		 push	 1
  0017b	6a 04		 push	 4
  0017d	8d 8d cc fe ff
	ff		 lea	 ecx, DWORD PTR _fWidth$[ebp]
  00183	51		 push	 ecx
  00184	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0018a	83 c4 10	 add	 esp, 16			; 00000010H
  0018d	3b f4		 cmp	 esi, esp
  0018f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 629  : 	fread(&fHeight, sizeof(int), 1, fp);

  00194	8b f4		 mov	 esi, esp
  00196	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00199	50		 push	 eax
  0019a	6a 01		 push	 1
  0019c	6a 04		 push	 4
  0019e	8d 8d c0 fe ff
	ff		 lea	 ecx, DWORD PTR _fHeight$[ebp]
  001a4	51		 push	 ecx
  001a5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  001ab	83 c4 10	 add	 esp, 16			; 00000010H
  001ae	3b f4		 cmp	 esi, esp
  001b0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 630  : 	mWidth = x2 - x1;

  001b5	8b 45 14	 mov	 eax, DWORD PTR _x2$[ebp]
  001b8	2b 45 0c	 sub	 eax, DWORD PTR _x1$[ebp]
  001bb	89 85 a8 fe ff
	ff		 mov	 DWORD PTR _mWidth$[ebp], eax

; 631  : 	width = mWidth;

  001c1	8b 85 a8 fe ff
	ff		 mov	 eax, DWORD PTR _mWidth$[ebp]
  001c7	89 85 9c fe ff
	ff		 mov	 DWORD PTR _width$[ebp], eax

; 632  : 	height = y2 - y1;

  001cd	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  001d0	2b 45 10	 sub	 eax, DWORD PTR _y1$[ebp]
  001d3	89 85 90 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], eax

; 633  : 	mx = 0;

  001d9	c7 85 6c fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _mx$[ebp], 0

; 634  : 	fx = x1;

  001e3	8b 45 0c	 mov	 eax, DWORD PTR _x1$[ebp]
  001e6	89 85 84 fe ff
	ff		 mov	 DWORD PTR _fx$[ebp], eax

; 635  : 	if (x1 < 0){

  001ec	83 7d 0c 00	 cmp	 DWORD PTR _x1$[ebp], 0
  001f0	7d 28		 jge	 SHORT $LN14@readMap

; 636  : 		width += x1;

  001f2	8b 85 9c fe ff
	ff		 mov	 eax, DWORD PTR _width$[ebp]
  001f8	03 45 0c	 add	 eax, DWORD PTR _x1$[ebp]
  001fb	89 85 9c fe ff
	ff		 mov	 DWORD PTR _width$[ebp], eax

; 637  : 		fx = 0;

  00201	c7 85 84 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _fx$[ebp], 0

; 638  : 		mx -= x1;

  0020b	8b 85 6c fe ff
	ff		 mov	 eax, DWORD PTR _mx$[ebp]
  00211	2b 45 0c	 sub	 eax, DWORD PTR _x1$[ebp]
  00214	89 85 6c fe ff
	ff		 mov	 DWORD PTR _mx$[ebp], eax
$LN14@readMap:

; 639  : 	}
; 640  : 	if (x2 > fWidth)

  0021a	8b 45 14	 mov	 eax, DWORD PTR _x2$[ebp]
  0021d	3b 85 cc fe ff
	ff		 cmp	 eax, DWORD PTR _fWidth$[ebp]
  00223	7e 17		 jle	 SHORT $LN15@readMap

; 641  : 		width -= (x2 - fWidth);

  00225	8b 45 14	 mov	 eax, DWORD PTR _x2$[ebp]
  00228	2b 85 cc fe ff
	ff		 sub	 eax, DWORD PTR _fWidth$[ebp]
  0022e	8b 8d 9c fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  00234	2b c8		 sub	 ecx, eax
  00236	89 8d 9c fe ff
	ff		 mov	 DWORD PTR _width$[ebp], ecx
$LN15@readMap:

; 642  : 	my = 0;

  0023c	c7 85 60 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _my$[ebp], 0

; 643  : 	fy = y1;

  00246	8b 45 10	 mov	 eax, DWORD PTR _y1$[ebp]
  00249	89 85 78 fe ff
	ff		 mov	 DWORD PTR _fy$[ebp], eax

; 644  : 	if (y1 < 0){

  0024f	83 7d 10 00	 cmp	 DWORD PTR _y1$[ebp], 0
  00253	7d 28		 jge	 SHORT $LN16@readMap

; 645  : 		height += y1;

  00255	8b 85 90 fe ff
	ff		 mov	 eax, DWORD PTR _height$[ebp]
  0025b	03 45 10	 add	 eax, DWORD PTR _y1$[ebp]
  0025e	89 85 90 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], eax

; 646  : 		fy = 0;

  00264	c7 85 78 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _fy$[ebp], 0

; 647  : 		my -= y1;

  0026e	8b 85 60 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  00274	2b 45 10	 sub	 eax, DWORD PTR _y1$[ebp]
  00277	89 85 60 fe ff
	ff		 mov	 DWORD PTR _my$[ebp], eax
$LN16@readMap:

; 648  : 	}
; 649  : 	if (y2 > fHeight)

  0027d	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  00280	3b 85 c0 fe ff
	ff		 cmp	 eax, DWORD PTR _fHeight$[ebp]
  00286	7e 17		 jle	 SHORT $LN17@readMap

; 650  : 		height -= (y2 - fHeight);

  00288	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  0028b	2b 85 c0 fe ff
	ff		 sub	 eax, DWORD PTR _fHeight$[ebp]
  00291	8b 8d 90 fe ff
	ff		 mov	 ecx, DWORD PTR _height$[ebp]
  00297	2b c8		 sub	 ecx, eax
  00299	89 8d 90 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], ecx
$LN17@readMap:

; 651  : 
; 652  : 	fOffset = sizeof(int) * 2;

  0029f	c7 85 b4 fe ff
	ff 08 00 00 00	 mov	 DWORD PTR _fOffset$[ebp], 8

; 653  : 	len = fy * fWidth + fx;

  002a9	8b 85 78 fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  002af	0f af 85 cc fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  002b6	03 85 84 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  002bc	89 85 54 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 654  : 	len2 = my * mWidth + mx;

  002c2	8b 85 60 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  002c8	0f af 85 a8 fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  002cf	03 85 6c fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  002d5	89 85 48 fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 655  : 	for (i = 0; i < height; i++){

  002db	c7 85 3c fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  002e5	eb 0f		 jmp	 SHORT $LN4@readMap
$LN2@readMap:
  002e7	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  002ed	83 c0 01	 add	 eax, 1
  002f0	89 85 3c fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@readMap:
  002f6	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  002fc	3b 85 90 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  00302	7d 7f		 jge	 SHORT $LN3@readMap

; 656  : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  00304	8b f4		 mov	 esi, esp
  00306	6a 00		 push	 0
  00308	8b 85 54 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  0030e	8b 8d b4 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00314	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00317	52		 push	 edx
  00318	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0031b	50		 push	 eax
  0031c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00322	83 c4 0c	 add	 esp, 12			; 0000000cH
  00325	3b f4		 cmp	 esi, esp
  00327	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 657  : 		fread(&tile[len2], sizeof(short) * width, 1, fp);

  0032c	8b f4		 mov	 esi, esp
  0032e	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00331	50		 push	 eax
  00332	6a 01		 push	 1
  00334	8b 8d 9c fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  0033a	d1 e1		 shl	 ecx, 1
  0033c	51		 push	 ecx
  0033d	8b 95 48 fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  00343	8b 45 1c	 mov	 eax, DWORD PTR _tile$[ebp]
  00346	8d 0c 50	 lea	 ecx, DWORD PTR [eax+edx*2]
  00349	51		 push	 ecx
  0034a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00350	83 c4 10	 add	 esp, 16			; 00000010H
  00353	3b f4		 cmp	 esi, esp
  00355	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 658  : 		len  += fWidth;

  0035a	8b 85 54 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  00360	03 85 cc fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  00366	89 85 54 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 659  : 		len2 += mWidth;

  0036c	8b 85 48 fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  00372	03 85 a8 fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  00378	89 85 48 fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 660  : 	}

  0037e	e9 64 ff ff ff	 jmp	 $LN2@readMap
$LN3@readMap:

; 661  : 	fOffset += sizeof(short) * (fWidth * fHeight);

  00383	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _fWidth$[ebp]
  00389	0f af 85 c0 fe
	ff ff		 imul	 eax, DWORD PTR _fHeight$[ebp]
  00390	8b 8d b4 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00396	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00399	89 95 b4 fe ff
	ff		 mov	 DWORD PTR _fOffset$[ebp], edx

; 662  : 	len = fy * fWidth + fx;

  0039f	8b 85 78 fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  003a5	0f af 85 cc fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  003ac	03 85 84 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  003b2	89 85 54 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 663  : 	len2 = my * mWidth + mx;

  003b8	8b 85 60 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  003be	0f af 85 a8 fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  003c5	03 85 6c fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  003cb	89 85 48 fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 664  : 	for (i = 0; i < height; i++)

  003d1	c7 85 3c fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  003db	eb 0f		 jmp	 SHORT $LN7@readMap
$LN5@readMap:
  003dd	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  003e3	83 c0 01	 add	 eax, 1
  003e6	89 85 3c fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN7@readMap:
  003ec	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  003f2	3b 85 90 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  003f8	7d 7f		 jge	 SHORT $LN6@readMap

; 665  : 	{
; 666  : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  003fa	8b f4		 mov	 esi, esp
  003fc	6a 00		 push	 0
  003fe	8b 85 54 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  00404	8b 8d b4 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  0040a	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0040d	52		 push	 edx
  0040e	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00411	50		 push	 eax
  00412	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00418	83 c4 0c	 add	 esp, 12			; 0000000cH
  0041b	3b f4		 cmp	 esi, esp
  0041d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 667  : 		fread(&parts[len2], sizeof(short) * width, 1, fp);

  00422	8b f4		 mov	 esi, esp
  00424	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00427	50		 push	 eax
  00428	6a 01		 push	 1
  0042a	8b 8d 9c fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  00430	d1 e1		 shl	 ecx, 1
  00432	51		 push	 ecx
  00433	8b 95 48 fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  00439	8b 45 20	 mov	 eax, DWORD PTR _parts$[ebp]
  0043c	8d 0c 50	 lea	 ecx, DWORD PTR [eax+edx*2]
  0043f	51		 push	 ecx
  00440	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00446	83 c4 10	 add	 esp, 16			; 00000010H
  00449	3b f4		 cmp	 esi, esp
  0044b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 668  : 		len  += fWidth;

  00450	8b 85 54 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  00456	03 85 cc fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  0045c	89 85 54 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 669  : 		len2 += mWidth;

  00462	8b 85 48 fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  00468	03 85 a8 fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  0046e	89 85 48 fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 670  : 	}

  00474	e9 64 ff ff ff	 jmp	 $LN5@readMap
$LN6@readMap:

; 671  : 	fOffset += sizeof(short) * (fWidth * fHeight);

  00479	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _fWidth$[ebp]
  0047f	0f af 85 c0 fe
	ff ff		 imul	 eax, DWORD PTR _fHeight$[ebp]
  00486	8b 8d b4 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  0048c	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0048f	89 95 b4 fe ff
	ff		 mov	 DWORD PTR _fOffset$[ebp], edx

; 672  : 	len = fy * fWidth + fx;

  00495	8b 85 78 fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  0049b	0f af 85 cc fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  004a2	03 85 84 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  004a8	89 85 54 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 673  : 	len2 = my * mWidth + mx;

  004ae	8b 85 60 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  004b4	0f af 85 a8 fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  004bb	03 85 6c fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  004c1	89 85 48 fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 674  : 	for (i = 0; i < height; i++)

  004c7	c7 85 3c fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  004d1	eb 0f		 jmp	 SHORT $LN10@readMap
$LN8@readMap:
  004d3	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  004d9	83 c0 01	 add	 eax, 1
  004dc	89 85 3c fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN10@readMap:
  004e2	8b 85 3c fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  004e8	3b 85 90 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  004ee	7d 7f		 jge	 SHORT $LN9@readMap

; 675  : 	{
; 676  : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  004f0	8b f4		 mov	 esi, esp
  004f2	6a 00		 push	 0
  004f4	8b 85 54 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  004fa	8b 8d b4 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00500	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00503	52		 push	 edx
  00504	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00507	50		 push	 eax
  00508	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  0050e	83 c4 0c	 add	 esp, 12			; 0000000cH
  00511	3b f4		 cmp	 esi, esp
  00513	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 677  : 		fread(&event[len2], sizeof(short) * width, 1, fp);

  00518	8b f4		 mov	 esi, esp
  0051a	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0051d	50		 push	 eax
  0051e	6a 01		 push	 1
  00520	8b 8d 9c fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  00526	d1 e1		 shl	 ecx, 1
  00528	51		 push	 ecx
  00529	8b 95 48 fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  0052f	8b 45 24	 mov	 eax, DWORD PTR _event$[ebp]
  00532	8d 0c 50	 lea	 ecx, DWORD PTR [eax+edx*2]
  00535	51		 push	 ecx
  00536	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0053c	83 c4 10	 add	 esp, 16			; 00000010H
  0053f	3b f4		 cmp	 esi, esp
  00541	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 678  : 		len  += fWidth;

  00546	8b 85 54 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  0054c	03 85 cc fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  00552	89 85 54 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 679  : 		len2 += mWidth;

  00558	8b 85 48 fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  0055e	03 85 a8 fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  00564	89 85 48 fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 680  : 	}

  0056a	e9 64 ff ff ff	 jmp	 $LN8@readMap
$LN9@readMap:

; 681  : 	fclose (fp);

  0056f	8b f4		 mov	 esi, esp
  00571	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00574	50		 push	 eax
  00575	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  0057b	83 c4 04	 add	 esp, 4
  0057e	3b f4		 cmp	 esi, esp
  00580	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 682  : 
; 683  : 	return TRUE;

  00585	b8 01 00 00 00	 mov	 eax, 1
$LN1@readMap:

; 684  : }

  0058a	52		 push	 edx
  0058b	8b cd		 mov	 ecx, ebp
  0058d	50		 push	 eax
  0058e	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN24@readMap
  00594	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00599	58		 pop	 eax
  0059a	5a		 pop	 edx
  0059b	5f		 pop	 edi
  0059c	5e		 pop	 esi
  0059d	5b		 pop	 ebx
  0059e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  005a1	33 cd		 xor	 ecx, ebp
  005a3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  005a8	81 c4 88 02 00
	00		 add	 esp, 648		; 00000288H
  005ae	3b ec		 cmp	 ebp, esp
  005b0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005b5	8b e5		 mov	 esp, ebp
  005b7	5d		 pop	 ebp
  005b8	c3		 ret	 0
  005b9	0f 1f 00	 npad	 3
$LN24@readMap:
  005bc	04 00 00 00	 DD	 4
  005c0	00 00 00 00	 DD	 $LN23@readMap
$LN23@readMap:
  005c4	ec fe ff ff	 DD	 -276			; fffffeecH
  005c8	ff 00 00 00	 DD	 255			; 000000ffH
  005cc	00 00 00 00	 DD	 $LN19@readMap
  005d0	d8 fe ff ff	 DD	 -296			; fffffed8H
  005d4	0a 00 00 00	 DD	 10			; 0000000aH
  005d8	00 00 00 00	 DD	 $LN20@readMap
  005dc	cc fe ff ff	 DD	 -308			; fffffeccH
  005e0	04 00 00 00	 DD	 4
  005e4	00 00 00 00	 DD	 $LN21@readMap
  005e8	c0 fe ff ff	 DD	 -320			; fffffec0H
  005ec	04 00 00 00	 DD	 4
  005f0	00 00 00 00	 DD	 $LN22@readMap
$LN22@readMap:
  005f4	66		 DB	 102			; 00000066H
  005f5	48		 DB	 72			; 00000048H
  005f6	65		 DB	 101			; 00000065H
  005f7	69		 DB	 105			; 00000069H
  005f8	67		 DB	 103			; 00000067H
  005f9	68		 DB	 104			; 00000068H
  005fa	74		 DB	 116			; 00000074H
  005fb	00		 DB	 0
$LN21@readMap:
  005fc	66		 DB	 102			; 00000066H
  005fd	57		 DB	 87			; 00000057H
  005fe	69		 DB	 105			; 00000069H
  005ff	64		 DB	 100			; 00000064H
  00600	74		 DB	 116			; 00000074H
  00601	68		 DB	 104			; 00000068H
  00602	00		 DB	 0
$LN20@readMap:
  00603	6c		 DB	 108			; 0000006cH
  00604	69		 DB	 105			; 00000069H
  00605	73		 DB	 115			; 00000073H
  00606	74		 DB	 116			; 00000074H
  00607	00		 DB	 0
$LN19@readMap:
  00608	66		 DB	 102			; 00000066H
  00609	69		 DB	 105			; 00000069H
  0060a	6c		 DB	 108			; 0000006cH
  0060b	65		 DB	 101			; 00000065H
  0060c	6e		 DB	 110			; 0000006eH
  0060d	61		 DB	 97			; 00000061H
  0060e	6d		 DB	 109			; 0000006dH
  0060f	65		 DB	 101			; 00000065H
  00610	00		 DB	 0
?readMap@@YAHHHHHHPAG00@Z ENDP				; readMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?getPartyTbl@@YAXXZ
_TEXT	SEGMENT
_j$ = -20						; size = 4
_i$ = -8						; size = 4
?getPartyTbl@@YAXXZ PROC				; getPartyTbl, COMDAT

; 2719 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2720 : 	int i, j;
; 2721 : 
; 2722 : 	if (partyModeFlag != 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  00025	85 c0		 test	 eax, eax
  00027	74 7d		 je	 SHORT $LN1@getPartyTb

; 2723 : 	{
; 2724 : 		// ???????
; 2725 : 		for (i = 0; i < MAX_PARTY; i++)

  00029	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00030	eb 09		 jmp	 SHORT $LN4@getPartyTb
$LN2@getPartyTb:
  00032	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00035	83 c0 01	 add	 eax, 1
  00038	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@getPartyTb:
  0003b	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  0003f	7d 10		 jge	 SHORT $LN3@getPartyTb

; 2726 : 			_partyTbl[i] = -1;

  00041	83 c8 ff	 or	 eax, -1
  00044	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  00047	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?_partyTbl@@3PAFA[ecx*2], ax
  0004f	eb e1		 jmp	 SHORT $LN2@getPartyTb
$LN3@getPartyTb:

; 2727 : 		// ?????§k?????ûè?üÒ?
; 2728 : 		for (i = 0, j = 0; i < MAX_PARTY; i++)

  00051	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00058	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _j$[ebp], 0
  0005f	eb 09		 jmp	 SHORT $LN7@getPartyTb
$LN5@getPartyTb:
  00061	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00064	83 c0 01	 add	 eax, 1
  00067	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN7@getPartyTb:
  0006a	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  0006e	7d 36		 jge	 SHORT $LN1@getPartyTb

; 2729 : 		{
; 2730 : 			if (party[i].useFlag != 0 && party[i].ptAct != NULL)

  00070	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  00074	0f bf 88 00 00
	00 00		 movsx	 ecx, WORD PTR ?party@@3PAUPARTY@@A[eax]
  0007b	85 c9		 test	 ecx, ecx
  0007d	74 25		 je	 SHORT $LN9@getPartyTb
  0007f	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  00083	83 b8 2c 00 00
	00 00		 cmp	 DWORD PTR ?party@@3PAUPARTY@@A[eax+44], 0
  0008a	74 18		 je	 SHORT $LN9@getPartyTb

; 2731 : 			{
; 2732 : 				_partyTbl[j] = i;

  0008c	8b 45 ec	 mov	 eax, DWORD PTR _j$[ebp]
  0008f	66 8b 4d f8	 mov	 cx, WORD PTR _i$[ebp]
  00093	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?_partyTbl@@3PAFA[eax*2], cx

; 2733 : 				j++;

  0009b	8b 45 ec	 mov	 eax, DWORD PTR _j$[ebp]
  0009e	83 c0 01	 add	 eax, 1
  000a1	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax
$LN9@getPartyTb:

; 2734 : 			}
; 2735 : 		}

  000a4	eb bb		 jmp	 SHORT $LN5@getPartyTb
$LN1@getPartyTb:

; 2736 : 	}
; 2737 : }

  000a6	5f		 pop	 edi
  000a7	5e		 pop	 esi
  000a8	5b		 pop	 ebx
  000a9	8b e5		 mov	 esp, ebp
  000ab	5d		 pop	 ebp
  000ac	c3		 ret	 0
?getPartyTbl@@YAXXZ ENDP				; getPartyTbl
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?partyMoveProc@@YAXXZ
_TEXT	SEGMENT
_ptActNext$ = -32					; size = 4
_ptAct$ = -20						; size = 4
_i$ = -8						; size = 4
?partyMoveProc@@YAXXZ PROC				; partyMoveProc, COMDAT

; 2463 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2464 : 	int i;
; 2465 : 	ACTION *ptAct, *ptActNext;
; 2466 : 
; 2467 : 	// ??????????ýõ??????¥h¡I?????¡@¤e?
; 2468 : 	// ??????????????????¤õ?¡@¤e?????
; 2469 : 	for (i = 0; i < MAX_PARTY; i++)

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00025	eb 09		 jmp	 SHORT $LN4@partyMoveP
$LN2@partyMoveP:
  00027	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0002a	83 c0 01	 add	 eax, 1
  0002d	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@partyMoveP:
  00030	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  00034	0f 8d 9d 02 00
	00		 jge	 $LN3@partyMoveP

; 2470 : 	{
; 2471 : 		if (_partyTbl[i] >= 0)

  0003a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0003d	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00045	85 c9		 test	 ecx, ecx
  00047	0f 8c 83 02 00
	00		 jl	 $LN8@partyMoveP

; 2472 : 		{
; 2473 : 			ptAct = party[_partyTbl[i]].ptAct;

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00050	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00058	6b d1 30	 imul	 edx, ecx, 48
  0005b	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  00061	89 45 ec	 mov	 DWORD PTR _ptAct$[ebp], eax

; 2474 : 
; 2475 : 			// ?????
; 2476 : 			if (party[_partyTbl[i]].id != pc.id)

  00064	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00067	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  0006f	6b d1 30	 imul	 edx, ecx, 48
  00072	8b 82 04 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+4]
  00078	3b 05 08 00 00
	00		 cmp	 eax, DWORD PTR ?pc@@3UPC@@A+8
  0007e	0f 84 6b 01 00
	00		 je	 $LN10@partyMoveP

; 2477 : 			{
; 2478 : 				// ??????ýõ???????¥h¡I?¡@¤e??
; 2479 : 				if ((float)ptAct->nextGx * GRID_SIZE == ptAct->mx && (float)ptAct->nextGy * GRID_SIZE == ptAct->my)

  00084	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00087	f3 0f 2a 80 bc
	00 00 00	 cvtsi2ss xmm0, DWORD PTR [eax+188]
  0008f	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00097	8b 4d ec	 mov	 ecx, DWORD PTR _ptAct$[ebp]
  0009a	0f 2e 81 18 01
	00 00		 ucomiss xmm0, DWORD PTR [ecx+280]
  000a1	9f		 lahf
  000a2	f6 c4 44	 test	 ah, 68			; 00000044H
  000a5	0f 8a 3f 01 00
	00		 jp	 $LN20@partyMoveP
  000ab	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  000ae	f3 0f 2a 80 c0
	00 00 00	 cvtsi2ss xmm0, DWORD PTR [eax+192]
  000b6	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  000be	8b 4d ec	 mov	 ecx, DWORD PTR _ptAct$[ebp]
  000c1	0f 2e 81 1c 01
	00 00		 ucomiss xmm0, DWORD PTR [ecx+284]
  000c8	9f		 lahf
  000c9	f6 c4 44	 test	 ah, 68			; 00000044H
  000cc	0f 8a 18 01 00
	00		 jp	 $LN20@partyMoveP

; 2480 : 				{
; 2481 : 					// ????????¤õ?????¡@¤e
; 2482 : 					if (ptAct->bufCount > 0)

  000d2	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  000d5	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  000dc	85 c9		 test	 ecx, ecx
  000de	0f 8e 06 01 00
	00		 jle	 $LN20@partyMoveP

; 2483 : 					{
; 2484 : 						// ????????????¢L??
; 2485 : 						if (i == 0)

  000e4	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  000e8	75 71		 jne	 SHORT $LN19@partyMoveP

; 2486 : 						{
; 2487 : 							nowSpdRate = 1.0F;

  000ea	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  000f2	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0

; 2488 : 							if (ptAct->bufCount > 5)

  000fa	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  000fd	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  00104	83 f9 05	 cmp	 ecx, 5
  00107	7e 12		 jle	 SHORT $LN15@partyMoveP

; 2489 : 								nowSpdRate = 2.0F;

  00109	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40000000
  00111	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0
  00119	eb 40		 jmp	 SHORT $LN19@partyMoveP
$LN15@partyMoveP:

; 2490 : 							else if (ptAct->bufCount >= 4)

  0011b	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  0011e	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  00125	83 f9 04	 cmp	 ecx, 4
  00128	7c 12		 jl	 SHORT $LN17@partyMoveP

; 2491 : 								nowSpdRate = 1.6F;

  0012a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fcccccd
  00132	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0
  0013a	eb 1f		 jmp	 SHORT $LN19@partyMoveP
$LN17@partyMoveP:

; 2492 : 							else if (ptAct->bufCount >= 2)

  0013c	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  0013f	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  00146	83 f9 02	 cmp	 ecx, 2
  00149	7c 10		 jl	 SHORT $LN19@partyMoveP

; 2493 : 								nowSpdRate = 1.2F;

  0014b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f99999a
  00153	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0
$LN19@partyMoveP:

; 2494 : 						}
; 2495 : 						_setCharMovePoint(ptAct, ptAct->bufGx[0], ptAct->bufGy[0]);

  0015b	b8 04 00 00 00	 mov	 eax, 4
  00160	6b c8 00	 imul	 ecx, eax, 0
  00163	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  00166	8b 84 0a ec 00
	00 00		 mov	 eax, DWORD PTR [edx+ecx+236]
  0016d	50		 push	 eax
  0016e	b9 04 00 00 00	 mov	 ecx, 4
  00173	6b d1 00	 imul	 edx, ecx, 0
  00176	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00179	8b 8c 10 c4 00
	00 00		 mov	 ecx, DWORD PTR [eax+edx+196]
  00180	51		 push	 ecx
  00181	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  00184	52		 push	 edx
  00185	e8 00 00 00 00	 call	 ?_setCharMovePoint@@YAXPAUaction@@HH@Z ; _setCharMovePoint
  0018a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2496 : 						shiftBufCount(ptAct);

  0018d	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00190	50		 push	 eax
  00191	e8 00 00 00 00	 call	 ?shiftBufCount@@YAXPAUaction@@@Z ; shiftBufCount
  00196	83 c4 04	 add	 esp, 4

; 2497 : 						if (_partyTbl[i + 1] >= 0 && (i + 1) < MAX_PARTY)

  00199	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0019c	0f bf 0c 45 02
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2+2]
  001a4	85 c9		 test	 ecx, ecx
  001a6	7c 42		 jl	 SHORT $LN20@partyMoveP
  001a8	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  001ab	83 c0 01	 add	 eax, 1
  001ae	83 f8 05	 cmp	 eax, 5
  001b1	7d 37		 jge	 SHORT $LN20@partyMoveP

; 2498 : 						{
; 2499 : 							ptActNext = party[_partyTbl[i + 1]].ptAct;

  001b3	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  001b6	0f bf 0c 45 02
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2+2]
  001be	6b d1 30	 imul	 edx, ecx, 48
  001c1	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  001c7	89 45 e0	 mov	 DWORD PTR _ptActNext$[ebp], eax

; 2500 : 							stockCharMovePoint(ptActNext, ptAct->gx, ptAct->gy);

  001ca	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  001cd	8b 88 b8 00 00
	00		 mov	 ecx, DWORD PTR [eax+184]
  001d3	51		 push	 ecx
  001d4	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  001d7	8b 82 b4 00 00
	00		 mov	 eax, DWORD PTR [edx+180]
  001dd	50		 push	 eax
  001de	8b 4d e0	 mov	 ecx, DWORD PTR _ptActNext$[ebp]
  001e1	51		 push	 ecx
  001e2	e8 00 00 00 00	 call	 ?stockCharMovePoint@@YAXPAUaction@@HH@Z ; stockCharMovePoint
  001e7	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN20@partyMoveP:

; 2501 : 						}
; 2502 : 					}
; 2503 : 				}
; 2504 : 			}
; 2505 : 			// ????
; 2506 : 			else

  001ea	e9 df 00 00 00	 jmp	 $LN23@partyMoveP
$LN10@partyMoveP:

; 2507 : 			{
; 2508 : 				// ??????ýõ???????¥h¡I?¡@¤e??
; 2509 : 				if ((float)nextGx * GRID_SIZE == nowX && (float)nextGy * GRID_SIZE == nowY)

  001ef	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGx@@3HA ; nextGx
  001f7	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  001ff	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR ?nowX@@3MA
  00206	9f		 lahf
  00207	f6 c4 44	 test	 ah, 68			; 00000044H
  0020a	0f 8a be 00 00
	00		 jp	 $LN23@partyMoveP
  00210	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGy@@3HA ; nextGy
  00218	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00220	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR ?nowY@@3MA
  00227	9f		 lahf
  00228	f6 c4 44	 test	 ah, 68			; 00000044H
  0022b	0f 8a 9d 00 00
	00		 jp	 $LN23@partyMoveP

; 2510 : 				{
; 2511 : 					// ????????¤õ?????¡@¤e
; 2512 : 					if (ptAct->bufCount > 0)

  00231	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00234	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  0023b	85 c9		 test	 ecx, ecx
  0023d	0f 8e 8b 00 00
	00		 jle	 $LN23@partyMoveP

; 2513 : 					{
; 2514 : 						_setMapMovePoint(ptAct->bufGx[0], ptAct->bufGy[0]);

  00243	b8 04 00 00 00	 mov	 eax, 4
  00248	6b c8 00	 imul	 ecx, eax, 0
  0024b	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  0024e	8b 84 0a ec 00
	00 00		 mov	 eax, DWORD PTR [edx+ecx+236]
  00255	50		 push	 eax
  00256	b9 04 00 00 00	 mov	 ecx, 4
  0025b	6b d1 00	 imul	 edx, ecx, 0
  0025e	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00261	8b 8c 10 c4 00
	00 00		 mov	 ecx, DWORD PTR [eax+edx+196]
  00268	51		 push	 ecx
  00269	e8 00 00 00 00	 call	 ?_setMapMovePoint@@YAXHH@Z ; _setMapMovePoint
  0026e	83 c4 08	 add	 esp, 8

; 2515 : 						shiftBufCount(ptAct);

  00271	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00274	50		 push	 eax
  00275	e8 00 00 00 00	 call	 ?shiftBufCount@@YAXPAUaction@@@Z ; shiftBufCount
  0027a	83 c4 04	 add	 esp, 4

; 2516 : 						if (_partyTbl[i + 1] >= 0 && (i + 1) < MAX_PARTY)

  0027d	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00280	0f bf 0c 45 02
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2+2]
  00288	85 c9		 test	 ecx, ecx
  0028a	7c 42		 jl	 SHORT $LN23@partyMoveP
  0028c	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0028f	83 c0 01	 add	 eax, 1
  00292	83 f8 05	 cmp	 eax, 5
  00295	7d 37		 jge	 SHORT $LN23@partyMoveP

; 2517 : 						{
; 2518 : 							ptActNext = party[_partyTbl[i + 1]].ptAct;

  00297	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0029a	0f bf 0c 45 02
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2+2]
  002a2	6b d1 30	 imul	 edx, ecx, 48
  002a5	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  002ab	89 45 e0	 mov	 DWORD PTR _ptActNext$[ebp], eax

; 2519 : 							stockCharMovePoint(ptActNext, ptAct->gx, ptAct->gy);

  002ae	8b 45 ec	 mov	 eax, DWORD PTR _ptAct$[ebp]
  002b1	8b 88 b8 00 00
	00		 mov	 ecx, DWORD PTR [eax+184]
  002b7	51		 push	 ecx
  002b8	8b 55 ec	 mov	 edx, DWORD PTR _ptAct$[ebp]
  002bb	8b 82 b4 00 00
	00		 mov	 eax, DWORD PTR [edx+180]
  002c1	50		 push	 eax
  002c2	8b 4d e0	 mov	 ecx, DWORD PTR _ptActNext$[ebp]
  002c5	51		 push	 ecx
  002c6	e8 00 00 00 00	 call	 ?stockCharMovePoint@@YAXPAUaction@@HH@Z ; stockCharMovePoint
  002cb	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN23@partyMoveP:

; 2520 : 						}
; 2521 : 					}
; 2522 : 				}
; 2523 : 			}
; 2524 : 		}
; 2525 : 		else

  002ce	eb 02		 jmp	 SHORT $LN9@partyMoveP
$LN8@partyMoveP:

; 2526 : 			break;

  002d0	eb 05		 jmp	 SHORT $LN3@partyMoveP
$LN9@partyMoveP:

; 2527 : 	}

  002d2	e9 50 fd ff ff	 jmp	 $LN2@partyMoveP
$LN3@partyMoveP:

; 2528 : 	// ?¥h??
; 2529 : 	for (i = 0; i < MAX_PARTY; i++)

  002d7	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  002de	eb 09		 jmp	 SHORT $LN7@partyMoveP
$LN5@partyMoveP:
  002e0	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  002e3	83 c0 01	 add	 eax, 1
  002e6	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN7@partyMoveP:
  002e9	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  002ed	7d 55		 jge	 SHORT $LN6@partyMoveP

; 2530 : 	{
; 2531 : 		if (_partyTbl[i] >= 0)

  002ef	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  002f2	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  002fa	85 c9		 test	 ecx, ecx
  002fc	7c 42		 jl	 SHORT $LN24@partyMoveP

; 2532 : 		{
; 2533 : 			if (party[_partyTbl[i]].id != pc.id)

  002fe	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00301	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00309	6b d1 30	 imul	 edx, ecx, 48
  0030c	8b 82 04 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+4]
  00312	3b 05 08 00 00
	00		 cmp	 eax, DWORD PTR ?pc@@3UPC@@A+8
  00318	74 1f		 je	 SHORT $LN26@partyMoveP

; 2534 : 				_charMove(party[_partyTbl[i]].ptAct);

  0031a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0031d	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?_partyTbl@@3PAFA[eax*2]
  00325	6b d1 30	 imul	 edx, ecx, 48
  00328	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  0032e	50		 push	 eax
  0032f	e8 00 00 00 00	 call	 ?_charMove@@YAXPAUaction@@@Z ; _charMove
  00334	83 c4 04	 add	 esp, 4

; 2535 : 			else

  00337	eb 05		 jmp	 SHORT $LN27@partyMoveP
$LN26@partyMoveP:

; 2536 : 			{
; 2537 : 				//mapMove2();
; 2538 : 				_mapMove();

  00339	e8 00 00 00 00	 call	 ?_mapMove@@YAXXZ	; _mapMove
$LN27@partyMoveP:

; 2539 : 			}
; 2540 : 		}
; 2541 : 		else

  0033e	eb 02		 jmp	 SHORT $LN25@partyMoveP
$LN24@partyMoveP:

; 2542 : 			break;

  00340	eb 02		 jmp	 SHORT $LN6@partyMoveP
$LN25@partyMoveP:

; 2543 : 	}

  00342	eb 9c		 jmp	 SHORT $LN5@partyMoveP
$LN6@partyMoveP:

; 2544 : 	updateMapArea();

  00344	e8 00 00 00 00	 call	 ?updateMapArea@@YAXXZ	; updateMapArea

; 2545 : 	viewPointX = nowX;

  00349	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  00351	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointX@@3MA, xmm0

; 2546 : 	viewPointY = nowY;

  00359	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  00361	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointY@@3MA, xmm0

; 2547 : }

  00369	5f		 pop	 edi
  0036a	5e		 pop	 esi
  0036b	5b		 pop	 ebx
  0036c	81 c4 e4 00 00
	00		 add	 esp, 228		; 000000e4H
  00372	3b ec		 cmp	 ebp, esp
  00374	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00379	8b e5		 mov	 esp, ebp
  0037b	5d		 pop	 ebp
  0037c	c3		 ret	 0
?partyMoveProc@@YAXXZ ENDP				; partyMoveProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?onceMoveProc@@YAXXZ
_TEXT	SEGMENT
_dir$ = -8						; size = 4
?onceMoveProc@@YAXXZ PROC				; onceMoveProc, COMDAT

; 2402 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2403 : 	int dir;
; 2404 : 	// ??????¨÷?????¢L??¢¬?þ†?
; 2405 : 	nowSpdRate = 1.0F;

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00026	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0

; 2406 : 	// ????????¥h??????
; 2407 : 	if (mapEmptyFlag)

  0002e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag
  00035	74 05		 je	 SHORT $LN2@onceMovePr

; 2408 : 		return;

  00037	e9 ce 01 00 00	 jmp	 $LN1@onceMovePr
$LN2@onceMovePr:

; 2409 : 	if (sendEnFlag == 0	&& eventWarpSendFlag == 0 && eventEnemySendFlag == 0)

  0003c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?sendEnFlag@@3FA ; sendEnFlag
  00043	85 c0		 test	 eax, eax
  00045	0f 85 78 01 00
	00		 jne	 $LN11@onceMovePr
  0004b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?eventWarpSendFlag@@3FA ; eventWarpSendFlag
  00052	85 c0		 test	 eax, eax
  00054	0f 85 69 01 00
	00		 jne	 $LN11@onceMovePr
  0005a	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?eventEnemySendFlag@@3FA ; eventEnemySendFlag
  00061	85 c0		 test	 eax, eax
  00063	0f 85 5a 01 00
	00		 jne	 $LN11@onceMovePr

; 2410 : 	{
; 2411 : 		//cary say ËùÓÐeventµÄÖ´ÐÐ£¬ËÍ¸øserver
; 2412 : 		if (_execEtcEvent())

  00069	e8 00 00 00 00	 call	 ?_execEtcEvent@@YAHXZ	; _execEtcEvent
  0006e	85 c0		 test	 eax, eax
  00070	74 05		 je	 SHORT $LN4@onceMovePr

; 2413 : 			return;

  00072	e9 93 01 00 00	 jmp	 $LN1@onceMovePr
$LN4@onceMovePr:

; 2414 : 		if ((float)nextGx * GRID_SIZE == nowX && (float)nextGy * GRID_SIZE == nowY)

  00077	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGx@@3HA ; nextGx
  0007f	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00087	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR ?nowX@@3MA
  0008e	9f		 lahf
  0008f	f6 c4 44	 test	 ah, 68			; 00000044H
  00092	0f 8a 2b 01 00
	00		 jp	 $LN11@onceMovePr
  00098	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGy@@3HA ; nextGy
  000a0	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  000a8	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR ?nowY@@3MA
  000af	9f		 lahf
  000b0	f6 c4 44	 test	 ah, 68			; 00000044H
  000b3	0f 8a 0a 01 00
	00		 jp	 $LN11@onceMovePr

; 2415 : 		{
; 2416 : 			if (moveStackFlag && moveRouteCnt2 == 0)

  000b9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?moveStackFlag@@3HA, 0 ; moveStackFlag
  000c0	74 2a		 je	 SHORT $LN7@onceMovePr
  000c2	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  000c9	85 c0		 test	 eax, eax
  000cb	75 1f		 jne	 SHORT $LN7@onceMovePr

; 2417 : 			{
; 2418 : 				moveStackFlag = FALSE;

  000cd	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?moveStackFlag@@3HA, 0 ; moveStackFlag

; 2419 : 				getRouteMap();

  000d7	e8 00 00 00 00	 call	 ?getRouteMap@@YAXXZ	; getRouteMap

; 2420 : 				if (moveRouteCnt == 0)

  000dc	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  000e3	85 c0		 test	 eax, eax
  000e5	75 05		 jne	 SHORT $LN7@onceMovePr

; 2421 : 					turnAround();

  000e7	e8 00 00 00 00	 call	 ?turnAround@@YAXXZ	; turnAround
$LN7@onceMovePr:

; 2422 : 			}
; 2423 : 			if (moveRouteCnt == 0 && moveRouteCnt2 == 0)

  000ec	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  000f3	85 c0		 test	 eax, eax
  000f5	75 24		 jne	 SHORT $LN8@onceMovePr
  000f7	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  000fe	85 c0		 test	 eax, eax
  00100	75 19		 jne	 SHORT $LN8@onceMovePr

; 2424 : 			{
; 2425 : 				turnAround2(moveLastDir);

  00102	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveLastDir@@3FA ; moveLastDir
  00109	50		 push	 eax
  0010a	e8 00 00 00 00	 call	 ?turnAround2@@YAXH@Z	; turnAround2
  0010f	83 c4 04	 add	 esp, 4

; 2426 : 				moveLastDir = -1;

  00112	83 c8 ff	 or	 eax, -1
  00115	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveLastDir@@3FA, ax ; moveLastDir
$LN8@onceMovePr:

; 2427 : 			}
; 2428 : 			if (moveRouteCnt > 0 && moveRouteCnt2 == 0)

  0011b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt@@3FA ; moveRouteCnt
  00122	85 c0		 test	 eax, eax
  00124	7e 25		 jle	 SHORT $LN9@onceMovePr
  00126	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  0012d	85 c0		 test	 eax, eax
  0012f	75 1a		 jne	 SHORT $LN9@onceMovePr

; 2429 : 			{
; 2430 : 				_getMoveRoute2();

  00131	e8 00 00 00 00	 call	 ?_getMoveRoute2@@YAXXZ	; _getMoveRoute2

; 2431 : 				if (moveRouteCnt2 > 0)

  00136	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  0013d	85 c0		 test	 eax, eax
  0013f	7e 05		 jle	 SHORT $LN10@onceMovePr

; 2432 : 					_etcEventCheck();

  00141	e8 00 00 00 00	 call	 ?_etcEventCheck@@YAXXZ	; _etcEventCheck
$LN10@onceMovePr:

; 2433 : 				_sendMoveRoute();

  00146	e8 00 00 00 00	 call	 ?_sendMoveRoute@@YAXXZ	; _sendMoveRoute
$LN9@onceMovePr:

; 2434 : 			}
; 2435 : 			if (moveRouteCnt2 > 0)

  0014b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?moveRouteCnt2@@3FA ; moveRouteCnt2
  00152	85 c0		 test	 eax, eax
  00154	7e 6d		 jle	 SHORT $LN11@onceMovePr

; 2436 : 			{
; 2437 : 				_checkEmptyMap();

  00156	e8 00 00 00 00	 call	 ?_checkEmptyMap@@YAXXZ	; _checkEmptyMap

; 2438 : 				dir = moveRoute2[0];

  0015b	b8 02 00 00 00	 mov	 eax, 2
  00160	6b c8 00	 imul	 ecx, eax, 0
  00163	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?moveRoute2@@3PAFA[ecx]
  0016a	89 55 f8	 mov	 DWORD PTR _dir$[ebp], edx

; 2439 : 				shiftRouteMap2();

  0016d	e8 00 00 00 00	 call	 ?shiftRouteMap2@@YAXXZ	; shiftRouteMap2

; 2440 : 				setMapMovePoint(nowGx + moveAddTbl[dir][0], nowGy + moveAddTbl[dir][1]);

  00172	b8 02 00 00 00	 mov	 eax, 2
  00177	c1 e0 00	 shl	 eax, 0
  0017a	8b 4d f8	 mov	 ecx, DWORD PTR _dir$[ebp]
  0017d	0f bf 94 88 00
	00 00 00	 movsx	 edx, WORD PTR ?moveAddTbl@@3PAY01FA[eax+ecx*4]
  00185	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?nowGy@@3HA ; nowGy
  0018b	52		 push	 edx
  0018c	b8 02 00 00 00	 mov	 eax, 2
  00191	6b c8 00	 imul	 ecx, eax, 0
  00194	8b 55 f8	 mov	 edx, DWORD PTR _dir$[ebp]
  00197	0f bf 84 91 00
	00 00 00	 movsx	 eax, WORD PTR ?moveAddTbl@@3PAY01FA[ecx+edx*4]
  0019f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  001a5	50		 push	 eax
  001a6	e8 00 00 00 00	 call	 ?setMapMovePoint@@YAXHH@Z ; setMapMovePoint
  001ab	83 c4 08	 add	 esp, 8

; 2441 : 				setPcMovePointToChar(nowGx, nowGy);

  001ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  001b3	50		 push	 eax
  001b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGx@@3HA ; nowGx
  001ba	51		 push	 ecx
  001bb	e8 00 00 00 00	 call	 ?setPcMovePointToChar@@YAXHH@Z ; setPcMovePointToChar
  001c0	83 c4 08	 add	 esp, 8
$LN11@onceMovePr:

; 2442 : 			}
; 2443 : 		}
; 2444 : 	}
; 2445 : 	// ??????????¢\????????¥h¡I?¡@¤e??
; 2446 : 	setPartyMovePoint();

  001c3	e8 00 00 00 00	 call	 ?setPartyMovePoint@@YAXXZ ; setPartyMovePoint

; 2447 : 	// ????????????ü¬???????????
; 2448 : 	justGoalFlag = 0;

  001c8	33 c0		 xor	 eax, eax
  001ca	66 a3 00 00 00
	00		 mov	 WORD PTR ?justGoalFlag@@3FA, ax ; justGoalFlag

; 2449 : 	// ????????¥h??????
; 2450 : 	if (mapEmptyFlag)

  001d0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag
  001d7	74 02		 je	 SHORT $LN12@onceMovePr

; 2451 : 		return;

  001d9	eb 2f		 jmp	 SHORT $LN1@onceMovePr
$LN12@onceMovePr:

; 2452 : 	// ???¥h????¥h????????
; 2453 : 	_mapMove();

  001db	e8 00 00 00 00	 call	 ?_mapMove@@YAXXZ	; _mapMove

; 2454 : 	// ???????¥h??
; 2455 : 	_partyMapMove();

  001e0	e8 00 00 00 00	 call	 ?_partyMapMove@@YAXXZ	; _partyMapMove

; 2456 : 	updateMapArea();

  001e5	e8 00 00 00 00	 call	 ?updateMapArea@@YAXXZ	; updateMapArea

; 2457 : 	viewPointX = nowX;

  001ea	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  001f2	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointX@@3MA, xmm0

; 2458 : 	viewPointY = nowY;

  001fa	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  00202	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointY@@3MA, xmm0
$LN1@onceMovePr:

; 2459 : }

  0020a	5f		 pop	 edi
  0020b	5e		 pop	 esi
  0020c	5b		 pop	 ebx
  0020d	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00213	3b ec		 cmp	 ebp, esp
  00215	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0021a	8b e5		 mov	 esp, ebp
  0021c	5d		 pop	 ebp
  0021d	c3		 ret	 0
?onceMoveProc@@YAXXZ ENDP				; onceMoveProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ??__EnowY@@YAXXZ
text$di	SEGMENT
??__EnowY@@YAXXZ PROC					; `dynamic initializer for 'nowY'', COMDAT

; 51   : float nowX = (float)nowGx*GRID_SIZE, nowY = (float)nowGy * GRID_SIZE;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nowGy@@3HA ; nowGy
  00026	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  0002e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0
  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	5b		 pop	 ebx
  00039	8b e5		 mov	 esp, ebp
  0003b	5d		 pop	 ebp
  0003c	c3		 ret	 0
??__EnowY@@YAXXZ ENDP					; `dynamic initializer for 'nowY''
text$di	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ??__EnowX@@YAXXZ
text$di	SEGMENT
??__EnowX@@YAXXZ PROC					; `dynamic initializer for 'nowX'', COMDAT

; 51   : float nowX = (float)nowGx*GRID_SIZE, nowY = (float)nowGy * GRID_SIZE;

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nowGx@@3HA ; nowGx
  00026	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  0002e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0
  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	5b		 pop	 ebx
  00039	8b e5		 mov	 esp, ebp
  0003b	5d		 pop	 ebp
  0003c	c3		 ret	 0
??__EnowX@@YAXXZ ENDP					; `dynamic initializer for 'nowX''
text$di	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?_checkEmptyMap@@YAXXZ
_TEXT	SEGMENT
_gy$ = -56						; size = 4
_gx$ = -44						; size = 4
_j$ = -32						; size = 4
_i$ = -20						; size = 4
_dir$ = -8						; size = 4
?_checkEmptyMap@@YAXXZ PROC				; _checkEmptyMap, COMDAT

; 3024 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00012	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3025 : 	int dir, i, j, gx, gy;
; 3026 : 	
; 3027 : 	i = 0;

  0001e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0

; 3028 : 	gx = nowGx;

  00025	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  0002a	89 45 d4	 mov	 DWORD PTR _gx$[ebp], eax

; 3029 : 	gy = nowGy;

  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00032	89 45 c8	 mov	 DWORD PTR _gy$[ebp], eax

; 3030 : 	
; 3031 : 	dir = moveRoute2[i];

  00035	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00038	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?moveRoute2@@3PAFA[eax*2]
  00040	89 4d f8	 mov	 DWORD PTR _dir$[ebp], ecx

; 3032 : 	if (checkEmptyMapData(gx, gy, dir))

  00043	8b 45 f8	 mov	 eax, DWORD PTR _dir$[ebp]
  00046	50		 push	 eax
  00047	8b 4d c8	 mov	 ecx, DWORD PTR _gy$[ebp]
  0004a	51		 push	 ecx
  0004b	8b 55 d4	 mov	 edx, DWORD PTR _gx$[ebp]
  0004e	52		 push	 edx
  0004f	e8 00 00 00 00	 call	 ?checkEmptyMapData@@YAHHHH@Z ; checkEmptyMapData
  00054	83 c4 0c	 add	 esp, 12			; 0000000cH
  00057	85 c0		 test	 eax, eax
  00059	0f 84 ee 00 00
	00		 je	 $LN1@checkEmpty

; 3033 : 	{
; 3034 : 		for (j = 0; j < getMapAreaCnt; j++)

  0005f	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _j$[ebp], 0
  00066	eb 09		 jmp	 SHORT $LN4@checkEmpty
$LN2@checkEmpty:
  00068	8b 45 e0	 mov	 eax, DWORD PTR _j$[ebp]
  0006b	83 c0 01	 add	 eax, 1
  0006e	89 45 e0	 mov	 DWORD PTR _j$[ebp], eax
$LN4@checkEmpty:
  00071	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00078	39 45 e0	 cmp	 DWORD PTR _j$[ebp], eax
  0007b	0f 8d 9a 00 00
	00		 jge	 $LN3@checkEmpty

; 3035 : 		{
; 3036 : 			if (bNewServer)

  00081	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00088	74 47		 je	 SHORT $LN6@checkEmpty

; 3037 : 				lssproto_M_send(sockfd, nowFloor, getMapAreaX1[j], getMapAreaY1[j], getMapAreaX2[j], getMapAreaY2[j]);

  0008a	8b 45 e0	 mov	 eax, DWORD PTR _j$[ebp]
  0008d	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  00095	51		 push	 ecx
  00096	8b 55 e0	 mov	 edx, DWORD PTR _j$[ebp]
  00099	0f bf 04 55 00
	00 00 00	 movsx	 eax, WORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  000a1	50		 push	 eax
  000a2	8b 4d e0	 mov	 ecx, DWORD PTR _j$[ebp]
  000a5	0f bf 14 4d 00
	00 00 00	 movsx	 edx, WORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  000ad	52		 push	 edx
  000ae	8b 45 e0	 mov	 eax, DWORD PTR _j$[ebp]
  000b1	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  000b9	51		 push	 ecx
  000ba	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?nowFloor@@3HA ; nowFloor
  000c0	52		 push	 edx
  000c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sockfd@@3IA ; sockfd
  000c6	50		 push	 eax
  000c7	e8 00 00 00 00	 call	 ?lssproto_M_send@@YAXHHHHHH@Z ; lssproto_M_send
  000cc	83 c4 18	 add	 esp, 24			; 00000018H

; 3038 : 			else

  000cf	eb 45		 jmp	 SHORT $LN7@checkEmpty
$LN6@checkEmpty:

; 3039 : 				old_lssproto_M_send(sockfd, nowFloor, getMapAreaX1[j], getMapAreaY1[j], getMapAreaX2[j], getMapAreaY2[j]);

  000d1	8b 45 e0	 mov	 eax, DWORD PTR _j$[ebp]
  000d4	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  000dc	51		 push	 ecx
  000dd	8b 55 e0	 mov	 edx, DWORD PTR _j$[ebp]
  000e0	0f bf 04 55 00
	00 00 00	 movsx	 eax, WORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  000e8	50		 push	 eax
  000e9	8b 4d e0	 mov	 ecx, DWORD PTR _j$[ebp]
  000ec	0f bf 14 4d 00
	00 00 00	 movsx	 edx, WORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  000f4	52		 push	 edx
  000f5	8b 45 e0	 mov	 eax, DWORD PTR _j$[ebp]
  000f8	0f bf 0c 45 00
	00 00 00	 movsx	 ecx, WORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  00100	51		 push	 ecx
  00101	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?nowFloor@@3HA ; nowFloor
  00107	52		 push	 edx
  00108	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sockfd@@3IA ; sockfd
  0010d	50		 push	 eax
  0010e	e8 00 00 00 00	 call	 ?old_lssproto_M_send@@YAXHHHHHH@Z ; old_lssproto_M_send
  00113	83 c4 18	 add	 esp, 24			; 00000018H
$LN7@checkEmpty:

; 3040 : 		}

  00116	e9 4d ff ff ff	 jmp	 $LN2@checkEmpty
$LN3@checkEmpty:

; 3041 : 		mapEmptyFlag = TRUE;

  0011b	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?mapEmptyFlag@@3HA, 1 ; mapEmptyFlag

; 3042 : 		mapEmptyDir = dir;

  00125	66 8b 45 f8	 mov	 ax, WORD PTR _dir$[ebp]
  00129	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEmptyDir@@3FA, ax ; mapEmptyDir

; 3043 : 		mapEmptyGx = nowGx;

  0012f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00134	a3 00 00 00 00	 mov	 DWORD PTR ?mapEmptyGx@@3HA, eax ; mapEmptyGx

; 3044 : 		mapEmptyGy = nowGy;

  00139	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0013e	a3 00 00 00 00	 mov	 DWORD PTR ?mapEmptyGy@@3HA, eax ; mapEmptyGy

; 3045 : 		mapEmptyStartTime = TimeGetTime();

  00143	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00148	a3 00 00 00 00	 mov	 DWORD PTR ?mapEmptyStartTime@@3IA, eax ; mapEmptyStartTime
$LN1@checkEmpty:

; 3046 : 	}
; 3047 : }

  0014d	5f		 pop	 edi
  0014e	5e		 pop	 esi
  0014f	5b		 pop	 ebx
  00150	81 c4 fc 00 00
	00		 add	 esp, 252		; 000000fcH
  00156	3b ec		 cmp	 ebp, esp
  00158	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0015d	8b e5		 mov	 esp, ebp
  0015f	5d		 pop	 ebp
  00160	c3		 ret	 0
?_checkEmptyMap@@YAXXZ ENDP				; _checkEmptyMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectSnow2@@YAXH@Z
_TEXT	SEGMENT
_buf2$1 = -164						; size = 4
_buf$2 = -152						; size = 4
_buf$3 = -140						; size = 4
_buf$ = -128						; size = 4
_k$ = -116						; size = 4
_j$ = -104						; size = 4
_i$ = -92						; size = 4
_time$ = -80						; size = 4
_hh$ = -68						; size = 4
_ww$ = -56						; size = 4
_hosei2$ = -44						; size = 4
_hosei1$ = -32						; size = 4
_mapEffectSnowFrameMax$ = -20				; size = 2
_mapEffectSnowWaitTime$ = -8				; size = 2
_n$ = 8							; size = 4
?mapEffectSnow2@@YAXH@Z PROC				; mapEffectSnow2, COMDAT

; 5589 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 68 01 00
	00		 sub	 esp, 360		; 00000168H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 98 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-360]
  00012	b9 5a 00 00 00	 mov	 ecx, 90			; 0000005aH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5590 : 	short mapEffectSnowWaitTime = 0;

  0001e	33 c0		 xor	 eax, eax
  00020	66 89 45 f8	 mov	 WORD PTR _mapEffectSnowWaitTime$[ebp], ax

; 5591 : 	short mapEffectSnowFrameMax = 0;

  00024	33 c0		 xor	 eax, eax
  00026	66 89 45 ec	 mov	 WORD PTR _mapEffectSnowFrameMax$[ebp], ax

; 5592 : 	int hosei1 = 940, hosei2 = -200, ww = DEF_APPSIZEX, hh = DEF_APPSIZEY, time = 0, i, j, k;

  0002a	c7 45 e0 ac 03
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 940 ; 000003acH
  00031	c7 45 d4 38 ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -200 ; ffffff38H
  00038	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0003d	89 45 c8	 mov	 DWORD PTR _ww$[ebp], eax
  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00045	89 45 bc	 mov	 DWORD PTR _hh$[ebp], eax
  00048	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _time$[ebp], 0

; 5593 : 	MAP_EFFECT *buf;
; 5594 : 	
; 5595 : 	// ???????????????
; 5596 : 	if (ResoMode == 1)

  0004f	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00056	75 1e		 jne	 SHORT $LN10@mapEffectS

; 5597 : 	{
; 5598 : 		ww >>= 1;

  00058	8b 45 c8	 mov	 eax, DWORD PTR _ww$[ebp]
  0005b	d1 f8		 sar	 eax, 1
  0005d	89 45 c8	 mov	 DWORD PTR _ww$[ebp], eax

; 5599 : 		hh >>= 1;

  00060	8b 45 bc	 mov	 eax, DWORD PTR _hh$[ebp]
  00063	d1 f8		 sar	 eax, 1
  00065	89 45 bc	 mov	 DWORD PTR _hh$[ebp], eax

; 5600 : 		hosei1 = 420;

  00068	c7 45 e0 a4 01
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 420 ; 000001a4H

; 5601 : 		hosei2 = -50;

  0006f	c7 45 d4 ce ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -50 ; ffffffceH
$LN10@mapEffectS:

; 5602 : 	}
; 5603 : 	for (k = 0; k < n; k++)

  00076	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _k$[ebp], 0
  0007d	eb 09		 jmp	 SHORT $LN4@mapEffectS
$LN2@mapEffectS:
  0007f	8b 45 8c	 mov	 eax, DWORD PTR _k$[ebp]
  00082	83 c0 01	 add	 eax, 1
  00085	89 45 8c	 mov	 DWORD PTR _k$[ebp], eax
$LN4@mapEffectS:
  00088	8b 45 8c	 mov	 eax, DWORD PTR _k$[ebp]
  0008b	3b 45 08	 cmp	 eax, DWORD PTR _n$[ebp]
  0008e	0f 8d da 03 00
	00		 jge	 $LN1@mapEffectS

; 5604 : 	{
; 5605 : 		// ¡D§DþØ
; 5606 : 		if (mapEffectSnowLevel)

  00094	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  0009b	85 c0		 test	 eax, eax
  0009d	0f 84 ef 02 00
	00		 je	 $LN11@mapEffectS

; 5607 : 		{
; 5608 : 			if (mapEffectSnowLevel < 3)

  000a3	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  000aa	83 f8 03	 cmp	 eax, 3
  000ad	0f 8d 5f 01 00
	00		 jge	 $LN12@mapEffectS

; 5609 : 			{
; 5610 : 				mapEffectSnowWaitTime = (2 - mapEffectSnowLevel) << 1;

  000b3	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  000ba	b9 02 00 00 00	 mov	 ecx, 2
  000bf	2b c8		 sub	 ecx, eax
  000c1	d1 e1		 shl	 ecx, 1
  000c3	66 89 4d f8	 mov	 WORD PTR _mapEffectSnowWaitTime$[ebp], cx

; 5611 : 				if (time >= mapEffectSnowWaitTime)

  000c7	0f bf 45 f8	 movsx	 eax, WORD PTR _mapEffectSnowWaitTime$[ebp]
  000cb	39 45 b0	 cmp	 DWORD PTR _time$[ebp], eax
  000ce	0f 8c 39 01 00
	00		 jl	 $LN14@mapEffectS

; 5612 : 				{
; 5613 : 					MAP_EFFECT *buf = getMapEffectBuf();

  000d4	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  000d9	89 85 74 ff ff
	ff		 mov	 DWORD PTR _buf$3[ebp], eax

; 5614 : 					if (buf != (MAP_EFFECT*)NULL)

  000df	83 bd 74 ff ff
	ff 00		 cmp	 DWORD PTR _buf$3[ebp], 0
  000e6	0f 84 21 01 00
	00		 je	 $LN14@mapEffectS

; 5615 : 					{
; 5616 : 						buf->type = MAP_EFFECT_TYPE_SNOW;

  000ec	b8 02 00 00 00	 mov	 eax, 2
  000f1	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  000f7	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 5617 : 						buf->x = (rand() % hosei1) + hosei2;

  000fb	8b f4		 mov	 esi, esp
  000fd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00103	3b f4		 cmp	 esi, esp
  00105	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0010a	99		 cdq
  0010b	f7 7d e0	 idiv	 DWORD PTR _hosei1$[ebp]
  0010e	03 55 d4	 add	 edx, DWORD PTR _hosei2$[ebp]
  00111	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  00117	89 10		 mov	 DWORD PTR [eax], edx

; 5618 : 						buf->y = 0;

  00119	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  0011f	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 5619 : 						buf->mode = (rand() % 2);

  00126	8b f4		 mov	 esi, esp
  00128	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0012e	3b f4		 cmp	 esi, esp
  00130	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00135	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0013a	79 05		 jns	 SHORT $LN29@mapEffectS
  0013c	48		 dec	 eax
  0013d	83 c8 fe	 or	 eax, -2			; fffffffeH
  00140	40		 inc	 eax
$LN29@mapEffectS:
  00141	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  00147	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5620 : 						j = (rand() % 2);

  0014b	8b f4		 mov	 esi, esp
  0014d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00153	3b f4		 cmp	 esi, esp
  00155	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0015a	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0015f	79 05		 jns	 SHORT $LN30@mapEffectS
  00161	48		 dec	 eax
  00162	83 c8 fe	 or	 eax, -2			; fffffffeH
  00165	40		 inc	 eax
$LN30@mapEffectS:
  00166	89 45 98	 mov	 DWORD PTR _j$[ebp], eax

; 5621 : 						if (j == 0)

  00169	83 7d 98 00	 cmp	 DWORD PTR _j$[ebp], 0
  0016d	75 4d		 jne	 SHORT $LN16@mapEffectS

; 5622 : 						{
; 5623 : 							buf->dx = 0 + (rand() % 2);

  0016f	8b f4		 mov	 esi, esp
  00171	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00177	3b f4		 cmp	 esi, esp
  00179	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0017e	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00183	79 05		 jns	 SHORT $LN31@mapEffectS
  00185	48		 dec	 eax
  00186	83 c8 fe	 or	 eax, -2			; fffffffeH
  00189	40		 inc	 eax
$LN31@mapEffectS:
  0018a	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  00190	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 5624 : 							buf->dy = 3 + (rand() % 2);

  00193	8b f4		 mov	 esi, esp
  00195	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0019b	3b f4		 cmp	 esi, esp
  0019d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a2	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001a7	79 05		 jns	 SHORT $LN32@mapEffectS
  001a9	48		 dec	 eax
  001aa	83 c8 fe	 or	 eax, -2			; fffffffeH
  001ad	40		 inc	 eax
$LN32@mapEffectS:
  001ae	83 c0 03	 add	 eax, 3
  001b1	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  001b7	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
  001ba	eb 3a		 jmp	 SHORT $LN17@mapEffectS
$LN16@mapEffectS:

; 5625 : 						}
; 5626 : 						else if (j == 1)

  001bc	83 7d 98 01	 cmp	 DWORD PTR _j$[ebp], 1
  001c0	75 34		 jne	 SHORT $LN17@mapEffectS

; 5627 : 						{
; 5628 : 							buf->dx = 1;

  001c2	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  001c8	c7 40 08 01 00
	00 00		 mov	 DWORD PTR [eax+8], 1

; 5629 : 							buf->dy = 4 + (rand() % 2);

  001cf	8b f4		 mov	 esi, esp
  001d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001d7	3b f4		 cmp	 esi, esp
  001d9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001de	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001e3	79 05		 jns	 SHORT $LN33@mapEffectS
  001e5	48		 dec	 eax
  001e6	83 c8 fe	 or	 eax, -2			; fffffffeH
  001e9	40		 inc	 eax
$LN33@mapEffectS:
  001ea	83 c0 04	 add	 eax, 4
  001ed	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  001f3	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
$LN17@mapEffectS:

; 5630 : 						}
; 5631 : 						time = 0;

  001f6	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _time$[ebp], 0

; 5632 : 						mapEffectSnowCnt++;

  001fd	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectSnowCnt@@3FA ; mapEffectSnowCnt
  00203	66 83 c0 01	 add	 ax, 1
  00207	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowCnt@@3FA, ax ; mapEffectSnowCnt
$LN14@mapEffectS:

; 5633 : 					}
; 5634 : 				}
; 5635 : 			}
; 5636 : 			else

  0020d	e9 80 01 00 00	 jmp	 $LN11@mapEffectS
$LN12@mapEffectS:

; 5637 : 			{
; 5638 : 				mapEffectSnowFrameMax = (mapEffectSnowLevel - 2) << 1;

  00212	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  00219	8d 4c 00 fc	 lea	 ecx, DWORD PTR [eax+eax-4]
  0021d	66 89 4d ec	 mov	 WORD PTR _mapEffectSnowFrameMax$[ebp], cx

; 5639 : 				if (ResoMode == 1)

  00221	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00228	75 0b		 jne	 SHORT $LN19@mapEffectS

; 5640 : 					mapEffectSnowFrameMax >>= 1;

  0022a	66 8b 45 ec	 mov	 ax, WORD PTR _mapEffectSnowFrameMax$[ebp]
  0022e	66 d1 f8	 sar	 ax, 1
  00231	66 89 45 ec	 mov	 WORD PTR _mapEffectSnowFrameMax$[ebp], ax
$LN19@mapEffectS:

; 5641 : 				for (i = 0; i < mapEffectSnowFrameMax; i++)

  00235	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0023c	eb 09		 jmp	 SHORT $LN7@mapEffectS
$LN5@mapEffectS:
  0023e	8b 45 a4	 mov	 eax, DWORD PTR _i$[ebp]
  00241	83 c0 01	 add	 eax, 1
  00244	89 45 a4	 mov	 DWORD PTR _i$[ebp], eax
$LN7@mapEffectS:
  00247	0f bf 45 ec	 movsx	 eax, WORD PTR _mapEffectSnowFrameMax$[ebp]
  0024b	39 45 a4	 cmp	 DWORD PTR _i$[ebp], eax
  0024e	0f 8d 3e 01 00
	00		 jge	 $LN11@mapEffectS

; 5642 : 				{
; 5643 : 					MAP_EFFECT *buf = getMapEffectBuf();

  00254	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00259	89 85 68 ff ff
	ff		 mov	 DWORD PTR _buf$2[ebp], eax

; 5644 : 					if (buf != (MAP_EFFECT*)NULL)

  0025f	83 bd 68 ff ff
	ff 00		 cmp	 DWORD PTR _buf$2[ebp], 0
  00266	0f 84 21 01 00
	00		 je	 $LN20@mapEffectS

; 5645 : 					{
; 5646 : 						buf->type = MAP_EFFECT_TYPE_SNOW;

  0026c	b8 02 00 00 00	 mov	 eax, 2
  00271	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$2[ebp]
  00277	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 5647 : 						buf->x = (rand() % hosei1) + hosei2;

  0027b	8b f4		 mov	 esi, esp
  0027d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00283	3b f4		 cmp	 esi, esp
  00285	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0028a	99		 cdq
  0028b	f7 7d e0	 idiv	 DWORD PTR _hosei1$[ebp]
  0028e	03 55 d4	 add	 edx, DWORD PTR _hosei2$[ebp]
  00291	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _buf$2[ebp]
  00297	89 10		 mov	 DWORD PTR [eax], edx

; 5648 : 						buf->y = 0;

  00299	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _buf$2[ebp]
  0029f	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 5649 : 						buf->mode = (rand() % 2);

  002a6	8b f4		 mov	 esi, esp
  002a8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002ae	3b f4		 cmp	 esi, esp
  002b0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002b5	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  002ba	79 05		 jns	 SHORT $LN34@mapEffectS
  002bc	48		 dec	 eax
  002bd	83 c8 fe	 or	 eax, -2			; fffffffeH
  002c0	40		 inc	 eax
$LN34@mapEffectS:
  002c1	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$2[ebp]
  002c7	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5650 : 						j = (rand() % 2);

  002cb	8b f4		 mov	 esi, esp
  002cd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002d3	3b f4		 cmp	 esi, esp
  002d5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002da	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  002df	79 05		 jns	 SHORT $LN35@mapEffectS
  002e1	48		 dec	 eax
  002e2	83 c8 fe	 or	 eax, -2			; fffffffeH
  002e5	40		 inc	 eax
$LN35@mapEffectS:
  002e6	89 45 98	 mov	 DWORD PTR _j$[ebp], eax

; 5651 : 						if (j == 0)

  002e9	83 7d 98 00	 cmp	 DWORD PTR _j$[ebp], 0
  002ed	75 4d		 jne	 SHORT $LN21@mapEffectS

; 5652 : 						{
; 5653 : 							buf->dx = 0 + (rand() % 2);

  002ef	8b f4		 mov	 esi, esp
  002f1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002f7	3b f4		 cmp	 esi, esp
  002f9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002fe	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00303	79 05		 jns	 SHORT $LN36@mapEffectS
  00305	48		 dec	 eax
  00306	83 c8 fe	 or	 eax, -2			; fffffffeH
  00309	40		 inc	 eax
$LN36@mapEffectS:
  0030a	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$2[ebp]
  00310	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 5654 : 							buf->dy = 3 + (rand() % 2);

  00313	8b f4		 mov	 esi, esp
  00315	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0031b	3b f4		 cmp	 esi, esp
  0031d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00322	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00327	79 05		 jns	 SHORT $LN37@mapEffectS
  00329	48		 dec	 eax
  0032a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0032d	40		 inc	 eax
$LN37@mapEffectS:
  0032e	83 c0 03	 add	 eax, 3
  00331	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$2[ebp]
  00337	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
  0033a	eb 3a		 jmp	 SHORT $LN22@mapEffectS
$LN21@mapEffectS:

; 5655 : 						}
; 5656 : 						else if (j == 1)

  0033c	83 7d 98 01	 cmp	 DWORD PTR _j$[ebp], 1
  00340	75 34		 jne	 SHORT $LN22@mapEffectS

; 5657 : 						{
; 5658 : 							buf->dx = 1;

  00342	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _buf$2[ebp]
  00348	c7 40 08 01 00
	00 00		 mov	 DWORD PTR [eax+8], 1

; 5659 : 							buf->dy = 4 + (rand() % 2);

  0034f	8b f4		 mov	 esi, esp
  00351	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00357	3b f4		 cmp	 esi, esp
  00359	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0035e	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00363	79 05		 jns	 SHORT $LN38@mapEffectS
  00365	48		 dec	 eax
  00366	83 c8 fe	 or	 eax, -2			; fffffffeH
  00369	40		 inc	 eax
$LN38@mapEffectS:
  0036a	83 c0 04	 add	 eax, 4
  0036d	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$2[ebp]
  00373	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
$LN22@mapEffectS:

; 5660 : 						}
; 5661 : 						time = 0;

  00376	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _time$[ebp], 0

; 5662 : 						mapEffectSnowCnt++;

  0037d	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectSnowCnt@@3FA ; mapEffectSnowCnt
  00383	66 83 c0 01	 add	 ax, 1
  00387	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowCnt@@3FA, ax ; mapEffectSnowCnt
$LN20@mapEffectS:

; 5663 : 					}
; 5664 : 				}

  0038d	e9 ac fe ff ff	 jmp	 $LN5@mapEffectS
$LN11@mapEffectS:

; 5665 : 			}
; 5666 : 		}
; 5667 : 		// ?¥h??
; 5668 : 		i = 0;

  00392	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0

; 5669 : 		buf = useBufMapEffect;

  00399	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  0039e	89 45 80	 mov	 DWORD PTR _buf$[ebp], eax
$LN8@mapEffectS:

; 5670 : 		while (buf != (MAP_EFFECT*)NULL)

  003a1	83 7d 80 00	 cmp	 DWORD PTR _buf$[ebp], 0
  003a5	0f 84 b5 00 00
	00		 je	 $LN9@mapEffectS

; 5671 : 		{
; 5672 : 			if (buf->type == MAP_EFFECT_TYPE_SNOW)

  003ab	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  003ae	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  003b2	83 f9 02	 cmp	 ecx, 2
  003b5	0f 85 83 00 00
	00		 jne	 $LN24@mapEffectS

; 5673 : 			{
; 5674 : 				buf->x += buf->dx;

  003bb	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  003be	8b 08		 mov	 ecx, DWORD PTR [eax]
  003c0	8b 55 80	 mov	 edx, DWORD PTR _buf$[ebp]
  003c3	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  003c6	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  003c9	89 08		 mov	 DWORD PTR [eax], ecx

; 5675 : 				buf->y += buf->dy;

  003cb	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  003ce	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  003d1	8b 55 80	 mov	 edx, DWORD PTR _buf$[ebp]
  003d4	03 4a 0c	 add	 ecx, DWORD PTR [edx+12]
  003d7	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  003da	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 5676 : 				mapEffectDirHosei(&buf->x, &buf->y);

  003dd	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  003e0	83 c0 04	 add	 eax, 4
  003e3	50		 push	 eax
  003e4	8b 4d 80	 mov	 ecx, DWORD PTR _buf$[ebp]
  003e7	51		 push	 ecx
  003e8	e8 00 00 00 00	 call	 ?mapEffectDirHosei@@YAXPAH0@Z ; mapEffectDirHosei
  003ed	83 c4 08	 add	 esp, 8

; 5677 : 				if (ww + 100 <= buf->x || hh <= buf->y)

  003f0	8b 45 c8	 mov	 eax, DWORD PTR _ww$[ebp]
  003f3	83 c0 64	 add	 eax, 100		; 00000064H
  003f6	8b 4d 80	 mov	 ecx, DWORD PTR _buf$[ebp]
  003f9	3b 01		 cmp	 eax, DWORD PTR [ecx]
  003fb	7e 0b		 jle	 SHORT $LN26@mapEffectS
  003fd	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  00400	8b 4d bc	 mov	 ecx, DWORD PTR _hh$[ebp]
  00403	3b 48 04	 cmp	 ecx, DWORD PTR [eax+4]
  00406	7f 36		 jg	 SHORT $LN24@mapEffectS
$LN26@mapEffectS:

; 5678 : 				{
; 5679 : 					// ?¥hü¬?
; 5680 : 					MAP_EFFECT *buf2 = buf->next;

  00408	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  0040b	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  0040e	89 8d 5c ff ff
	ff		 mov	 DWORD PTR _buf2$1[ebp], ecx

; 5681 : 					delMapEffectBuf(buf);

  00414	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  00417	50		 push	 eax
  00418	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  0041d	83 c4 04	 add	 esp, 4

; 5682 : 					buf = buf2;

  00420	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR _buf2$1[ebp]
  00426	89 45 80	 mov	 DWORD PTR _buf$[ebp], eax

; 5683 : 					mapEffectSnowCnt--;

  00429	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectSnowCnt@@3FA ; mapEffectSnowCnt
  0042f	66 83 e8 01	 sub	 ax, 1
  00433	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowCnt@@3FA, ax ; mapEffectSnowCnt

; 5684 : 					continue;

  00439	e9 63 ff ff ff	 jmp	 $LN8@mapEffectS
$LN24@mapEffectS:

; 5685 : 				}
; 5686 : 			}
; 5687 : 			buf = buf->next;

  0043e	8b 45 80	 mov	 eax, DWORD PTR _buf$[ebp]
  00441	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00444	89 4d 80	 mov	 DWORD PTR _buf$[ebp], ecx

; 5688 : 			mapEffectDrawFlag = 1;

  00447	b8 01 00 00 00	 mov	 eax, 1
  0044c	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag

; 5689 : 			i++;

  00452	8b 45 a4	 mov	 eax, DWORD PTR _i$[ebp]
  00455	83 c0 01	 add	 eax, 1
  00458	89 45 a4	 mov	 DWORD PTR _i$[ebp], eax

; 5690 : 		}

  0045b	e9 41 ff ff ff	 jmp	 $LN8@mapEffectS
$LN9@mapEffectS:

; 5691 : 		time++;

  00460	8b 45 b0	 mov	 eax, DWORD PTR _time$[ebp]
  00463	83 c0 01	 add	 eax, 1
  00466	89 45 b0	 mov	 DWORD PTR _time$[ebp], eax

; 5692 : 	}

  00469	e9 11 fc ff ff	 jmp	 $LN2@mapEffectS
$LN1@mapEffectS:

; 5693 : }

  0046e	5f		 pop	 edi
  0046f	5e		 pop	 esi
  00470	5b		 pop	 ebx
  00471	81 c4 68 01 00
	00		 add	 esp, 360		; 00000168H
  00477	3b ec		 cmp	 ebp, esp
  00479	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0047e	8b e5		 mov	 esp, ebp
  00480	5d		 pop	 ebp
  00481	c3		 ret	 0
?mapEffectSnow2@@YAXH@Z ENDP				; mapEffectSnow2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectRain2@@YAXH@Z
_TEXT	SEGMENT
_buf2$1 = -152						; size = 4
_buf$2 = -140						; size = 4
_buf$3 = -128						; size = 4
_buf$ = -116						; size = 4
_k$ = -104						; size = 4
_i$ = -92						; size = 4
_time$ = -80						; size = 4
_hh$ = -68						; size = 4
_ww$ = -56						; size = 4
_hosei2$ = -44						; size = 4
_hosei1$ = -32						; size = 4
_mapEffectRainFrameMax$ = -20				; size = 2
_mapEffectRainWaitTime$ = -8				; size = 2
_n$ = 8							; size = 4
?mapEffectRain2@@YAXH@Z PROC				; mapEffectRain2, COMDAT

; 5697 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 5c 01 00
	00		 sub	 esp, 348		; 0000015cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd a4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-348]
  00012	b9 57 00 00 00	 mov	 ecx, 87			; 00000057H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5698 : 	short mapEffectRainWaitTime = 0;

  0001e	33 c0		 xor	 eax, eax
  00020	66 89 45 f8	 mov	 WORD PTR _mapEffectRainWaitTime$[ebp], ax

; 5699 : 	short mapEffectRainFrameMax = 0;

  00024	33 c0		 xor	 eax, eax
  00026	66 89 45 ec	 mov	 WORD PTR _mapEffectRainFrameMax$[ebp], ax

; 5700 : 	int hosei1 = 840, hosei2 = -200, ww = DEF_APPSIZEX, hh = DEF_APPSIZEY, time = 0, i, k;

  0002a	c7 45 e0 48 03
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 840 ; 00000348H
  00031	c7 45 d4 38 ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -200 ; ffffff38H
  00038	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0003d	89 45 c8	 mov	 DWORD PTR _ww$[ebp], eax
  00040	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00045	89 45 bc	 mov	 DWORD PTR _hh$[ebp], eax
  00048	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _time$[ebp], 0

; 5701 : 	MAP_EFFECT *buf;
; 5702 : 
; 5703 : 	// ???????????????
; 5704 : 	if (ResoMode == 1)

  0004f	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00056	75 1e		 jne	 SHORT $LN10@mapEffectR

; 5705 : 	{
; 5706 : 		ww >>= 1;

  00058	8b 45 c8	 mov	 eax, DWORD PTR _ww$[ebp]
  0005b	d1 f8		 sar	 eax, 1
  0005d	89 45 c8	 mov	 DWORD PTR _ww$[ebp], eax

; 5707 : 		hh >>= 1;

  00060	8b 45 bc	 mov	 eax, DWORD PTR _hh$[ebp]
  00063	d1 f8		 sar	 eax, 1
  00065	89 45 bc	 mov	 DWORD PTR _hh$[ebp], eax

; 5708 : 		hosei1 = 370;

  00068	c7 45 e0 72 01
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 370 ; 00000172H

; 5709 : 		hosei2 = -50;

  0006f	c7 45 d4 ce ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -50 ; ffffffceH
$LN10@mapEffectR:

; 5710 : 	}
; 5711 : 	for (k = 0; k < n; k++)

  00076	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _k$[ebp], 0
  0007d	eb 09		 jmp	 SHORT $LN4@mapEffectR
$LN2@mapEffectR:
  0007f	8b 45 98	 mov	 eax, DWORD PTR _k$[ebp]
  00082	83 c0 01	 add	 eax, 1
  00085	89 45 98	 mov	 DWORD PTR _k$[ebp], eax
$LN4@mapEffectR:
  00088	8b 45 98	 mov	 eax, DWORD PTR _k$[ebp]
  0008b	3b 45 08	 cmp	 eax, DWORD PTR _n$[ebp]
  0008e	0f 8d 80 02 00
	00		 jge	 $LN1@mapEffectR

; 5712 : 	{
; 5713 : 		// ?§DþØ
; 5714 : 		if (mapEffectRainLevel)

  00094	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  0009b	85 c0		 test	 eax, eax
  0009d	0f 84 a1 01 00
	00		 je	 $LN11@mapEffectR

; 5715 : 		{
; 5716 : 			if (mapEffectRainLevel < 3)

  000a3	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  000aa	83 f8 03	 cmp	 eax, 3
  000ad	0f 8d aa 00 00
	00		 jge	 $LN12@mapEffectR

; 5717 : 			{
; 5718 : 				mapEffectRainWaitTime = (2 - mapEffectRainLevel) << 1;

  000b3	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  000ba	b9 02 00 00 00	 mov	 ecx, 2
  000bf	2b c8		 sub	 ecx, eax
  000c1	d1 e1		 shl	 ecx, 1
  000c3	66 89 4d f8	 mov	 WORD PTR _mapEffectRainWaitTime$[ebp], cx

; 5719 : 				if (time >= mapEffectRainWaitTime)

  000c7	0f bf 45 f8	 movsx	 eax, WORD PTR _mapEffectRainWaitTime$[ebp]
  000cb	39 45 b0	 cmp	 DWORD PTR _time$[ebp], eax
  000ce	0f 8c 84 00 00
	00		 jl	 $LN14@mapEffectR

; 5720 : 				{
; 5721 : 					MAP_EFFECT *buf = getMapEffectBuf();

  000d4	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  000d9	89 45 80	 mov	 DWORD PTR _buf$3[ebp], eax

; 5722 : 					if (buf != (MAP_EFFECT*)NULL)

  000dc	83 7d 80 00	 cmp	 DWORD PTR _buf$3[ebp], 0
  000e0	74 76		 je	 SHORT $LN14@mapEffectR

; 5723 : 					{
; 5724 : 						buf->type = MAP_EFFECT_TYPE_RAIN;

  000e2	b8 01 00 00 00	 mov	 eax, 1
  000e7	8b 4d 80	 mov	 ecx, DWORD PTR _buf$3[ebp]
  000ea	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 5725 : 						buf->x = (rand() % hosei1) + hosei2;

  000ee	8b f4		 mov	 esi, esp
  000f0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  000f6	3b f4		 cmp	 esi, esp
  000f8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000fd	99		 cdq
  000fe	f7 7d e0	 idiv	 DWORD PTR _hosei1$[ebp]
  00101	03 55 d4	 add	 edx, DWORD PTR _hosei2$[ebp]
  00104	8b 45 80	 mov	 eax, DWORD PTR _buf$3[ebp]
  00107	89 10		 mov	 DWORD PTR [eax], edx

; 5726 : 						buf->y = 0;

  00109	8b 45 80	 mov	 eax, DWORD PTR _buf$3[ebp]
  0010c	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 5727 : 						buf->dx = 2 + (rand() % 2);

  00113	8b f4		 mov	 esi, esp
  00115	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0011b	3b f4		 cmp	 esi, esp
  0011d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00122	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00127	79 05		 jns	 SHORT $LN23@mapEffectR
  00129	48		 dec	 eax
  0012a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0012d	40		 inc	 eax
$LN23@mapEffectR:
  0012e	83 c0 02	 add	 eax, 2
  00131	8b 4d 80	 mov	 ecx, DWORD PTR _buf$3[ebp]
  00134	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 5728 : 						buf->dy = 9;

  00137	8b 45 80	 mov	 eax, DWORD PTR _buf$3[ebp]
  0013a	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 5729 : 						time = 0;

  00141	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _time$[ebp], 0

; 5730 : 						mapEffectRainCnt++;

  00148	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectRainCnt@@3FA ; mapEffectRainCnt
  0014e	66 83 c0 01	 add	 ax, 1
  00152	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainCnt@@3FA, ax ; mapEffectRainCnt
$LN14@mapEffectR:

; 5731 : 					}
; 5732 : 				}
; 5733 : 			}
; 5734 : 			else

  00158	e9 e7 00 00 00	 jmp	 $LN11@mapEffectR
$LN12@mapEffectR:

; 5735 : 			{
; 5736 : 				mapEffectRainFrameMax = (mapEffectRainLevel - 2) << 2;

  0015d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  00164	8d 0c 85 f8 ff
	ff ff		 lea	 ecx, DWORD PTR [eax*4-8]
  0016b	66 89 4d ec	 mov	 WORD PTR _mapEffectRainFrameMax$[ebp], cx

; 5737 : 				if (ResoMode == 1)

  0016f	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00176	75 0b		 jne	 SHORT $LN16@mapEffectR

; 5738 : 					mapEffectRainFrameMax >>= 1;

  00178	66 8b 45 ec	 mov	 ax, WORD PTR _mapEffectRainFrameMax$[ebp]
  0017c	66 d1 f8	 sar	 ax, 1
  0017f	66 89 45 ec	 mov	 WORD PTR _mapEffectRainFrameMax$[ebp], ax
$LN16@mapEffectR:

; 5739 : 				for (i = 0; i < mapEffectRainFrameMax; i++)

  00183	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0018a	eb 09		 jmp	 SHORT $LN7@mapEffectR
$LN5@mapEffectR:
  0018c	8b 45 a4	 mov	 eax, DWORD PTR _i$[ebp]
  0018f	83 c0 01	 add	 eax, 1
  00192	89 45 a4	 mov	 DWORD PTR _i$[ebp], eax
$LN7@mapEffectR:
  00195	0f bf 45 ec	 movsx	 eax, WORD PTR _mapEffectRainFrameMax$[ebp]
  00199	39 45 a4	 cmp	 DWORD PTR _i$[ebp], eax
  0019c	0f 8d a2 00 00
	00		 jge	 $LN11@mapEffectR

; 5740 : 				{
; 5741 : 					MAP_EFFECT *buf = getMapEffectBuf();

  001a2	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  001a7	89 85 74 ff ff
	ff		 mov	 DWORD PTR _buf$2[ebp], eax

; 5742 : 					if (buf != (MAP_EFFECT*)NULL)

  001ad	83 bd 74 ff ff
	ff 00		 cmp	 DWORD PTR _buf$2[ebp], 0
  001b4	0f 84 85 00 00
	00		 je	 $LN17@mapEffectR

; 5743 : 					{
; 5744 : 						buf->type = MAP_EFFECT_TYPE_RAIN;

  001ba	b8 01 00 00 00	 mov	 eax, 1
  001bf	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$2[ebp]
  001c5	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 5745 : 						buf->x = (rand() % hosei1) + hosei2;

  001c9	8b f4		 mov	 esi, esp
  001cb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001d1	3b f4		 cmp	 esi, esp
  001d3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001d8	99		 cdq
  001d9	f7 7d e0	 idiv	 DWORD PTR _hosei1$[ebp]
  001dc	03 55 d4	 add	 edx, DWORD PTR _hosei2$[ebp]
  001df	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$2[ebp]
  001e5	89 10		 mov	 DWORD PTR [eax], edx

; 5746 : 						buf->y = 0;

  001e7	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$2[ebp]
  001ed	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 5747 : 						buf->dx = 2 + (rand() % 2);

  001f4	8b f4		 mov	 esi, esp
  001f6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001fc	3b f4		 cmp	 esi, esp
  001fe	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00203	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00208	79 05		 jns	 SHORT $LN24@mapEffectR
  0020a	48		 dec	 eax
  0020b	83 c8 fe	 or	 eax, -2			; fffffffeH
  0020e	40		 inc	 eax
$LN24@mapEffectR:
  0020f	83 c0 02	 add	 eax, 2
  00212	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$2[ebp]
  00218	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 5748 : 						buf->dy = 9;

  0021b	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$2[ebp]
  00221	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 5749 : 						time = 0;

  00228	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _time$[ebp], 0

; 5750 : 						mapEffectRainCnt++;

  0022f	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectRainCnt@@3FA ; mapEffectRainCnt
  00235	66 83 c0 01	 add	 ax, 1
  00239	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainCnt@@3FA, ax ; mapEffectRainCnt
$LN17@mapEffectR:

; 5751 : 					}
; 5752 : 				}

  0023f	e9 48 ff ff ff	 jmp	 $LN5@mapEffectR
$LN11@mapEffectR:

; 5753 : 			}
; 5754 : 		}
; 5755 : 		// ?¥h??
; 5756 : 		i = 0;

  00244	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0

; 5757 : 		buf = useBufMapEffect;

  0024b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  00250	89 45 8c	 mov	 DWORD PTR _buf$[ebp], eax
$LN8@mapEffectR:

; 5758 : 		while (buf != (MAP_EFFECT*)NULL)

  00253	83 7d 8c 00	 cmp	 DWORD PTR _buf$[ebp], 0
  00257	0f 84 b2 00 00
	00		 je	 $LN9@mapEffectR

; 5759 : 		{
; 5760 : 			if (buf->type == MAP_EFFECT_TYPE_RAIN)

  0025d	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00260	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  00264	83 f9 01	 cmp	 ecx, 1
  00267	0f 85 80 00 00
	00		 jne	 $LN18@mapEffectR

; 5761 : 			{
; 5762 : 				buf->x += buf->dx;

  0026d	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00270	8b 08		 mov	 ecx, DWORD PTR [eax]
  00272	8b 55 8c	 mov	 edx, DWORD PTR _buf$[ebp]
  00275	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  00278	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  0027b	89 08		 mov	 DWORD PTR [eax], ecx

; 5763 : 				buf->y += buf->dy;

  0027d	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00280	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00283	8b 55 8c	 mov	 edx, DWORD PTR _buf$[ebp]
  00286	03 4a 0c	 add	 ecx, DWORD PTR [edx+12]
  00289	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  0028c	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 5764 : 				mapEffectDirHosei(&buf->x, &buf->y);

  0028f	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00292	83 c0 04	 add	 eax, 4
  00295	50		 push	 eax
  00296	8b 4d 8c	 mov	 ecx, DWORD PTR _buf$[ebp]
  00299	51		 push	 ecx
  0029a	e8 00 00 00 00	 call	 ?mapEffectDirHosei@@YAXPAH0@Z ; mapEffectDirHosei
  0029f	83 c4 08	 add	 esp, 8

; 5765 : 				if (ww <= buf->x || hh <= buf->y)

  002a2	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  002a5	8b 4d c8	 mov	 ecx, DWORD PTR _ww$[ebp]
  002a8	3b 08		 cmp	 ecx, DWORD PTR [eax]
  002aa	7e 0b		 jle	 SHORT $LN20@mapEffectR
  002ac	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  002af	8b 4d bc	 mov	 ecx, DWORD PTR _hh$[ebp]
  002b2	3b 48 04	 cmp	 ecx, DWORD PTR [eax+4]
  002b5	7f 36		 jg	 SHORT $LN18@mapEffectR
$LN20@mapEffectR:

; 5766 : 				{
; 5767 : 					// ?¥hü¬?
; 5768 : 					MAP_EFFECT *buf2 = buf->next;

  002b7	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  002ba	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  002bd	89 8d 68 ff ff
	ff		 mov	 DWORD PTR _buf2$1[ebp], ecx

; 5769 : 					delMapEffectBuf(buf);

  002c3	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  002c6	50		 push	 eax
  002c7	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  002cc	83 c4 04	 add	 esp, 4

; 5770 : 					buf = buf2;

  002cf	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _buf2$1[ebp]
  002d5	89 45 8c	 mov	 DWORD PTR _buf$[ebp], eax

; 5771 : 					mapEffectRainCnt--;

  002d8	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectRainCnt@@3FA ; mapEffectRainCnt
  002de	66 83 e8 01	 sub	 ax, 1
  002e2	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainCnt@@3FA, ax ; mapEffectRainCnt

; 5772 : 					continue;

  002e8	e9 66 ff ff ff	 jmp	 $LN8@mapEffectR
$LN18@mapEffectR:

; 5773 : 				}
; 5774 : 			}
; 5775 : 			buf = buf->next;

  002ed	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  002f0	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  002f3	89 4d 8c	 mov	 DWORD PTR _buf$[ebp], ecx

; 5776 : 			mapEffectDrawFlag = 1;

  002f6	b8 01 00 00 00	 mov	 eax, 1
  002fb	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag

; 5777 : 			i++;

  00301	8b 45 a4	 mov	 eax, DWORD PTR _i$[ebp]
  00304	83 c0 01	 add	 eax, 1
  00307	89 45 a4	 mov	 DWORD PTR _i$[ebp], eax

; 5778 : 		}

  0030a	e9 44 ff ff ff	 jmp	 $LN8@mapEffectR
$LN9@mapEffectR:

; 5779 : 	}

  0030f	e9 6b fd ff ff	 jmp	 $LN2@mapEffectR
$LN1@mapEffectR:

; 5780 : }

  00314	5f		 pop	 edi
  00315	5e		 pop	 esi
  00316	5b		 pop	 ebx
  00317	81 c4 5c 01 00
	00		 add	 esp, 348		; 0000015cH
  0031d	3b ec		 cmp	 ebp, esp
  0031f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00324	8b e5		 mov	 esp, ebp
  00326	5d		 pop	 ebp
  00327	c3		 ret	 0
?mapEffectRain2@@YAXH@Z ENDP				; mapEffectRain2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectProc2@@YAXH@Z
_TEXT	SEGMENT
_n$ = 8							; size = 4
?mapEffectProc2@@YAXH@Z PROC				; mapEffectProc2, COMDAT

; 4812 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4813 : 	mapEffectRain2(n);

  0001e	8b 45 08	 mov	 eax, DWORD PTR _n$[ebp]
  00021	50		 push	 eax
  00022	e8 00 00 00 00	 call	 ?mapEffectRain2@@YAXH@Z	; mapEffectRain2
  00027	83 c4 04	 add	 esp, 4

; 4814 : 	mapEffectSnow2(n);

  0002a	8b 45 08	 mov	 eax, DWORD PTR _n$[ebp]
  0002d	50		 push	 eax
  0002e	e8 00 00 00 00	 call	 ?mapEffectSnow2@@YAXH@Z	; mapEffectSnow2
  00033	83 c4 04	 add	 esp, 4

; 4815 : }

  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	5b		 pop	 ebx
  00039	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003f	3b ec		 cmp	 ebp, esp
  00041	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00046	8b e5		 mov	 esp, ebp
  00048	5d		 pop	 ebp
  00049	c3		 ret	 0
?mapEffectProc2@@YAXH@Z ENDP				; mapEffectProc2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectHalloweenProc@@YAXXZ
_TEXT	SEGMENT
tv170 = -304						; size = 4
tv164 = -304						; size = 4
_buf2$2 = -104						; size = 4
_buf$3 = -92						; size = 4
_buf$ = -80						; size = 4
_j$ = -68						; size = 4
_hh$ = -56						; size = 4
_ww$ = -44						; size = 4
_hosei2$ = -32						; size = 4
_hosei1$ = -20						; size = 4
__$EHRec$ = -12						; size = 12
?mapEffectHalloweenProc@@YAXXZ PROC			; mapEffectHalloweenProc, COMDAT

; 6000 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?mapEffectHalloweenProc@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec 24 01 00
	00		 sub	 esp, 292		; 00000124H
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	8d bd d0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-304]
  00020	b9 49 00 00 00	 mov	 ecx, 73			; 00000049H
  00025	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002a	f3 ab		 rep stosd
  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00031	33 c5		 xor	 eax, ebp
  00033	50		 push	 eax
  00034	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00037	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 6001 : 	int hosei1 = 940, hosei2 = -200, ww = DEF_APPSIZEX, hh = DEF_APPSIZEY, j;

  0003d	c7 45 ec ac 03
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 940 ; 000003acH
  00044	c7 45 e0 38 ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -200 ; ffffff38H
  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  00050	89 45 d4	 mov	 DWORD PTR _ww$[ebp], eax
  00053	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00058	89 45 c8	 mov	 DWORD PTR _hh$[ebp], eax

; 6002 : 	static unsigned int time = TimeGetTime();

  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR __tls_index
  00060	64 8b 0d 00 00
	00 00		 mov	 ecx, DWORD PTR fs:__tls_array
  00067	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  0006a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$TSS0@?1??mapEffectHalloweenProc@@YAXXZ@4HA
  0006f	3b 82 00 00 00
	00		 cmp	 eax, DWORD PTR __Init_thread_epoch[edx]
  00075	7e 3b		 jle	 SHORT $LN2@mapEffectH
  00077	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectHalloweenProc@@YAXXZ@4HA
  0007c	e8 00 00 00 00	 call	 __Init_thread_header
  00081	83 c4 04	 add	 esp, 4
  00084	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?$TSS0@?1??mapEffectHalloweenProc@@YAXXZ@4HA, -1
  0008b	75 25		 jne	 SHORT $LN2@mapEffectH
  0008d	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00094	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00099	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectHalloweenProc@@YAXXZ@4IA, eax
  0009e	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  000a5	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectHalloweenProc@@YAXXZ@4HA
  000aa	e8 00 00 00 00	 call	 __Init_thread_footer
  000af	83 c4 04	 add	 esp, 4
$LN2@mapEffectH:

; 6003 : 	MAP_EFFECT *buf;
; 6004 : 
; 6005 : 	if (ResoMode == 1)

  000b2	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  000b9	75 1e		 jne	 SHORT $LN5@mapEffectH

; 6006 : 	{
; 6007 : 		ww >>= 1;

  000bb	8b 45 d4	 mov	 eax, DWORD PTR _ww$[ebp]
  000be	d1 f8		 sar	 eax, 1
  000c0	89 45 d4	 mov	 DWORD PTR _ww$[ebp], eax

; 6008 : 		hh >>= 1;

  000c3	8b 45 c8	 mov	 eax, DWORD PTR _hh$[ebp]
  000c6	d1 f8		 sar	 eax, 1
  000c8	89 45 c8	 mov	 DWORD PTR _hh$[ebp], eax

; 6009 : 		hosei1 = 370;

  000cb	c7 45 ec 72 01
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 370 ; 00000172H

; 6010 : 		hosei2 = -50;

  000d2	c7 45 e0 ce ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -50 ; ffffffceH
$LN5@mapEffectH:

; 6011 : 	}
; 6012 : 	if (mapEffectHalloween)

  000d9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapEffectHalloween@@3HA, 0 ; mapEffectHalloween
  000e0	0f 84 6b 01 00
	00		 je	 $LN6@mapEffectH

; 6013 : 	{
; 6014 : 		if (time + 100 < TimeGetTime())

  000e6	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?time@?1??mapEffectHalloweenProc@@YAXXZ@4IA
  000ec	83 c6 64	 add	 esi, 100		; 00000064H
  000ef	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  000f4	3b f0		 cmp	 esi, eax
  000f6	0f 83 55 01 00
	00		 jae	 $LN6@mapEffectH

; 6015 : 		{
; 6016 : 			MAP_EFFECT *buf = getMapEffectBuf();

  000fc	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00101	89 45 a4	 mov	 DWORD PTR _buf$3[ebp], eax

; 6017 : 			if (buf != (MAP_EFFECT*)NULL)

  00104	83 7d a4 00	 cmp	 DWORD PTR _buf$3[ebp], 0
  00108	0f 84 39 01 00
	00		 je	 $LN8@mapEffectH

; 6018 : 			{
; 6019 : 				buf->type = MAP_EFFECT_TYPE_HALLOWEEN;

  0010e	b8 06 00 00 00	 mov	 eax, 6
  00113	8b 4d a4	 mov	 ecx, DWORD PTR _buf$3[ebp]
  00116	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 6020 : 				buf->x = (rand() % hosei1) + hosei2;

  0011a	8b f4		 mov	 esi, esp
  0011c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00122	3b f4		 cmp	 esi, esp
  00124	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00129	99		 cdq
  0012a	f7 7d ec	 idiv	 DWORD PTR _hosei1$[ebp]
  0012d	03 55 e0	 add	 edx, DWORD PTR _hosei2$[ebp]
  00130	8b 45 a4	 mov	 eax, DWORD PTR _buf$3[ebp]
  00133	89 10		 mov	 DWORD PTR [eax], edx

; 6021 : 				buf->y = 0;

  00135	8b 45 a4	 mov	 eax, DWORD PTR _buf$3[ebp]
  00138	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 6022 : 				buf->mode = (rand() % 2);

  0013f	8b f4		 mov	 esi, esp
  00141	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00147	3b f4		 cmp	 esi, esp
  00149	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0014e	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00153	79 05		 jns	 SHORT $LN20@mapEffectH
  00155	48		 dec	 eax
  00156	83 c8 fe	 or	 eax, -2			; fffffffeH
  00159	40		 inc	 eax
$LN20@mapEffectH:
  0015a	8b 4d a4	 mov	 ecx, DWORD PTR _buf$3[ebp]
  0015d	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 6023 : 				buf->pAction = MakeAnimDisp(buf->x, buf->y, mapEffectHalloween, 0);

  00161	6a 00		 push	 0
  00163	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapEffectHalloween@@3HA ; mapEffectHalloween
  00168	50		 push	 eax
  00169	8b 4d a4	 mov	 ecx, DWORD PTR _buf$3[ebp]
  0016c	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0016f	52		 push	 edx
  00170	8b 45 a4	 mov	 eax, DWORD PTR _buf$3[ebp]
  00173	8b 08		 mov	 ecx, DWORD PTR [eax]
  00175	51		 push	 ecx
  00176	e8 00 00 00 00	 call	 ?MakeAnimDisp@@YAPAUaction@@HHHH@Z ; MakeAnimDisp
  0017b	83 c4 10	 add	 esp, 16			; 00000010H
  0017e	8b 55 a4	 mov	 edx, DWORD PTR _buf$3[ebp]
  00181	89 42 44	 mov	 DWORD PTR [edx+68], eax

; 6024 : 				if (buf->pAction != NULL)

  00184	8b 45 a4	 mov	 eax, DWORD PTR _buf$3[ebp]
  00187	83 78 44 00	 cmp	 DWORD PTR [eax+68], 0
  0018b	0f 84 b6 00 00
	00		 je	 $LN8@mapEffectH

; 6025 : 				{
; 6026 : 					buf->pAction->hitDispNo = 0;

  00191	8b 45 a4	 mov	 eax, DWORD PTR _buf$3[ebp]
  00194	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  00197	c7 41 20 00 00
	00 00		 mov	 DWORD PTR [ecx+32], 0

; 6027 : 					buf->pAction->dispPrio = DISP_PRIO_GRID;

  0019e	8b 45 a4	 mov	 eax, DWORD PTR _buf$3[ebp]
  001a1	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  001a4	c6 41 15 64	 mov	 BYTE PTR [ecx+21], 100	; 00000064H

; 6028 : 					j = (rand() % 2);

  001a8	8b f4		 mov	 esi, esp
  001aa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001b0	3b f4		 cmp	 esi, esp
  001b2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b7	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001bc	79 05		 jns	 SHORT $LN21@mapEffectH
  001be	48		 dec	 eax
  001bf	83 c8 fe	 or	 eax, -2			; fffffffeH
  001c2	40		 inc	 eax
$LN21@mapEffectH:
  001c3	89 45 bc	 mov	 DWORD PTR _j$[ebp], eax

; 6029 : 					if (j == 0)

  001c6	83 7d bc 00	 cmp	 DWORD PTR _j$[ebp], 0
  001ca	75 47		 jne	 SHORT $LN10@mapEffectH

; 6030 : 					{
; 6031 : 						buf->dx = rand() % 2;

  001cc	8b f4		 mov	 esi, esp
  001ce	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001d4	3b f4		 cmp	 esi, esp
  001d6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001db	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001e0	79 05		 jns	 SHORT $LN22@mapEffectH
  001e2	48		 dec	 eax
  001e3	83 c8 fe	 or	 eax, -2			; fffffffeH
  001e6	40		 inc	 eax
$LN22@mapEffectH:
  001e7	8b 4d a4	 mov	 ecx, DWORD PTR _buf$3[ebp]
  001ea	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 6032 : 						buf->dy = 3 + (rand() % 2);

  001ed	8b f4		 mov	 esi, esp
  001ef	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001f5	3b f4		 cmp	 esi, esp
  001f7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001fc	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00201	79 05		 jns	 SHORT $LN23@mapEffectH
  00203	48		 dec	 eax
  00204	83 c8 fe	 or	 eax, -2			; fffffffeH
  00207	40		 inc	 eax
$LN23@mapEffectH:
  00208	83 c0 03	 add	 eax, 3
  0020b	8b 4d a4	 mov	 ecx, DWORD PTR _buf$3[ebp]
  0020e	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
  00211	eb 34		 jmp	 SHORT $LN8@mapEffectH
$LN10@mapEffectH:

; 6033 : 					}
; 6034 : 					else if (j == 1)

  00213	83 7d bc 01	 cmp	 DWORD PTR _j$[ebp], 1
  00217	75 2e		 jne	 SHORT $LN8@mapEffectH

; 6035 : 					{
; 6036 : 						buf->dx = 1;

  00219	8b 45 a4	 mov	 eax, DWORD PTR _buf$3[ebp]
  0021c	c7 40 08 01 00
	00 00		 mov	 DWORD PTR [eax+8], 1

; 6037 : 						buf->dy = 4 + (rand() % 2);

  00223	8b f4		 mov	 esi, esp
  00225	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0022b	3b f4		 cmp	 esi, esp
  0022d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00232	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00237	79 05		 jns	 SHORT $LN24@mapEffectH
  00239	48		 dec	 eax
  0023a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0023d	40		 inc	 eax
$LN24@mapEffectH:
  0023e	83 c0 04	 add	 eax, 4
  00241	8b 4d a4	 mov	 ecx, DWORD PTR _buf$3[ebp]
  00244	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
$LN8@mapEffectH:

; 6038 : 					}
; 6039 : 				}
; 6040 : 			}
; 6041 : 			time = TimeGetTime();

  00247	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0024c	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectHalloweenProc@@YAXXZ@4IA, eax
$LN6@mapEffectH:

; 6042 : 		}
; 6043 : 	}
; 6044 : 	buf = useBufMapEffect;

  00251	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  00256	89 45 b0	 mov	 DWORD PTR _buf$[ebp], eax
$LN3@mapEffectH:

; 6045 : 	while (buf != (MAP_EFFECT*)NULL)

  00259	83 7d b0 00	 cmp	 DWORD PTR _buf$[ebp], 0
  0025d	0f 84 e5 00 00
	00		 je	 $LN1@mapEffectH

; 6046 : 	{
; 6047 : 		if (buf->type == MAP_EFFECT_TYPE_HALLOWEEN)

  00263	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  00266	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  0026a	83 f9 06	 cmp	 ecx, 6
  0026d	0f 85 bc 00 00
	00		 jne	 $LN13@mapEffectH

; 6048 : 		{
; 6049 : 			buf->pAction->x = buf->x += buf->dx;

  00273	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  00276	8b 4d b0	 mov	 ecx, DWORD PTR _buf$[ebp]
  00279	8b 10		 mov	 edx, DWORD PTR [eax]
  0027b	03 51 08	 add	 edx, DWORD PTR [ecx+8]
  0027e	89 95 d0 fe ff
	ff		 mov	 DWORD PTR tv164[ebp], edx
  00284	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  00287	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR tv164[ebp]
  0028d	89 08		 mov	 DWORD PTR [eax], ecx
  0028f	8b 55 b0	 mov	 edx, DWORD PTR _buf$[ebp]
  00292	8b 42 44	 mov	 eax, DWORD PTR [edx+68]
  00295	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR tv164[ebp]
  0029b	89 48 18	 mov	 DWORD PTR [eax+24], ecx

; 6050 : 			buf->pAction->y = buf->y += buf->dy;

  0029e	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  002a1	8b 4d b0	 mov	 ecx, DWORD PTR _buf$[ebp]
  002a4	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  002a7	03 51 0c	 add	 edx, DWORD PTR [ecx+12]
  002aa	89 95 d0 fe ff
	ff		 mov	 DWORD PTR tv170[ebp], edx
  002b0	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  002b3	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR tv170[ebp]
  002b9	89 48 04	 mov	 DWORD PTR [eax+4], ecx
  002bc	8b 55 b0	 mov	 edx, DWORD PTR _buf$[ebp]
  002bf	8b 42 44	 mov	 eax, DWORD PTR [edx+68]
  002c2	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR tv170[ebp]
  002c8	89 48 1c	 mov	 DWORD PTR [eax+28], ecx

; 6051 : 			mapEffectDirHosei(&buf->x, &buf->y);

  002cb	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  002ce	83 c0 04	 add	 eax, 4
  002d1	50		 push	 eax
  002d2	8b 4d b0	 mov	 ecx, DWORD PTR _buf$[ebp]
  002d5	51		 push	 ecx
  002d6	e8 00 00 00 00	 call	 ?mapEffectDirHosei@@YAXPAH0@Z ; mapEffectDirHosei
  002db	83 c4 08	 add	 esp, 8

; 6052 : 			if (ww + 100 <= buf->x || hh <= buf->y)

  002de	8b 45 d4	 mov	 eax, DWORD PTR _ww$[ebp]
  002e1	83 c0 64	 add	 eax, 100		; 00000064H
  002e4	8b 4d b0	 mov	 ecx, DWORD PTR _buf$[ebp]
  002e7	3b 01		 cmp	 eax, DWORD PTR [ecx]
  002e9	7e 0b		 jle	 SHORT $LN15@mapEffectH
  002eb	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  002ee	8b 4d c8	 mov	 ecx, DWORD PTR _hh$[ebp]
  002f1	3b 48 04	 cmp	 ecx, DWORD PTR [eax+4]
  002f4	7f 39		 jg	 SHORT $LN13@mapEffectH
$LN15@mapEffectH:

; 6053 : 			{
; 6054 : 				MAP_EFFECT *buf2 = buf->next;

  002f6	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  002f9	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  002fc	89 4d 98	 mov	 DWORD PTR _buf2$2[ebp], ecx

; 6055 : 				DeathAction(buf->pAction);

  002ff	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  00302	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]
  00305	51		 push	 ecx
  00306	e8 00 00 00 00	 call	 ?DeathAction@@YAXPAUaction@@@Z ; DeathAction
  0030b	83 c4 04	 add	 esp, 4

; 6056 : 				buf->pAction = NULL;

  0030e	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  00311	c7 40 44 00 00
	00 00		 mov	 DWORD PTR [eax+68], 0

; 6057 : 				delMapEffectBuf(buf);

  00318	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  0031b	50		 push	 eax
  0031c	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  00321	83 c4 04	 add	 esp, 4

; 6058 : 				buf = buf2;

  00324	8b 45 98	 mov	 eax, DWORD PTR _buf2$2[ebp]
  00327	89 45 b0	 mov	 DWORD PTR _buf$[ebp], eax

; 6059 : 				continue;

  0032a	e9 2a ff ff ff	 jmp	 $LN3@mapEffectH
$LN13@mapEffectH:

; 6060 : 			}
; 6061 : 		}
; 6062 : 		buf = buf->next;

  0032f	8b 45 b0	 mov	 eax, DWORD PTR _buf$[ebp]
  00332	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00335	89 4d b0	 mov	 DWORD PTR _buf$[ebp], ecx

; 6063 : 		mapEffectDrawFlag = 1;

  00338	b8 01 00 00 00	 mov	 eax, 1
  0033d	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag

; 6064 : 	}

  00343	e9 11 ff ff ff	 jmp	 $LN3@mapEffectH
$LN1@mapEffectH:

; 6065 : }

  00348	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0034b	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00352	59		 pop	 ecx
  00353	5f		 pop	 edi
  00354	5e		 pop	 esi
  00355	5b		 pop	 ebx
  00356	81 c4 30 01 00
	00		 add	 esp, 304		; 00000130H
  0035c	3b ec		 cmp	 ebp, esp
  0035e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00363	8b e5		 mov	 esp, ebp
  00365	5d		 pop	 ebp
  00366	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?mapEffectHalloweenProc@@YAXXZ$0:
  00000	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectHalloweenProc@@YAXXZ@4HA
  00005	e8 00 00 00 00	 call	 __Init_thread_abort
  0000a	59		 pop	 ecx
  0000b	c3		 ret	 0
__ehhandler$?mapEffectHalloweenProc@@YAXXZ:
  0000c	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00010	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00013	8b 8a cc fe ff
	ff		 mov	 ecx, DWORD PTR [edx-308]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?mapEffectHalloweenProc@@YAXXZ
  00025	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?mapEffectHalloweenProc@@YAXXZ ENDP			; mapEffectHalloweenProc
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectKamiFubuki@@YAXXZ
_TEXT	SEGMENT
_buf2$2 = -152						; size = 4
_buf$3 = -140						; size = 4
_buf$4 = -128						; size = 4
_buf$ = -116						; size = 4
_j$ = -104						; size = 4
_i$ = -92						; size = 4
_hh$ = -80						; size = 4
_ww$ = -68						; size = 4
_hosei2$ = -56						; size = 4
_hosei1$ = -44						; size = 4
_mapEffectKamiFubukiFrameMax$ = -32			; size = 2
_mapEffectKamiFubukiWaitTime$ = -20			; size = 2
__$EHRec$ = -12						; size = 12
?mapEffectKamiFubuki@@YAXXZ PROC			; mapEffectKamiFubuki, COMDAT

; 5784 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?mapEffectKamiFubuki@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	8d bd a4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-348]
  00020	b9 54 00 00 00	 mov	 ecx, 84			; 00000054H
  00025	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002a	f3 ab		 rep stosd
  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00031	33 c5		 xor	 eax, ebp
  00033	50		 push	 eax
  00034	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00037	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 5785 : 	short mapEffectKamiFubukiWaitTime = 0;

  0003d	33 c0		 xor	 eax, eax
  0003f	66 89 45 ec	 mov	 WORD PTR _mapEffectKamiFubukiWaitTime$[ebp], ax

; 5786 : 	short mapEffectKamiFubukiFrameMax = 0;

  00043	33 c0		 xor	 eax, eax
  00045	66 89 45 e0	 mov	 WORD PTR _mapEffectKamiFubukiFrameMax$[ebp], ax

; 5787 : 	int hosei1 = 1240, hosei2 = -100, ww = DEF_APPSIZEX, hh = DEF_APPSIZEY, i, j;

  00049	c7 45 d4 d8 04
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 1240 ; 000004d8H
  00050	c7 45 c8 9c ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -100 ; ffffff9cH
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0005c	89 45 bc	 mov	 DWORD PTR _ww$[ebp], eax
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00064	89 45 b0	 mov	 DWORD PTR _hh$[ebp], eax

; 5788 : 	static unsigned int time = TimeGetTime();

  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR __tls_index
  0006c	64 8b 0d 00 00
	00 00		 mov	 ecx, DWORD PTR fs:__tls_array
  00073	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$TSS0@?1??mapEffectKamiFubuki@@YAXXZ@4HA
  0007b	3b 82 00 00 00
	00		 cmp	 eax, DWORD PTR __Init_thread_epoch[edx]
  00081	7e 3b		 jle	 SHORT $LN2@mapEffectK
  00083	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectKamiFubuki@@YAXXZ@4HA
  00088	e8 00 00 00 00	 call	 __Init_thread_header
  0008d	83 c4 04	 add	 esp, 4
  00090	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?$TSS0@?1??mapEffectKamiFubuki@@YAXXZ@4HA, -1
  00097	75 25		 jne	 SHORT $LN2@mapEffectK
  00099	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  000a0	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  000a5	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectKamiFubuki@@YAXXZ@4IA, eax
  000aa	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  000b1	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectKamiFubuki@@YAXXZ@4HA
  000b6	e8 00 00 00 00	 call	 __Init_thread_footer
  000bb	83 c4 04	 add	 esp, 4
$LN2@mapEffectK:

; 5789 : 	MAP_EFFECT *buf;
; 5790 : 
; 5791 : 	// ???????????????
; 5792 : 	if (ResoMode == 1)

  000be	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  000c5	75 1e		 jne	 SHORT $LN8@mapEffectK

; 5793 : 	{
; 5794 : 		ww >>= 1;

  000c7	8b 45 bc	 mov	 eax, DWORD PTR _ww$[ebp]
  000ca	d1 f8		 sar	 eax, 1
  000cc	89 45 bc	 mov	 DWORD PTR _ww$[ebp], eax

; 5795 : 		hh >>= 1;

  000cf	8b 45 b0	 mov	 eax, DWORD PTR _hh$[ebp]
  000d2	d1 f8		 sar	 eax, 1
  000d4	89 45 b0	 mov	 DWORD PTR _hh$[ebp], eax

; 5796 : 		hosei1 = 470;

  000d7	c7 45 d4 d6 01
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 470 ; 000001d6H

; 5797 : 		hosei2 = -50;

  000de	c7 45 c8 ce ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -50 ; ffffffceH
$LN8@mapEffectK:

; 5798 : 	}
; 5799 : 	// ????§DþØ
; 5800 : 	if (mapEffectKamiFubukiLevel)

  000e5	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectKamiFubukiLevel@@3FA ; mapEffectKamiFubukiLevel
  000ec	85 c0		 test	 eax, eax
  000ee	0f 84 63 02 00
	00		 je	 $LN9@mapEffectK

; 5801 : 	{
; 5802 : 		if (mapEffectKamiFubukiLevel < 3)

  000f4	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectKamiFubukiLevel@@3FA ; mapEffectKamiFubukiLevel
  000fb	83 f8 03	 cmp	 eax, 3
  000fe	0f 8d 0e 01 00
	00		 jge	 $LN10@mapEffectK

; 5803 : 		{
; 5804 : 			mapEffectKamiFubukiWaitTime = (51 - 25 * mapEffectKamiFubukiLevel);

  00104	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectKamiFubukiLevel@@3FA ; mapEffectKamiFubukiLevel
  0010b	6b c8 19	 imul	 ecx, eax, 25
  0010e	ba 33 00 00 00	 mov	 edx, 51			; 00000033H
  00113	2b d1		 sub	 edx, ecx
  00115	66 89 55 ec	 mov	 WORD PTR _mapEffectKamiFubukiWaitTime$[ebp], dx

; 5805 : 			if (time + mapEffectKamiFubukiWaitTime < TimeGetTime())

  00119	0f bf 75 ec	 movsx	 esi, WORD PTR _mapEffectKamiFubukiWaitTime$[ebp]
  0011d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?time@?1??mapEffectKamiFubuki@@YAXXZ@4IA
  00123	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00128	3b f0		 cmp	 esi, eax
  0012a	0f 83 dd 00 00
	00		 jae	 $LN12@mapEffectK

; 5806 : 			{
; 5807 : 				MAP_EFFECT *buf = getMapEffectBuf();

  00130	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00135	89 45 80	 mov	 DWORD PTR _buf$4[ebp], eax

; 5808 : 				if (buf != (MAP_EFFECT*)NULL)

  00138	83 7d 80 00	 cmp	 DWORD PTR _buf$4[ebp], 0
  0013c	0f 84 cb 00 00
	00		 je	 $LN12@mapEffectK

; 5809 : 				{
; 5810 : 					buf->type = MAP_EFFECT_TYPE_KAMIFUBUKI;

  00142	b8 04 00 00 00	 mov	 eax, 4
  00147	8b 4d 80	 mov	 ecx, DWORD PTR _buf$4[ebp]
  0014a	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 5811 : 					buf->x = (rand() % hosei1) + hosei2;

  0014e	8b f4		 mov	 esi, esp
  00150	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00156	3b f4		 cmp	 esi, esp
  00158	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0015d	99		 cdq
  0015e	f7 7d d4	 idiv	 DWORD PTR _hosei1$[ebp]
  00161	03 55 c8	 add	 edx, DWORD PTR _hosei2$[ebp]
  00164	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  00167	89 10		 mov	 DWORD PTR [eax], edx

; 5812 : 					buf->y = 0;

  00169	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  0016c	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 5813 : 					buf->mode = (rand() % 4);

  00173	8b f4		 mov	 esi, esp
  00175	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0017b	3b f4		 cmp	 esi, esp
  0017d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00182	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  00187	79 05		 jns	 SHORT $LN30@mapEffectK
  00189	48		 dec	 eax
  0018a	83 c8 fc	 or	 eax, -4			; fffffffcH
  0018d	40		 inc	 eax
$LN30@mapEffectK:
  0018e	8b 4d 80	 mov	 ecx, DWORD PTR _buf$4[ebp]
  00191	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5814 : 					buf->cnt = 4;

  00195	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  00198	c7 40 30 04 00
	00 00		 mov	 DWORD PTR [eax+48], 4

; 5815 : 					j = (rand() % 2);

  0019f	8b f4		 mov	 esi, esp
  001a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001a7	3b f4		 cmp	 esi, esp
  001a9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ae	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001b3	79 05		 jns	 SHORT $LN31@mapEffectK
  001b5	48		 dec	 eax
  001b6	83 c8 fe	 or	 eax, -2			; fffffffeH
  001b9	40		 inc	 eax
$LN31@mapEffectK:
  001ba	89 45 98	 mov	 DWORD PTR _j$[ebp], eax

; 5816 : 					if (j == 0)

  001bd	83 7d 98 00	 cmp	 DWORD PTR _j$[ebp], 0
  001c1	75 16		 jne	 SHORT $LN14@mapEffectK

; 5817 : 					{
; 5818 : 						buf->dx = -1;

  001c3	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  001c6	c7 40 08 ff ff
	ff ff		 mov	 DWORD PTR [eax+8], -1

; 5819 : 						buf->dy = 2;

  001cd	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  001d0	c7 40 0c 02 00
	00 00		 mov	 DWORD PTR [eax+12], 2
  001d7	eb 1a		 jmp	 SHORT $LN15@mapEffectK
$LN14@mapEffectK:

; 5820 : 					}
; 5821 : 					else if (j == 1)

  001d9	83 7d 98 01	 cmp	 DWORD PTR _j$[ebp], 1
  001dd	75 14		 jne	 SHORT $LN15@mapEffectK

; 5822 : 					{
; 5823 : 						buf->dx = -1;

  001df	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  001e2	c7 40 08 ff ff
	ff ff		 mov	 DWORD PTR [eax+8], -1

; 5824 : 						buf->dy = 3;

  001e9	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  001ec	c7 40 0c 03 00
	00 00		 mov	 DWORD PTR [eax+12], 3
$LN15@mapEffectK:

; 5825 : 					}
; 5826 : 					time = TimeGetTime();

  001f3	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  001f8	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectKamiFubuki@@YAXXZ@4IA, eax

; 5827 : 					mapEffectKamiFubukiCnt++;

  001fd	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectKamiFubukiCnt@@3FA ; mapEffectKamiFubukiCnt
  00203	66 83 c0 01	 add	 ax, 1
  00207	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectKamiFubukiCnt@@3FA, ax ; mapEffectKamiFubukiCnt
$LN12@mapEffectK:

; 5828 : 				}
; 5829 : 			}
; 5830 : 		}
; 5831 : 		else

  0020d	e9 45 01 00 00	 jmp	 $LN9@mapEffectK
$LN10@mapEffectK:

; 5832 : 		{
; 5833 : 			mapEffectKamiFubukiFrameMax = (mapEffectKamiFubukiLevel - 2) << 1;

  00212	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectKamiFubukiLevel@@3FA ; mapEffectKamiFubukiLevel
  00219	8d 4c 00 fc	 lea	 ecx, DWORD PTR [eax+eax-4]
  0021d	66 89 4d e0	 mov	 WORD PTR _mapEffectKamiFubukiFrameMax$[ebp], cx

; 5834 : 			if (ResoMode == 1)

  00221	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00228	75 0b		 jne	 SHORT $LN17@mapEffectK

; 5835 : 				mapEffectKamiFubukiFrameMax >>= 1;

  0022a	66 8b 45 e0	 mov	 ax, WORD PTR _mapEffectKamiFubukiFrameMax$[ebp]
  0022e	66 d1 f8	 sar	 ax, 1
  00231	66 89 45 e0	 mov	 WORD PTR _mapEffectKamiFubukiFrameMax$[ebp], ax
$LN17@mapEffectK:

; 5836 : 			for (i = 0; i < mapEffectKamiFubukiFrameMax; i++)

  00235	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0023c	eb 09		 jmp	 SHORT $LN5@mapEffectK
$LN3@mapEffectK:
  0023e	8b 45 a4	 mov	 eax, DWORD PTR _i$[ebp]
  00241	83 c0 01	 add	 eax, 1
  00244	89 45 a4	 mov	 DWORD PTR _i$[ebp], eax
$LN5@mapEffectK:
  00247	0f bf 45 e0	 movsx	 eax, WORD PTR _mapEffectKamiFubukiFrameMax$[ebp]
  0024b	39 45 a4	 cmp	 DWORD PTR _i$[ebp], eax
  0024e	0f 8d 03 01 00
	00		 jge	 $LN9@mapEffectK

; 5837 : 			{
; 5838 : 				MAP_EFFECT *buf = getMapEffectBuf();

  00254	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00259	89 85 74 ff ff
	ff		 mov	 DWORD PTR _buf$3[ebp], eax

; 5839 : 				if (buf != (MAP_EFFECT*)NULL)

  0025f	83 bd 74 ff ff
	ff 00		 cmp	 DWORD PTR _buf$3[ebp], 0
  00266	0f 84 e6 00 00
	00		 je	 $LN18@mapEffectK

; 5840 : 				{
; 5841 : 					buf->type = MAP_EFFECT_TYPE_KAMIFUBUKI;

  0026c	b8 04 00 00 00	 mov	 eax, 4
  00271	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  00277	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 5842 : 					buf->x = (rand() % hosei1) + hosei2;

  0027b	8b f4		 mov	 esi, esp
  0027d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00283	3b f4		 cmp	 esi, esp
  00285	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0028a	99		 cdq
  0028b	f7 7d d4	 idiv	 DWORD PTR _hosei1$[ebp]
  0028e	03 55 c8	 add	 edx, DWORD PTR _hosei2$[ebp]
  00291	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  00297	89 10		 mov	 DWORD PTR [eax], edx

; 5843 : 					buf->y = 0;

  00299	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  0029f	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 5844 : 					buf->mode = (rand() % 4);

  002a6	8b f4		 mov	 esi, esp
  002a8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002ae	3b f4		 cmp	 esi, esp
  002b0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002b5	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  002ba	79 05		 jns	 SHORT $LN32@mapEffectK
  002bc	48		 dec	 eax
  002bd	83 c8 fc	 or	 eax, -4			; fffffffcH
  002c0	40		 inc	 eax
$LN32@mapEffectK:
  002c1	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  002c7	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5845 : 					buf->cnt = 4;

  002cb	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  002d1	c7 40 30 04 00
	00 00		 mov	 DWORD PTR [eax+48], 4

; 5846 : 					j = (rand() % 2);

  002d8	8b f4		 mov	 esi, esp
  002da	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002e0	3b f4		 cmp	 esi, esp
  002e2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002e7	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  002ec	79 05		 jns	 SHORT $LN33@mapEffectK
  002ee	48		 dec	 eax
  002ef	83 c8 fe	 or	 eax, -2			; fffffffeH
  002f2	40		 inc	 eax
$LN33@mapEffectK:
  002f3	89 45 98	 mov	 DWORD PTR _j$[ebp], eax

; 5847 : 					if (j == 0)

  002f6	83 7d 98 00	 cmp	 DWORD PTR _j$[ebp], 0
  002fa	75 1c		 jne	 SHORT $LN19@mapEffectK

; 5848 : 					{
; 5849 : 						buf->dx = -1;

  002fc	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  00302	c7 40 08 ff ff
	ff ff		 mov	 DWORD PTR [eax+8], -1

; 5850 : 						buf->dy = 2;

  00309	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  0030f	c7 40 0c 02 00
	00 00		 mov	 DWORD PTR [eax+12], 2
  00316	eb 20		 jmp	 SHORT $LN20@mapEffectK
$LN19@mapEffectK:

; 5851 : 					}
; 5852 : 					else if (j == 1)

  00318	83 7d 98 01	 cmp	 DWORD PTR _j$[ebp], 1
  0031c	75 1a		 jne	 SHORT $LN20@mapEffectK

; 5853 : 					{
; 5854 : 						buf->dx = -1;

  0031e	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  00324	c7 40 08 ff ff
	ff ff		 mov	 DWORD PTR [eax+8], -1

; 5855 : 						buf->dy = 3;

  0032b	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  00331	c7 40 0c 03 00
	00 00		 mov	 DWORD PTR [eax+12], 3
$LN20@mapEffectK:

; 5856 : 					}
; 5857 : 					time = TimeGetTime();

  00338	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0033d	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectKamiFubuki@@YAXXZ@4IA, eax

; 5858 : 					mapEffectKamiFubukiCnt++;

  00342	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectKamiFubukiCnt@@3FA ; mapEffectKamiFubukiCnt
  00348	66 83 c0 01	 add	 ax, 1
  0034c	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectKamiFubukiCnt@@3FA, ax ; mapEffectKamiFubukiCnt
$LN18@mapEffectK:

; 5859 : 				}
; 5860 : 			}

  00352	e9 e7 fe ff ff	 jmp	 $LN3@mapEffectK
$LN9@mapEffectK:

; 5861 : 		}
; 5862 : 	}
; 5863 : 	// ?¥h??
; 5864 : 	i = 0;

  00357	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0

; 5865 : 	buf = useBufMapEffect;

  0035e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  00363	89 45 8c	 mov	 DWORD PTR _buf$[ebp], eax
$LN6@mapEffectK:

; 5866 : 	while (buf != (MAP_EFFECT*)NULL)

  00366	83 7d 8c 00	 cmp	 DWORD PTR _buf$[ebp], 0
  0036a	0f 84 6c 01 00
	00		 je	 $LN1@mapEffectK

; 5867 : 	{
; 5868 : 		if (buf->type == MAP_EFFECT_TYPE_KAMIFUBUKI)

  00370	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00373	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  00377	83 f9 04	 cmp	 ecx, 4
  0037a	0f 85 3a 01 00
	00		 jne	 $LN22@mapEffectK

; 5869 : 		{
; 5870 : 			buf->x += (buf->dx + (rand() % 3) - 1);

  00380	8b f4		 mov	 esi, esp
  00382	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00388	3b f4		 cmp	 esi, esp
  0038a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0038f	99		 cdq
  00390	b9 03 00 00 00	 mov	 ecx, 3
  00395	f7 f9		 idiv	 ecx
  00397	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  0039a	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0039d	03 ca		 add	 ecx, edx
  0039f	8b 55 8c	 mov	 edx, DWORD PTR _buf$[ebp]
  003a2	8b 02		 mov	 eax, DWORD PTR [edx]
  003a4	8d 4c 01 ff	 lea	 ecx, DWORD PTR [ecx+eax-1]
  003a8	8b 55 8c	 mov	 edx, DWORD PTR _buf$[ebp]
  003ab	89 0a		 mov	 DWORD PTR [edx], ecx

; 5871 : 			buf->y += (buf->dy + (rand() % 3) - 1);

  003ad	8b f4		 mov	 esi, esp
  003af	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  003b5	3b f4		 cmp	 esi, esp
  003b7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003bc	99		 cdq
  003bd	b9 03 00 00 00	 mov	 ecx, 3
  003c2	f7 f9		 idiv	 ecx
  003c4	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  003c7	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  003ca	03 ca		 add	 ecx, edx
  003cc	8b 55 8c	 mov	 edx, DWORD PTR _buf$[ebp]
  003cf	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  003d2	8d 4c 01 ff	 lea	 ecx, DWORD PTR [ecx+eax-1]
  003d6	8b 55 8c	 mov	 edx, DWORD PTR _buf$[ebp]
  003d9	89 4a 04	 mov	 DWORD PTR [edx+4], ecx

; 5872 : 			if (buf->cnt <= 0)

  003dc	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  003df	83 78 30 00	 cmp	 DWORD PTR [eax+48], 0
  003e3	7f 72		 jg	 SHORT $LN23@mapEffectK

; 5873 : 			{
; 5874 : 				buf->type2 = (rand() % 3);

  003e5	8b f4		 mov	 esi, esp
  003e7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  003ed	3b f4		 cmp	 esi, esp
  003ef	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003f4	99		 cdq
  003f5	b9 03 00 00 00	 mov	 ecx, 3
  003fa	f7 f9		 idiv	 ecx
  003fc	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  003ff	66 89 50 3e	 mov	 WORD PTR [eax+62], dx

; 5875 : 				buf->w = (rand() % 8) + 1;

  00403	8b f4		 mov	 esi, esp
  00405	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0040b	3b f4		 cmp	 esi, esp
  0040d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00412	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  00417	79 05		 jns	 SHORT $LN34@mapEffectK
  00419	48		 dec	 eax
  0041a	83 c8 f8	 or	 eax, -8			; fffffff8H
  0041d	40		 inc	 eax
$LN34@mapEffectK:
  0041e	83 c0 01	 add	 eax, 1
  00421	8b 4d 8c	 mov	 ecx, DWORD PTR _buf$[ebp]
  00424	89 41 28	 mov	 DWORD PTR [ecx+40], eax

; 5876 : 				buf->h = (rand() % 8) + 1;

  00427	8b f4		 mov	 esi, esp
  00429	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0042f	3b f4		 cmp	 esi, esp
  00431	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00436	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  0043b	79 05		 jns	 SHORT $LN35@mapEffectK
  0043d	48		 dec	 eax
  0043e	83 c8 f8	 or	 eax, -8			; fffffff8H
  00441	40		 inc	 eax
$LN35@mapEffectK:
  00442	83 c0 01	 add	 eax, 1
  00445	8b 4d 8c	 mov	 ecx, DWORD PTR _buf$[ebp]
  00448	89 41 2c	 mov	 DWORD PTR [ecx+44], eax

; 5877 : 				buf->cnt = 4;

  0044b	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  0044e	c7 40 30 04 00
	00 00		 mov	 DWORD PTR [eax+48], 4

; 5878 : 			}
; 5879 : 			else

  00455	eb 0f		 jmp	 SHORT $LN24@mapEffectK
$LN23@mapEffectK:

; 5880 : 				buf->cnt--;

  00457	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  0045a	8b 48 30	 mov	 ecx, DWORD PTR [eax+48]
  0045d	83 e9 01	 sub	 ecx, 1
  00460	8b 55 8c	 mov	 edx, DWORD PTR _buf$[ebp]
  00463	89 4a 30	 mov	 DWORD PTR [edx+48], ecx
$LN24@mapEffectK:

; 5881 : 			mapEffectDirHosei(&buf->x, &buf->y);

  00466	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00469	83 c0 04	 add	 eax, 4
  0046c	50		 push	 eax
  0046d	8b 4d 8c	 mov	 ecx, DWORD PTR _buf$[ebp]
  00470	51		 push	 ecx
  00471	e8 00 00 00 00	 call	 ?mapEffectDirHosei@@YAXPAH0@Z ; mapEffectDirHosei
  00476	83 c4 08	 add	 esp, 8

; 5882 : 			if (hh <= buf->y)

  00479	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  0047c	8b 4d b0	 mov	 ecx, DWORD PTR _hh$[ebp]
  0047f	3b 48 04	 cmp	 ecx, DWORD PTR [eax+4]
  00482	7f 36		 jg	 SHORT $LN22@mapEffectK

; 5883 : 			{
; 5884 : 				// ?¥hü¬?
; 5885 : 				MAP_EFFECT *buf2 = buf->next;

  00484	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00487	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  0048a	89 8d 68 ff ff
	ff		 mov	 DWORD PTR _buf2$2[ebp], ecx

; 5886 : 				delMapEffectBuf(buf);

  00490	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  00493	50		 push	 eax
  00494	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  00499	83 c4 04	 add	 esp, 4

; 5887 : 				buf = buf2;

  0049c	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _buf2$2[ebp]
  004a2	89 45 8c	 mov	 DWORD PTR _buf$[ebp], eax

; 5888 : 				mapEffectKamiFubukiCnt--;

  004a5	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectKamiFubukiCnt@@3FA ; mapEffectKamiFubukiCnt
  004ab	66 83 e8 01	 sub	 ax, 1
  004af	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectKamiFubukiCnt@@3FA, ax ; mapEffectKamiFubukiCnt

; 5889 : 				continue;

  004b5	e9 ac fe ff ff	 jmp	 $LN6@mapEffectK
$LN22@mapEffectK:

; 5890 : 			}
; 5891 : 		}
; 5892 : 		buf = buf->next;

  004ba	8b 45 8c	 mov	 eax, DWORD PTR _buf$[ebp]
  004bd	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  004c0	89 4d 8c	 mov	 DWORD PTR _buf$[ebp], ecx

; 5893 : 		mapEffectDrawFlag = 1;

  004c3	b8 01 00 00 00	 mov	 eax, 1
  004c8	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag

; 5894 : 		i++;

  004ce	8b 45 a4	 mov	 eax, DWORD PTR _i$[ebp]
  004d1	83 c0 01	 add	 eax, 1
  004d4	89 45 a4	 mov	 DWORD PTR _i$[ebp], eax

; 5895 : 	}

  004d7	e9 8a fe ff ff	 jmp	 $LN6@mapEffectK
$LN1@mapEffectK:

; 5896 : }

  004dc	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  004df	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  004e6	59		 pop	 ecx
  004e7	5f		 pop	 edi
  004e8	5e		 pop	 esi
  004e9	5b		 pop	 ebx
  004ea	81 c4 5c 01 00
	00		 add	 esp, 348		; 0000015cH
  004f0	3b ec		 cmp	 ebp, esp
  004f2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004f7	8b e5		 mov	 esp, ebp
  004f9	5d		 pop	 ebp
  004fa	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?mapEffectKamiFubuki@@YAXXZ$0:
  00000	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectKamiFubuki@@YAXXZ@4HA
  00005	e8 00 00 00 00	 call	 __Init_thread_abort
  0000a	59		 pop	 ecx
  0000b	c3		 ret	 0
__ehhandler$?mapEffectKamiFubuki@@YAXXZ:
  0000c	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00010	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00013	8b 8a a0 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-352]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?mapEffectKamiFubuki@@YAXXZ
  00025	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?mapEffectKamiFubuki@@YAXXZ ENDP			; mapEffectKamiFubuki
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectFallingStar@@YAXXZ
_TEXT	SEGMENT
tv293 = -244						; size = 4
tv252 = -244						; size = 4
tv168 = -244						; size = 4
tv79 = -244						; size = 4
_i$1 = -44						; size = 4
_i$2 = -32						; size = 4
_i$3 = -20						; size = 4
_i$4 = -8						; size = 4
?mapEffectFallingStar@@YAXXZ PROC			; mapEffectFallingStar, COMDAT

; 5352 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f4 00 00
	00		 sub	 esp, 244		; 000000f4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 0c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-244]
  00012	b9 3d 00 00 00	 mov	 ecx, 61			; 0000003dH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5353 : 	static MAP_EFFECT *buf = NULL;
; 5354 : 
; 5355 : 	if (mapEffectFallingStarFlag != 0 && (SaTime.hour < EVENING_TO_NIGHT || NIGHT_TO_MORNING < SaTime.hour))

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectFallingStarFlag@@3FA ; mapEffectFallingStarFlag
  00025	85 c0		 test	 eax, eax
  00027	74 43		 je	 SHORT $LN10@mapEffectF
  00029	81 3d 08 00 00
	00 2c 01 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 300 ; 0000012cH
  00033	7c 0c		 jl	 SHORT $LN11@mapEffectF
  00035	81 3d 08 00 00
	00 bc 02 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 700 ; 000002bcH
  0003f	7e 2b		 jle	 SHORT $LN10@mapEffectF
$LN11@mapEffectF:

; 5356 : 	{
; 5357 : 		mapEffectFallingStarFlag = 0;

  00041	33 c0		 xor	 eax, eax
  00043	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectFallingStarFlag@@3FA, ax ; mapEffectFallingStarFlag

; 5358 : 		mapEffectFallingStarTime = (rand() % 300) + 400;

  00049	8b f4		 mov	 esi, esp
  0004b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00051	3b f4		 cmp	 esi, esp
  00053	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00058	99		 cdq
  00059	b9 2c 01 00 00	 mov	 ecx, 300		; 0000012cH
  0005e	f7 f9		 idiv	 ecx
  00060	81 c2 90 01 00
	00		 add	 edx, 400		; 00000190H
  00066	89 15 00 00 00
	00		 mov	 DWORD PTR ?mapEffectFallingStarTime@@3HA, edx ; mapEffectFallingStarTime
$LN10@mapEffectF:

; 5359 : 	}
; 5360 : 	if (!mapEffectFallingStarFlag && mapEffectFallingStarTime == SaTime.hour)

  0006c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectFallingStarFlag@@3FA ; mapEffectFallingStarFlag
  00073	85 c0		 test	 eax, eax
  00075	0f 85 59 08 00
	00		 jne	 $LN12@mapEffectF
  0007b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapEffectFallingStarTime@@3HA ; mapEffectFallingStarTime
  00080	3b 05 08 00 00
	00		 cmp	 eax, DWORD PTR ?SaTime@@3UtagLSTIME@@A+8
  00086	0f 85 48 08 00
	00		 jne	 $LN12@mapEffectF

; 5361 : 	{
; 5362 : 		if (nowFloor == 10920)

  0008c	81 3d 00 00 00
	00 a8 2a 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 10920 ; nowFloor, 00002aa8H
  00096	0f 85 da 01 00
	00		 jne	 $LN13@mapEffectF

; 5363 : 		{
; 5364 : 			buf = getMapEffectBuf();

  0009c	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  000a1	a3 00 00 00 00	 mov	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, eax

; 5365 : 			if (buf)

  000a6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, 0
  000ad	0f 84 b3 01 00
	00		 je	 $LN15@mapEffectF

; 5366 : 			{
; 5367 : 				int i = (rand() % 5);

  000b3	8b f4		 mov	 esi, esp
  000b5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  000bb	3b f4		 cmp	 esi, esp
  000bd	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c2	99		 cdq
  000c3	b9 05 00 00 00	 mov	 ecx, 5
  000c8	f7 f9		 idiv	 ecx
  000ca	89 55 f8	 mov	 DWORD PTR _i$4[ebp], edx

; 5368 : 
; 5369 : 				switch (i)

  000cd	8b 45 f8	 mov	 eax, DWORD PTR _i$4[ebp]
  000d0	89 85 0c ff ff
	ff		 mov	 DWORD PTR tv79[ebp], eax
  000d6	83 bd 0c ff ff
	ff 04		 cmp	 DWORD PTR tv79[ebp], 4
  000dd	0f 87 47 01 00
	00		 ja	 $LN2@mapEffectF
  000e3	8b 8d 0c ff ff
	ff		 mov	 ecx, DWORD PTR tv79[ebp]
  000e9	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN59@mapEffectF[ecx*4]
$LN16@mapEffectF:

; 5370 : 				{
; 5371 : 					case 0:
; 5372 : 						setEffectStar(buf, 76, 6, 0, 0, 0);

  000f0	6a 00		 push	 0
  000f2	6a 00		 push	 0
  000f4	6a 00		 push	 0
  000f6	6a 06		 push	 6
  000f8	6a 4c		 push	 76			; 0000004cH
  000fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  000ff	50		 push	 eax
  00100	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00105	83 c4 18	 add	 esp, 24			; 00000018H

; 5373 : 						buf->dx = 10;

  00108	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0010d	c7 40 08 0a 00
	00 00		 mov	 DWORD PTR [eax+8], 10	; 0000000aH

; 5374 : 						buf->dy = 6;

  00114	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00119	c7 40 0c 06 00
	00 00		 mov	 DWORD PTR [eax+12], 6

; 5375 : 						buf->ey = 120;

  00120	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00125	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5376 : 						break;

  0012c	e9 f9 00 00 00	 jmp	 $LN2@mapEffectF
$LN17@mapEffectF:

; 5377 : 					case 1:
; 5378 : 						setEffectStar(buf, 77, 7, 0, 0, 0);

  00131	6a 00		 push	 0
  00133	6a 00		 push	 0
  00135	6a 00		 push	 0
  00137	6a 07		 push	 7
  00139	6a 4d		 push	 77			; 0000004dH
  0013b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00140	50		 push	 eax
  00141	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00146	83 c4 18	 add	 esp, 24			; 00000018H

; 5379 : 						buf->dx = 8;

  00149	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0014e	c7 40 08 08 00
	00 00		 mov	 DWORD PTR [eax+8], 8

; 5380 : 						buf->dy = 7;

  00155	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0015a	c7 40 0c 07 00
	00 00		 mov	 DWORD PTR [eax+12], 7

; 5381 : 						buf->ey = 120;

  00161	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00166	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5382 : 						break;

  0016d	e9 b8 00 00 00	 jmp	 $LN2@mapEffectF
$LN18@mapEffectF:

; 5383 : 					case 2:
; 5384 : 						setEffectStar(buf, 80, 13, 0, 0, 0);

  00172	6a 00		 push	 0
  00174	6a 00		 push	 0
  00176	6a 00		 push	 0
  00178	6a 0d		 push	 13			; 0000000dH
  0017a	6a 50		 push	 80			; 00000050H
  0017c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00181	50		 push	 eax
  00182	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00187	83 c4 18	 add	 esp, 24			; 00000018H

; 5385 : 						buf->dx = -10;

  0018a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0018f	c7 40 08 f6 ff
	ff ff		 mov	 DWORD PTR [eax+8], -10	; fffffff6H

; 5386 : 						buf->dy = 9;

  00196	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0019b	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 5387 : 						buf->ey = 120;

  001a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  001a7	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5388 : 						break;

  001ae	eb 7a		 jmp	 SHORT $LN2@mapEffectF
$LN19@mapEffectF:

; 5389 : 					case 3:
; 5390 : 						setEffectStar(buf, 84, 19, 0, 0, 0);

  001b0	6a 00		 push	 0
  001b2	6a 00		 push	 0
  001b4	6a 00		 push	 0
  001b6	6a 13		 push	 19			; 00000013H
  001b8	6a 54		 push	 84			; 00000054H
  001ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  001bf	50		 push	 eax
  001c0	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  001c5	83 c4 18	 add	 esp, 24			; 00000018H

; 5391 : 						buf->dx = 12;

  001c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  001cd	c7 40 08 0c 00
	00 00		 mov	 DWORD PTR [eax+8], 12	; 0000000cH

; 5392 : 						buf->dy = 7;

  001d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  001d9	c7 40 0c 07 00
	00 00		 mov	 DWORD PTR [eax+12], 7

; 5393 : 						buf->ey = 90;

  001e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  001e5	c7 40 24 5a 00
	00 00		 mov	 DWORD PTR [eax+36], 90	; 0000005aH

; 5394 : 						break;

  001ec	eb 3c		 jmp	 SHORT $LN2@mapEffectF
$LN20@mapEffectF:

; 5395 : 					case 4:
; 5396 : 						setEffectStar(buf, 95, 26, 0, 0, 0);

  001ee	6a 00		 push	 0
  001f0	6a 00		 push	 0
  001f2	6a 00		 push	 0
  001f4	6a 1a		 push	 26			; 0000001aH
  001f6	6a 5f		 push	 95			; 0000005fH
  001f8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  001fd	50		 push	 eax
  001fe	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00203	83 c4 18	 add	 esp, 24			; 00000018H

; 5397 : 						buf->dx = -10;

  00206	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0020b	c7 40 08 f6 ff
	ff ff		 mov	 DWORD PTR [eax+8], -10	; fffffff6H

; 5398 : 						buf->dy = 7;

  00212	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00217	c7 40 0c 07 00
	00 00		 mov	 DWORD PTR [eax+12], 7

; 5399 : 						buf->ey = 120;

  0021e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00223	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H
$LN2@mapEffectF:

; 5400 : 						break;
; 5401 : 				}
; 5402 : 				// þÑ?ûï?
; 5403 : 				if ((rand() % 10) < 6)

  0022a	8b f4		 mov	 esi, esp
  0022c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00232	3b f4		 cmp	 esi, esp
  00234	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00239	99		 cdq
  0023a	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  0023f	f7 f9		 idiv	 ecx
  00241	83 fa 06	 cmp	 edx, 6
  00244	7d 11		 jge	 SHORT $LN21@mapEffectF

; 5404 : 					buf->mode = 8;

  00246	b8 08 00 00 00	 mov	 eax, 8
  0024b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00251	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5405 : 				else

  00255	eb 0f		 jmp	 SHORT $LN15@mapEffectF
$LN21@mapEffectF:

; 5406 : 					buf->mode = 1;

  00257	b8 01 00 00 00	 mov	 eax, 1
  0025c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00262	66 89 41 40	 mov	 WORD PTR [ecx+64], ax
$LN15@mapEffectF:

; 5407 : 			}
; 5408 : 			mapEffectFallingStarFlag = 1;

  00266	b8 01 00 00 00	 mov	 eax, 1
  0026b	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectFallingStarFlag@@3FA, ax ; mapEffectFallingStarFlag
  00271	e9 5e 06 00 00	 jmp	 $LN12@mapEffectF
$LN13@mapEffectF:

; 5409 : 		}
; 5410 : 		else if (nowFloor == 20105)

  00276	81 3d 00 00 00
	00 89 4e 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 20105 ; nowFloor, 00004e89H
  00280	0f 85 a8 02 00
	00		 jne	 $LN23@mapEffectF

; 5411 : 		{
; 5412 : 			buf = getMapEffectBuf();

  00286	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0028b	a3 00 00 00 00	 mov	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, eax

; 5413 : 			if (buf)

  00290	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, 0
  00297	0f 84 81 02 00
	00		 je	 $LN25@mapEffectF

; 5414 : 			{
; 5415 : 				int i = (rand() % 8);

  0029d	8b f4		 mov	 esi, esp
  0029f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002a5	3b f4		 cmp	 esi, esp
  002a7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002ac	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  002b1	79 05		 jns	 SHORT $LN58@mapEffectF
  002b3	48		 dec	 eax
  002b4	83 c8 f8	 or	 eax, -8			; fffffff8H
  002b7	40		 inc	 eax
$LN58@mapEffectF:
  002b8	89 45 ec	 mov	 DWORD PTR _i$3[ebp], eax

; 5416 : 
; 5417 : 				i = 7;

  002bb	c7 45 ec 07 00
	00 00		 mov	 DWORD PTR _i$3[ebp], 7

; 5418 : 				switch (i)

  002c2	8b 45 ec	 mov	 eax, DWORD PTR _i$3[ebp]
  002c5	89 85 0c ff ff
	ff		 mov	 DWORD PTR tv168[ebp], eax
  002cb	83 bd 0c ff ff
	ff 07		 cmp	 DWORD PTR tv168[ebp], 7
  002d2	0f 87 0a 02 00
	00		 ja	 $LN4@mapEffectF
  002d8	8b 8d 0c ff ff
	ff		 mov	 ecx, DWORD PTR tv168[ebp]
  002de	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN60@mapEffectF[ecx*4]
$LN26@mapEffectF:

; 5419 : 				{
; 5420 : 					case 0:
; 5421 : 						setEffectStar(buf, 22, 9, 0, 0, 0);

  002e5	6a 00		 push	 0
  002e7	6a 00		 push	 0
  002e9	6a 00		 push	 0
  002eb	6a 09		 push	 9
  002ed	6a 16		 push	 22			; 00000016H
  002ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  002f4	50		 push	 eax
  002f5	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  002fa	83 c4 18	 add	 esp, 24			; 00000018H

; 5422 : 						buf->dx = 10;

  002fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00302	c7 40 08 0a 00
	00 00		 mov	 DWORD PTR [eax+8], 10	; 0000000aH

; 5423 : 						buf->dy = 7;

  00309	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0030e	c7 40 0c 07 00
	00 00		 mov	 DWORD PTR [eax+12], 7

; 5424 : 						buf->ey = 120;

  00315	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0031a	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5425 : 						break;

  00321	e9 bc 01 00 00	 jmp	 $LN4@mapEffectF
$LN27@mapEffectF:

; 5426 : 					case 1:
; 5427 : 						setEffectStar(buf, 27, 15, 0, 0, 0);

  00326	6a 00		 push	 0
  00328	6a 00		 push	 0
  0032a	6a 00		 push	 0
  0032c	6a 0f		 push	 15			; 0000000fH
  0032e	6a 1b		 push	 27			; 0000001bH
  00330	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00335	50		 push	 eax
  00336	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0033b	83 c4 18	 add	 esp, 24			; 00000018H

; 5428 : 						buf->dx = -8;

  0033e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00343	c7 40 08 f8 ff
	ff ff		 mov	 DWORD PTR [eax+8], -8	; fffffff8H

; 5429 : 						buf->dy = 9;

  0034a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0034f	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 5430 : 						buf->ey = 120;

  00356	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0035b	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5431 : 						break;

  00362	e9 7b 01 00 00	 jmp	 $LN4@mapEffectF
$LN28@mapEffectF:

; 5432 : 					case 2:
; 5433 : 						setEffectStar(buf, 31, 14, 0, 0, 0);

  00367	6a 00		 push	 0
  00369	6a 00		 push	 0
  0036b	6a 00		 push	 0
  0036d	6a 0e		 push	 14			; 0000000eH
  0036f	6a 1f		 push	 31			; 0000001fH
  00371	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00376	50		 push	 eax
  00377	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0037c	83 c4 18	 add	 esp, 24			; 00000018H

; 5434 : 						buf->dx = -10;

  0037f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00384	c7 40 08 f6 ff
	ff ff		 mov	 DWORD PTR [eax+8], -10	; fffffff6H

; 5435 : 						buf->dy = 6;

  0038b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00390	c7 40 0c 06 00
	00 00		 mov	 DWORD PTR [eax+12], 6

; 5436 : 						buf->ey = 120;

  00397	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0039c	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5437 : 						break;

  003a3	e9 3a 01 00 00	 jmp	 $LN4@mapEffectF
$LN29@mapEffectF:

; 5438 : 					case 3:
; 5439 : 						setEffectStar(buf, 33, 18, 0, 0, 0);

  003a8	6a 00		 push	 0
  003aa	6a 00		 push	 0
  003ac	6a 00		 push	 0
  003ae	6a 12		 push	 18			; 00000012H
  003b0	6a 21		 push	 33			; 00000021H
  003b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  003b7	50		 push	 eax
  003b8	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  003bd	83 c4 18	 add	 esp, 24			; 00000018H

; 5440 : 						buf->dx = 12;

  003c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  003c5	c7 40 08 0c 00
	00 00		 mov	 DWORD PTR [eax+8], 12	; 0000000cH

; 5441 : 						buf->dy = 8;

  003cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  003d1	c7 40 0c 08 00
	00 00		 mov	 DWORD PTR [eax+12], 8

; 5442 : 						buf->ey = 120;

  003d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  003dd	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5443 : 						break;

  003e4	e9 f9 00 00 00	 jmp	 $LN4@mapEffectF
$LN30@mapEffectF:

; 5444 : 					case 4:
; 5445 : 						setEffectStar(buf, 38, 22, 0, 0, 0);

  003e9	6a 00		 push	 0
  003eb	6a 00		 push	 0
  003ed	6a 00		 push	 0
  003ef	6a 16		 push	 22			; 00000016H
  003f1	6a 26		 push	 38			; 00000026H
  003f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  003f8	50		 push	 eax
  003f9	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  003fe	83 c4 18	 add	 esp, 24			; 00000018H

; 5446 : 						buf->dx = -11;

  00401	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00406	c7 40 08 f5 ff
	ff ff		 mov	 DWORD PTR [eax+8], -11	; fffffff5H

; 5447 : 						buf->dy = 7;

  0040d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00412	c7 40 0c 07 00
	00 00		 mov	 DWORD PTR [eax+12], 7

; 5448 : 						buf->ey = 120;

  00419	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0041e	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5449 : 						break;

  00425	e9 b8 00 00 00	 jmp	 $LN4@mapEffectF
$LN31@mapEffectF:

; 5450 : 					case 5:
; 5451 : 						setEffectStar(buf, 43, 27, 0, 0, 0);

  0042a	6a 00		 push	 0
  0042c	6a 00		 push	 0
  0042e	6a 00		 push	 0
  00430	6a 1b		 push	 27			; 0000001bH
  00432	6a 2b		 push	 43			; 0000002bH
  00434	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00439	50		 push	 eax
  0043a	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0043f	83 c4 18	 add	 esp, 24			; 00000018H

; 5452 : 						buf->dx = -9;

  00442	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00447	c7 40 08 f7 ff
	ff ff		 mov	 DWORD PTR [eax+8], -9	; fffffff7H

; 5453 : 						buf->dy = 6;

  0044e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00453	c7 40 0c 06 00
	00 00		 mov	 DWORD PTR [eax+12], 6

; 5454 : 						buf->ey = 120;

  0045a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0045f	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5455 : 						break;

  00466	eb 7a		 jmp	 SHORT $LN4@mapEffectF
$LN32@mapEffectF:

; 5456 : 					case 6:
; 5457 : 						setEffectStar(buf, 41, 29, 0, 0, 0);

  00468	6a 00		 push	 0
  0046a	6a 00		 push	 0
  0046c	6a 00		 push	 0
  0046e	6a 1d		 push	 29			; 0000001dH
  00470	6a 29		 push	 41			; 00000029H
  00472	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00477	50		 push	 eax
  00478	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0047d	83 c4 18	 add	 esp, 24			; 00000018H

; 5458 : 						buf->dx = 12;

  00480	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00485	c7 40 08 0c 00
	00 00		 mov	 DWORD PTR [eax+8], 12	; 0000000cH

; 5459 : 						buf->dy = 6;

  0048c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00491	c7 40 0c 06 00
	00 00		 mov	 DWORD PTR [eax+12], 6

; 5460 : 						buf->ey = 120;

  00498	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0049d	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5461 : 						break;

  004a4	eb 3c		 jmp	 SHORT $LN4@mapEffectF
$LN33@mapEffectF:

; 5462 : 					case 7:
; 5463 : 						setEffectStar(buf, 43, 33, 0, 0, 0);

  004a6	6a 00		 push	 0
  004a8	6a 00		 push	 0
  004aa	6a 00		 push	 0
  004ac	6a 21		 push	 33			; 00000021H
  004ae	6a 2b		 push	 43			; 0000002bH
  004b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  004b5	50		 push	 eax
  004b6	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  004bb	83 c4 18	 add	 esp, 24			; 00000018H

; 5464 : 						buf->dx = 14;

  004be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  004c3	c7 40 08 0e 00
	00 00		 mov	 DWORD PTR [eax+8], 14	; 0000000eH

; 5465 : 						buf->dy = 8;

  004ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  004cf	c7 40 0c 08 00
	00 00		 mov	 DWORD PTR [eax+12], 8

; 5466 : 						buf->ey = 80;

  004d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  004db	c7 40 24 50 00
	00 00		 mov	 DWORD PTR [eax+36], 80	; 00000050H
$LN4@mapEffectF:

; 5467 : 						break;
; 5468 : 				}
; 5469 : 				// þÑ?ûï?
; 5470 : 				if ((rand() % 10) < 6)

  004e2	8b f4		 mov	 esi, esp
  004e4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  004ea	3b f4		 cmp	 esi, esp
  004ec	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004f1	99		 cdq
  004f2	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  004f7	f7 f9		 idiv	 ecx
  004f9	83 fa 06	 cmp	 edx, 6
  004fc	7d 11		 jge	 SHORT $LN34@mapEffectF

; 5471 : 					buf->mode = 8;

  004fe	b8 08 00 00 00	 mov	 eax, 8
  00503	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00509	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5472 : 				else

  0050d	eb 0f		 jmp	 SHORT $LN25@mapEffectF
$LN34@mapEffectF:

; 5473 : 					buf->mode = 1;

  0050f	b8 01 00 00 00	 mov	 eax, 1
  00514	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0051a	66 89 41 40	 mov	 WORD PTR [ecx+64], ax
$LN25@mapEffectF:

; 5474 : 			}
; 5475 : 			mapEffectFallingStarFlag = 1;

  0051e	b8 01 00 00 00	 mov	 eax, 1
  00523	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectFallingStarFlag@@3FA, ax ; mapEffectFallingStarFlag
  00529	e9 a6 03 00 00	 jmp	 $LN12@mapEffectF
$LN23@mapEffectF:

; 5476 : 		}
; 5477 : 		else if (nowFloor == 1200)

  0052e	81 3d 00 00 00
	00 b0 04 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 1200 ; nowFloor, 000004b0H
  00538	0f 85 69 01 00
	00		 jne	 $LN36@mapEffectF

; 5478 : 		{
; 5479 : 			buf = getMapEffectBuf();

  0053e	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00543	a3 00 00 00 00	 mov	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, eax

; 5480 : 			if (buf)

  00548	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, 0
  0054f	0f 84 42 01 00
	00		 je	 $LN38@mapEffectF

; 5481 : 			{
; 5482 : 				int i = (rand() % 3);

  00555	8b f4		 mov	 esi, esp
  00557	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0055d	3b f4		 cmp	 esi, esp
  0055f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00564	99		 cdq
  00565	b9 03 00 00 00	 mov	 ecx, 3
  0056a	f7 f9		 idiv	 ecx
  0056c	89 55 e0	 mov	 DWORD PTR _i$2[ebp], edx

; 5483 : 
; 5484 : 				i = 2;

  0056f	c7 45 e0 02 00
	00 00		 mov	 DWORD PTR _i$2[ebp], 2

; 5485 : 				switch (i)

  00576	8b 45 e0	 mov	 eax, DWORD PTR _i$2[ebp]
  00579	89 85 0c ff ff
	ff		 mov	 DWORD PTR tv252[ebp], eax
  0057f	83 bd 0c ff ff
	ff 00		 cmp	 DWORD PTR tv252[ebp], 0
  00586	74 1b		 je	 SHORT $LN39@mapEffectF
  00588	83 bd 0c ff ff
	ff 01		 cmp	 DWORD PTR tv252[ebp], 1
  0058f	74 50		 je	 SHORT $LN40@mapEffectF
  00591	83 bd 0c ff ff
	ff 02		 cmp	 DWORD PTR tv252[ebp], 2
  00598	0f 84 81 00 00
	00		 je	 $LN41@mapEffectF
  0059e	e9 b8 00 00 00	 jmp	 $LN6@mapEffectF
$LN39@mapEffectF:

; 5486 : 				{
; 5487 : 					case 0:
; 5488 : 						setEffectStar(buf, 63, 26, 0, 0, 0);

  005a3	6a 00		 push	 0
  005a5	6a 00		 push	 0
  005a7	6a 00		 push	 0
  005a9	6a 1a		 push	 26			; 0000001aH
  005ab	6a 3f		 push	 63			; 0000003fH
  005ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  005b2	50		 push	 eax
  005b3	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  005b8	83 c4 18	 add	 esp, 24			; 00000018H

; 5489 : 						buf->dx = 10;

  005bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  005c0	c7 40 08 0a 00
	00 00		 mov	 DWORD PTR [eax+8], 10	; 0000000aH

; 5490 : 						buf->dy = 7;

  005c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  005cc	c7 40 0c 07 00
	00 00		 mov	 DWORD PTR [eax+12], 7

; 5491 : 						buf->ey = 80;

  005d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  005d8	c7 40 24 50 00
	00 00		 mov	 DWORD PTR [eax+36], 80	; 00000050H

; 5492 : 						break;

  005df	eb 7a		 jmp	 SHORT $LN6@mapEffectF
$LN40@mapEffectF:

; 5493 : 					case 1:
; 5494 : 						setEffectStar(buf, 66, 30, 0, 0, 0);

  005e1	6a 00		 push	 0
  005e3	6a 00		 push	 0
  005e5	6a 00		 push	 0
  005e7	6a 1e		 push	 30			; 0000001eH
  005e9	6a 42		 push	 66			; 00000042H
  005eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  005f0	50		 push	 eax
  005f1	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  005f6	83 c4 18	 add	 esp, 24			; 00000018H

; 5495 : 						buf->dx = -10;

  005f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  005fe	c7 40 08 f6 ff
	ff ff		 mov	 DWORD PTR [eax+8], -10	; fffffff6H

; 5496 : 						buf->dy = 6;

  00605	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0060a	c7 40 0c 06 00
	00 00		 mov	 DWORD PTR [eax+12], 6

; 5497 : 						buf->ey = 70;

  00611	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00616	c7 40 24 46 00
	00 00		 mov	 DWORD PTR [eax+36], 70	; 00000046H

; 5498 : 						break;

  0061d	eb 3c		 jmp	 SHORT $LN6@mapEffectF
$LN41@mapEffectF:

; 5499 : 					case 2:
; 5500 : 						setEffectStar(buf, 70, 35, 0, 0, 0);

  0061f	6a 00		 push	 0
  00621	6a 00		 push	 0
  00623	6a 00		 push	 0
  00625	6a 23		 push	 35			; 00000023H
  00627	6a 46		 push	 70			; 00000046H
  00629	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0062e	50		 push	 eax
  0062f	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00634	83 c4 18	 add	 esp, 24			; 00000018H

; 5501 : 						buf->dx = 8;

  00637	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0063c	c7 40 08 08 00
	00 00		 mov	 DWORD PTR [eax+8], 8

; 5502 : 						buf->dy = 6;

  00643	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00648	c7 40 0c 06 00
	00 00		 mov	 DWORD PTR [eax+12], 6

; 5503 : 						buf->ey = 40;

  0064f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00654	c7 40 24 28 00
	00 00		 mov	 DWORD PTR [eax+36], 40	; 00000028H
$LN6@mapEffectF:

; 5504 : 						break;
; 5505 : 				}
; 5506 : 				// þÑ?ûï?
; 5507 : 				if ((rand() % 10) < 6)

  0065b	8b f4		 mov	 esi, esp
  0065d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00663	3b f4		 cmp	 esi, esp
  00665	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0066a	99		 cdq
  0066b	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  00670	f7 f9		 idiv	 ecx
  00672	83 fa 06	 cmp	 edx, 6
  00675	7d 11		 jge	 SHORT $LN42@mapEffectF

; 5508 : 					buf->mode = 8;

  00677	b8 08 00 00 00	 mov	 eax, 8
  0067c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00682	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5509 : 				else

  00686	eb 0f		 jmp	 SHORT $LN38@mapEffectF
$LN42@mapEffectF:

; 5510 : 					buf->mode = 1;

  00688	b8 01 00 00 00	 mov	 eax, 1
  0068d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00693	66 89 41 40	 mov	 WORD PTR [ecx+64], ax
$LN38@mapEffectF:

; 5511 : 			}
; 5512 : 			mapEffectFallingStarFlag = 1;

  00697	b8 01 00 00 00	 mov	 eax, 1
  0069c	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectFallingStarFlag@@3FA, ax ; mapEffectFallingStarFlag
  006a2	e9 2d 02 00 00	 jmp	 $LN12@mapEffectF
$LN36@mapEffectF:

; 5513 : 		}
; 5514 : 		else if (nowFloor == 20406)

  006a7	81 3d 00 00 00
	00 b6 4f 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 20406 ; nowFloor, 00004fb6H
  006b1	0f 85 1d 02 00
	00		 jne	 $LN12@mapEffectF

; 5515 : 		{
; 5516 : 			buf = getMapEffectBuf();

  006b7	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  006bc	a3 00 00 00 00	 mov	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, eax

; 5517 : 			if (buf)

  006c1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, 0
  006c8	0f 84 fb 01 00
	00		 je	 $LN45@mapEffectF

; 5518 : 			{
; 5519 : 				int i = (rand() % 6);

  006ce	8b f4		 mov	 esi, esp
  006d0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  006d6	3b f4		 cmp	 esi, esp
  006d8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006dd	99		 cdq
  006de	b9 06 00 00 00	 mov	 ecx, 6
  006e3	f7 f9		 idiv	 ecx
  006e5	89 55 d4	 mov	 DWORD PTR _i$1[ebp], edx

; 5520 : 
; 5521 : 				i = 5;

  006e8	c7 45 d4 05 00
	00 00		 mov	 DWORD PTR _i$1[ebp], 5

; 5522 : 				switch (i)

  006ef	8b 45 d4	 mov	 eax, DWORD PTR _i$1[ebp]
  006f2	89 85 0c ff ff
	ff		 mov	 DWORD PTR tv293[ebp], eax
  006f8	83 bd 0c ff ff
	ff 05		 cmp	 DWORD PTR tv293[ebp], 5
  006ff	0f 87 88 01 00
	00		 ja	 $LN8@mapEffectF
  00705	8b 8d 0c ff ff
	ff		 mov	 ecx, DWORD PTR tv293[ebp]
  0070b	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN61@mapEffectF[ecx*4]
$LN46@mapEffectF:

; 5523 : 				{
; 5524 : 					case 0:
; 5525 : 						setEffectStar(buf, 20, 11, 0, 0, 0);

  00712	6a 00		 push	 0
  00714	6a 00		 push	 0
  00716	6a 00		 push	 0
  00718	6a 0b		 push	 11			; 0000000bH
  0071a	6a 14		 push	 20			; 00000014H
  0071c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00721	50		 push	 eax
  00722	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00727	83 c4 18	 add	 esp, 24			; 00000018H

; 5526 : 						buf->dx = -12;

  0072a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0072f	c7 40 08 f4 ff
	ff ff		 mov	 DWORD PTR [eax+8], -12	; fffffff4H

; 5527 : 						buf->dy = 9;

  00736	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0073b	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 5528 : 						buf->ey = 80;

  00742	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00747	c7 40 24 50 00
	00 00		 mov	 DWORD PTR [eax+36], 80	; 00000050H

; 5529 : 						break;

  0074e	e9 3a 01 00 00	 jmp	 $LN8@mapEffectF
$LN47@mapEffectF:

; 5530 : 					case 1:
; 5531 : 						setEffectStar(buf, 23, 11, 0, 0, 0);

  00753	6a 00		 push	 0
  00755	6a 00		 push	 0
  00757	6a 00		 push	 0
  00759	6a 0b		 push	 11			; 0000000bH
  0075b	6a 17		 push	 23			; 00000017H
  0075d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00762	50		 push	 eax
  00763	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00768	83 c4 18	 add	 esp, 24			; 00000018H

; 5532 : 						buf->dx = 10;

  0076b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00770	c7 40 08 0a 00
	00 00		 mov	 DWORD PTR [eax+8], 10	; 0000000aH

; 5533 : 						buf->dy = 8;

  00777	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0077c	c7 40 0c 08 00
	00 00		 mov	 DWORD PTR [eax+12], 8

; 5534 : 						buf->ey = 120;

  00783	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00788	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5535 : 						break;

  0078f	e9 f9 00 00 00	 jmp	 $LN8@mapEffectF
$LN48@mapEffectF:

; 5536 : 					case 2:
; 5537 : 						setEffectStar(buf, 32, 14, 0, 0, 0);

  00794	6a 00		 push	 0
  00796	6a 00		 push	 0
  00798	6a 00		 push	 0
  0079a	6a 0e		 push	 14			; 0000000eH
  0079c	6a 20		 push	 32			; 00000020H
  0079e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  007a3	50		 push	 eax
  007a4	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  007a9	83 c4 18	 add	 esp, 24			; 00000018H

; 5538 : 						buf->dx = -9;

  007ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  007b1	c7 40 08 f7 ff
	ff ff		 mov	 DWORD PTR [eax+8], -9	; fffffff7H

; 5539 : 						buf->dy = 6;

  007b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  007bd	c7 40 0c 06 00
	00 00		 mov	 DWORD PTR [eax+12], 6

; 5540 : 						buf->ey = 120;

  007c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  007c9	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5541 : 						break;

  007d0	e9 b8 00 00 00	 jmp	 $LN8@mapEffectF
$LN49@mapEffectF:

; 5542 : 					case 3:
; 5543 : 						setEffectStar(buf, 36, 20, 0, 0, 0);

  007d5	6a 00		 push	 0
  007d7	6a 00		 push	 0
  007d9	6a 00		 push	 0
  007db	6a 14		 push	 20			; 00000014H
  007dd	6a 24		 push	 36			; 00000024H
  007df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  007e4	50		 push	 eax
  007e5	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  007ea	83 c4 18	 add	 esp, 24			; 00000018H

; 5544 : 						buf->dx = -10;

  007ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  007f2	c7 40 08 f6 ff
	ff ff		 mov	 DWORD PTR [eax+8], -10	; fffffff6H

; 5545 : 						buf->dy = 9;

  007f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  007fe	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 5546 : 						buf->ey = 120;

  00805	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0080a	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5547 : 						break;

  00811	eb 7a		 jmp	 SHORT $LN8@mapEffectF
$LN50@mapEffectF:

; 5548 : 					case 4:
; 5549 : 						setEffectStar(buf, 41, 24, 0, 0, 0);

  00813	6a 00		 push	 0
  00815	6a 00		 push	 0
  00817	6a 00		 push	 0
  00819	6a 18		 push	 24			; 00000018H
  0081b	6a 29		 push	 41			; 00000029H
  0081d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00822	50		 push	 eax
  00823	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00828	83 c4 18	 add	 esp, 24			; 00000018H

; 5550 : 						buf->dx = 11;

  0082b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00830	c7 40 08 0b 00
	00 00		 mov	 DWORD PTR [eax+8], 11	; 0000000bH

; 5551 : 						buf->dy = 7;

  00837	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0083c	c7 40 0c 07 00
	00 00		 mov	 DWORD PTR [eax+12], 7

; 5552 : 						buf->ey = 120;

  00843	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00848	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H

; 5553 : 						break;

  0084f	eb 3c		 jmp	 SHORT $LN8@mapEffectF
$LN51@mapEffectF:

; 5554 : 					case 5:
; 5555 : 						setEffectStar(buf, 44, 32, 0, 0, 0);

  00851	6a 00		 push	 0
  00853	6a 00		 push	 0
  00855	6a 00		 push	 0
  00857	6a 20		 push	 32			; 00000020H
  00859	6a 2c		 push	 44			; 0000002cH
  0085b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00860	50		 push	 eax
  00861	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00866	83 c4 18	 add	 esp, 24			; 00000018H

; 5556 : 						buf->dx = 10;

  00869	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0086e	c7 40 08 0a 00
	00 00		 mov	 DWORD PTR [eax+8], 10	; 0000000aH

; 5557 : 						buf->dy = 8;

  00875	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0087a	c7 40 0c 08 00
	00 00		 mov	 DWORD PTR [eax+12], 8

; 5558 : 						buf->ey = 120;

  00881	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00886	c7 40 24 78 00
	00 00		 mov	 DWORD PTR [eax+36], 120	; 00000078H
$LN8@mapEffectF:

; 5559 : 						break;
; 5560 : 				}
; 5561 : 				// þÑ?ûï?
; 5562 : 				if ((rand() % 10) < 6)

  0088d	8b f4		 mov	 esi, esp
  0088f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00895	3b f4		 cmp	 esi, esp
  00897	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0089c	99		 cdq
  0089d	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  008a2	f7 f9		 idiv	 ecx
  008a4	83 fa 06	 cmp	 edx, 6
  008a7	7d 11		 jge	 SHORT $LN52@mapEffectF

; 5563 : 					buf->mode = 8;

  008a9	b8 08 00 00 00	 mov	 eax, 8
  008ae	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  008b4	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 5564 : 				else

  008b8	eb 0f		 jmp	 SHORT $LN45@mapEffectF
$LN52@mapEffectF:

; 5565 : 					buf->mode = 1;

  008ba	b8 01 00 00 00	 mov	 eax, 1
  008bf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  008c5	66 89 41 40	 mov	 WORD PTR [ecx+64], ax
$LN45@mapEffectF:

; 5566 : 			}
; 5567 : 			mapEffectFallingStarFlag = 1;

  008c9	b8 01 00 00 00	 mov	 eax, 1
  008ce	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectFallingStarFlag@@3FA, ax ; mapEffectFallingStarFlag
$LN12@mapEffectF:

; 5568 : 		}
; 5569 : 	}
; 5570 : 	if (buf)

  008d4	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, 0
  008db	74 78		 je	 SHORT $LN1@mapEffectF

; 5571 : 	{
; 5572 : 		buf->ggx += buf->dx;

  008dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  008e2	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  008e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  008eb	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  008ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  008f3	89 48 18	 mov	 DWORD PTR [eax+24], ecx

; 5573 : 		buf->ggy += buf->dy;

  008f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  008fb	8b 48 1c	 mov	 ecx, DWORD PTR [eax+28]
  008fe	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00904	03 4a 0c	 add	 ecx, DWORD PTR [edx+12]
  00907	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0090c	89 48 1c	 mov	 DWORD PTR [eax+28], ecx

; 5574 : 		if (buf->ggy > buf->ey)

  0090f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00914	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  0091a	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  0091d	3b 51 24	 cmp	 edx, DWORD PTR [ecx+36]
  00920	7e 1a		 jle	 SHORT $LN55@mapEffectF

; 5575 : 		{
; 5576 : 			delMapEffectBuf(buf);

  00922	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00927	50		 push	 eax
  00928	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  0092d	83 c4 04	 add	 esp, 4

; 5577 : 			buf = NULL;

  00930	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A, 0

; 5578 : 		}
; 5579 : 		else

  0093a	eb 19		 jmp	 SHORT $LN1@mapEffectF
$LN55@mapEffectF:

; 5580 : 		{
; 5581 : 			calEffectStar(buf);

  0093c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?buf@?1??mapEffectFallingStar@@YAXXZ@4PAU_MAP_EFFECT@@A
  00941	50		 push	 eax
  00942	e8 00 00 00 00	 call	 ?calEffectStar@@YAXPAU_MAP_EFFECT@@@Z ; calEffectStar
  00947	83 c4 04	 add	 esp, 4

; 5582 : 			mapEffectDrawFlag = 1;

  0094a	b8 01 00 00 00	 mov	 eax, 1
  0094f	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag
$LN1@mapEffectF:

; 5583 : 		}
; 5584 : 	}
; 5585 : }

  00955	5f		 pop	 edi
  00956	5e		 pop	 esi
  00957	5b		 pop	 ebx
  00958	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  0095e	3b ec		 cmp	 ebp, esp
  00960	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00965	8b e5		 mov	 esp, ebp
  00967	5d		 pop	 ebp
  00968	c3		 ret	 0
  00969	0f 1f 00	 npad	 3
$LN59@mapEffectF:
  0096c	00 00 00 00	 DD	 $LN16@mapEffectF
  00970	00 00 00 00	 DD	 $LN17@mapEffectF
  00974	00 00 00 00	 DD	 $LN18@mapEffectF
  00978	00 00 00 00	 DD	 $LN19@mapEffectF
  0097c	00 00 00 00	 DD	 $LN20@mapEffectF
$LN60@mapEffectF:
  00980	00 00 00 00	 DD	 $LN26@mapEffectF
  00984	00 00 00 00	 DD	 $LN27@mapEffectF
  00988	00 00 00 00	 DD	 $LN28@mapEffectF
  0098c	00 00 00 00	 DD	 $LN29@mapEffectF
  00990	00 00 00 00	 DD	 $LN30@mapEffectF
  00994	00 00 00 00	 DD	 $LN31@mapEffectF
  00998	00 00 00 00	 DD	 $LN32@mapEffectF
  0099c	00 00 00 00	 DD	 $LN33@mapEffectF
$LN61@mapEffectF:
  009a0	00 00 00 00	 DD	 $LN46@mapEffectF
  009a4	00 00 00 00	 DD	 $LN47@mapEffectF
  009a8	00 00 00 00	 DD	 $LN48@mapEffectF
  009ac	00 00 00 00	 DD	 $LN49@mapEffectF
  009b0	00 00 00 00	 DD	 $LN50@mapEffectF
  009b4	00 00 00 00	 DD	 $LN51@mapEffectF
?mapEffectFallingStar@@YAXXZ ENDP			; mapEffectFallingStar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectStar@@YAXXZ
_TEXT	SEGMENT
_i$ = -8						; size = 4
?mapEffectStar@@YAXXZ PROC				; mapEffectStar, COMDAT

; 5036 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5037 : 	static MAP_EFFECT *buf[30];
; 5038 : 	int i;
; 5039 : 
; 5040 : 	if ((nowFloor == 1200 || nowFloor == 20105 || nowFloor == 10920 || nowFloor == 20406)
; 5041 : 	 && NOON_TO_EVENING + 10 <= SaTime.hour && SaTime.hour < NIGHT_TO_MORNING + 80)

  0001e	81 3d 00 00 00
	00 b0 04 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 1200 ; nowFloor, 000004b0H
  00028	74 28		 je	 SHORT $LN22@mapEffectS
  0002a	81 3d 00 00 00
	00 89 4e 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 20105 ; nowFloor, 00004e89H
  00034	74 1c		 je	 SHORT $LN22@mapEffectS
  00036	81 3d 00 00 00
	00 a8 2a 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 10920 ; nowFloor, 00002aa8H
  00040	74 10		 je	 SHORT $LN22@mapEffectS
  00042	81 3d 00 00 00
	00 b6 4f 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 20406 ; nowFloor, 00004fb6H
  0004c	0f 85 4a 18 00
	00		 jne	 $LN20@mapEffectS
$LN22@mapEffectS:
  00052	81 3d 08 00 00
	00 d2 00 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 210 ; 000000d2H
  0005c	0f 8c 3a 18 00
	00		 jl	 $LN20@mapEffectS
  00062	81 3d 08 00 00
	00 0c 03 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 780 ; 0000030cH
  0006c	0f 8d 2a 18 00
	00		 jge	 $LN20@mapEffectS

; 5042 : 	{
; 5043 : 		if (nowFloor == 1200 && mapEffectStarFlag == 0)

  00072	81 3d 00 00 00
	00 b0 04 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 1200 ; nowFloor, 000004b0H
  0007c	0f 85 b9 03 00
	00		 jne	 $LN23@mapEffectS
  00082	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectStarFlag@@3FA ; mapEffectStarFlag
  00089	85 c0		 test	 eax, eax
  0008b	0f 85 aa 03 00
	00		 jne	 $LN23@mapEffectS

; 5044 : 		{
; 5045 : 			for (i = 0; i < sizeof(buf) / sizeof(void*); i++)

  00091	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00098	eb 09		 jmp	 SHORT $LN4@mapEffectS
$LN2@mapEffectS:
  0009a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0009d	83 c0 01	 add	 eax, 1
  000a0	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@mapEffectS:
  000a3	83 7d f8 1e	 cmp	 DWORD PTR _i$[ebp], 30	; 0000001eH
  000a7	73 10		 jae	 SHORT $LN3@mapEffectS

; 5046 : 				buf[i] = NULL;

  000a9	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000ac	c7 04 85 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4], 0
  000b7	eb e1		 jmp	 SHORT $LN2@mapEffectS
$LN3@mapEffectS:

; 5047 : 			buf[0] = getMapEffectBuf();

  000b9	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  000be	b9 04 00 00 00	 mov	 ecx, 4
  000c3	6b d1 00	 imul	 edx, ecx, 0
  000c6	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5048 : 			setEffectStar(buf[0], 62, 28,   0,   0, 0);

  000cc	6a 00		 push	 0
  000ce	6a 00		 push	 0
  000d0	6a 00		 push	 0
  000d2	6a 1c		 push	 28			; 0000001cH
  000d4	6a 3e		 push	 62			; 0000003eH
  000d6	b8 04 00 00 00	 mov	 eax, 4
  000db	6b c8 00	 imul	 ecx, eax, 0
  000de	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  000e4	52		 push	 edx
  000e5	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  000ea	83 c4 18	 add	 esp, 24			; 00000018H

; 5049 : 			buf[1] = getMapEffectBuf();

  000ed	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  000f2	b9 04 00 00 00	 mov	 ecx, 4
  000f7	c1 e1 00	 shl	 ecx, 0
  000fa	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5050 : 			setEffectStar(buf[1], 63, 27,  -5,  -5, 1);

  00100	6a 01		 push	 1
  00102	6a fb		 push	 -5			; fffffffbH
  00104	6a fb		 push	 -5			; fffffffbH
  00106	6a 1b		 push	 27			; 0000001bH
  00108	6a 3f		 push	 63			; 0000003fH
  0010a	b8 04 00 00 00	 mov	 eax, 4
  0010f	c1 e0 00	 shl	 eax, 0
  00112	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00118	51		 push	 ecx
  00119	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0011e	83 c4 18	 add	 esp, 24			; 00000018H

; 5051 : 			buf[2] = getMapEffectBuf();

  00121	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00126	b9 04 00 00 00	 mov	 ecx, 4
  0012b	d1 e1		 shl	 ecx, 1
  0012d	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5052 : 			setEffectStar(buf[2], 63, 28,  16, -10, 0);

  00133	6a 00		 push	 0
  00135	6a f6		 push	 -10			; fffffff6H
  00137	6a 10		 push	 16			; 00000010H
  00139	6a 1c		 push	 28			; 0000001cH
  0013b	6a 3f		 push	 63			; 0000003fH
  0013d	b8 04 00 00 00	 mov	 eax, 4
  00142	d1 e0		 shl	 eax, 1
  00144	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  0014a	51		 push	 ecx
  0014b	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00150	83 c4 18	 add	 esp, 24			; 00000018H

; 5053 : 			buf[3] = getMapEffectBuf();

  00153	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00158	b9 04 00 00 00	 mov	 ecx, 4
  0015d	6b d1 03	 imul	 edx, ecx, 3
  00160	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5054 : 			setEffectStar(buf[3], 63, 29,  10,   5, 1);

  00166	6a 01		 push	 1
  00168	6a 05		 push	 5
  0016a	6a 0a		 push	 10			; 0000000aH
  0016c	6a 1d		 push	 29			; 0000001dH
  0016e	6a 3f		 push	 63			; 0000003fH
  00170	b8 04 00 00 00	 mov	 eax, 4
  00175	6b c8 03	 imul	 ecx, eax, 3
  00178	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0017e	52		 push	 edx
  0017f	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00184	83 c4 18	 add	 esp, 24			; 00000018H

; 5055 : 			buf[4] = getMapEffectBuf();

  00187	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0018c	b9 04 00 00 00	 mov	 ecx, 4
  00191	c1 e1 02	 shl	 ecx, 2
  00194	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5056 : 			setEffectStar(buf[4], 64, 29,   0,  -8, 1);

  0019a	6a 01		 push	 1
  0019c	6a f8		 push	 -8			; fffffff8H
  0019e	6a 00		 push	 0
  001a0	6a 1d		 push	 29			; 0000001dH
  001a2	6a 40		 push	 64			; 00000040H
  001a4	b8 04 00 00 00	 mov	 eax, 4
  001a9	c1 e0 02	 shl	 eax, 2
  001ac	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  001b2	51		 push	 ecx
  001b3	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  001b8	83 c4 18	 add	 esp, 24			; 00000018H

; 5057 : 
; 5058 : 			buf[5] = getMapEffectBuf();

  001bb	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  001c0	b9 04 00 00 00	 mov	 ecx, 4
  001c5	6b d1 05	 imul	 edx, ecx, 5
  001c8	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5059 : 			setEffectStar(buf[5], 65, 29,  -8,   5, 0);

  001ce	6a 00		 push	 0
  001d0	6a 05		 push	 5
  001d2	6a f8		 push	 -8			; fffffff8H
  001d4	6a 1d		 push	 29			; 0000001dH
  001d6	6a 41		 push	 65			; 00000041H
  001d8	b8 04 00 00 00	 mov	 eax, 4
  001dd	6b c8 05	 imul	 ecx, eax, 5
  001e0	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  001e6	52		 push	 edx
  001e7	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  001ec	83 c4 18	 add	 esp, 24			; 00000018H

; 5060 : 			buf[6] = getMapEffectBuf();

  001ef	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  001f4	b9 04 00 00 00	 mov	 ecx, 4
  001f9	6b d1 06	 imul	 edx, ecx, 6
  001fc	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5061 : 			setEffectStar(buf[6], 65, 30,  16,  10, 0);

  00202	6a 00		 push	 0
  00204	6a 0a		 push	 10			; 0000000aH
  00206	6a 10		 push	 16			; 00000010H
  00208	6a 1e		 push	 30			; 0000001eH
  0020a	6a 41		 push	 65			; 00000041H
  0020c	b8 04 00 00 00	 mov	 eax, 4
  00211	6b c8 06	 imul	 ecx, eax, 6
  00214	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0021a	52		 push	 edx
  0021b	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00220	83 c4 18	 add	 esp, 24			; 00000018H

; 5062 : 			buf[7] = getMapEffectBuf();

  00223	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00228	b9 04 00 00 00	 mov	 ecx, 4
  0022d	6b d1 07	 imul	 edx, ecx, 7
  00230	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5063 : 			setEffectStar(buf[7], 66, 31,   0,   0, 1);

  00236	6a 01		 push	 1
  00238	6a 00		 push	 0
  0023a	6a 00		 push	 0
  0023c	6a 1f		 push	 31			; 0000001fH
  0023e	6a 42		 push	 66			; 00000042H
  00240	b8 04 00 00 00	 mov	 eax, 4
  00245	6b c8 07	 imul	 ecx, eax, 7
  00248	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0024e	52		 push	 edx
  0024f	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00254	83 c4 18	 add	 esp, 24			; 00000018H

; 5064 : 			buf[8] = getMapEffectBuf();

  00257	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0025c	b9 04 00 00 00	 mov	 ecx, 4
  00261	c1 e1 03	 shl	 ecx, 3
  00264	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5065 : 			setEffectStar(buf[8], 66, 30,   8, -12, 1);

  0026a	6a 01		 push	 1
  0026c	6a f4		 push	 -12			; fffffff4H
  0026e	6a 08		 push	 8
  00270	6a 1e		 push	 30			; 0000001eH
  00272	6a 42		 push	 66			; 00000042H
  00274	b8 04 00 00 00	 mov	 eax, 4
  00279	c1 e0 03	 shl	 eax, 3
  0027c	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00282	51		 push	 ecx
  00283	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00288	83 c4 18	 add	 esp, 24			; 00000018H

; 5066 : 			buf[9] = getMapEffectBuf();

  0028b	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00290	b9 04 00 00 00	 mov	 ecx, 4
  00295	6b d1 09	 imul	 edx, ecx, 9
  00298	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5067 : 			setEffectStar(buf[9], 67, 31,  20,   0, 0);

  0029e	6a 00		 push	 0
  002a0	6a 00		 push	 0
  002a2	6a 14		 push	 20			; 00000014H
  002a4	6a 1f		 push	 31			; 0000001fH
  002a6	6a 43		 push	 67			; 00000043H
  002a8	b8 04 00 00 00	 mov	 eax, 4
  002ad	6b c8 09	 imul	 ecx, eax, 9
  002b0	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  002b6	52		 push	 edx
  002b7	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  002bc	83 c4 18	 add	 esp, 24			; 00000018H

; 5068 : 
; 5069 : 			buf[10] = getMapEffectBuf();

  002bf	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  002c4	b9 04 00 00 00	 mov	 ecx, 4
  002c9	6b d1 0a	 imul	 edx, ecx, 10
  002cc	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5070 : 			setEffectStar(buf[10], 69, 34,  -8,  -8, 0);

  002d2	6a 00		 push	 0
  002d4	6a f8		 push	 -8			; fffffff8H
  002d6	6a f8		 push	 -8			; fffffff8H
  002d8	6a 22		 push	 34			; 00000022H
  002da	6a 45		 push	 69			; 00000045H
  002dc	b8 04 00 00 00	 mov	 eax, 4
  002e1	6b c8 0a	 imul	 ecx, eax, 10
  002e4	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  002ea	52		 push	 edx
  002eb	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  002f0	83 c4 18	 add	 esp, 24			; 00000018H

; 5071 : 			buf[11] = getMapEffectBuf();

  002f3	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  002f8	b9 04 00 00 00	 mov	 ecx, 4
  002fd	6b d1 0b	 imul	 edx, ecx, 11
  00300	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5072 : 			setEffectStar(buf[11], 70, 34,   5,  10, 1);

  00306	6a 01		 push	 1
  00308	6a 0a		 push	 10			; 0000000aH
  0030a	6a 05		 push	 5
  0030c	6a 22		 push	 34			; 00000022H
  0030e	6a 46		 push	 70			; 00000046H
  00310	b8 04 00 00 00	 mov	 eax, 4
  00315	6b c8 0b	 imul	 ecx, eax, 11
  00318	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0031e	52		 push	 edx
  0031f	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00324	83 c4 18	 add	 esp, 24			; 00000018H

; 5073 : 			buf[12] = getMapEffectBuf();

  00327	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0032c	b9 04 00 00 00	 mov	 ecx, 4
  00331	6b d1 0c	 imul	 edx, ecx, 12
  00334	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5074 : 			setEffectStar(buf[12], 70, 35,   2,  24, 0);

  0033a	6a 00		 push	 0
  0033c	6a 18		 push	 24			; 00000018H
  0033e	6a 02		 push	 2
  00340	6a 23		 push	 35			; 00000023H
  00342	6a 46		 push	 70			; 00000046H
  00344	b8 04 00 00 00	 mov	 eax, 4
  00349	6b c8 0c	 imul	 ecx, eax, 12
  0034c	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00352	52		 push	 edx
  00353	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00358	83 c4 18	 add	 esp, 24			; 00000018H

; 5075 : 			buf[13] = getMapEffectBuf();

  0035b	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00360	b9 04 00 00 00	 mov	 ecx, 4
  00365	6b d1 0d	 imul	 edx, ecx, 13
  00368	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5076 : 			setEffectStar(buf[13], 70, 36, -20, -16, 1);

  0036e	6a 01		 push	 1
  00370	6a f0		 push	 -16			; fffffff0H
  00372	6a ec		 push	 -20			; ffffffecH
  00374	6a 24		 push	 36			; 00000024H
  00376	6a 46		 push	 70			; 00000046H
  00378	b8 04 00 00 00	 mov	 eax, 4
  0037d	6b c8 0d	 imul	 ecx, eax, 13
  00380	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00386	52		 push	 edx
  00387	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0038c	83 c4 18	 add	 esp, 24			; 00000018H

; 5077 : 			buf[14] = getMapEffectBuf();

  0038f	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00394	b9 04 00 00 00	 mov	 ecx, 4
  00399	6b d1 0e	 imul	 edx, ecx, 14
  0039c	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5078 : 			setEffectStar(buf[14], 71, 36,   2,   4, 1);

  003a2	6a 01		 push	 1
  003a4	6a 04		 push	 4
  003a6	6a 02		 push	 2
  003a8	6a 24		 push	 36			; 00000024H
  003aa	6a 47		 push	 71			; 00000047H
  003ac	b8 04 00 00 00	 mov	 eax, 4
  003b1	6b c8 0e	 imul	 ecx, eax, 14
  003b4	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  003ba	52		 push	 edx
  003bb	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  003c0	83 c4 18	 add	 esp, 24			; 00000018H

; 5079 : 
; 5080 : 			buf[15] = getMapEffectBuf();

  003c3	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  003c8	b9 04 00 00 00	 mov	 ecx, 4
  003cd	6b d1 0f	 imul	 edx, ecx, 15
  003d0	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5081 : 			setEffectStar(buf[15], 71, 37,   5, -10, 1);

  003d6	6a 01		 push	 1
  003d8	6a f6		 push	 -10			; fffffff6H
  003da	6a 05		 push	 5
  003dc	6a 25		 push	 37			; 00000025H
  003de	6a 47		 push	 71			; 00000047H
  003e0	b8 04 00 00 00	 mov	 eax, 4
  003e5	6b c8 0f	 imul	 ecx, eax, 15
  003e8	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  003ee	52		 push	 edx
  003ef	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  003f4	83 c4 18	 add	 esp, 24			; 00000018H

; 5082 : 			buf[16] = getMapEffectBuf();

  003f7	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  003fc	b9 04 00 00 00	 mov	 ecx, 4
  00401	c1 e1 04	 shl	 ecx, 4
  00404	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5083 : 			setEffectStar(buf[16], 72, 37,   0,  12, 0);

  0040a	6a 00		 push	 0
  0040c	6a 0c		 push	 12			; 0000000cH
  0040e	6a 00		 push	 0
  00410	6a 25		 push	 37			; 00000025H
  00412	6a 48		 push	 72			; 00000048H
  00414	b8 04 00 00 00	 mov	 eax, 4
  00419	c1 e0 04	 shl	 eax, 4
  0041c	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00422	51		 push	 ecx
  00423	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00428	83 c4 18	 add	 esp, 24			; 00000018H

; 5084 : 
; 5085 : 			mapEffectStarFlag = 1;

  0042b	b8 01 00 00 00	 mov	 eax, 1
  00430	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectStarFlag@@3FA, ax ; mapEffectStarFlag
  00436	e9 a6 12 00 00	 jmp	 $LN24@mapEffectS
$LN23@mapEffectS:

; 5086 : 		}
; 5087 : 		else if (nowFloor == 20105 && mapEffectStarFlag == 0)

  0043b	81 3d 00 00 00
	00 89 4e 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 20105 ; nowFloor, 00004e89H
  00445	0f 85 5d 06 00
	00		 jne	 $LN25@mapEffectS
  0044b	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectStarFlag@@3FA ; mapEffectStarFlag
  00452	85 c0		 test	 eax, eax
  00454	0f 85 4e 06 00
	00		 jne	 $LN25@mapEffectS

; 5088 : 		{
; 5089 : 			for (i = 0; i < sizeof(buf) / sizeof(void*); i++)

  0045a	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00461	eb 09		 jmp	 SHORT $LN7@mapEffectS
$LN5@mapEffectS:
  00463	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00466	83 c0 01	 add	 eax, 1
  00469	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN7@mapEffectS:
  0046c	83 7d f8 1e	 cmp	 DWORD PTR _i$[ebp], 30	; 0000001eH
  00470	73 10		 jae	 SHORT $LN6@mapEffectS

; 5090 : 				buf[i] = NULL;

  00472	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00475	c7 04 85 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4], 0
  00480	eb e1		 jmp	 SHORT $LN5@mapEffectS
$LN6@mapEffectS:

; 5091 : 			buf[0] = getMapEffectBuf();

  00482	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00487	b9 04 00 00 00	 mov	 ecx, 4
  0048c	6b d1 00	 imul	 edx, ecx, 0
  0048f	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5092 : 			setEffectStar(buf[0], 21,  8,   5,   0, 1);

  00495	6a 01		 push	 1
  00497	6a 00		 push	 0
  00499	6a 05		 push	 5
  0049b	6a 08		 push	 8
  0049d	6a 15		 push	 21			; 00000015H
  0049f	b8 04 00 00 00	 mov	 eax, 4
  004a4	6b c8 00	 imul	 ecx, eax, 0
  004a7	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  004ad	52		 push	 edx
  004ae	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  004b3	83 c4 18	 add	 esp, 24			; 00000018H

; 5093 : 			buf[1] = getMapEffectBuf();

  004b6	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  004bb	b9 04 00 00 00	 mov	 ecx, 4
  004c0	c1 e1 00	 shl	 ecx, 0
  004c3	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5094 : 			setEffectStar(buf[1], 20, 10,  -5,   5, 1);

  004c9	6a 01		 push	 1
  004cb	6a 05		 push	 5
  004cd	6a fb		 push	 -5			; fffffffbH
  004cf	6a 0a		 push	 10			; 0000000aH
  004d1	6a 14		 push	 20			; 00000014H
  004d3	b8 04 00 00 00	 mov	 eax, 4
  004d8	c1 e0 00	 shl	 eax, 0
  004db	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  004e1	51		 push	 ecx
  004e2	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  004e7	83 c4 18	 add	 esp, 24			; 00000018H

; 5095 : 			buf[2] = getMapEffectBuf();

  004ea	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  004ef	b9 04 00 00 00	 mov	 ecx, 4
  004f4	d1 e1		 shl	 ecx, 1
  004f6	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5096 : 			setEffectStar(buf[2], 18, 11,   5,  10, 0);

  004fc	6a 00		 push	 0
  004fe	6a 0a		 push	 10			; 0000000aH
  00500	6a 05		 push	 5
  00502	6a 0b		 push	 11			; 0000000bH
  00504	6a 12		 push	 18			; 00000012H
  00506	b8 04 00 00 00	 mov	 eax, 4
  0050b	d1 e0		 shl	 eax, 1
  0050d	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00513	51		 push	 ecx
  00514	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00519	83 c4 18	 add	 esp, 24			; 00000018H

; 5097 : 			buf[3] = getMapEffectBuf();

  0051c	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00521	b9 04 00 00 00	 mov	 ecx, 4
  00526	6b d1 03	 imul	 edx, ecx, 3
  00529	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5098 : 			setEffectStar(buf[3], 20, 12,   0,  -5, 1);

  0052f	6a 01		 push	 1
  00531	6a fb		 push	 -5			; fffffffbH
  00533	6a 00		 push	 0
  00535	6a 0c		 push	 12			; 0000000cH
  00537	6a 14		 push	 20			; 00000014H
  00539	b8 04 00 00 00	 mov	 eax, 4
  0053e	6b c8 03	 imul	 ecx, eax, 3
  00541	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00547	52		 push	 edx
  00548	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0054d	83 c4 18	 add	 esp, 24			; 00000018H

; 5099 : 			buf[4] = getMapEffectBuf();

  00550	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00555	b9 04 00 00 00	 mov	 ecx, 4
  0055a	c1 e1 02	 shl	 ecx, 2
  0055d	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5100 : 			setEffectStar(buf[4], 23, 11,   0,   0, 0);

  00563	6a 00		 push	 0
  00565	6a 00		 push	 0
  00567	6a 00		 push	 0
  00569	6a 0b		 push	 11			; 0000000bH
  0056b	6a 17		 push	 23			; 00000017H
  0056d	b8 04 00 00 00	 mov	 eax, 4
  00572	c1 e0 02	 shl	 eax, 2
  00575	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  0057b	51		 push	 ecx
  0057c	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00581	83 c4 18	 add	 esp, 24			; 00000018H

; 5101 : 
; 5102 : 			buf[5] = getMapEffectBuf();

  00584	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00589	b9 04 00 00 00	 mov	 ecx, 4
  0058e	6b d1 05	 imul	 edx, ecx, 5
  00591	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5103 : 			setEffectStar(buf[5], 23, 14,   0,   0, 0);

  00597	6a 00		 push	 0
  00599	6a 00		 push	 0
  0059b	6a 00		 push	 0
  0059d	6a 0e		 push	 14			; 0000000eH
  0059f	6a 17		 push	 23			; 00000017H
  005a1	b8 04 00 00 00	 mov	 eax, 4
  005a6	6b c8 05	 imul	 ecx, eax, 5
  005a9	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  005af	52		 push	 edx
  005b0	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  005b5	83 c4 18	 add	 esp, 24			; 00000018H

; 5104 : 			buf[6] = getMapEffectBuf();

  005b8	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  005bd	b9 04 00 00 00	 mov	 ecx, 4
  005c2	6b d1 06	 imul	 edx, ecx, 6
  005c5	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5105 : 			setEffectStar(buf[6], 25, 13,   8,   6, 1);

  005cb	6a 01		 push	 1
  005cd	6a 06		 push	 6
  005cf	6a 08		 push	 8
  005d1	6a 0d		 push	 13			; 0000000dH
  005d3	6a 19		 push	 25			; 00000019H
  005d5	b8 04 00 00 00	 mov	 eax, 4
  005da	6b c8 06	 imul	 ecx, eax, 6
  005dd	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  005e3	52		 push	 edx
  005e4	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  005e9	83 c4 18	 add	 esp, 24			; 00000018H

; 5106 : 			buf[7] = getMapEffectBuf();

  005ec	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  005f1	b9 04 00 00 00	 mov	 ecx, 4
  005f6	6b d1 07	 imul	 edx, ecx, 7
  005f9	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5107 : 			setEffectStar(buf[7], 25, 16,   0,   0, 1);

  005ff	6a 01		 push	 1
  00601	6a 00		 push	 0
  00603	6a 00		 push	 0
  00605	6a 10		 push	 16			; 00000010H
  00607	6a 19		 push	 25			; 00000019H
  00609	b8 04 00 00 00	 mov	 eax, 4
  0060e	6b c8 07	 imul	 ecx, eax, 7
  00611	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00617	52		 push	 edx
  00618	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0061d	83 c4 18	 add	 esp, 24			; 00000018H

; 5108 : 			buf[8] = getMapEffectBuf();

  00620	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00625	b9 04 00 00 00	 mov	 ecx, 4
  0062a	c1 e1 03	 shl	 ecx, 3
  0062d	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5109 : 			setEffectStar(buf[8], 26, 18,   4,  -8, 0);

  00633	6a 00		 push	 0
  00635	6a f8		 push	 -8			; fffffff8H
  00637	6a 04		 push	 4
  00639	6a 12		 push	 18			; 00000012H
  0063b	6a 1a		 push	 26			; 0000001aH
  0063d	b8 04 00 00 00	 mov	 eax, 4
  00642	c1 e0 03	 shl	 eax, 3
  00645	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  0064b	51		 push	 ecx
  0064c	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00651	83 c4 18	 add	 esp, 24			; 00000018H

; 5110 : 			buf[9] = getMapEffectBuf();

  00654	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00659	b9 04 00 00 00	 mov	 ecx, 4
  0065e	6b d1 09	 imul	 edx, ecx, 9
  00661	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5111 : 			setEffectStar(buf[9], 28, 16, -16,   0, 0);

  00667	6a 00		 push	 0
  00669	6a 00		 push	 0
  0066b	6a f0		 push	 -16			; fffffff0H
  0066d	6a 10		 push	 16			; 00000010H
  0066f	6a 1c		 push	 28			; 0000001cH
  00671	b8 04 00 00 00	 mov	 eax, 4
  00676	6b c8 09	 imul	 ecx, eax, 9
  00679	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0067f	52		 push	 edx
  00680	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00685	83 c4 18	 add	 esp, 24			; 00000018H

; 5112 : 
; 5113 : 			buf[10] = getMapEffectBuf();

  00688	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0068d	b9 04 00 00 00	 mov	 ecx, 4
  00692	6b d1 0a	 imul	 edx, ecx, 10
  00695	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5114 : 			setEffectStar(buf[10], 21, 14,  -5,   0, 1);

  0069b	6a 01		 push	 1
  0069d	6a 00		 push	 0
  0069f	6a fb		 push	 -5			; fffffffbH
  006a1	6a 0e		 push	 14			; 0000000eH
  006a3	6a 15		 push	 21			; 00000015H
  006a5	b8 04 00 00 00	 mov	 eax, 4
  006aa	6b c8 0a	 imul	 ecx, eax, 10
  006ad	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  006b3	52		 push	 edx
  006b4	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  006b9	83 c4 18	 add	 esp, 24			; 00000018H

; 5115 : 			buf[11] = getMapEffectBuf();

  006bc	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  006c1	b9 04 00 00 00	 mov	 ecx, 4
  006c6	6b d1 0b	 imul	 edx, ecx, 11
  006c9	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5116 : 			setEffectStar(buf[11], 27, 14,   0,   0, 1);

  006cf	6a 01		 push	 1
  006d1	6a 00		 push	 0
  006d3	6a 00		 push	 0
  006d5	6a 0e		 push	 14			; 0000000eH
  006d7	6a 1b		 push	 27			; 0000001bH
  006d9	b8 04 00 00 00	 mov	 eax, 4
  006de	6b c8 0b	 imul	 ecx, eax, 11
  006e1	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  006e7	52		 push	 edx
  006e8	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  006ed	83 c4 18	 add	 esp, 24			; 00000018H

; 5117 : 			buf[12] = getMapEffectBuf();

  006f0	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  006f5	b9 04 00 00 00	 mov	 ecx, 4
  006fa	6b d1 0c	 imul	 edx, ecx, 12
  006fd	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5118 : 			setEffectStar(buf[12], 24, 15,   4, -10, 1);

  00703	6a 01		 push	 1
  00705	6a f6		 push	 -10			; fffffff6H
  00707	6a 04		 push	 4
  00709	6a 0f		 push	 15			; 0000000fH
  0070b	6a 18		 push	 24			; 00000018H
  0070d	b8 04 00 00 00	 mov	 eax, 4
  00712	6b c8 0c	 imul	 ecx, eax, 12
  00715	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0071b	52		 push	 edx
  0071c	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00721	83 c4 18	 add	 esp, 24			; 00000018H

; 5119 : 			buf[13] = getMapEffectBuf();

  00724	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00729	b9 04 00 00 00	 mov	 ecx, 4
  0072e	6b d1 0d	 imul	 edx, ecx, 13
  00731	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5120 : 			setEffectStar(buf[13], 28, 12,   5,  -8, 0);

  00737	6a 00		 push	 0
  00739	6a f8		 push	 -8			; fffffff8H
  0073b	6a 05		 push	 5
  0073d	6a 0c		 push	 12			; 0000000cH
  0073f	6a 1c		 push	 28			; 0000001cH
  00741	b8 04 00 00 00	 mov	 eax, 4
  00746	6b c8 0d	 imul	 ecx, eax, 13
  00749	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0074f	52		 push	 edx
  00750	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00755	83 c4 18	 add	 esp, 24			; 00000018H

; 5121 : 			buf[14] = getMapEffectBuf();

  00758	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0075d	b9 04 00 00 00	 mov	 ecx, 4
  00762	6b d1 0e	 imul	 edx, ecx, 14
  00765	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5122 : 			setEffectStar(buf[14], 32, 14,   0,   0, 0);

  0076b	6a 00		 push	 0
  0076d	6a 00		 push	 0
  0076f	6a 00		 push	 0
  00771	6a 0e		 push	 14			; 0000000eH
  00773	6a 20		 push	 32			; 00000020H
  00775	b8 04 00 00 00	 mov	 eax, 4
  0077a	6b c8 0e	 imul	 ecx, eax, 14
  0077d	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00783	52		 push	 edx
  00784	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00789	83 c4 18	 add	 esp, 24			; 00000018H

; 5123 : 
; 5124 : 			buf[15] = getMapEffectBuf();

  0078c	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00791	b9 04 00 00 00	 mov	 ecx, 4
  00796	6b d1 0f	 imul	 edx, ecx, 15
  00799	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5125 : 			setEffectStar(buf[15], 30, 17,   0,   0, 0);

  0079f	6a 00		 push	 0
  007a1	6a 00		 push	 0
  007a3	6a 00		 push	 0
  007a5	6a 11		 push	 17			; 00000011H
  007a7	6a 1e		 push	 30			; 0000001eH
  007a9	b8 04 00 00 00	 mov	 eax, 4
  007ae	6b c8 0f	 imul	 ecx, eax, 15
  007b1	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  007b7	52		 push	 edx
  007b8	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  007bd	83 c4 18	 add	 esp, 24			; 00000018H

; 5126 : 			buf[16] = getMapEffectBuf();

  007c0	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  007c5	b9 04 00 00 00	 mov	 ecx, 4
  007ca	c1 e1 04	 shl	 ecx, 4
  007cd	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5127 : 			setEffectStar(buf[16], 32, 19,   0,   0, 1);

  007d3	6a 01		 push	 1
  007d5	6a 00		 push	 0
  007d7	6a 00		 push	 0
  007d9	6a 13		 push	 19			; 00000013H
  007db	6a 20		 push	 32			; 00000020H
  007dd	b8 04 00 00 00	 mov	 eax, 4
  007e2	c1 e0 04	 shl	 eax, 4
  007e5	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  007eb	51		 push	 ecx
  007ec	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  007f1	83 c4 18	 add	 esp, 24			; 00000018H

; 5128 : 			buf[17] = getMapEffectBuf();

  007f4	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  007f9	b9 04 00 00 00	 mov	 ecx, 4
  007fe	6b d1 11	 imul	 edx, ecx, 17
  00801	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5129 : 			setEffectStar(buf[17], 36, 19,   5,   2, 1);

  00807	6a 01		 push	 1
  00809	6a 02		 push	 2
  0080b	6a 05		 push	 5
  0080d	6a 13		 push	 19			; 00000013H
  0080f	6a 24		 push	 36			; 00000024H
  00811	b8 04 00 00 00	 mov	 eax, 4
  00816	6b c8 11	 imul	 ecx, eax, 17
  00819	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0081f	52		 push	 edx
  00820	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00825	83 c4 18	 add	 esp, 24			; 00000018H

; 5130 : 			buf[18] = getMapEffectBuf();

  00828	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0082d	b9 04 00 00 00	 mov	 ecx, 4
  00832	6b d1 12	 imul	 edx, ecx, 18
  00835	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5131 : 			setEffectStar(buf[18], 34, 22,  -4,   4, 0);

  0083b	6a 00		 push	 0
  0083d	6a 04		 push	 4
  0083f	6a fc		 push	 -4			; fffffffcH
  00841	6a 16		 push	 22			; 00000016H
  00843	6a 22		 push	 34			; 00000022H
  00845	b8 04 00 00 00	 mov	 eax, 4
  0084a	6b c8 12	 imul	 ecx, eax, 18
  0084d	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00853	52		 push	 edx
  00854	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00859	83 c4 18	 add	 esp, 24			; 00000018H

; 5132 : 			buf[19] = getMapEffectBuf();

  0085c	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00861	b9 04 00 00 00	 mov	 ecx, 4
  00866	6b d1 13	 imul	 edx, ecx, 19
  00869	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5133 : 			setEffectStar(buf[19], 36, 25,   1,   1, 0);

  0086f	6a 00		 push	 0
  00871	6a 01		 push	 1
  00873	6a 01		 push	 1
  00875	6a 19		 push	 25			; 00000019H
  00877	6a 24		 push	 36			; 00000024H
  00879	b8 04 00 00 00	 mov	 eax, 4
  0087e	6b c8 13	 imul	 ecx, eax, 19
  00881	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00887	52		 push	 edx
  00888	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0088d	83 c4 18	 add	 esp, 24			; 00000018H

; 5134 : 
; 5135 : 			buf[20] = getMapEffectBuf();

  00890	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00895	b9 04 00 00 00	 mov	 ecx, 4
  0089a	6b d1 14	 imul	 edx, ecx, 20
  0089d	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5136 : 			setEffectStar(buf[20], 39, 23,   0,   0, 0);

  008a3	6a 00		 push	 0
  008a5	6a 00		 push	 0
  008a7	6a 00		 push	 0
  008a9	6a 17		 push	 23			; 00000017H
  008ab	6a 27		 push	 39			; 00000027H
  008ad	b8 04 00 00 00	 mov	 eax, 4
  008b2	6b c8 14	 imul	 ecx, eax, 20
  008b5	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  008bb	52		 push	 edx
  008bc	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  008c1	83 c4 18	 add	 esp, 24			; 00000018H

; 5137 : 			buf[21] = getMapEffectBuf();

  008c4	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  008c9	b9 04 00 00 00	 mov	 ecx, 4
  008ce	6b d1 15	 imul	 edx, ecx, 21
  008d1	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5138 : 			setEffectStar(buf[21], 38, 25,  -8,   2, 1);

  008d7	6a 01		 push	 1
  008d9	6a 02		 push	 2
  008db	6a f8		 push	 -8			; fffffff8H
  008dd	6a 19		 push	 25			; 00000019H
  008df	6a 26		 push	 38			; 00000026H
  008e1	b8 04 00 00 00	 mov	 eax, 4
  008e6	6b c8 15	 imul	 ecx, eax, 21
  008e9	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  008ef	52		 push	 edx
  008f0	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  008f5	83 c4 18	 add	 esp, 24			; 00000018H

; 5139 : 			buf[22] = getMapEffectBuf();

  008f8	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  008fd	b9 04 00 00 00	 mov	 ecx, 4
  00902	6b d1 16	 imul	 edx, ecx, 22
  00905	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5140 : 			setEffectStar(buf[22], 40, 24,  -5,  -5, 1);

  0090b	6a 01		 push	 1
  0090d	6a fb		 push	 -5			; fffffffbH
  0090f	6a fb		 push	 -5			; fffffffbH
  00911	6a 18		 push	 24			; 00000018H
  00913	6a 28		 push	 40			; 00000028H
  00915	b8 04 00 00 00	 mov	 eax, 4
  0091a	6b c8 16	 imul	 ecx, eax, 22
  0091d	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00923	52		 push	 edx
  00924	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00929	83 c4 18	 add	 esp, 24			; 00000018H

; 5141 : 			buf[23] = getMapEffectBuf();

  0092c	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00931	b9 04 00 00 00	 mov	 ecx, 4
  00936	6b d1 17	 imul	 edx, ecx, 23
  00939	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5142 : 			setEffectStar(buf[23], 39, 27,   0,   0, 0);

  0093f	6a 00		 push	 0
  00941	6a 00		 push	 0
  00943	6a 00		 push	 0
  00945	6a 1b		 push	 27			; 0000001bH
  00947	6a 27		 push	 39			; 00000027H
  00949	b8 04 00 00 00	 mov	 eax, 4
  0094e	6b c8 17	 imul	 ecx, eax, 23
  00951	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00957	52		 push	 edx
  00958	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0095d	83 c4 18	 add	 esp, 24			; 00000018H

; 5143 : 			buf[24] = getMapEffectBuf();

  00960	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00965	b9 04 00 00 00	 mov	 ecx, 4
  0096a	6b d1 18	 imul	 edx, ecx, 24
  0096d	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5144 : 			setEffectStar(buf[24], 39, 30,   0,   0, 1);

  00973	6a 01		 push	 1
  00975	6a 00		 push	 0
  00977	6a 00		 push	 0
  00979	6a 1e		 push	 30			; 0000001eH
  0097b	6a 27		 push	 39			; 00000027H
  0097d	b8 04 00 00 00	 mov	 eax, 4
  00982	6b c8 18	 imul	 ecx, eax, 24
  00985	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0098b	52		 push	 edx
  0098c	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00991	83 c4 18	 add	 esp, 24			; 00000018H

; 5145 : 
; 5146 : 			buf[25] = getMapEffectBuf();

  00994	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00999	b9 04 00 00 00	 mov	 ecx, 4
  0099e	6b d1 19	 imul	 edx, ecx, 25
  009a1	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5147 : 			setEffectStar(buf[25], 43, 29,   0,   0, 0);

  009a7	6a 00		 push	 0
  009a9	6a 00		 push	 0
  009ab	6a 00		 push	 0
  009ad	6a 1d		 push	 29			; 0000001dH
  009af	6a 2b		 push	 43			; 0000002bH
  009b1	b8 04 00 00 00	 mov	 eax, 4
  009b6	6b c8 19	 imul	 ecx, eax, 25
  009b9	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  009bf	52		 push	 edx
  009c0	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  009c5	83 c4 18	 add	 esp, 24			; 00000018H

; 5148 : 			buf[26] = getMapEffectBuf();

  009c8	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  009cd	b9 04 00 00 00	 mov	 ecx, 4
  009d2	6b d1 1a	 imul	 edx, ecx, 26
  009d5	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5149 : 			setEffectStar(buf[26], 42, 32,   2,   0, 0);

  009db	6a 00		 push	 0
  009dd	6a 00		 push	 0
  009df	6a 02		 push	 2
  009e1	6a 20		 push	 32			; 00000020H
  009e3	6a 2a		 push	 42			; 0000002aH
  009e5	b8 04 00 00 00	 mov	 eax, 4
  009ea	6b c8 1a	 imul	 ecx, eax, 26
  009ed	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  009f3	52		 push	 edx
  009f4	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  009f9	83 c4 18	 add	 esp, 24			; 00000018H

; 5150 : 			buf[27] = getMapEffectBuf();

  009fc	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00a01	b9 04 00 00 00	 mov	 ecx, 4
  00a06	6b d1 1b	 imul	 edx, ecx, 27
  00a09	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5151 : 			setEffectStar(buf[27], 44, 33,   0,   0, 1);

  00a0f	6a 01		 push	 1
  00a11	6a 00		 push	 0
  00a13	6a 00		 push	 0
  00a15	6a 21		 push	 33			; 00000021H
  00a17	6a 2c		 push	 44			; 0000002cH
  00a19	b8 04 00 00 00	 mov	 eax, 4
  00a1e	6b c8 1b	 imul	 ecx, eax, 27
  00a21	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00a27	52		 push	 edx
  00a28	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00a2d	83 c4 18	 add	 esp, 24			; 00000018H

; 5152 : 			buf[28] = getMapEffectBuf();

  00a30	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00a35	b9 04 00 00 00	 mov	 ecx, 4
  00a3a	6b d1 1c	 imul	 edx, ecx, 28
  00a3d	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5153 : 			setEffectStar(buf[28], 43, 34,   8,   2, 0);

  00a43	6a 00		 push	 0
  00a45	6a 02		 push	 2
  00a47	6a 08		 push	 8
  00a49	6a 22		 push	 34			; 00000022H
  00a4b	6a 2b		 push	 43			; 0000002bH
  00a4d	b8 04 00 00 00	 mov	 eax, 4
  00a52	6b c8 1c	 imul	 ecx, eax, 28
  00a55	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00a5b	52		 push	 edx
  00a5c	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00a61	83 c4 18	 add	 esp, 24			; 00000018H

; 5154 : 			buf[29] = getMapEffectBuf();

  00a64	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00a69	b9 04 00 00 00	 mov	 ecx, 4
  00a6e	6b d1 1d	 imul	 edx, ecx, 29
  00a71	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5155 : 			setEffectStar(buf[29], 45, 36,   0,   0, 0);

  00a77	6a 00		 push	 0
  00a79	6a 00		 push	 0
  00a7b	6a 00		 push	 0
  00a7d	6a 24		 push	 36			; 00000024H
  00a7f	6a 2d		 push	 45			; 0000002dH
  00a81	b8 04 00 00 00	 mov	 eax, 4
  00a86	6b c8 1d	 imul	 ecx, eax, 29
  00a89	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00a8f	52		 push	 edx
  00a90	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00a95	83 c4 18	 add	 esp, 24			; 00000018H

; 5156 : 
; 5157 : 			mapEffectStarFlag = 1;

  00a98	b8 01 00 00 00	 mov	 eax, 1
  00a9d	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectStarFlag@@3FA, ax ; mapEffectStarFlag
  00aa3	e9 39 0c 00 00	 jmp	 $LN24@mapEffectS
$LN25@mapEffectS:

; 5158 : 		}
; 5159 : 		else if (nowFloor == 10920 && mapEffectStarFlag == 0)

  00aa8	81 3d 00 00 00
	00 a8 2a 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 10920 ; nowFloor, 00002aa8H
  00ab2	0f 85 c1 05 00
	00		 jne	 $LN27@mapEffectS
  00ab8	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectStarFlag@@3FA ; mapEffectStarFlag
  00abf	85 c0		 test	 eax, eax
  00ac1	0f 85 b2 05 00
	00		 jne	 $LN27@mapEffectS

; 5160 : 		{
; 5161 : 			for (i = 0; i < sizeof(buf) / sizeof(void *); i++)

  00ac7	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00ace	eb 09		 jmp	 SHORT $LN10@mapEffectS
$LN8@mapEffectS:
  00ad0	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00ad3	83 c0 01	 add	 eax, 1
  00ad6	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN10@mapEffectS:
  00ad9	83 7d f8 1e	 cmp	 DWORD PTR _i$[ebp], 30	; 0000001eH
  00add	73 10		 jae	 SHORT $LN9@mapEffectS

; 5162 : 				buf[i] = NULL;

  00adf	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00ae2	c7 04 85 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4], 0
  00aed	eb e1		 jmp	 SHORT $LN8@mapEffectS
$LN9@mapEffectS:

; 5163 : 			buf[0] = getMapEffectBuf();

  00aef	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00af4	b9 04 00 00 00	 mov	 ecx, 4
  00af9	6b d1 00	 imul	 edx, ecx, 0
  00afc	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5164 : 			setEffectStar(buf[0], 71,  2,   0,   0, 1);

  00b02	6a 01		 push	 1
  00b04	6a 00		 push	 0
  00b06	6a 00		 push	 0
  00b08	6a 02		 push	 2
  00b0a	6a 47		 push	 71			; 00000047H
  00b0c	b8 04 00 00 00	 mov	 eax, 4
  00b11	6b c8 00	 imul	 ecx, eax, 0
  00b14	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00b1a	52		 push	 edx
  00b1b	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00b20	83 c4 18	 add	 esp, 24			; 00000018H

; 5165 : 			buf[1] = getMapEffectBuf();

  00b23	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00b28	b9 04 00 00 00	 mov	 ecx, 4
  00b2d	c1 e1 00	 shl	 ecx, 0
  00b30	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5166 : 			setEffectStar(buf[1], 71,  5,   0,   0, 0);

  00b36	6a 00		 push	 0
  00b38	6a 00		 push	 0
  00b3a	6a 00		 push	 0
  00b3c	6a 05		 push	 5
  00b3e	6a 47		 push	 71			; 00000047H
  00b40	b8 04 00 00 00	 mov	 eax, 4
  00b45	c1 e0 00	 shl	 eax, 0
  00b48	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00b4e	51		 push	 ecx
  00b4f	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00b54	83 c4 18	 add	 esp, 24			; 00000018H

; 5167 : 			buf[2] = getMapEffectBuf();

  00b57	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00b5c	b9 04 00 00 00	 mov	 ecx, 4
  00b61	d1 e1		 shl	 ecx, 1
  00b63	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5168 : 			setEffectStar(buf[2], 70,  7,   0,   0, 1);

  00b69	6a 01		 push	 1
  00b6b	6a 00		 push	 0
  00b6d	6a 00		 push	 0
  00b6f	6a 07		 push	 7
  00b71	6a 46		 push	 70			; 00000046H
  00b73	b8 04 00 00 00	 mov	 eax, 4
  00b78	d1 e0		 shl	 eax, 1
  00b7a	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00b80	51		 push	 ecx
  00b81	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00b86	83 c4 18	 add	 esp, 24			; 00000018H

; 5169 : 			buf[3] = getMapEffectBuf();

  00b89	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00b8e	b9 04 00 00 00	 mov	 ecx, 4
  00b93	6b d1 03	 imul	 edx, ecx, 3
  00b96	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5170 : 			setEffectStar(buf[3], 73,  7,   0,   0, 1);

  00b9c	6a 01		 push	 1
  00b9e	6a 00		 push	 0
  00ba0	6a 00		 push	 0
  00ba2	6a 07		 push	 7
  00ba4	6a 49		 push	 73			; 00000049H
  00ba6	b8 04 00 00 00	 mov	 eax, 4
  00bab	6b c8 03	 imul	 ecx, eax, 3
  00bae	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00bb4	52		 push	 edx
  00bb5	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00bba	83 c4 18	 add	 esp, 24			; 00000018H

; 5171 : 			buf[4] = getMapEffectBuf();

  00bbd	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00bc2	b9 04 00 00 00	 mov	 ecx, 4
  00bc7	c1 e1 02	 shl	 ecx, 2
  00bca	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5172 : 			setEffectStar(buf[4], 75,  6,   0,   0, 0);

  00bd0	6a 00		 push	 0
  00bd2	6a 00		 push	 0
  00bd4	6a 00		 push	 0
  00bd6	6a 06		 push	 6
  00bd8	6a 4b		 push	 75			; 0000004bH
  00bda	b8 04 00 00 00	 mov	 eax, 4
  00bdf	c1 e0 02	 shl	 eax, 2
  00be2	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00be8	51		 push	 ecx
  00be9	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00bee	83 c4 18	 add	 esp, 24			; 00000018H

; 5173 : 
; 5174 : 			buf[5] = getMapEffectBuf();

  00bf1	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00bf6	b9 04 00 00 00	 mov	 ecx, 4
  00bfb	6b d1 05	 imul	 edx, ecx, 5
  00bfe	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5175 : 			setEffectStar(buf[5], 75,  9,   0,   0, 0);

  00c04	6a 00		 push	 0
  00c06	6a 00		 push	 0
  00c08	6a 00		 push	 0
  00c0a	6a 09		 push	 9
  00c0c	6a 4b		 push	 75			; 0000004bH
  00c0e	b8 04 00 00 00	 mov	 eax, 4
  00c13	6b c8 05	 imul	 ecx, eax, 5
  00c16	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00c1c	52		 push	 edx
  00c1d	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00c22	83 c4 18	 add	 esp, 24			; 00000018H

; 5176 : 			buf[6] = getMapEffectBuf();

  00c25	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00c2a	b9 04 00 00 00	 mov	 ecx, 4
  00c2f	6b d1 06	 imul	 edx, ecx, 6
  00c32	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5177 : 			setEffectStar(buf[6], 75, 11,   0,   0, 1);

  00c38	6a 01		 push	 1
  00c3a	6a 00		 push	 0
  00c3c	6a 00		 push	 0
  00c3e	6a 0b		 push	 11			; 0000000bH
  00c40	6a 4b		 push	 75			; 0000004bH
  00c42	b8 04 00 00 00	 mov	 eax, 4
  00c47	6b c8 06	 imul	 ecx, eax, 6
  00c4a	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00c50	52		 push	 edx
  00c51	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00c56	83 c4 18	 add	 esp, 24			; 00000018H

; 5178 : 			buf[7] = getMapEffectBuf();

  00c59	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00c5e	b9 04 00 00 00	 mov	 ecx, 4
  00c63	6b d1 07	 imul	 edx, ecx, 7
  00c66	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5179 : 			setEffectStar(buf[7], 77,  9,   0,   0, 1);

  00c6c	6a 01		 push	 1
  00c6e	6a 00		 push	 0
  00c70	6a 00		 push	 0
  00c72	6a 09		 push	 9
  00c74	6a 4d		 push	 77			; 0000004dH
  00c76	b8 04 00 00 00	 mov	 eax, 4
  00c7b	6b c8 07	 imul	 ecx, eax, 7
  00c7e	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00c84	52		 push	 edx
  00c85	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00c8a	83 c4 18	 add	 esp, 24			; 00000018H

; 5180 : 			buf[8] = getMapEffectBuf();

  00c8d	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00c92	b9 04 00 00 00	 mov	 ecx, 4
  00c97	c1 e1 03	 shl	 ecx, 3
  00c9a	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5181 : 			setEffectStar(buf[8], 76, 13,   0,   0, 0);

  00ca0	6a 00		 push	 0
  00ca2	6a 00		 push	 0
  00ca4	6a 00		 push	 0
  00ca6	6a 0d		 push	 13			; 0000000dH
  00ca8	6a 4c		 push	 76			; 0000004cH
  00caa	b8 04 00 00 00	 mov	 eax, 4
  00caf	c1 e0 03	 shl	 eax, 3
  00cb2	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00cb8	51		 push	 ecx
  00cb9	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00cbe	83 c4 18	 add	 esp, 24			; 00000018H

; 5182 : 			buf[9] = getMapEffectBuf();

  00cc1	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00cc6	b9 04 00 00 00	 mov	 ecx, 4
  00ccb	6b d1 09	 imul	 edx, ecx, 9
  00cce	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5183 : 			setEffectStar(buf[9], 79, 12,   0,   0, 0);

  00cd4	6a 00		 push	 0
  00cd6	6a 00		 push	 0
  00cd8	6a 00		 push	 0
  00cda	6a 0c		 push	 12			; 0000000cH
  00cdc	6a 4f		 push	 79			; 0000004fH
  00cde	b8 04 00 00 00	 mov	 eax, 4
  00ce3	6b c8 09	 imul	 ecx, eax, 9
  00ce6	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00cec	52		 push	 edx
  00ced	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00cf2	83 c4 18	 add	 esp, 24			; 00000018H

; 5184 : 
; 5185 : 			buf[10] = getMapEffectBuf();

  00cf5	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00cfa	b9 04 00 00 00	 mov	 ecx, 4
  00cff	6b d1 0a	 imul	 edx, ecx, 10
  00d02	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5186 : 			setEffectStar(buf[10], 78, 15,   0,   0, 1);

  00d08	6a 01		 push	 1
  00d0a	6a 00		 push	 0
  00d0c	6a 00		 push	 0
  00d0e	6a 0f		 push	 15			; 0000000fH
  00d10	6a 4e		 push	 78			; 0000004eH
  00d12	b8 04 00 00 00	 mov	 eax, 4
  00d17	6b c8 0a	 imul	 ecx, eax, 10
  00d1a	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00d20	52		 push	 edx
  00d21	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00d26	83 c4 18	 add	 esp, 24			; 00000018H

; 5187 : 			buf[11] = getMapEffectBuf();

  00d29	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00d2e	b9 04 00 00 00	 mov	 ecx, 4
  00d33	6b d1 0b	 imul	 edx, ecx, 11
  00d36	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5188 : 			setEffectStar(buf[11], 80, 14,   0,   0, 0);

  00d3c	6a 00		 push	 0
  00d3e	6a 00		 push	 0
  00d40	6a 00		 push	 0
  00d42	6a 0e		 push	 14			; 0000000eH
  00d44	6a 50		 push	 80			; 00000050H
  00d46	b8 04 00 00 00	 mov	 eax, 4
  00d4b	6b c8 0b	 imul	 ecx, eax, 11
  00d4e	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00d54	52		 push	 edx
  00d55	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00d5a	83 c4 18	 add	 esp, 24			; 00000018H

; 5189 : 			buf[12] = getMapEffectBuf();

  00d5d	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00d62	b9 04 00 00 00	 mov	 ecx, 4
  00d67	6b d1 0c	 imul	 edx, ecx, 12
  00d6a	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5190 : 			setEffectStar(buf[12], 79, 16,   0,   0, 1);

  00d70	6a 01		 push	 1
  00d72	6a 00		 push	 0
  00d74	6a 00		 push	 0
  00d76	6a 10		 push	 16			; 00000010H
  00d78	6a 4f		 push	 79			; 0000004fH
  00d7a	b8 04 00 00 00	 mov	 eax, 4
  00d7f	6b c8 0c	 imul	 ecx, eax, 12
  00d82	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00d88	52		 push	 edx
  00d89	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00d8e	83 c4 18	 add	 esp, 24			; 00000018H

; 5191 : 			buf[13] = getMapEffectBuf();

  00d91	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00d96	b9 04 00 00 00	 mov	 ecx, 4
  00d9b	6b d1 0d	 imul	 edx, ecx, 13
  00d9e	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5192 : 			setEffectStar(buf[13], 80, 18,   0,   0, 0);

  00da4	6a 00		 push	 0
  00da6	6a 00		 push	 0
  00da8	6a 00		 push	 0
  00daa	6a 12		 push	 18			; 00000012H
  00dac	6a 50		 push	 80			; 00000050H
  00dae	b8 04 00 00 00	 mov	 eax, 4
  00db3	6b c8 0d	 imul	 ecx, eax, 13
  00db6	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00dbc	52		 push	 edx
  00dbd	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00dc2	83 c4 18	 add	 esp, 24			; 00000018H

; 5193 : 			buf[14] = getMapEffectBuf();

  00dc5	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00dca	b9 04 00 00 00	 mov	 ecx, 4
  00dcf	6b d1 0e	 imul	 edx, ecx, 14
  00dd2	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5194 : 			setEffectStar(buf[14], 83, 18,   0,   0, 0);

  00dd8	6a 00		 push	 0
  00dda	6a 00		 push	 0
  00ddc	6a 00		 push	 0
  00dde	6a 12		 push	 18			; 00000012H
  00de0	6a 53		 push	 83			; 00000053H
  00de2	b8 04 00 00 00	 mov	 eax, 4
  00de7	6b c8 0e	 imul	 ecx, eax, 14
  00dea	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00df0	52		 push	 edx
  00df1	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00df6	83 c4 18	 add	 esp, 24			; 00000018H

; 5195 : 
; 5196 : 			buf[15] = getMapEffectBuf();

  00df9	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00dfe	b9 04 00 00 00	 mov	 ecx, 4
  00e03	6b d1 0f	 imul	 edx, ecx, 15
  00e06	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5197 : 			setEffectStar(buf[15], 83, 20,   0,   0, 1);

  00e0c	6a 01		 push	 1
  00e0e	6a 00		 push	 0
  00e10	6a 00		 push	 0
  00e12	6a 14		 push	 20			; 00000014H
  00e14	6a 53		 push	 83			; 00000053H
  00e16	b8 04 00 00 00	 mov	 eax, 4
  00e1b	6b c8 0f	 imul	 ecx, eax, 15
  00e1e	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00e24	52		 push	 edx
  00e25	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00e2a	83 c4 18	 add	 esp, 24			; 00000018H

; 5198 : 			buf[16] = getMapEffectBuf();

  00e2d	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00e32	b9 04 00 00 00	 mov	 ecx, 4
  00e37	c1 e1 04	 shl	 ecx, 4
  00e3a	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5199 : 			setEffectStar(buf[16], 84, 20,   0,   0, 1);

  00e40	6a 01		 push	 1
  00e42	6a 00		 push	 0
  00e44	6a 00		 push	 0
  00e46	6a 14		 push	 20			; 00000014H
  00e48	6a 54		 push	 84			; 00000054H
  00e4a	b8 04 00 00 00	 mov	 eax, 4
  00e4f	c1 e0 04	 shl	 eax, 4
  00e52	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  00e58	51		 push	 ecx
  00e59	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00e5e	83 c4 18	 add	 esp, 24			; 00000018H

; 5200 : 			buf[17] = getMapEffectBuf();

  00e61	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00e66	b9 04 00 00 00	 mov	 ecx, 4
  00e6b	6b d1 11	 imul	 edx, ecx, 17
  00e6e	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5201 : 			setEffectStar(buf[17], 84, 22,   0,   0, 0);

  00e74	6a 00		 push	 0
  00e76	6a 00		 push	 0
  00e78	6a 00		 push	 0
  00e7a	6a 16		 push	 22			; 00000016H
  00e7c	6a 54		 push	 84			; 00000054H
  00e7e	b8 04 00 00 00	 mov	 eax, 4
  00e83	6b c8 11	 imul	 ecx, eax, 17
  00e86	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00e8c	52		 push	 edx
  00e8d	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00e92	83 c4 18	 add	 esp, 24			; 00000018H

; 5202 : 			buf[18] = getMapEffectBuf();

  00e95	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00e9a	b9 04 00 00 00	 mov	 ecx, 4
  00e9f	6b d1 12	 imul	 edx, ecx, 18
  00ea2	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5203 : 			setEffectStar(buf[18], 85, 19,   0,   0, 0);

  00ea8	6a 00		 push	 0
  00eaa	6a 00		 push	 0
  00eac	6a 00		 push	 0
  00eae	6a 13		 push	 19			; 00000013H
  00eb0	6a 55		 push	 85			; 00000055H
  00eb2	b8 04 00 00 00	 mov	 eax, 4
  00eb7	6b c8 12	 imul	 ecx, eax, 18
  00eba	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00ec0	52		 push	 edx
  00ec1	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00ec6	83 c4 18	 add	 esp, 24			; 00000018H

; 5204 : 			buf[19] = getMapEffectBuf();

  00ec9	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00ece	b9 04 00 00 00	 mov	 ecx, 4
  00ed3	6b d1 13	 imul	 edx, ecx, 19
  00ed6	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5205 : 			setEffectStar(buf[19], 87, 20,   0,   0, 1);

  00edc	6a 01		 push	 1
  00ede	6a 00		 push	 0
  00ee0	6a 00		 push	 0
  00ee2	6a 14		 push	 20			; 00000014H
  00ee4	6a 57		 push	 87			; 00000057H
  00ee6	b8 04 00 00 00	 mov	 eax, 4
  00eeb	6b c8 13	 imul	 ecx, eax, 19
  00eee	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00ef4	52		 push	 edx
  00ef5	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00efa	83 c4 18	 add	 esp, 24			; 00000018H

; 5206 : 
; 5207 : 			buf[20] = getMapEffectBuf();

  00efd	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00f02	b9 04 00 00 00	 mov	 ecx, 4
  00f07	6b d1 14	 imul	 edx, ecx, 20
  00f0a	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5208 : 			setEffectStar(buf[20], 89, 21,   0,   0, 0);

  00f10	6a 00		 push	 0
  00f12	6a 00		 push	 0
  00f14	6a 00		 push	 0
  00f16	6a 15		 push	 21			; 00000015H
  00f18	6a 59		 push	 89			; 00000059H
  00f1a	b8 04 00 00 00	 mov	 eax, 4
  00f1f	6b c8 14	 imul	 ecx, eax, 20
  00f22	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00f28	52		 push	 edx
  00f29	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00f2e	83 c4 18	 add	 esp, 24			; 00000018H

; 5209 : 			buf[21] = getMapEffectBuf();

  00f31	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00f36	b9 04 00 00 00	 mov	 ecx, 4
  00f3b	6b d1 15	 imul	 edx, ecx, 21
  00f3e	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5210 : 			setEffectStar(buf[21], 89, 23,   0,   0, 1);

  00f44	6a 01		 push	 1
  00f46	6a 00		 push	 0
  00f48	6a 00		 push	 0
  00f4a	6a 17		 push	 23			; 00000017H
  00f4c	6a 59		 push	 89			; 00000059H
  00f4e	b8 04 00 00 00	 mov	 eax, 4
  00f53	6b c8 15	 imul	 ecx, eax, 21
  00f56	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00f5c	52		 push	 edx
  00f5d	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00f62	83 c4 18	 add	 esp, 24			; 00000018H

; 5211 : 			buf[22] = getMapEffectBuf();

  00f65	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00f6a	b9 04 00 00 00	 mov	 ecx, 4
  00f6f	6b d1 16	 imul	 edx, ecx, 22
  00f72	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5212 : 			setEffectStar(buf[22], 89, 26,   0,   0, 1);

  00f78	6a 01		 push	 1
  00f7a	6a 00		 push	 0
  00f7c	6a 00		 push	 0
  00f7e	6a 1a		 push	 26			; 0000001aH
  00f80	6a 59		 push	 89			; 00000059H
  00f82	b8 04 00 00 00	 mov	 eax, 4
  00f87	6b c8 16	 imul	 ecx, eax, 22
  00f8a	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00f90	52		 push	 edx
  00f91	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00f96	83 c4 18	 add	 esp, 24			; 00000018H

; 5213 : 			buf[23] = getMapEffectBuf();

  00f99	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00f9e	b9 04 00 00 00	 mov	 ecx, 4
  00fa3	6b d1 17	 imul	 edx, ecx, 23
  00fa6	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5214 : 			setEffectStar(buf[23], 91, 25,   0,   0, 0);

  00fac	6a 00		 push	 0
  00fae	6a 00		 push	 0
  00fb0	6a 00		 push	 0
  00fb2	6a 19		 push	 25			; 00000019H
  00fb4	6a 5b		 push	 91			; 0000005bH
  00fb6	b8 04 00 00 00	 mov	 eax, 4
  00fbb	6b c8 17	 imul	 ecx, eax, 23
  00fbe	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00fc4	52		 push	 edx
  00fc5	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00fca	83 c4 18	 add	 esp, 24			; 00000018H

; 5215 : 			buf[24] = getMapEffectBuf();

  00fcd	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00fd2	b9 04 00 00 00	 mov	 ecx, 4
  00fd7	6b d1 18	 imul	 edx, ecx, 24
  00fda	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5216 : 			setEffectStar(buf[24], 91, 27,   0,   0, 1);

  00fe0	6a 01		 push	 1
  00fe2	6a 00		 push	 0
  00fe4	6a 00		 push	 0
  00fe6	6a 1b		 push	 27			; 0000001bH
  00fe8	6a 5b		 push	 91			; 0000005bH
  00fea	b8 04 00 00 00	 mov	 eax, 4
  00fef	6b c8 18	 imul	 ecx, eax, 24
  00ff2	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  00ff8	52		 push	 edx
  00ff9	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  00ffe	83 c4 18	 add	 esp, 24			; 00000018H

; 5217 : 
; 5218 : 			buf[25] = getMapEffectBuf();

  01001	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01006	b9 04 00 00 00	 mov	 ecx, 4
  0100b	6b d1 19	 imul	 edx, ecx, 25
  0100e	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5219 : 			setEffectStar(buf[25], 93, 26,   0,   0, 1);

  01014	6a 01		 push	 1
  01016	6a 00		 push	 0
  01018	6a 00		 push	 0
  0101a	6a 1a		 push	 26			; 0000001aH
  0101c	6a 5d		 push	 93			; 0000005dH
  0101e	b8 04 00 00 00	 mov	 eax, 4
  01023	6b c8 19	 imul	 ecx, eax, 25
  01026	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0102c	52		 push	 edx
  0102d	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01032	83 c4 18	 add	 esp, 24			; 00000018H

; 5220 : 			buf[26] = getMapEffectBuf();

  01035	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0103a	b9 04 00 00 00	 mov	 ecx, 4
  0103f	6b d1 1a	 imul	 edx, ecx, 26
  01042	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5221 : 			setEffectStar(buf[26], 93, 30,   0,   0, 0);

  01048	6a 00		 push	 0
  0104a	6a 00		 push	 0
  0104c	6a 00		 push	 0
  0104e	6a 1e		 push	 30			; 0000001eH
  01050	6a 5d		 push	 93			; 0000005dH
  01052	b8 04 00 00 00	 mov	 eax, 4
  01057	6b c8 1a	 imul	 ecx, eax, 26
  0105a	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01060	52		 push	 edx
  01061	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01066	83 c4 18	 add	 esp, 24			; 00000018H

; 5222 : 
; 5223 : 			mapEffectStarFlag = 1;

  01069	b8 01 00 00 00	 mov	 eax, 1
  0106e	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectStarFlag@@3FA, ax ; mapEffectStarFlag
  01074	e9 68 06 00 00	 jmp	 $LN24@mapEffectS
$LN27@mapEffectS:

; 5224 : 		}
; 5225 : 		else if (nowFloor == 20406 && mapEffectStarFlag == 0)

  01079	81 3d 00 00 00
	00 b6 4f 00 00	 cmp	 DWORD PTR ?nowFloor@@3HA, 20406 ; nowFloor, 00004fb6H
  01083	0f 85 58 06 00
	00		 jne	 $LN24@mapEffectS
  01089	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectStarFlag@@3FA ; mapEffectStarFlag
  01090	85 c0		 test	 eax, eax
  01092	0f 85 49 06 00
	00		 jne	 $LN24@mapEffectS

; 5226 : 		{
; 5227 : 			for (i = 0; i < sizeof(buf) / sizeof(void *); i++)

  01098	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0109f	eb 09		 jmp	 SHORT $LN13@mapEffectS
$LN11@mapEffectS:
  010a1	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  010a4	83 c0 01	 add	 eax, 1
  010a7	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN13@mapEffectS:
  010aa	83 7d f8 1e	 cmp	 DWORD PTR _i$[ebp], 30	; 0000001eH
  010ae	73 10		 jae	 SHORT $LN12@mapEffectS

; 5228 : 				buf[i] = NULL;

  010b0	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  010b3	c7 04 85 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4], 0
  010be	eb e1		 jmp	 SHORT $LN11@mapEffectS
$LN12@mapEffectS:

; 5229 : 			buf[0] = getMapEffectBuf();

  010c0	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  010c5	b9 04 00 00 00	 mov	 ecx, 4
  010ca	6b d1 00	 imul	 edx, ecx, 0
  010cd	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5230 : 			setEffectStar(buf[0], 16,  8,   0,   0, 1);

  010d3	6a 01		 push	 1
  010d5	6a 00		 push	 0
  010d7	6a 00		 push	 0
  010d9	6a 08		 push	 8
  010db	6a 10		 push	 16			; 00000010H
  010dd	b8 04 00 00 00	 mov	 eax, 4
  010e2	6b c8 00	 imul	 ecx, eax, 0
  010e5	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  010eb	52		 push	 edx
  010ec	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  010f1	83 c4 18	 add	 esp, 24			; 00000018H

; 5231 : 			buf[1] = getMapEffectBuf();

  010f4	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  010f9	b9 04 00 00 00	 mov	 ecx, 4
  010fe	c1 e1 00	 shl	 ecx, 0
  01101	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5232 : 			setEffectStar(buf[1], 16, 10,   0,   0, 0);

  01107	6a 00		 push	 0
  01109	6a 00		 push	 0
  0110b	6a 00		 push	 0
  0110d	6a 0a		 push	 10			; 0000000aH
  0110f	6a 10		 push	 16			; 00000010H
  01111	b8 04 00 00 00	 mov	 eax, 4
  01116	c1 e0 00	 shl	 eax, 0
  01119	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  0111f	51		 push	 ecx
  01120	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01125	83 c4 18	 add	 esp, 24			; 00000018H

; 5233 : 			buf[2] = getMapEffectBuf();

  01128	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0112d	b9 04 00 00 00	 mov	 ecx, 4
  01132	d1 e1		 shl	 ecx, 1
  01134	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5234 : 			setEffectStar(buf[2], 18, 10,   0,   0, 0);

  0113a	6a 00		 push	 0
  0113c	6a 00		 push	 0
  0113e	6a 00		 push	 0
  01140	6a 0a		 push	 10			; 0000000aH
  01142	6a 12		 push	 18			; 00000012H
  01144	b8 04 00 00 00	 mov	 eax, 4
  01149	d1 e0		 shl	 eax, 1
  0114b	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  01151	51		 push	 ecx
  01152	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01157	83 c4 18	 add	 esp, 24			; 00000018H

; 5235 : 			buf[3] = getMapEffectBuf();

  0115a	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0115f	b9 04 00 00 00	 mov	 ecx, 4
  01164	6b d1 03	 imul	 edx, ecx, 3
  01167	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5236 : 			setEffectStar(buf[3], 19, 12,   0,   0, 1);

  0116d	6a 01		 push	 1
  0116f	6a 00		 push	 0
  01171	6a 00		 push	 0
  01173	6a 0c		 push	 12			; 0000000cH
  01175	6a 13		 push	 19			; 00000013H
  01177	b8 04 00 00 00	 mov	 eax, 4
  0117c	6b c8 03	 imul	 ecx, eax, 3
  0117f	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01185	52		 push	 edx
  01186	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0118b	83 c4 18	 add	 esp, 24			; 00000018H

; 5237 : 			buf[4] = getMapEffectBuf();

  0118e	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01193	b9 04 00 00 00	 mov	 ecx, 4
  01198	c1 e1 02	 shl	 ecx, 2
  0119b	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5238 : 			setEffectStar(buf[4], 20, 12,   0,   0, 1);

  011a1	6a 01		 push	 1
  011a3	6a 00		 push	 0
  011a5	6a 00		 push	 0
  011a7	6a 0c		 push	 12			; 0000000cH
  011a9	6a 14		 push	 20			; 00000014H
  011ab	b8 04 00 00 00	 mov	 eax, 4
  011b0	c1 e0 02	 shl	 eax, 2
  011b3	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  011b9	51		 push	 ecx
  011ba	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  011bf	83 c4 18	 add	 esp, 24			; 00000018H

; 5239 : 
; 5240 : 			buf[5] = getMapEffectBuf();

  011c2	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  011c7	b9 04 00 00 00	 mov	 ecx, 4
  011cc	6b d1 05	 imul	 edx, ecx, 5
  011cf	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5241 : 			setEffectStar(buf[5], 21, 14,   0,   0, 0);

  011d5	6a 00		 push	 0
  011d7	6a 00		 push	 0
  011d9	6a 00		 push	 0
  011db	6a 0e		 push	 14			; 0000000eH
  011dd	6a 15		 push	 21			; 00000015H
  011df	b8 04 00 00 00	 mov	 eax, 4
  011e4	6b c8 05	 imul	 ecx, eax, 5
  011e7	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  011ed	52		 push	 edx
  011ee	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  011f3	83 c4 18	 add	 esp, 24			; 00000018H

; 5242 : 			buf[6] = getMapEffectBuf();

  011f6	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  011fb	b9 04 00 00 00	 mov	 ecx, 4
  01200	6b d1 06	 imul	 edx, ecx, 6
  01203	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5243 : 			setEffectStar(buf[6], 22, 16,   0,   0, 0);

  01209	6a 00		 push	 0
  0120b	6a 00		 push	 0
  0120d	6a 00		 push	 0
  0120f	6a 10		 push	 16			; 00000010H
  01211	6a 16		 push	 22			; 00000016H
  01213	b8 04 00 00 00	 mov	 eax, 4
  01218	6b c8 06	 imul	 ecx, eax, 6
  0121b	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01221	52		 push	 edx
  01222	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01227	83 c4 18	 add	 esp, 24			; 00000018H

; 5244 : 			buf[7] = getMapEffectBuf();

  0122a	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0122f	b9 04 00 00 00	 mov	 ecx, 4
  01234	6b d1 07	 imul	 edx, ecx, 7
  01237	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5245 : 			setEffectStar(buf[7], 23, 16,   0,   0, 1);

  0123d	6a 01		 push	 1
  0123f	6a 00		 push	 0
  01241	6a 00		 push	 0
  01243	6a 10		 push	 16			; 00000010H
  01245	6a 17		 push	 23			; 00000017H
  01247	b8 04 00 00 00	 mov	 eax, 4
  0124c	6b c8 07	 imul	 ecx, eax, 7
  0124f	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01255	52		 push	 edx
  01256	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0125b	83 c4 18	 add	 esp, 24			; 00000018H

; 5246 : 			buf[8] = getMapEffectBuf();

  0125e	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01263	b9 04 00 00 00	 mov	 ecx, 4
  01268	c1 e1 03	 shl	 ecx, 3
  0126b	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5247 : 			setEffectStar(buf[8], 22, 11,   0,   0, 0);

  01271	6a 00		 push	 0
  01273	6a 00		 push	 0
  01275	6a 00		 push	 0
  01277	6a 0b		 push	 11			; 0000000bH
  01279	6a 16		 push	 22			; 00000016H
  0127b	b8 04 00 00 00	 mov	 eax, 4
  01280	c1 e0 03	 shl	 eax, 3
  01283	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  01289	51		 push	 ecx
  0128a	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0128f	83 c4 18	 add	 esp, 24			; 00000018H

; 5248 : 			buf[9] = getMapEffectBuf();

  01292	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01297	b9 04 00 00 00	 mov	 ecx, 4
  0129c	6b d1 09	 imul	 edx, ecx, 9
  0129f	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5249 : 			setEffectStar(buf[9], 26, 15,   0,   0, 0);

  012a5	6a 00		 push	 0
  012a7	6a 00		 push	 0
  012a9	6a 00		 push	 0
  012ab	6a 0f		 push	 15			; 0000000fH
  012ad	6a 1a		 push	 26			; 0000001aH
  012af	b8 04 00 00 00	 mov	 eax, 4
  012b4	6b c8 09	 imul	 ecx, eax, 9
  012b7	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  012bd	52		 push	 edx
  012be	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  012c3	83 c4 18	 add	 esp, 24			; 00000018H

; 5250 : 
; 5251 : 			buf[10] = getMapEffectBuf();

  012c6	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  012cb	b9 04 00 00 00	 mov	 ecx, 4
  012d0	6b d1 0a	 imul	 edx, ecx, 10
  012d3	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5252 : 			setEffectStar(buf[10], 25, 18,   0,   0, 1);

  012d9	6a 01		 push	 1
  012db	6a 00		 push	 0
  012dd	6a 00		 push	 0
  012df	6a 12		 push	 18			; 00000012H
  012e1	6a 19		 push	 25			; 00000019H
  012e3	b8 04 00 00 00	 mov	 eax, 4
  012e8	6b c8 0a	 imul	 ecx, eax, 10
  012eb	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  012f1	52		 push	 edx
  012f2	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  012f7	83 c4 18	 add	 esp, 24			; 00000018H

; 5253 : 			buf[11] = getMapEffectBuf();

  012fa	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  012ff	b9 04 00 00 00	 mov	 ecx, 4
  01304	6b d1 0b	 imul	 edx, ecx, 11
  01307	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5254 : 			setEffectStar(buf[11], 26, 17,   0,   0, 1);

  0130d	6a 01		 push	 1
  0130f	6a 00		 push	 0
  01311	6a 00		 push	 0
  01313	6a 11		 push	 17			; 00000011H
  01315	6a 1a		 push	 26			; 0000001aH
  01317	b8 04 00 00 00	 mov	 eax, 4
  0131c	6b c8 0b	 imul	 ecx, eax, 11
  0131f	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01325	52		 push	 edx
  01326	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0132b	83 c4 18	 add	 esp, 24			; 00000018H

; 5255 : 			buf[12] = getMapEffectBuf();

  0132e	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01333	b9 04 00 00 00	 mov	 ecx, 4
  01338	6b d1 0c	 imul	 edx, ecx, 12
  0133b	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5256 : 			setEffectStar(buf[12], 27, 13,   0,   0, 0);

  01341	6a 00		 push	 0
  01343	6a 00		 push	 0
  01345	6a 00		 push	 0
  01347	6a 0d		 push	 13			; 0000000dH
  01349	6a 1b		 push	 27			; 0000001bH
  0134b	b8 04 00 00 00	 mov	 eax, 4
  01350	6b c8 0c	 imul	 ecx, eax, 12
  01353	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01359	52		 push	 edx
  0135a	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0135f	83 c4 18	 add	 esp, 24			; 00000018H

; 5257 : 			buf[13] = getMapEffectBuf();

  01362	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01367	b9 04 00 00 00	 mov	 ecx, 4
  0136c	6b d1 0d	 imul	 edx, ecx, 13
  0136f	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5258 : 			setEffectStar(buf[13], 29, 14,   0,   0, 1);

  01375	6a 01		 push	 1
  01377	6a 00		 push	 0
  01379	6a 00		 push	 0
  0137b	6a 0e		 push	 14			; 0000000eH
  0137d	6a 1d		 push	 29			; 0000001dH
  0137f	b8 04 00 00 00	 mov	 eax, 4
  01384	6b c8 0d	 imul	 ecx, eax, 13
  01387	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0138d	52		 push	 edx
  0138e	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01393	83 c4 18	 add	 esp, 24			; 00000018H

; 5259 : 			buf[14] = getMapEffectBuf();

  01396	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0139b	b9 04 00 00 00	 mov	 ecx, 4
  013a0	6b d1 0e	 imul	 edx, ecx, 14
  013a3	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5260 : 			setEffectStar(buf[14], 29, 12,   0,   0, 1);

  013a9	6a 01		 push	 1
  013ab	6a 00		 push	 0
  013ad	6a 00		 push	 0
  013af	6a 0c		 push	 12			; 0000000cH
  013b1	6a 1d		 push	 29			; 0000001dH
  013b3	b8 04 00 00 00	 mov	 eax, 4
  013b8	6b c8 0e	 imul	 ecx, eax, 14
  013bb	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  013c1	52		 push	 edx
  013c2	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  013c7	83 c4 18	 add	 esp, 24			; 00000018H

; 5261 : 
; 5262 : 			buf[15] = getMapEffectBuf();

  013ca	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  013cf	b9 04 00 00 00	 mov	 ecx, 4
  013d4	6b d1 0f	 imul	 edx, ecx, 15
  013d7	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5263 : 			setEffectStar(buf[15], 31, 17,   0,   0, 0);

  013dd	6a 00		 push	 0
  013df	6a 00		 push	 0
  013e1	6a 00		 push	 0
  013e3	6a 11		 push	 17			; 00000011H
  013e5	6a 1f		 push	 31			; 0000001fH
  013e7	b8 04 00 00 00	 mov	 eax, 4
  013ec	6b c8 0f	 imul	 ecx, eax, 15
  013ef	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  013f5	52		 push	 edx
  013f6	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  013fb	83 c4 18	 add	 esp, 24			; 00000018H

; 5264 : 			buf[16] = getMapEffectBuf();

  013fe	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01403	b9 04 00 00 00	 mov	 ecx, 4
  01408	c1 e1 04	 shl	 ecx, 4
  0140b	89 81 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx], eax

; 5265 : 			setEffectStar(buf[16], 31, 19,   0,   0, 1);

  01411	6a 01		 push	 1
  01413	6a 00		 push	 0
  01415	6a 00		 push	 0
  01417	6a 13		 push	 19			; 00000013H
  01419	6a 1f		 push	 31			; 0000001fH
  0141b	b8 04 00 00 00	 mov	 eax, 4
  01420	c1 e0 04	 shl	 eax, 4
  01423	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax]
  01429	51		 push	 ecx
  0142a	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0142f	83 c4 18	 add	 esp, 24			; 00000018H

; 5266 : 			buf[17] = getMapEffectBuf();

  01432	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01437	b9 04 00 00 00	 mov	 ecx, 4
  0143c	6b d1 11	 imul	 edx, ecx, 17
  0143f	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5267 : 			setEffectStar(buf[17], 34, 18,   0,   0, 1);

  01445	6a 01		 push	 1
  01447	6a 00		 push	 0
  01449	6a 00		 push	 0
  0144b	6a 12		 push	 18			; 00000012H
  0144d	6a 22		 push	 34			; 00000022H
  0144f	b8 04 00 00 00	 mov	 eax, 4
  01454	6b c8 11	 imul	 ecx, eax, 17
  01457	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0145d	52		 push	 edx
  0145e	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01463	83 c4 18	 add	 esp, 24			; 00000018H

; 5268 : 			buf[18] = getMapEffectBuf();

  01466	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0146b	b9 04 00 00 00	 mov	 ecx, 4
  01470	6b d1 12	 imul	 edx, ecx, 18
  01473	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5269 : 			setEffectStar(buf[18], 33, 21,   0,   0, 1);

  01479	6a 01		 push	 1
  0147b	6a 00		 push	 0
  0147d	6a 00		 push	 0
  0147f	6a 15		 push	 21			; 00000015H
  01481	6a 21		 push	 33			; 00000021H
  01483	b8 04 00 00 00	 mov	 eax, 4
  01488	6b c8 12	 imul	 ecx, eax, 18
  0148b	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01491	52		 push	 edx
  01492	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01497	83 c4 18	 add	 esp, 24			; 00000018H

; 5270 : 			buf[19] = getMapEffectBuf();

  0149a	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0149f	b9 04 00 00 00	 mov	 ecx, 4
  014a4	6b d1 13	 imul	 edx, ecx, 19
  014a7	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5271 : 			setEffectStar(buf[19], 34, 23,   0,   0, 0);

  014ad	6a 00		 push	 0
  014af	6a 00		 push	 0
  014b1	6a 00		 push	 0
  014b3	6a 17		 push	 23			; 00000017H
  014b5	6a 22		 push	 34			; 00000022H
  014b7	b8 04 00 00 00	 mov	 eax, 4
  014bc	6b c8 13	 imul	 ecx, eax, 19
  014bf	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  014c5	52		 push	 edx
  014c6	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  014cb	83 c4 18	 add	 esp, 24			; 00000018H

; 5272 : 
; 5273 : 			buf[20] = getMapEffectBuf();

  014ce	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  014d3	b9 04 00 00 00	 mov	 ecx, 4
  014d8	6b d1 14	 imul	 edx, ecx, 20
  014db	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5274 : 			setEffectStar(buf[20], 38, 26,   0,   0, 0);

  014e1	6a 00		 push	 0
  014e3	6a 00		 push	 0
  014e5	6a 00		 push	 0
  014e7	6a 1a		 push	 26			; 0000001aH
  014e9	6a 26		 push	 38			; 00000026H
  014eb	b8 04 00 00 00	 mov	 eax, 4
  014f0	6b c8 14	 imul	 ecx, eax, 20
  014f3	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  014f9	52		 push	 edx
  014fa	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  014ff	83 c4 18	 add	 esp, 24			; 00000018H

; 5275 : 			buf[21] = getMapEffectBuf();

  01502	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01507	b9 04 00 00 00	 mov	 ecx, 4
  0150c	6b d1 15	 imul	 edx, ecx, 21
  0150f	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5276 : 			setEffectStar(buf[21], 41, 25,   0,   0, 1);

  01515	6a 01		 push	 1
  01517	6a 00		 push	 0
  01519	6a 00		 push	 0
  0151b	6a 19		 push	 25			; 00000019H
  0151d	6a 29		 push	 41			; 00000029H
  0151f	b8 04 00 00 00	 mov	 eax, 4
  01524	6b c8 15	 imul	 ecx, eax, 21
  01527	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  0152d	52		 push	 edx
  0152e	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01533	83 c4 18	 add	 esp, 24			; 00000018H

; 5277 : 			buf[22] = getMapEffectBuf();

  01536	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0153b	b9 04 00 00 00	 mov	 ecx, 4
  01540	6b d1 16	 imul	 edx, ecx, 22
  01543	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5278 : 			setEffectStar(buf[22], 41, 26,   0,   0, 1);

  01549	6a 01		 push	 1
  0154b	6a 00		 push	 0
  0154d	6a 00		 push	 0
  0154f	6a 1a		 push	 26			; 0000001aH
  01551	6a 29		 push	 41			; 00000029H
  01553	b8 04 00 00 00	 mov	 eax, 4
  01558	6b c8 16	 imul	 ecx, eax, 22
  0155b	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01561	52		 push	 edx
  01562	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01567	83 c4 18	 add	 esp, 24			; 00000018H

; 5279 : 			buf[23] = getMapEffectBuf();

  0156a	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0156f	b9 04 00 00 00	 mov	 ecx, 4
  01574	6b d1 17	 imul	 edx, ecx, 23
  01577	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5280 : 			setEffectStar(buf[23], 41, 32,   0,   0, 0);

  0157d	6a 00		 push	 0
  0157f	6a 00		 push	 0
  01581	6a 00		 push	 0
  01583	6a 20		 push	 32			; 00000020H
  01585	6a 29		 push	 41			; 00000029H
  01587	b8 04 00 00 00	 mov	 eax, 4
  0158c	6b c8 17	 imul	 ecx, eax, 23
  0158f	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01595	52		 push	 edx
  01596	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0159b	83 c4 18	 add	 esp, 24			; 00000018H

; 5281 : 			buf[24] = getMapEffectBuf();

  0159e	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  015a3	b9 04 00 00 00	 mov	 ecx, 4
  015a8	6b d1 18	 imul	 edx, ecx, 24
  015ab	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5282 : 			setEffectStar(buf[24], 44, 31,   0,   0, 0);

  015b1	6a 00		 push	 0
  015b3	6a 00		 push	 0
  015b5	6a 00		 push	 0
  015b7	6a 1f		 push	 31			; 0000001fH
  015b9	6a 2c		 push	 44			; 0000002cH
  015bb	b8 04 00 00 00	 mov	 eax, 4
  015c0	6b c8 18	 imul	 ecx, eax, 24
  015c3	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  015c9	52		 push	 edx
  015ca	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  015cf	83 c4 18	 add	 esp, 24			; 00000018H

; 5283 : 
; 5284 : 			buf[25] = getMapEffectBuf();

  015d2	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  015d7	b9 04 00 00 00	 mov	 ecx, 4
  015dc	6b d1 19	 imul	 edx, ecx, 25
  015df	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5285 : 			setEffectStar(buf[25], 44, 33,   0,   0, 0);

  015e5	6a 00		 push	 0
  015e7	6a 00		 push	 0
  015e9	6a 00		 push	 0
  015eb	6a 21		 push	 33			; 00000021H
  015ed	6a 2c		 push	 44			; 0000002cH
  015ef	b8 04 00 00 00	 mov	 eax, 4
  015f4	6b c8 19	 imul	 ecx, eax, 25
  015f7	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  015fd	52		 push	 edx
  015fe	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01603	83 c4 18	 add	 esp, 24			; 00000018H

; 5286 : 			buf[26] = getMapEffectBuf();

  01606	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0160b	b9 04 00 00 00	 mov	 ecx, 4
  01610	6b d1 1a	 imul	 edx, ecx, 26
  01613	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5287 : 			setEffectStar(buf[26], 42, 43,   0,   0, 1);

  01619	6a 01		 push	 1
  0161b	6a 00		 push	 0
  0161d	6a 00		 push	 0
  0161f	6a 2b		 push	 43			; 0000002bH
  01621	6a 2a		 push	 42			; 0000002aH
  01623	b8 04 00 00 00	 mov	 eax, 4
  01628	6b c8 1a	 imul	 ecx, eax, 26
  0162b	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01631	52		 push	 edx
  01632	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  01637	83 c4 18	 add	 esp, 24			; 00000018H

; 5288 : 			buf[27] = getMapEffectBuf();

  0163a	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0163f	b9 04 00 00 00	 mov	 ecx, 4
  01644	6b d1 1b	 imul	 edx, ecx, 27
  01647	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5289 : 			setEffectStar(buf[27], 45, 36,   0,   0, 0);

  0164d	6a 00		 push	 0
  0164f	6a 00		 push	 0
  01651	6a 00		 push	 0
  01653	6a 24		 push	 36			; 00000024H
  01655	6a 2d		 push	 45			; 0000002dH
  01657	b8 04 00 00 00	 mov	 eax, 4
  0165c	6b c8 1b	 imul	 ecx, eax, 27
  0165f	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01665	52		 push	 edx
  01666	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0166b	83 c4 18	 add	 esp, 24			; 00000018H

; 5290 : 			buf[28] = getMapEffectBuf();

  0166e	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  01673	b9 04 00 00 00	 mov	 ecx, 4
  01678	6b d1 1c	 imul	 edx, ecx, 28
  0167b	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5291 : 			setEffectStar(buf[28], 38, 21,   0,   0, 0);

  01681	6a 00		 push	 0
  01683	6a 00		 push	 0
  01685	6a 00		 push	 0
  01687	6a 15		 push	 21			; 00000015H
  01689	6a 26		 push	 38			; 00000026H
  0168b	b8 04 00 00 00	 mov	 eax, 4
  01690	6b c8 1c	 imul	 ecx, eax, 28
  01693	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  01699	52		 push	 edx
  0169a	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  0169f	83 c4 18	 add	 esp, 24			; 00000018H

; 5292 : 			buf[29] = getMapEffectBuf();

  016a2	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  016a7	b9 04 00 00 00	 mov	 ecx, 4
  016ac	6b d1 1d	 imul	 edx, ecx, 29
  016af	89 82 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[edx], eax

; 5293 : 			setEffectStar(buf[29], 37, 19,   0,   0, 1);

  016b5	6a 01		 push	 1
  016b7	6a 00		 push	 0
  016b9	6a 00		 push	 0
  016bb	6a 13		 push	 19			; 00000013H
  016bd	6a 25		 push	 37			; 00000025H
  016bf	b8 04 00 00 00	 mov	 eax, 4
  016c4	6b c8 1d	 imul	 ecx, eax, 29
  016c7	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx]
  016cd	52		 push	 edx
  016ce	e8 00 00 00 00	 call	 ?setEffectStar@@YAXPAU_MAP_EFFECT@@HHHHH@Z ; setEffectStar
  016d3	83 c4 18	 add	 esp, 24			; 00000018H

; 5294 : 
; 5295 : 			mapEffectStarFlag = 1;

  016d6	b8 01 00 00 00	 mov	 eax, 1
  016db	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectStarFlag@@3FA, ax ; mapEffectStarFlag
$LN24@mapEffectS:

; 5296 : 		}
; 5297 : 		for (i = 0; i < sizeof(buf) / sizeof(void*); i++)

  016e1	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  016e8	eb 09		 jmp	 SHORT $LN16@mapEffectS
$LN14@mapEffectS:
  016ea	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  016ed	83 c0 01	 add	 eax, 1
  016f0	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN16@mapEffectS:
  016f3	83 7d f8 1e	 cmp	 DWORD PTR _i$[ebp], 30	; 0000001eH
  016f7	0f 83 92 01 00
	00		 jae	 $LN15@mapEffectS

; 5298 : 		{
; 5299 : 			if (buf[i])

  016fd	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  01700	83 3c 85 00 00
	00 00 00	 cmp	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4], 0
  01708	0f 84 7c 01 00
	00		 je	 $LN30@mapEffectS

; 5300 : 			{
; 5301 : 				calEffectStar(buf[i]);

  0170e	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  01711	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  01718	51		 push	 ecx
  01719	e8 00 00 00 00	 call	 ?calEffectStar@@YAXPAU_MAP_EFFECT@@@Z ; calEffectStar
  0171e	83 c4 04	 add	 esp, 4

; 5302 : 				// ????
; 5303 : 				// ??£‡?
; 5304 : 				if (SaTime.hour < NOON_TO_EVENING + 20 || NIGHT_TO_MORNING + 70 < SaTime.hour)

  01721	81 3d 08 00 00
	00 dc 00 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 220 ; 000000dcH
  0172b	7c 0c		 jl	 SHORT $LN33@mapEffectS
  0172d	81 3d 08 00 00
	00 02 03 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 770 ; 00000302H
  01737	7e 18		 jle	 SHORT $LN31@mapEffectS
$LN33@mapEffectS:

; 5305 : 					buf[i]->mode = 5;

  01739	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0173c	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  01743	ba 05 00 00 00	 mov	 edx, 5
  01748	66 89 51 40	 mov	 WORD PTR [ecx+64], dx
  0174c	e9 39 01 00 00	 jmp	 $LN30@mapEffectS
$LN31@mapEffectS:

; 5306 : 				// ????
; 5307 : 				// ??£‡?
; 5308 : 				else if ((NOON_TO_EVENING + 20 <= SaTime.hour && SaTime.hour < NOON_TO_EVENING +30) || NIGHT_TO_MORNING + 60 < SaTime.hour)

  01751	81 3d 08 00 00
	00 dc 00 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 220 ; 000000dcH
  0175b	7c 0c		 jl	 SHORT $LN37@mapEffectS
  0175d	81 3d 08 00 00
	00 e6 00 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 230 ; 000000e6H
  01767	7c 0c		 jl	 SHORT $LN36@mapEffectS
$LN37@mapEffectS:
  01769	81 3d 08 00 00
	00 f8 02 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 760 ; 000002f8H
  01773	7e 18		 jle	 SHORT $LN34@mapEffectS
$LN36@mapEffectS:

; 5309 : 					buf[i]->mode = 6;

  01775	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  01778	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  0177f	ba 06 00 00 00	 mov	 edx, 6
  01784	66 89 51 40	 mov	 WORD PTR [ecx+64], dx
  01788	e9 fd 00 00 00	 jmp	 $LN30@mapEffectS
$LN34@mapEffectS:

; 5310 : 				// ????
; 5311 : 				// ??£‡?
; 5312 : 				else if ((NOON_TO_EVENING + 30 <= SaTime.hour && SaTime.hour < NOON_TO_EVENING + 40) || NIGHT_TO_MORNING + 40 < SaTime.hour)

  0178d	81 3d 08 00 00
	00 e6 00 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 230 ; 000000e6H
  01797	7c 0c		 jl	 SHORT $LN41@mapEffectS
  01799	81 3d 08 00 00
	00 f0 00 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 240 ; 000000f0H
  017a3	7c 0c		 jl	 SHORT $LN40@mapEffectS
$LN41@mapEffectS:
  017a5	81 3d 08 00 00
	00 e4 02 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 740 ; 000002e4H
  017af	7e 18		 jle	 SHORT $LN38@mapEffectS
$LN40@mapEffectS:

; 5313 : 					buf[i]->mode = 8;

  017b1	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  017b4	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  017bb	ba 08 00 00 00	 mov	 edx, 8
  017c0	66 89 51 40	 mov	 WORD PTR [ecx+64], dx

; 5314 : 				else

  017c4	e9 c1 00 00 00	 jmp	 $LN30@mapEffectS
$LN38@mapEffectS:

; 5315 : 				{
; 5316 : 					if (buf[i]->type2 == 0)

  017c9	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  017cc	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  017d3	0f bf 51 3e	 movsx	 edx, WORD PTR [ecx+62]
  017d7	85 d2		 test	 edx, edx
  017d9	0f 85 85 00 00
	00		 jne	 $LN42@mapEffectS

; 5317 : 					{
; 5318 : 						// ???£ºüî?þÑ?¢†????
; 5319 : 						// ??£‡£º???þÑ?üí????
; 5320 : 						if (SaTime.hour < NOON_TO_EVENING + 50 || NIGHT_TO_MORNING + 30 < SaTime.hour)

  017df	81 3d 08 00 00
	00 fa 00 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 250 ; 000000faH
  017e9	7c 0c		 jl	 SHORT $LN46@mapEffectS
  017eb	81 3d 08 00 00
	00 da 02 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 730 ; 000002daH
  017f5	7e 15		 jle	 SHORT $LN44@mapEffectS
$LN46@mapEffectS:

; 5321 : 							buf[i]->mode = 4;

  017f7	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  017fa	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  01801	ba 04 00 00 00	 mov	 edx, 4
  01806	66 89 51 40	 mov	 WORD PTR [ecx+64], dx
  0180a	eb 56		 jmp	 SHORT $LN45@mapEffectS
$LN44@mapEffectS:

; 5322 : 						// ???£º???þÑ?¢†????
; 5323 : 						// ??£‡£ºüî?þÑ?üí????
; 5324 : 						else if (SaTime.hour < NOON_TO_EVENING + 80 || NIGHT_TO_MORNING + 20 < SaTime.hour)

  0180c	81 3d 08 00 00
	00 18 01 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 280 ; 00000118H
  01816	7c 0c		 jl	 SHORT $LN49@mapEffectS
  01818	81 3d 08 00 00
	00 d0 02 00 00	 cmp	 DWORD PTR ?SaTime@@3UtagLSTIME@@A+8, 720 ; 000002d0H
  01822	7e 15		 jle	 SHORT $LN47@mapEffectS
$LN49@mapEffectS:

; 5325 : 							buf[i]->mode = 1;

  01824	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  01827	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  0182e	ba 01 00 00 00	 mov	 edx, 1
  01833	66 89 51 40	 mov	 WORD PTR [ecx+64], dx

; 5326 : 						else

  01837	eb 29		 jmp	 SHORT $LN45@mapEffectS
$LN47@mapEffectS:

; 5327 : 							buf[i]->mode = (rand() % 2);

  01839	8b f4		 mov	 esi, esp
  0183b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  01841	3b f4		 cmp	 esi, esp
  01843	e8 00 00 00 00	 call	 __RTC_CheckEsp
  01848	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0184d	79 05		 jns	 SHORT $LN53@mapEffectS
  0184f	48		 dec	 eax
  01850	83 c8 fe	 or	 eax, -2			; fffffffeH
  01853	40		 inc	 eax
$LN53@mapEffectS:
  01854	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  01857	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[ecx*4]
  0185e	66 89 42 40	 mov	 WORD PTR [edx+64], ax
$LN45@mapEffectS:
  01862	eb 26		 jmp	 SHORT $LN30@mapEffectS
$LN42@mapEffectS:

; 5328 : 					}
; 5329 : 					else if (buf[i]->type2 == 1)

  01864	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  01867	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  0186e	0f bf 51 3e	 movsx	 edx, WORD PTR [ecx+62]
  01872	83 fa 01	 cmp	 edx, 1
  01875	75 13		 jne	 SHORT $LN30@mapEffectS

; 5330 : 						buf[i]->mode = 8;

  01877	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0187a	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  01881	ba 08 00 00 00	 mov	 edx, 8
  01886	66 89 51 40	 mov	 WORD PTR [ecx+64], dx
$LN30@mapEffectS:

; 5331 : 				}
; 5332 : 			}
; 5333 : 		}

  0188a	e9 5b fe ff ff	 jmp	 $LN14@mapEffectS
$LN15@mapEffectS:

; 5334 : 		mapEffectDrawFlag = 1;

  0188f	b8 01 00 00 00	 mov	 eax, 1
  01894	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag

; 5335 : 	}
; 5336 : 	else

  0189a	eb 4e		 jmp	 SHORT $LN1@mapEffectS
$LN20@mapEffectS:

; 5337 : 	{
; 5338 : 		if (mapEffectStarFlag)

  0189c	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectStarFlag@@3FA ; mapEffectStarFlag
  018a3	85 c0		 test	 eax, eax
  018a5	74 43		 je	 SHORT $LN1@mapEffectS

; 5339 : 		{
; 5340 : 			for (i = 0; i < sizeof(buf) / sizeof(void*); i++)

  018a7	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  018ae	eb 09		 jmp	 SHORT $LN19@mapEffectS
$LN17@mapEffectS:
  018b0	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  018b3	83 c0 01	 add	 eax, 1
  018b6	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN19@mapEffectS:
  018b9	83 7d f8 1e	 cmp	 DWORD PTR _i$[ebp], 30	; 0000001eH
  018bd	73 23		 jae	 SHORT $LN18@mapEffectS

; 5341 : 			{
; 5342 : 				delMapEffectBuf(buf[i]);

  018bf	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  018c2	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4]
  018c9	51		 push	 ecx
  018ca	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  018cf	83 c4 04	 add	 esp, 4

; 5343 : 				buf[i] = NULL;

  018d2	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  018d5	c7 04 85 00 00
	00 00 00 00 00
	00		 mov	 DWORD PTR ?buf@?1??mapEffectStar@@YAXXZ@4PAPAU_MAP_EFFECT@@A[eax*4], 0

; 5344 : 			}

  018e0	eb ce		 jmp	 SHORT $LN17@mapEffectS
$LN18@mapEffectS:

; 5345 : 			mapEffectStarFlag = 0;

  018e2	33 c0		 xor	 eax, eax
  018e4	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectStarFlag@@3FA, ax ; mapEffectStarFlag
$LN1@mapEffectS:

; 5346 : 		}
; 5347 : 	}
; 5348 : }

  018ea	5f		 pop	 edi
  018eb	5e		 pop	 esi
  018ec	5b		 pop	 ebx
  018ed	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  018f3	3b ec		 cmp	 ebp, esp
  018f5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  018fa	8b e5		 mov	 esp, ebp
  018fc	5d		 pop	 ebp
  018fd	c3		 ret	 0
?mapEffectStar@@YAXXZ ENDP				; mapEffectStar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectSnow@@YAXXZ
_TEXT	SEGMENT
_buf2$2 = -152						; size = 4
_buf$3 = -140						; size = 4
_buf$4 = -128						; size = 4
_j$ = -116						; size = 4
_i$ = -104						; size = 4
_buf$ = -92						; size = 4
_hh$ = -80						; size = 4
_ww$ = -68						; size = 4
_hosei2$ = -56						; size = 4
_hosei1$ = -44						; size = 4
_mapEffectSnowFrameMax$ = -32				; size = 2
_mapEffectSnowWaitTime$ = -20				; size = 2
__$EHRec$ = -12						; size = 12
?mapEffectSnow@@YAXXZ PROC				; mapEffectSnow, COMDAT

; 4902 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?mapEffectSnow@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec 50 01 00
	00		 sub	 esp, 336		; 00000150H
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	8d bd a4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-348]
  00020	b9 54 00 00 00	 mov	 ecx, 84			; 00000054H
  00025	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002a	f3 ab		 rep stosd
  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00031	33 c5		 xor	 eax, ebp
  00033	50		 push	 eax
  00034	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00037	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 4903 : 	short mapEffectSnowWaitTime = 0;

  0003d	33 c0		 xor	 eax, eax
  0003f	66 89 45 ec	 mov	 WORD PTR _mapEffectSnowWaitTime$[ebp], ax

; 4904 : 	short mapEffectSnowFrameMax = 0;

  00043	33 c0		 xor	 eax, eax
  00045	66 89 45 e0	 mov	 WORD PTR _mapEffectSnowFrameMax$[ebp], ax

; 4905 : 	int hosei1 = 940;

  00049	c7 45 d4 ac 03
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 940 ; 000003acH

; 4906 : 	int hosei2 = -200;

  00050	c7 45 c8 38 ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -200 ; ffffff38H

; 4907 : 	int ww = DEF_APPSIZEX;

  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0005c	89 45 bc	 mov	 DWORD PTR _ww$[ebp], eax

; 4908 : 	int hh = DEF_APPSIZEY;

  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00064	89 45 b0	 mov	 DWORD PTR _hh$[ebp], eax

; 4909 : 	static unsigned int time = TimeGetTime();

  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR __tls_index
  0006c	64 8b 0d 00 00
	00 00		 mov	 ecx, DWORD PTR fs:__tls_array
  00073	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$TSS0@?1??mapEffectSnow@@YAXXZ@4HA
  0007b	3b 82 00 00 00
	00		 cmp	 eax, DWORD PTR __Init_thread_epoch[edx]
  00081	7e 3b		 jle	 SHORT $LN2@mapEffectS
  00083	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectSnow@@YAXXZ@4HA
  00088	e8 00 00 00 00	 call	 __Init_thread_header
  0008d	83 c4 04	 add	 esp, 4
  00090	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?$TSS0@?1??mapEffectSnow@@YAXXZ@4HA, -1
  00097	75 25		 jne	 SHORT $LN2@mapEffectS
  00099	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  000a0	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  000a5	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectSnow@@YAXXZ@4IA, eax
  000aa	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  000b1	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectSnow@@YAXXZ@4HA
  000b6	e8 00 00 00 00	 call	 __Init_thread_footer
  000bb	83 c4 04	 add	 esp, 4
$LN2@mapEffectS:

; 4910 : 	MAP_EFFECT *buf;
; 4911 : 	int i, j;
; 4912 : 	// ???????????????
; 4913 : 	if (ResoMode == 1)

  000be	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  000c5	75 1e		 jne	 SHORT $LN8@mapEffectS

; 4914 : 	{
; 4915 : 		ww >>= 1;

  000c7	8b 45 bc	 mov	 eax, DWORD PTR _ww$[ebp]
  000ca	d1 f8		 sar	 eax, 1
  000cc	89 45 bc	 mov	 DWORD PTR _ww$[ebp], eax

; 4916 : 		hh >>= 1;

  000cf	8b 45 b0	 mov	 eax, DWORD PTR _hh$[ebp]
  000d2	d1 f8		 sar	 eax, 1
  000d4	89 45 b0	 mov	 DWORD PTR _hh$[ebp], eax

; 4917 : 		hosei1 = 370;

  000d7	c7 45 d4 72 01
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 370 ; 00000172H

; 4918 : 		hosei2 = -50;

  000de	c7 45 c8 ce ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -50 ; ffffffceH
$LN8@mapEffectS:

; 4919 : 	}
; 4920 : 	// ¡D§DþØ
; 4921 : 	if (mapEffectSnowLevel)

  000e5	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  000ec	85 c0		 test	 eax, eax
  000ee	0f 84 e2 02 00
	00		 je	 $LN9@mapEffectS

; 4922 : 	{
; 4923 : 		if (mapEffectSnowLevel < 3)

  000f4	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  000fb	83 f8 03	 cmp	 eax, 3
  000fe	0f 8d 4f 01 00
	00		 jge	 $LN10@mapEffectS

; 4924 : 		{
; 4925 : 			mapEffectSnowWaitTime = (51 - 25 * mapEffectSnowLevel);

  00104	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  0010b	6b c8 19	 imul	 ecx, eax, 25
  0010e	ba 33 00 00 00	 mov	 edx, 51			; 00000033H
  00113	2b d1		 sub	 edx, ecx
  00115	66 89 55 ec	 mov	 WORD PTR _mapEffectSnowWaitTime$[ebp], dx

; 4926 : 			if (time + mapEffectSnowWaitTime < TimeGetTime())

  00119	0f bf 75 ec	 movsx	 esi, WORD PTR _mapEffectSnowWaitTime$[ebp]
  0011d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?time@?1??mapEffectSnow@@YAXXZ@4IA
  00123	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00128	3b f0		 cmp	 esi, eax
  0012a	0f 83 1e 01 00
	00		 jae	 $LN12@mapEffectS

; 4927 : 			{
; 4928 : 				MAP_EFFECT *buf = getMapEffectBuf();

  00130	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00135	89 45 80	 mov	 DWORD PTR _buf$4[ebp], eax

; 4929 : 				if (buf != (MAP_EFFECT*)NULL)

  00138	83 7d 80 00	 cmp	 DWORD PTR _buf$4[ebp], 0
  0013c	0f 84 0c 01 00
	00		 je	 $LN12@mapEffectS

; 4930 : 				{
; 4931 : 					buf->type = MAP_EFFECT_TYPE_SNOW;

  00142	b8 02 00 00 00	 mov	 eax, 2
  00147	8b 4d 80	 mov	 ecx, DWORD PTR _buf$4[ebp]
  0014a	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 4932 : 					buf->x = (rand() % hosei1) + hosei2;

  0014e	8b f4		 mov	 esi, esp
  00150	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00156	3b f4		 cmp	 esi, esp
  00158	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0015d	99		 cdq
  0015e	f7 7d d4	 idiv	 DWORD PTR _hosei1$[ebp]
  00161	03 55 c8	 add	 edx, DWORD PTR _hosei2$[ebp]
  00164	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  00167	89 10		 mov	 DWORD PTR [eax], edx

; 4933 : 					buf->y = 0;

  00169	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  0016c	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 4934 : 					buf->mode = (rand() % 2);

  00173	8b f4		 mov	 esi, esp
  00175	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0017b	3b f4		 cmp	 esi, esp
  0017d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00182	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00187	79 05		 jns	 SHORT $LN29@mapEffectS
  00189	48		 dec	 eax
  0018a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0018d	40		 inc	 eax
$LN29@mapEffectS:
  0018e	8b 4d 80	 mov	 ecx, DWORD PTR _buf$4[ebp]
  00191	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 4935 : 					j = (rand() % 2);

  00195	8b f4		 mov	 esi, esp
  00197	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0019d	3b f4		 cmp	 esi, esp
  0019f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a4	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001a9	79 05		 jns	 SHORT $LN30@mapEffectS
  001ab	48		 dec	 eax
  001ac	83 c8 fe	 or	 eax, -2			; fffffffeH
  001af	40		 inc	 eax
$LN30@mapEffectS:
  001b0	89 45 8c	 mov	 DWORD PTR _j$[ebp], eax

; 4936 : 					if (j == 0)

  001b3	83 7d 8c 00	 cmp	 DWORD PTR _j$[ebp], 0
  001b7	75 47		 jne	 SHORT $LN14@mapEffectS

; 4937 : 					{
; 4938 : 						buf->dx = 0 + (rand() % 2);

  001b9	8b f4		 mov	 esi, esp
  001bb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001c1	3b f4		 cmp	 esi, esp
  001c3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001c8	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001cd	79 05		 jns	 SHORT $LN31@mapEffectS
  001cf	48		 dec	 eax
  001d0	83 c8 fe	 or	 eax, -2			; fffffffeH
  001d3	40		 inc	 eax
$LN31@mapEffectS:
  001d4	8b 4d 80	 mov	 ecx, DWORD PTR _buf$4[ebp]
  001d7	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 4939 : 						buf->dy = 3 + (rand() % 2);

  001da	8b f4		 mov	 esi, esp
  001dc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  001e2	3b f4		 cmp	 esi, esp
  001e4	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001e9	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001ee	79 05		 jns	 SHORT $LN32@mapEffectS
  001f0	48		 dec	 eax
  001f1	83 c8 fe	 or	 eax, -2			; fffffffeH
  001f4	40		 inc	 eax
$LN32@mapEffectS:
  001f5	83 c0 03	 add	 eax, 3
  001f8	8b 4d 80	 mov	 ecx, DWORD PTR _buf$4[ebp]
  001fb	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
  001fe	eb 34		 jmp	 SHORT $LN15@mapEffectS
$LN14@mapEffectS:

; 4940 : 					}
; 4941 : 					else if (j == 1)

  00200	83 7d 8c 01	 cmp	 DWORD PTR _j$[ebp], 1
  00204	75 2e		 jne	 SHORT $LN15@mapEffectS

; 4942 : 					{
; 4943 : 						buf->dx = 1;

  00206	8b 45 80	 mov	 eax, DWORD PTR _buf$4[ebp]
  00209	c7 40 08 01 00
	00 00		 mov	 DWORD PTR [eax+8], 1

; 4944 : 						buf->dy = 4 + (rand() % 2);

  00210	8b f4		 mov	 esi, esp
  00212	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00218	3b f4		 cmp	 esi, esp
  0021a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0021f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00224	79 05		 jns	 SHORT $LN33@mapEffectS
  00226	48		 dec	 eax
  00227	83 c8 fe	 or	 eax, -2			; fffffffeH
  0022a	40		 inc	 eax
$LN33@mapEffectS:
  0022b	83 c0 04	 add	 eax, 4
  0022e	8b 4d 80	 mov	 ecx, DWORD PTR _buf$4[ebp]
  00231	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
$LN15@mapEffectS:

; 4945 : 					}
; 4946 : 					time = TimeGetTime();

  00234	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00239	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectSnow@@YAXXZ@4IA, eax

; 4947 : 					mapEffectSnowCnt++;

  0023e	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectSnowCnt@@3FA ; mapEffectSnowCnt
  00244	66 83 c0 01	 add	 ax, 1
  00248	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowCnt@@3FA, ax ; mapEffectSnowCnt
$LN12@mapEffectS:

; 4948 : 				}
; 4949 : 			}
; 4950 : 		}
; 4951 : 		else

  0024e	e9 83 01 00 00	 jmp	 $LN9@mapEffectS
$LN10@mapEffectS:

; 4952 : 		{
; 4953 : 			mapEffectSnowFrameMax = (mapEffectSnowLevel - 2) << 1;

  00253	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectSnowLevel@@3FA ; mapEffectSnowLevel
  0025a	8d 4c 00 fc	 lea	 ecx, DWORD PTR [eax+eax-4]
  0025e	66 89 4d e0	 mov	 WORD PTR _mapEffectSnowFrameMax$[ebp], cx

; 4954 : 			if (ResoMode == 1)

  00262	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00269	75 0b		 jne	 SHORT $LN17@mapEffectS

; 4955 : 				mapEffectSnowFrameMax >>= 1;

  0026b	66 8b 45 e0	 mov	 ax, WORD PTR _mapEffectSnowFrameMax$[ebp]
  0026f	66 d1 f8	 sar	 ax, 1
  00272	66 89 45 e0	 mov	 WORD PTR _mapEffectSnowFrameMax$[ebp], ax
$LN17@mapEffectS:

; 4956 : 			for (i = 0; i < mapEffectSnowFrameMax; i++)

  00276	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0027d	eb 09		 jmp	 SHORT $LN5@mapEffectS
$LN3@mapEffectS:
  0027f	8b 45 98	 mov	 eax, DWORD PTR _i$[ebp]
  00282	83 c0 01	 add	 eax, 1
  00285	89 45 98	 mov	 DWORD PTR _i$[ebp], eax
$LN5@mapEffectS:
  00288	0f bf 45 e0	 movsx	 eax, WORD PTR _mapEffectSnowFrameMax$[ebp]
  0028c	39 45 98	 cmp	 DWORD PTR _i$[ebp], eax
  0028f	0f 8d 41 01 00
	00		 jge	 $LN9@mapEffectS

; 4957 : 			{
; 4958 : 				MAP_EFFECT *buf = getMapEffectBuf();

  00295	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  0029a	89 85 74 ff ff
	ff		 mov	 DWORD PTR _buf$3[ebp], eax

; 4959 : 				if (buf != (MAP_EFFECT*)NULL)

  002a0	83 bd 74 ff ff
	ff 00		 cmp	 DWORD PTR _buf$3[ebp], 0
  002a7	0f 84 24 01 00
	00		 je	 $LN18@mapEffectS

; 4960 : 				{
; 4961 : 					buf->type = MAP_EFFECT_TYPE_SNOW;

  002ad	b8 02 00 00 00	 mov	 eax, 2
  002b2	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  002b8	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 4962 : 					buf->x = (rand() % hosei1) + hosei2;

  002bc	8b f4		 mov	 esi, esp
  002be	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002c4	3b f4		 cmp	 esi, esp
  002c6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002cb	99		 cdq
  002cc	f7 7d d4	 idiv	 DWORD PTR _hosei1$[ebp]
  002cf	03 55 c8	 add	 edx, DWORD PTR _hosei2$[ebp]
  002d2	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  002d8	89 10		 mov	 DWORD PTR [eax], edx

; 4963 : 					buf->y = 0;

  002da	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  002e0	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 4964 : 					buf->mode = (rand() % 2);

  002e7	8b f4		 mov	 esi, esp
  002e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  002ef	3b f4		 cmp	 esi, esp
  002f1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002f6	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  002fb	79 05		 jns	 SHORT $LN34@mapEffectS
  002fd	48		 dec	 eax
  002fe	83 c8 fe	 or	 eax, -2			; fffffffeH
  00301	40		 inc	 eax
$LN34@mapEffectS:
  00302	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  00308	66 89 41 40	 mov	 WORD PTR [ecx+64], ax

; 4965 : 					j = (rand() % 2);

  0030c	8b f4		 mov	 esi, esp
  0030e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00314	3b f4		 cmp	 esi, esp
  00316	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0031b	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00320	79 05		 jns	 SHORT $LN35@mapEffectS
  00322	48		 dec	 eax
  00323	83 c8 fe	 or	 eax, -2			; fffffffeH
  00326	40		 inc	 eax
$LN35@mapEffectS:
  00327	89 45 8c	 mov	 DWORD PTR _j$[ebp], eax

; 4966 : 					if (j == 0)

  0032a	83 7d 8c 00	 cmp	 DWORD PTR _j$[ebp], 0
  0032e	75 4d		 jne	 SHORT $LN19@mapEffectS

; 4967 : 					{
; 4968 : 						buf->dx = 0 + (rand() % 2);

  00330	8b f4		 mov	 esi, esp
  00332	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00338	3b f4		 cmp	 esi, esp
  0033a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0033f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00344	79 05		 jns	 SHORT $LN36@mapEffectS
  00346	48		 dec	 eax
  00347	83 c8 fe	 or	 eax, -2			; fffffffeH
  0034a	40		 inc	 eax
$LN36@mapEffectS:
  0034b	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  00351	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 4969 : 						buf->dy = 3 + (rand() % 2);

  00354	8b f4		 mov	 esi, esp
  00356	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  0035c	3b f4		 cmp	 esi, esp
  0035e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00363	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00368	79 05		 jns	 SHORT $LN37@mapEffectS
  0036a	48		 dec	 eax
  0036b	83 c8 fe	 or	 eax, -2			; fffffffeH
  0036e	40		 inc	 eax
$LN37@mapEffectS:
  0036f	83 c0 03	 add	 eax, 3
  00372	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  00378	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
  0037b	eb 3a		 jmp	 SHORT $LN20@mapEffectS
$LN19@mapEffectS:

; 4970 : 					}
; 4971 : 					else if (j == 1)

  0037d	83 7d 8c 01	 cmp	 DWORD PTR _j$[ebp], 1
  00381	75 34		 jne	 SHORT $LN20@mapEffectS

; 4972 : 					{
; 4973 : 						buf->dx = 1;

  00383	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf$3[ebp]
  00389	c7 40 08 01 00
	00 00		 mov	 DWORD PTR [eax+8], 1

; 4974 : 						buf->dy = 4 + (rand() % 2);

  00390	8b f4		 mov	 esi, esp
  00392	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00398	3b f4		 cmp	 esi, esp
  0039a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0039f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  003a4	79 05		 jns	 SHORT $LN38@mapEffectS
  003a6	48		 dec	 eax
  003a7	83 c8 fe	 or	 eax, -2			; fffffffeH
  003aa	40		 inc	 eax
$LN38@mapEffectS:
  003ab	83 c0 04	 add	 eax, 4
  003ae	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$3[ebp]
  003b4	89 41 0c	 mov	 DWORD PTR [ecx+12], eax
$LN20@mapEffectS:

; 4975 : 					}
; 4976 : 					time = TimeGetTime();

  003b7	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  003bc	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectSnow@@YAXXZ@4IA, eax

; 4977 : 					mapEffectSnowCnt++;

  003c1	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectSnowCnt@@3FA ; mapEffectSnowCnt
  003c7	66 83 c0 01	 add	 ax, 1
  003cb	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowCnt@@3FA, ax ; mapEffectSnowCnt
$LN18@mapEffectS:

; 4978 : 				}
; 4979 : 			}

  003d1	e9 a9 fe ff ff	 jmp	 $LN3@mapEffectS
$LN9@mapEffectS:

; 4980 : 		}
; 4981 : 	}
; 4982 : 	// ?¥h??
; 4983 : 	buf = useBufMapEffect;

  003d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  003db	89 45 a4	 mov	 DWORD PTR _buf$[ebp], eax
$LN6@mapEffectS:

; 4984 : 	while (buf != (MAP_EFFECT*)NULL)

  003de	83 7d a4 00	 cmp	 DWORD PTR _buf$[ebp], 0
  003e2	0f 84 ac 00 00
	00		 je	 $LN1@mapEffectS

; 4985 : 	{
; 4986 : 		if (buf->type == MAP_EFFECT_TYPE_SNOW)

  003e8	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  003eb	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  003ef	83 f9 02	 cmp	 ecx, 2
  003f2	0f 85 83 00 00
	00		 jne	 $LN22@mapEffectS

; 4987 : 		{
; 4988 : 			buf->x += buf->dx;

  003f8	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  003fb	8b 08		 mov	 ecx, DWORD PTR [eax]
  003fd	8b 55 a4	 mov	 edx, DWORD PTR _buf$[ebp]
  00400	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  00403	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  00406	89 08		 mov	 DWORD PTR [eax], ecx

; 4989 : 			buf->y += buf->dy;

  00408	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  0040b	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0040e	8b 55 a4	 mov	 edx, DWORD PTR _buf$[ebp]
  00411	03 4a 0c	 add	 ecx, DWORD PTR [edx+12]
  00414	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  00417	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 4990 : 			mapEffectDirHosei(&buf->x, &buf->y);

  0041a	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  0041d	83 c0 04	 add	 eax, 4
  00420	50		 push	 eax
  00421	8b 4d a4	 mov	 ecx, DWORD PTR _buf$[ebp]
  00424	51		 push	 ecx
  00425	e8 00 00 00 00	 call	 ?mapEffectDirHosei@@YAXPAH0@Z ; mapEffectDirHosei
  0042a	83 c4 08	 add	 esp, 8

; 4991 : 			if (ww + 100 <= buf->x || hh <= buf->y)

  0042d	8b 45 bc	 mov	 eax, DWORD PTR _ww$[ebp]
  00430	83 c0 64	 add	 eax, 100		; 00000064H
  00433	8b 4d a4	 mov	 ecx, DWORD PTR _buf$[ebp]
  00436	3b 01		 cmp	 eax, DWORD PTR [ecx]
  00438	7e 0b		 jle	 SHORT $LN24@mapEffectS
  0043a	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  0043d	8b 4d b0	 mov	 ecx, DWORD PTR _hh$[ebp]
  00440	3b 48 04	 cmp	 ecx, DWORD PTR [eax+4]
  00443	7f 36		 jg	 SHORT $LN22@mapEffectS
$LN24@mapEffectS:

; 4992 : 			{
; 4993 : 				// ?¥hü¬?
; 4994 : 				MAP_EFFECT *buf2 = buf->next;

  00445	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  00448	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  0044b	89 8d 68 ff ff
	ff		 mov	 DWORD PTR _buf2$2[ebp], ecx

; 4995 : 				delMapEffectBuf(buf);

  00451	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  00454	50		 push	 eax
  00455	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  0045a	83 c4 04	 add	 esp, 4

; 4996 : 				buf = buf2;

  0045d	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _buf2$2[ebp]
  00463	89 45 a4	 mov	 DWORD PTR _buf$[ebp], eax

; 4997 : 				mapEffectSnowCnt--;

  00466	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectSnowCnt@@3FA ; mapEffectSnowCnt
  0046c	66 83 e8 01	 sub	 ax, 1
  00470	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowCnt@@3FA, ax ; mapEffectSnowCnt

; 4998 : 				continue;

  00476	e9 63 ff ff ff	 jmp	 $LN6@mapEffectS
$LN22@mapEffectS:

; 4999 : 			}
; 5000 : 		}
; 5001 : 		buf = buf->next;

  0047b	8b 45 a4	 mov	 eax, DWORD PTR _buf$[ebp]
  0047e	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00481	89 4d a4	 mov	 DWORD PTR _buf$[ebp], ecx

; 5002 : 		mapEffectDrawFlag = 1;

  00484	b8 01 00 00 00	 mov	 eax, 1
  00489	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag

; 5003 : 	}

  0048f	e9 4a ff ff ff	 jmp	 $LN6@mapEffectS
$LN1@mapEffectS:

; 5004 : }

  00494	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00497	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0049e	59		 pop	 ecx
  0049f	5f		 pop	 edi
  004a0	5e		 pop	 esi
  004a1	5b		 pop	 ebx
  004a2	81 c4 5c 01 00
	00		 add	 esp, 348		; 0000015cH
  004a8	3b ec		 cmp	 ebp, esp
  004aa	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004af	8b e5		 mov	 esp, ebp
  004b1	5d		 pop	 ebp
  004b2	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?mapEffectSnow@@YAXXZ$0:
  00000	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectSnow@@YAXXZ@4HA
  00005	e8 00 00 00 00	 call	 __Init_thread_abort
  0000a	59		 pop	 ecx
  0000b	c3		 ret	 0
__ehhandler$?mapEffectSnow@@YAXXZ:
  0000c	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00010	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00013	8b 8a a0 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-352]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?mapEffectSnow@@YAXXZ
  00025	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?mapEffectSnow@@YAXXZ ENDP				; mapEffectSnow
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectRain@@YAXXZ
_TEXT	SEGMENT
_buf2$2 = -140						; size = 4
_buf$3 = -128						; size = 4
_buf$4 = -116						; size = 4
_buf$ = -104						; size = 4
_i$ = -92						; size = 4
_hh$ = -80						; size = 4
_ww$ = -68						; size = 4
_hosei2$ = -56						; size = 4
_hosei1$ = -44						; size = 4
_mapEffectRainFrameMax$ = -32				; size = 2
_mapEffectRainWaitTime$ = -20				; size = 2
__$EHRec$ = -12						; size = 12
?mapEffectRain@@YAXXZ PROC				; mapEffectRain, COMDAT

; 4819 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?mapEffectRain@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec 44 01 00
	00		 sub	 esp, 324		; 00000144H
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	8d bd b0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-336]
  00020	b9 51 00 00 00	 mov	 ecx, 81			; 00000051H
  00025	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002a	f3 ab		 rep stosd
  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00031	33 c5		 xor	 eax, ebp
  00033	50		 push	 eax
  00034	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00037	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 4820 : 	short mapEffectRainWaitTime = 0;

  0003d	33 c0		 xor	 eax, eax
  0003f	66 89 45 ec	 mov	 WORD PTR _mapEffectRainWaitTime$[ebp], ax

; 4821 : 	short mapEffectRainFrameMax = 0;

  00043	33 c0		 xor	 eax, eax
  00045	66 89 45 e0	 mov	 WORD PTR _mapEffectRainFrameMax$[ebp], ax

; 4822 : 	int hosei1 = 840, hosei2 = -200, ww = DEF_APPSIZEX, hh = DEF_APPSIZEY, i;

  00049	c7 45 d4 48 03
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 840 ; 00000348H
  00050	c7 45 c8 38 ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -200 ; ffffff38H
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0005c	89 45 bc	 mov	 DWORD PTR _ww$[ebp], eax
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00064	89 45 b0	 mov	 DWORD PTR _hh$[ebp], eax

; 4823 : 	static unsigned int time = TimeGetTime();

  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR __tls_index
  0006c	64 8b 0d 00 00
	00 00		 mov	 ecx, DWORD PTR fs:__tls_array
  00073	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$TSS0@?1??mapEffectRain@@YAXXZ@4HA
  0007b	3b 82 00 00 00
	00		 cmp	 eax, DWORD PTR __Init_thread_epoch[edx]
  00081	7e 3b		 jle	 SHORT $LN2@mapEffectR
  00083	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectRain@@YAXXZ@4HA
  00088	e8 00 00 00 00	 call	 __Init_thread_header
  0008d	83 c4 04	 add	 esp, 4
  00090	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?$TSS0@?1??mapEffectRain@@YAXXZ@4HA, -1
  00097	75 25		 jne	 SHORT $LN2@mapEffectR
  00099	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  000a0	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  000a5	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectRain@@YAXXZ@4IA, eax
  000aa	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  000b1	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectRain@@YAXXZ@4HA
  000b6	e8 00 00 00 00	 call	 __Init_thread_footer
  000bb	83 c4 04	 add	 esp, 4
$LN2@mapEffectR:

; 4824 : 	MAP_EFFECT *buf;
; 4825 : 
; 4826 : 	// ???????????????
; 4827 : 	if (ResoMode == 1)

  000be	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  000c5	75 1e		 jne	 SHORT $LN8@mapEffectR

; 4828 : 	{
; 4829 : 		ww >>= 1;

  000c7	8b 45 bc	 mov	 eax, DWORD PTR _ww$[ebp]
  000ca	d1 f8		 sar	 eax, 1
  000cc	89 45 bc	 mov	 DWORD PTR _ww$[ebp], eax

; 4830 : 		hh >>= 1;

  000cf	8b 45 b0	 mov	 eax, DWORD PTR _hh$[ebp]
  000d2	d1 f8		 sar	 eax, 1
  000d4	89 45 b0	 mov	 DWORD PTR _hh$[ebp], eax

; 4831 : 		hosei1 = 370;

  000d7	c7 45 d4 72 01
	00 00		 mov	 DWORD PTR _hosei1$[ebp], 370 ; 00000172H

; 4832 : 		hosei2 = -50;

  000de	c7 45 c8 ce ff
	ff ff		 mov	 DWORD PTR _hosei2$[ebp], -50 ; ffffffceH
$LN8@mapEffectR:

; 4833 : 	}
; 4834 : 	// ?§DþØ
; 4835 : 	if (mapEffectRainLevel)

  000e5	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  000ec	85 c0		 test	 eax, eax
  000ee	0f 84 99 01 00
	00		 je	 $LN9@mapEffectR

; 4836 : 	{
; 4837 : 		if (mapEffectRainLevel < 3)

  000f4	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  000fb	83 f8 03	 cmp	 eax, 3
  000fe	0f 8d b8 00 00
	00		 jge	 $LN10@mapEffectR

; 4838 : 		{
; 4839 : 			mapEffectRainWaitTime = (51 - 25 * mapEffectRainLevel);

  00104	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  0010b	6b c8 19	 imul	 ecx, eax, 25
  0010e	ba 33 00 00 00	 mov	 edx, 51			; 00000033H
  00113	2b d1		 sub	 edx, ecx
  00115	66 89 55 ec	 mov	 WORD PTR _mapEffectRainWaitTime$[ebp], dx

; 4840 : 			if (time + mapEffectRainWaitTime < TimeGetTime())

  00119	0f bf 75 ec	 movsx	 esi, WORD PTR _mapEffectRainWaitTime$[ebp]
  0011d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?time@?1??mapEffectRain@@YAXXZ@4IA
  00123	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00128	3b f0		 cmp	 esi, eax
  0012a	0f 83 87 00 00
	00		 jae	 $LN12@mapEffectR

; 4841 : 			{
; 4842 : 				MAP_EFFECT *buf = getMapEffectBuf();

  00130	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00135	89 45 8c	 mov	 DWORD PTR _buf$4[ebp], eax

; 4843 : 				if (buf != (MAP_EFFECT*)NULL)

  00138	83 7d 8c 00	 cmp	 DWORD PTR _buf$4[ebp], 0
  0013c	74 79		 je	 SHORT $LN12@mapEffectR

; 4844 : 				{
; 4845 : 					buf->type = MAP_EFFECT_TYPE_RAIN;

  0013e	b8 01 00 00 00	 mov	 eax, 1
  00143	8b 4d 8c	 mov	 ecx, DWORD PTR _buf$4[ebp]
  00146	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 4846 : 					buf->x = (rand() % hosei1) + hosei2;

  0014a	8b f4		 mov	 esi, esp
  0014c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00152	3b f4		 cmp	 esi, esp
  00154	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00159	99		 cdq
  0015a	f7 7d d4	 idiv	 DWORD PTR _hosei1$[ebp]
  0015d	03 55 c8	 add	 edx, DWORD PTR _hosei2$[ebp]
  00160	8b 45 8c	 mov	 eax, DWORD PTR _buf$4[ebp]
  00163	89 10		 mov	 DWORD PTR [eax], edx

; 4847 : 					buf->y = 0;

  00165	8b 45 8c	 mov	 eax, DWORD PTR _buf$4[ebp]
  00168	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 4848 : 					buf->dx = 2 + (rand() % 2);

  0016f	8b f4		 mov	 esi, esp
  00171	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00177	3b f4		 cmp	 esi, esp
  00179	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0017e	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00183	79 05		 jns	 SHORT $LN23@mapEffectR
  00185	48		 dec	 eax
  00186	83 c8 fe	 or	 eax, -2			; fffffffeH
  00189	40		 inc	 eax
$LN23@mapEffectR:
  0018a	83 c0 02	 add	 eax, 2
  0018d	8b 4d 8c	 mov	 ecx, DWORD PTR _buf$4[ebp]
  00190	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 4849 : 					buf->dy = 9;

  00193	8b 45 8c	 mov	 eax, DWORD PTR _buf$4[ebp]
  00196	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 4850 : 					time = TimeGetTime();

  0019d	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  001a2	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectRain@@YAXXZ@4IA, eax

; 4851 : 					mapEffectRainCnt++;

  001a7	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectRainCnt@@3FA ; mapEffectRainCnt
  001ad	66 83 c0 01	 add	 ax, 1
  001b1	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainCnt@@3FA, ax ; mapEffectRainCnt
$LN12@mapEffectR:

; 4852 : 				}
; 4853 : 			}
; 4854 : 		}
; 4855 : 		else

  001b7	e9 d1 00 00 00	 jmp	 $LN9@mapEffectR
$LN10@mapEffectR:

; 4856 : 		{
; 4857 : 			mapEffectRainFrameMax = (mapEffectRainLevel - 2) << 2;

  001bc	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectRainLevel@@3FA ; mapEffectRainLevel
  001c3	8d 0c 85 f8 ff
	ff ff		 lea	 ecx, DWORD PTR [eax*4-8]
  001ca	66 89 4d e0	 mov	 WORD PTR _mapEffectRainFrameMax$[ebp], cx

; 4858 : 			if (ResoMode == 1)

  001ce	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  001d5	75 0b		 jne	 SHORT $LN14@mapEffectR

; 4859 : 				mapEffectRainFrameMax >>= 1;

  001d7	66 8b 45 e0	 mov	 ax, WORD PTR _mapEffectRainFrameMax$[ebp]
  001db	66 d1 f8	 sar	 ax, 1
  001de	66 89 45 e0	 mov	 WORD PTR _mapEffectRainFrameMax$[ebp], ax
$LN14@mapEffectR:

; 4860 : 			for (i = 0; i < mapEffectRainFrameMax; i++)

  001e2	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  001e9	eb 09		 jmp	 SHORT $LN5@mapEffectR
$LN3@mapEffectR:
  001eb	8b 45 a4	 mov	 eax, DWORD PTR _i$[ebp]
  001ee	83 c0 01	 add	 eax, 1
  001f1	89 45 a4	 mov	 DWORD PTR _i$[ebp], eax
$LN5@mapEffectR:
  001f4	0f bf 45 e0	 movsx	 eax, WORD PTR _mapEffectRainFrameMax$[ebp]
  001f8	39 45 a4	 cmp	 DWORD PTR _i$[ebp], eax
  001fb	0f 8d 8c 00 00
	00		 jge	 $LN9@mapEffectR

; 4861 : 			{
; 4862 : 				MAP_EFFECT *buf = getMapEffectBuf();

  00201	e8 00 00 00 00	 call	 ?getMapEffectBuf@@YAPAU_MAP_EFFECT@@XZ ; getMapEffectBuf
  00206	89 45 80	 mov	 DWORD PTR _buf$3[ebp], eax

; 4863 : 				if (buf != (MAP_EFFECT*)NULL)

  00209	83 7d 80 00	 cmp	 DWORD PTR _buf$3[ebp], 0
  0020d	74 79		 je	 SHORT $LN15@mapEffectR

; 4864 : 				{
; 4865 : 					buf->type = MAP_EFFECT_TYPE_RAIN;

  0020f	b8 01 00 00 00	 mov	 eax, 1
  00214	8b 4d 80	 mov	 ecx, DWORD PTR _buf$3[ebp]
  00217	66 89 41 3c	 mov	 WORD PTR [ecx+60], ax

; 4866 : 					buf->x = (rand() % hosei1) + hosei2;

  0021b	8b f4		 mov	 esi, esp
  0021d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00223	3b f4		 cmp	 esi, esp
  00225	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0022a	99		 cdq
  0022b	f7 7d d4	 idiv	 DWORD PTR _hosei1$[ebp]
  0022e	03 55 c8	 add	 edx, DWORD PTR _hosei2$[ebp]
  00231	8b 45 80	 mov	 eax, DWORD PTR _buf$3[ebp]
  00234	89 10		 mov	 DWORD PTR [eax], edx

; 4867 : 					buf->y = 0;

  00236	8b 45 80	 mov	 eax, DWORD PTR _buf$3[ebp]
  00239	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 4868 : 					buf->dx = 2 + (rand() % 2);

  00240	8b f4		 mov	 esi, esp
  00242	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__rand
  00248	3b f4		 cmp	 esi, esp
  0024a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0024f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00254	79 05		 jns	 SHORT $LN24@mapEffectR
  00256	48		 dec	 eax
  00257	83 c8 fe	 or	 eax, -2			; fffffffeH
  0025a	40		 inc	 eax
$LN24@mapEffectR:
  0025b	83 c0 02	 add	 eax, 2
  0025e	8b 4d 80	 mov	 ecx, DWORD PTR _buf$3[ebp]
  00261	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 4869 : 					buf->dy = 9;

  00264	8b 45 80	 mov	 eax, DWORD PTR _buf$3[ebp]
  00267	c7 40 0c 09 00
	00 00		 mov	 DWORD PTR [eax+12], 9

; 4870 : 					time = TimeGetTime();

  0026e	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00273	a3 00 00 00 00	 mov	 DWORD PTR ?time@?1??mapEffectRain@@YAXXZ@4IA, eax

; 4871 : 					mapEffectRainCnt++;

  00278	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectRainCnt@@3FA ; mapEffectRainCnt
  0027e	66 83 c0 01	 add	 ax, 1
  00282	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainCnt@@3FA, ax ; mapEffectRainCnt
$LN15@mapEffectR:

; 4872 : 				}
; 4873 : 			}

  00288	e9 5e ff ff ff	 jmp	 $LN3@mapEffectR
$LN9@mapEffectR:

; 4874 : 		}
; 4875 : 	}
; 4876 : 	// ?¥h??
; 4877 : 	buf = useBufMapEffect;

  0028d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  00292	89 45 98	 mov	 DWORD PTR _buf$[ebp], eax
$LN6@mapEffectR:

; 4878 : 	while (buf != (MAP_EFFECT *)NULL)

  00295	83 7d 98 00	 cmp	 DWORD PTR _buf$[ebp], 0
  00299	0f 84 a9 00 00
	00		 je	 $LN1@mapEffectR

; 4879 : 	{
; 4880 : 		if (buf->type == MAP_EFFECT_TYPE_RAIN)

  0029f	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002a2	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  002a6	83 f9 01	 cmp	 ecx, 1
  002a9	0f 85 80 00 00
	00		 jne	 $LN16@mapEffectR

; 4881 : 		{
; 4882 : 			buf->x += buf->dx;

  002af	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002b2	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b4	8b 55 98	 mov	 edx, DWORD PTR _buf$[ebp]
  002b7	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  002ba	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002bd	89 08		 mov	 DWORD PTR [eax], ecx

; 4883 : 			buf->y += buf->dy;

  002bf	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002c2	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  002c5	8b 55 98	 mov	 edx, DWORD PTR _buf$[ebp]
  002c8	03 4a 0c	 add	 ecx, DWORD PTR [edx+12]
  002cb	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002ce	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 4884 : 			mapEffectDirHosei(&buf->x, &buf->y);

  002d1	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002d4	83 c0 04	 add	 eax, 4
  002d7	50		 push	 eax
  002d8	8b 4d 98	 mov	 ecx, DWORD PTR _buf$[ebp]
  002db	51		 push	 ecx
  002dc	e8 00 00 00 00	 call	 ?mapEffectDirHosei@@YAXPAH0@Z ; mapEffectDirHosei
  002e1	83 c4 08	 add	 esp, 8

; 4885 : 			if (ww <= buf->x || hh <= buf->y)

  002e4	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002e7	8b 4d bc	 mov	 ecx, DWORD PTR _ww$[ebp]
  002ea	3b 08		 cmp	 ecx, DWORD PTR [eax]
  002ec	7e 0b		 jle	 SHORT $LN18@mapEffectR
  002ee	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002f1	8b 4d b0	 mov	 ecx, DWORD PTR _hh$[ebp]
  002f4	3b 48 04	 cmp	 ecx, DWORD PTR [eax+4]
  002f7	7f 36		 jg	 SHORT $LN16@mapEffectR
$LN18@mapEffectR:

; 4886 : 			{
; 4887 : 				// ?¥hü¬?
; 4888 : 				MAP_EFFECT *buf2 = buf->next;

  002f9	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  002fc	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  002ff	89 8d 74 ff ff
	ff		 mov	 DWORD PTR _buf2$2[ebp], ecx

; 4889 : 				delMapEffectBuf(buf);

  00305	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  00308	50		 push	 eax
  00309	e8 00 00 00 00	 call	 ?delMapEffectBuf@@YAXPAU_MAP_EFFECT@@@Z ; delMapEffectBuf
  0030e	83 c4 04	 add	 esp, 4

; 4890 : 				buf = buf2;

  00311	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _buf2$2[ebp]
  00317	89 45 98	 mov	 DWORD PTR _buf$[ebp], eax

; 4891 : 				mapEffectRainCnt--;

  0031a	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?mapEffectRainCnt@@3FA ; mapEffectRainCnt
  00320	66 83 e8 01	 sub	 ax, 1
  00324	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainCnt@@3FA, ax ; mapEffectRainCnt

; 4892 : 				continue;

  0032a	e9 66 ff ff ff	 jmp	 $LN6@mapEffectR
$LN16@mapEffectR:

; 4893 : 			}
; 4894 : 		}
; 4895 : 		buf = buf->next;

  0032f	8b 45 98	 mov	 eax, DWORD PTR _buf$[ebp]
  00332	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  00335	89 4d 98	 mov	 DWORD PTR _buf$[ebp], ecx

; 4896 : 		mapEffectDrawFlag = 1;

  00338	b8 01 00 00 00	 mov	 eax, 1
  0033d	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag

; 4897 : 	}

  00343	e9 4d ff ff ff	 jmp	 $LN6@mapEffectR
$LN1@mapEffectR:

; 4898 : }

  00348	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0034b	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00352	59		 pop	 ecx
  00353	5f		 pop	 edi
  00354	5e		 pop	 esi
  00355	5b		 pop	 ebx
  00356	81 c4 50 01 00
	00		 add	 esp, 336		; 00000150H
  0035c	3b ec		 cmp	 ebp, esp
  0035e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00363	8b e5		 mov	 esp, ebp
  00365	5d		 pop	 ebp
  00366	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?mapEffectRain@@YAXXZ$0:
  00000	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??mapEffectRain@@YAXXZ@4HA
  00005	e8 00 00 00 00	 call	 __Init_thread_abort
  0000a	59		 pop	 ecx
  0000b	c3		 ret	 0
__ehhandler$?mapEffectRain@@YAXXZ:
  0000c	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00010	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00013	8b 8a ac fe ff
	ff		 mov	 ecx, DWORD PTR [edx-340]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?mapEffectRain@@YAXXZ
  00025	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?mapEffectRain@@YAXXZ ENDP				; mapEffectRain
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapEffectProc@@YAXXZ
_TEXT	SEGMENT
?mapEffectProc@@YAXXZ PROC				; mapEffectProc, COMDAT

; 4789 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4790 : 	mapEffectRain();

  0001e	e8 00 00 00 00	 call	 ?mapEffectRain@@YAXXZ	; mapEffectRain

; 4791 : 	mapEffectSnow();

  00023	e8 00 00 00 00	 call	 ?mapEffectSnow@@YAXXZ	; mapEffectSnow

; 4792 : 	mapEffectStar();

  00028	e8 00 00 00 00	 call	 ?mapEffectStar@@YAXXZ	; mapEffectStar

; 4793 : 	mapEffectFallingStar();

  0002d	e8 00 00 00 00	 call	 ?mapEffectFallingStar@@YAXXZ ; mapEffectFallingStar

; 4794 : 	mapEffectKamiFubuki();	

  00032	e8 00 00 00 00	 call	 ?mapEffectKamiFubuki@@YAXXZ ; mapEffectKamiFubuki

; 4795 : #ifdef __EDEN_DICE
; 4796 : 	mapEffectDice();
; 4797 : #endif
; 4798 : #ifdef _HALLOWEEN_EFFECT
; 4799 : 	mapEffectHalloweenProc();

  00037	e8 00 00 00 00	 call	 ?mapEffectHalloweenProc@@YAXXZ ; mapEffectHalloweenProc

; 4800 : #endif
; 4801 : 	if (transEffectPaletteStatus == 2 && transEffectPaletteAfterWaitTime == 0)

  0003c	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?transEffectPaletteStatus@@3HA, 2 ; transEffectPaletteStatus
  00043	75 1f		 jne	 SHORT $LN2@mapEffectP
  00045	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?transEffectPaletteAfterWaitTime@@3IA, 0 ; transEffectPaletteAfterWaitTime
  0004c	75 16		 jne	 SHORT $LN2@mapEffectP

; 4802 : 		transEffectPaletteAfterWaitTime = GetTickCount();

  0004e	8b f4		 mov	 esi, esp
  00050	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00056	3b f4		 cmp	 esi, esp
  00058	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005d	a3 00 00 00 00	 mov	 DWORD PTR ?transEffectPaletteAfterWaitTime@@3IA, eax ; transEffectPaletteAfterWaitTime
  00062	eb 39		 jmp	 SHORT $LN1@mapEffectP
$LN2@mapEffectP:

; 4803 : 	// ?????????¢r??¦V??????????üÒ?
; 4804 : 	else if (transEffectPaletteStatus == 2 && (GetTickCount() - transEffectPaletteAfterWaitTime) > 2500)

  00064	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?transEffectPaletteStatus@@3HA, 2 ; transEffectPaletteStatus
  0006b	75 30		 jne	 SHORT $LN1@mapEffectP
  0006d	8b f4		 mov	 esi, esp
  0006f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00075	3b f4		 cmp	 esi, esp
  00077	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0007c	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?transEffectPaletteAfterWaitTime@@3IA ; transEffectPaletteAfterWaitTime
  00082	3d c4 09 00 00	 cmp	 eax, 2500		; 000009c4H
  00087	76 14		 jbe	 SHORT $LN1@mapEffectP

; 4805 : 	{
; 4806 : 		transEffectPaletteStatus = 0;

  00089	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?transEffectPaletteStatus@@3HA, 0 ; transEffectPaletteStatus

; 4807 : 		transEffectPaletteAfterWaitTime = 0;

  00093	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?transEffectPaletteAfterWaitTime@@3IA, 0 ; transEffectPaletteAfterWaitTime
$LN1@mapEffectP:

; 4808 : 	}
; 4809 : }

  0009d	5f		 pop	 edi
  0009e	5e		 pop	 esi
  0009f	5b		 pop	 ebx
  000a0	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  000a6	3b ec		 cmp	 ebp, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	8b e5		 mov	 esp, ebp
  000af	5d		 pop	 ebp
  000b0	c3		 ret	 0
?mapEffectProc@@YAXXZ ENDP				; mapEffectProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?drawMapEffect@@YAXXZ
_TEXT	SEGMENT
?drawMapEffect@@YAXXZ PROC				; drawMapEffect, COMDAT

; 4779 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4780 : 	if (mapEffectDrawFlag)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEffectDrawFlag@@3FA ; mapEffectDrawFlag
  00025	85 c0		 test	 eax, eax
  00027	74 0d		 je	 SHORT $LN1@drawMapEff

; 4781 : 	{
; 4782 : 		DrawMapEffect();

  00029	e8 00 00 00 00	 call	 ?DrawMapEffect@@YAXXZ	; DrawMapEffect

; 4783 : 		mapEffectDrawFlag = 0;

  0002e	33 c0		 xor	 eax, eax
  00030	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectDrawFlag@@3FA, ax ; mapEffectDrawFlag
$LN1@drawMapEff:

; 4784 : 	}
; 4785 : }

  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	5b		 pop	 ebx
  00039	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003f	3b ec		 cmp	 ebp, esp
  00041	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00046	8b e5		 mov	 esp, ebp
  00048	5d		 pop	 ebp
  00049	c3		 ret	 0
?drawMapEffect@@YAXXZ ENDP				; drawMapEffect
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?initMapEffect@@YAXH@Z
_TEXT	SEGMENT
_i$ = -8						; size = 4
_bFirstRun$ = 8						; size = 4
?initMapEffect@@YAXH@Z PROC				; initMapEffect, COMDAT

; 4665 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4666 : 	int i;
; 4667 : 
; 4668 : 	emptyBufMapEffect = &masterBufMapEffect[0];

  0001e	b8 48 00 00 00	 mov	 eax, 72			; 00000048H
  00023	6b c8 00	 imul	 ecx, eax, 0
  00026	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A ; masterBufMapEffect
  0002c	89 0d 00 00 00
	00		 mov	 DWORD PTR ?emptyBufMapEffect@@3PAU_MAP_EFFECT@@A, ecx ; emptyBufMapEffect

; 4669 : 	masterBufMapEffect[0].pre = (MAP_EFFECT *)NULL;

  00032	b8 48 00 00 00	 mov	 eax, 72			; 00000048H
  00037	6b c8 00	 imul	 ecx, eax, 0
  0003a	c7 81 34 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[ecx+52], 0

; 4670 : 	for (i = 1; i < MAX_MAP_EFFECT_BUF; i++)

  00044	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _i$[ebp], 1
  0004b	eb 09		 jmp	 SHORT $LN4@initMapEff
$LN2@initMapEff:
  0004d	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00050	83 c0 01	 add	 eax, 1
  00053	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@initMapEff:
  00056	81 7d f8 f4 01
	00 00		 cmp	 DWORD PTR _i$[ebp], 500	; 000001f4H
  0005d	0f 8d 8e 00 00
	00		 jge	 $LN3@initMapEff

; 4671 : 	{
; 4672 : 		masterBufMapEffect[i - 1].next = &masterBufMapEffect[i];

  00063	6b 45 f8 48	 imul	 eax, DWORD PTR _i$[ebp], 72
  00067	05 00 00 00 00	 add	 eax, OFFSET ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A ; masterBufMapEffect
  0006c	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  0006f	83 e9 01	 sub	 ecx, 1
  00072	6b d1 48	 imul	 edx, ecx, 72
  00075	89 82 38 00 00
	00		 mov	 DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[edx+56], eax

; 4673 : 		masterBufMapEffect[i].pre = &masterBufMapEffect[i - 1];

  0007b	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0007e	83 e8 01	 sub	 eax, 1
  00081	6b c8 48	 imul	 ecx, eax, 72
  00084	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A ; masterBufMapEffect
  0008a	6b 55 f8 48	 imul	 edx, DWORD PTR _i$[ebp], 72
  0008e	89 8a 34 00 00
	00		 mov	 DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[edx+52], ecx

; 4674 : #ifdef _HALLOWEEN_EFFECT
; 4675 : 		if (bFirstRun)

  00094	83 7d 08 00	 cmp	 DWORD PTR _bFirstRun$[ebp], 0
  00098	74 15		 je	 SHORT $LN5@initMapEff

; 4676 : 			masterBufMapEffect[i - 1].pAction = NULL;

  0009a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0009d	83 e8 01	 sub	 eax, 1
  000a0	6b c8 48	 imul	 ecx, eax, 72
  000a3	c7 81 44 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[ecx+68], 0

; 4677 : 		else

  000ad	eb 3d		 jmp	 SHORT $LN6@initMapEff
$LN5@initMapEff:

; 4678 : 		{
; 4679 : 			if (masterBufMapEffect[i - 1].pAction)

  000af	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000b2	83 e8 01	 sub	 eax, 1
  000b5	6b c8 48	 imul	 ecx, eax, 72
  000b8	83 b9 44 00 00
	00 00		 cmp	 DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[ecx+68], 0
  000bf	74 2b		 je	 SHORT $LN6@initMapEff

; 4680 : 			{
; 4681 : 				DeathAction(masterBufMapEffect[i - 1].pAction);

  000c1	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000c4	83 e8 01	 sub	 eax, 1
  000c7	6b c8 48	 imul	 ecx, eax, 72
  000ca	8b 91 44 00 00
	00		 mov	 edx, DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[ecx+68]
  000d0	52		 push	 edx
  000d1	e8 00 00 00 00	 call	 ?DeathAction@@YAXPAUaction@@@Z ; DeathAction
  000d6	83 c4 04	 add	 esp, 4

; 4682 : 				masterBufMapEffect[i - 1].pAction = NULL;

  000d9	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000dc	83 e8 01	 sub	 eax, 1
  000df	6b c8 48	 imul	 ecx, eax, 72
  000e2	c7 81 44 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[ecx+68], 0
$LN6@initMapEff:

; 4683 : 			}
; 4684 : 		}
; 4685 : #endif
; 4686 : 	}

  000ec	e9 5c ff ff ff	 jmp	 $LN2@initMapEff
$LN3@initMapEff:

; 4687 : 	masterBufMapEffect[i - 1].next = (MAP_EFFECT*)NULL;

  000f1	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000f4	83 e8 01	 sub	 eax, 1
  000f7	6b c8 48	 imul	 ecx, eax, 72
  000fa	c7 81 38 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?masterBufMapEffect@@3PAU_MAP_EFFECT@@A[ecx+56], 0

; 4688 : 	useBufMapEffect = (MAP_EFFECT*)NULL;

  00104	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A, 0 ; useBufMapEffect

; 4689 : 	mapEffectRainLevel = 0;

  0010e	33 c0		 xor	 eax, eax
  00110	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainLevel@@3FA, ax ; mapEffectRainLevel

; 4690 : 	mapEffectRainCnt = 0;

  00116	33 c0		 xor	 eax, eax
  00118	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectRainCnt@@3FA, ax ; mapEffectRainCnt

; 4691 : 	mapEffectSnowLevel = 0;

  0011e	33 c0		 xor	 eax, eax
  00120	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowLevel@@3FA, ax ; mapEffectSnowLevel

; 4692 : 	mapEffectSnowCnt = 0;

  00126	33 c0		 xor	 eax, eax
  00128	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectSnowCnt@@3FA, ax ; mapEffectSnowCnt

; 4693 : 	mapEffectMoveDir = -1;

  0012e	83 c8 ff	 or	 eax, -1
  00131	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectMoveDir@@3FA, ax ; mapEffectMoveDir

; 4694 : 	mapEffectStarFlag = 0;

  00137	33 c0		 xor	 eax, eax
  00139	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectStarFlag@@3FA, ax ; mapEffectStarFlag

; 4695 : 	mapEffectFallingStarFlag = 1;

  0013f	b8 01 00 00 00	 mov	 eax, 1
  00144	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectFallingStarFlag@@3FA, ax ; mapEffectFallingStarFlag

; 4696 : 	mapEffectKamiFubukiLevel = 0;

  0014a	33 c0		 xor	 eax, eax
  0014c	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectKamiFubukiLevel@@3FA, ax ; mapEffectKamiFubukiLevel

; 4697 : 	mapEffectKamiFubukiCnt = 0;

  00152	33 c0		 xor	 eax, eax
  00154	66 a3 00 00 00
	00		 mov	 WORD PTR ?mapEffectKamiFubukiCnt@@3FA, ax ; mapEffectKamiFubukiCnt

; 4698 : #ifdef __EDEN_DICE
; 4699 : 	bMapEffectDice = FALSE;
; 4700 : #endif
; 4701 : #ifdef _HALLOWEEN_EFFECT
; 4702 : 	mapEffectHalloween = 0;

  0015a	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapEffectHalloween@@3HA, 0 ; mapEffectHalloween

; 4703 : #endif
; 4704 : }

  00164	5f		 pop	 edi
  00165	5e		 pop	 esi
  00166	5b		 pop	 ebx
  00167	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0016d	3b ec		 cmp	 ebp, esp
  0016f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00174	8b e5		 mov	 esp, ebp
  00176	5d		 pop	 ebp
  00177	c3		 ret	 0
?initMapEffect@@YAXH@Z ENDP				; initMapEffect
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?camGamenToMap@@YAXMMPAM0@Z
_TEXT	SEGMENT
_y$ = -44						; size = 4
_x$ = -32						; size = 4
_y0$ = -20						; size = 4
_x0$ = -8						; size = 4
_sx$ = 8						; size = 4
_sy$ = 12						; size = 4
_ex$ = 16						; size = 4
_ey$ = 20						; size = 4
?camGamenToMap@@YAXMMPAM0@Z PROC			; camGamenToMap, COMDAT

; 5918 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 10 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-240]
  00012	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5919 : 	float x0, y0, x, y;
; 5920 : 
; 5921 : 	// ?þ?¤õ
; 5922 : 	x0 = sx - viewOffsetX; 

  0001e	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?viewOffsetX@@3HA ; viewOffsetX
  00026	f3 0f 10 4d 08	 movss	 xmm1, DWORD PTR _sx$[ebp]
  0002b	f3 0f 5c c8	 subss	 xmm1, xmm0
  0002f	f3 0f 11 4d f8	 movss	 DWORD PTR _x0$[ebp], xmm1

; 5923 : 	y0 = sy - viewOffsetY; 

  00034	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?viewOffsetY@@3HA ; viewOffsetY
  0003c	f3 0f 10 4d 0c	 movss	 xmm1, DWORD PTR _sy$[ebp]
  00041	f3 0f 5c c8	 subss	 xmm1, xmm0
  00045	f3 0f 11 4d ec	 movss	 DWORD PTR _y0$[ebp], xmm1

; 5924 : 	x = x0 - (float)SURFACE_WIDTH / (float)SURFACE_HEIGHT * y0;

  0004a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3faaaaab
  00052	f3 0f 59 45 ec	 mulss	 xmm0, DWORD PTR _y0$[ebp]
  00057	f3 0f 10 4d f8	 movss	 xmm1, DWORD PTR _x0$[ebp]
  0005c	f3 0f 5c c8	 subss	 xmm1, xmm0
  00060	f3 0f 11 4d e0	 movss	 DWORD PTR _x$[ebp], xmm1

; 5925 : 	y = x0 + (float)SURFACE_WIDTH / (float)SURFACE_HEIGHT * y0;

  00065	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3faaaaab
  0006d	f3 0f 59 45 ec	 mulss	 xmm0, DWORD PTR _y0$[ebp]
  00072	f3 0f 58 45 f8	 addss	 xmm0, DWORD PTR _x0$[ebp]
  00077	f3 0f 11 45 d4	 movss	 DWORD PTR _y$[ebp], xmm0

; 5926 : 	*ex = x + viewPointX;

  0007c	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _x$[ebp]
  00081	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?viewPointX@@3MA
  00089	8b 45 10	 mov	 eax, DWORD PTR _ex$[ebp]
  0008c	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 5927 : 	*ey = y + viewPointY;

  00090	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _y$[ebp]
  00095	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?viewPointY@@3MA
  0009d	8b 45 14	 mov	 eax, DWORD PTR _ey$[ebp]
  000a0	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 5928 : }

  000a4	5f		 pop	 edi
  000a5	5e		 pop	 esi
  000a6	5b		 pop	 ebx
  000a7	8b e5		 mov	 esp, ebp
  000a9	5d		 pop	 ebp
  000aa	c3		 ret	 0
?camGamenToMap@@YAXMMPAM0@Z ENDP			; camGamenToMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?camMapToGamen@@YAXMMPAM0@Z
_TEXT	SEGMENT
_ty$ = -68						; size = 4
_tx$ = -56						; size = 4
_y$ = -44						; size = 4
_x$ = -32						; size = 4
_y0$ = -20						; size = 4
_x0$ = -8						; size = 4
_sx$ = 8						; size = 4
_sy$ = 12						; size = 4
_ex$ = 16						; size = 4
_ey$ = 20						; size = 4
?camMapToGamen@@YAXMMPAM0@Z PROC			; camMapToGamen, COMDAT

; 5902 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd f8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-264]
  00012	b9 42 00 00 00	 mov	 ecx, 66			; 00000042H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 5903 : 	float x0, y0, x, y, tx = (float)(SURFACE_WIDTH >> 1), ty = (float)(SURFACE_HEIGHT >> 1);

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@42000000
  00026	f3 0f 11 45 c8	 movss	 DWORD PTR _tx$[ebp], xmm0
  0002b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@41c00000
  00033	f3 0f 11 45 bc	 movss	 DWORD PTR _ty$[ebp], xmm0

; 5904 : 
; 5905 : 	x0 = (sx - viewPointX) / GRID_SIZE;

  00038	f3 0f 10 45 08	 movss	 xmm0, DWORD PTR _sx$[ebp]
  0003d	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?viewPointX@@3MA
  00045	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  0004d	f3 0f 11 45 f8	 movss	 DWORD PTR _x0$[ebp], xmm0

; 5906 : 	y0 = (sy - viewPointY) / GRID_SIZE;

  00052	f3 0f 10 45 0c	 movss	 xmm0, DWORD PTR _sy$[ebp]
  00057	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?viewPointY@@3MA
  0005f	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  00067	f3 0f 11 45 ec	 movss	 DWORD PTR _y0$[ebp], xmm0

; 5907 : 	x = + x0 * tx + y0 * tx;

  0006c	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _x0$[ebp]
  00071	f3 0f 59 45 c8	 mulss	 xmm0, DWORD PTR _tx$[ebp]
  00076	f3 0f 10 4d ec	 movss	 xmm1, DWORD PTR _y0$[ebp]
  0007b	f3 0f 59 4d c8	 mulss	 xmm1, DWORD PTR _tx$[ebp]
  00080	f3 0f 58 c1	 addss	 xmm0, xmm1
  00084	f3 0f 11 45 e0	 movss	 DWORD PTR _x$[ebp], xmm0

; 5908 : 	y = - x0 * ty + y0 * ty;

  00089	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _x0$[ebp]
  0008e	0f 57 05 00 00
	00 00		 xorps	 xmm0, DWORD PTR __xmm@80000000800000008000000080000000
  00095	f3 0f 59 45 bc	 mulss	 xmm0, DWORD PTR _ty$[ebp]
  0009a	f3 0f 10 4d ec	 movss	 xmm1, DWORD PTR _y0$[ebp]
  0009f	f3 0f 59 4d bc	 mulss	 xmm1, DWORD PTR _ty$[ebp]
  000a4	f3 0f 58 c1	 addss	 xmm0, xmm1
  000a8	f3 0f 11 45 d4	 movss	 DWORD PTR _y$[ebp], xmm0

; 5909 : 	//?þ?¤õ
; 5910 : 	*ex = x + viewOffsetX;

  000ad	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?viewOffsetX@@3HA ; viewOffsetX
  000b5	f3 0f 58 45 e0	 addss	 xmm0, DWORD PTR _x$[ebp]
  000ba	8b 45 10	 mov	 eax, DWORD PTR _ex$[ebp]
  000bd	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 5911 : 	*ey = y + viewOffsetY;

  000c1	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?viewOffsetY@@3HA ; viewOffsetY
  000c9	f3 0f 58 45 d4	 addss	 xmm0, DWORD PTR _y$[ebp]
  000ce	8b 45 14	 mov	 eax, DWORD PTR _ey$[ebp]
  000d1	f3 0f 11 00	 movss	 DWORD PTR [eax], xmm0

; 5912 : }

  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c3		 ret	 0
?camMapToGamen@@YAXMMPAM0@Z ENDP			; camMapToGamen
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?checkHitMap@@YAHHH@Z
_TEXT	SEGMENT
_y$ = -20						; size = 4
_x$ = -8						; size = 4
_gx$ = 8						; size = 4
_gy$ = 12						; size = 4
?checkHitMap@@YAHHH@Z PROC				; checkHitMap, COMDAT

; 1878 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1879 : 	int x, y;
; 1880 : 
; 1881 : 	x = gx - mapAreaX1;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _gx$[ebp]
  00021	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00027	89 45 f8	 mov	 DWORD PTR _x$[ebp], eax

; 1882 : 	y = gy - mapAreaY1;

  0002a	8b 45 0c	 mov	 eax, DWORD PTR _gy$[ebp]
  0002d	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00033	89 45 ec	 mov	 DWORD PTR _y$[ebp], eax

; 1883 : 
; 1884 : 	if (pc.skywalker)

  00036	83 3d bc a1 00
	00 00		 cmp	 DWORD PTR ?pc@@3UPC@@A+41404, 0
  0003d	74 04		 je	 SHORT $LN2@checkHitMa

; 1885 : 		return FALSE;

  0003f	33 c0		 xor	 eax, eax
  00041	eb 61		 jmp	 SHORT $LN1@checkHitMa
$LN2@checkHitMa:

; 1886 : 
; 1887 : 	// ????§d???þ­¦V?û¢
; 1888 : 	if (x < 0 || mapAreaWidth <= x || y < 0 || mapAreaHeight <= y)

  00043	83 7d f8 00	 cmp	 DWORD PTR _x$[ebp], 0
  00047	7c 1a		 jl	 SHORT $LN4@checkHitMa
  00049	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0004e	3b 45 f8	 cmp	 eax, DWORD PTR _x$[ebp]
  00051	7e 10		 jle	 SHORT $LN4@checkHitMa
  00053	83 7d ec 00	 cmp	 DWORD PTR _y$[ebp], 0
  00057	7c 0a		 jl	 SHORT $LN4@checkHitMa
  00059	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaHeight@@3HA ; mapAreaHeight
  0005e	3b 45 ec	 cmp	 eax, DWORD PTR _y$[ebp]
  00061	7f 07		 jg	 SHORT $LN3@checkHitMa
$LN4@checkHitMa:

; 1889 : 		return TRUE;

  00063	b8 01 00 00 00	 mov	 eax, 1
  00068	eb 3a		 jmp	 SHORT $LN1@checkHitMa
$LN3@checkHitMa:

; 1890 : #ifdef _ITEM_PATH
; 1891 : 	if (ITEMPATHFLAG)

  0006a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?ITEMPATHFLAG@@3HA, 0 ; ITEMPATHFLAG
  00071	74 0e		 je	 SHORT $LN5@checkHitMa

; 1892 : 	{
; 1893 : 		ITEMPATHFLAG = FALSE;

  00073	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ITEMPATHFLAG@@3HA, 0 ; ITEMPATHFLAG

; 1894 : 		return FALSE;

  0007d	33 c0		 xor	 eax, eax
  0007f	eb 23		 jmp	 SHORT $LN1@checkHitMa
$LN5@checkHitMa:

; 1895 : 	}
; 1896 : #endif
; 1897 : 	// ???§R¤e????þ­¦V?û¢
; 1898 : 	if (hitMap[y * mapAreaWidth + x] == 1)

  00081	8b 45 ec	 mov	 eax, DWORD PTR _y$[ebp]
  00084	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0008b	03 45 f8	 add	 eax, DWORD PTR _x$[ebp]
  0008e	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?hitMap@@3PAGA[eax*2]
  00096	83 f9 01	 cmp	 ecx, 1
  00099	75 07		 jne	 SHORT $LN6@checkHitMa

; 1899 : 		return TRUE;

  0009b	b8 01 00 00 00	 mov	 eax, 1
  000a0	eb 02		 jmp	 SHORT $LN1@checkHitMa
$LN6@checkHitMa:

; 1900 : 
; 1901 : 	return FALSE;

  000a2	33 c0		 xor	 eax, eax
$LN1@checkHitMa:

; 1902 : }

  000a4	5f		 pop	 edi
  000a5	5e		 pop	 esi
  000a6	5b		 pop	 ebx
  000a7	8b e5		 mov	 esp, ebp
  000a9	5d		 pop	 ebp
  000aa	c3		 ret	 0
?checkHitMap@@YAHHH@Z ENDP				; checkHitMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?drawAutoMap@@YAXHH@Z
_TEXT	SEGMENT
_x$ = 8							; size = 4
_y$ = 12						; size = 4
?drawAutoMap@@YAXHH@Z PROC				; drawAutoMap, COMDAT

; 4017 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4018 : 	if (autoMappingInitFlag)

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?autoMappingInitFlag@@3HA, 0 ; autoMappingInitFlag
  00025	74 26		 je	 SHORT $LN2@drawAutoMa

; 4019 : 	{
; 4020 : 		createAutoMap(nowFloor, nowGx, nowGy);

  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0002c	50		 push	 eax
  0002d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowGx@@3HA ; nowGx
  00033	51		 push	 ecx
  00034	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?nowFloor@@3HA ; nowFloor
  0003a	52		 push	 edx
  0003b	e8 00 00 00 00	 call	 ?createAutoMap@@YAHHHH@Z ; createAutoMap
  00040	83 c4 0c	 add	 esp, 12			; 0000000cH

; 4021 : 		autoMappingInitFlag = FALSE;

  00043	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?autoMappingInitFlag@@3HA, 0 ; autoMappingInitFlag
$LN2@drawAutoMa:

; 4022 : 	}
; 4023 : 	DrawAutoMapping(x, y, (unsigned char *)autoMappingBuf, AUTO_MAPPING_W, AUTO_MAPPING_H);

  0004d	6a 36		 push	 54			; 00000036H
  0004f	6a 36		 push	 54			; 00000036H
  00051	68 00 00 00 00	 push	 OFFSET ?autoMappingBuf@@3PAY0DG@EA ; autoMappingBuf
  00056	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  00059	50		 push	 eax
  0005a	8b 4d 08	 mov	 ecx, DWORD PTR _x$[ebp]
  0005d	51		 push	 ecx
  0005e	e8 00 00 00 00	 call	 ?DrawAutoMapping@@YAXHHPAEHH@Z ; DrawAutoMapping
  00063	83 c4 14	 add	 esp, 20			; 00000014H

; 4024 : }

  00066	5f		 pop	 edi
  00067	5e		 pop	 esi
  00068	5b		 pop	 ebx
  00069	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0006f	3b ec		 cmp	 ebp, esp
  00071	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
?drawAutoMap@@YAXHH@Z ENDP				; drawAutoMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?stockCharParts@@YAXXZ
_TEXT	SEGMENT
_pt$ = -20						; size = 4
_i$ = -8						; size = 4
?stockCharParts@@YAXXZ PROC				; stockCharParts, COMDAT

; 3961 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3962 : 	int i;
; 3963 : 	CHAR_PARTS_PRIORITY *pt;
; 3964 : 
; 3965 : 	pt = charPrioBufTop.next;

  0001e	a1 28 00 00 00	 mov	 eax, DWORD PTR ?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A+40
  00023	89 45 ec	 mov	 DWORD PTR _pt$[ebp], eax

; 3966 : 	if (pt == NULL)

  00026	83 7d ec 00	 cmp	 DWORD PTR _pt$[ebp], 0
  0002a	75 05		 jne	 SHORT $LN5@stockCharP

; 3967 : 		return;

  0002c	e9 97 00 00 00	 jmp	 $LN1@stockCharP
$LN5@stockCharP:

; 3968 : 
; 3969 : 	for (i = 0; i < charPrioCnt && pt != NULL; i++, pt = pt->next)

  00031	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00038	eb 12		 jmp	 SHORT $LN4@stockCharP
$LN2@stockCharP:
  0003a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0003d	83 c0 01	 add	 eax, 1
  00040	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
  00043	8b 4d ec	 mov	 ecx, DWORD PTR _pt$[ebp]
  00046	8b 51 28	 mov	 edx, DWORD PTR [ecx+40]
  00049	89 55 ec	 mov	 DWORD PTR _pt$[ebp], edx
$LN4@stockCharP:
  0004c	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0004f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?charPrioCnt@@3HA ; charPrioCnt
  00055	7d 71		 jge	 SHORT $LN1@stockCharP
  00057	83 7d ec 00	 cmp	 DWORD PTR _pt$[ebp], 0
  0005b	74 6b		 je	 SHORT $LN1@stockCharP

; 3970 : 	{
; 3971 : 		if (pt->type == CHAR_PARTS_PRIO_TYPE_ANI)

  0005d	8b 45 ec	 mov	 eax, DWORD PTR _pt$[ebp]
  00060	0f bf 48 20	 movsx	 ecx, WORD PTR [eax+32]
  00064	83 f9 02	 cmp	 ecx, 2
  00067	75 2e		 jne	 SHORT $LN6@stockCharP

; 3972 : 			StockDispBuffer2(pt->x + pt->dx, pt->y + pt->dy, 0, pt->graNo, 0);

  00069	6a 00		 push	 0
  0006b	8b 45 ec	 mov	 eax, DWORD PTR _pt$[ebp]
  0006e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00070	51		 push	 ecx
  00071	6a 00		 push	 0
  00073	8b 55 ec	 mov	 edx, DWORD PTR _pt$[ebp]
  00076	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00079	8b 4d ec	 mov	 ecx, DWORD PTR _pt$[ebp]
  0007c	03 41 10	 add	 eax, DWORD PTR [ecx+16]
  0007f	50		 push	 eax
  00080	8b 55 ec	 mov	 edx, DWORD PTR _pt$[ebp]
  00083	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00086	8b 4d ec	 mov	 ecx, DWORD PTR _pt$[ebp]
  00089	03 41 0c	 add	 eax, DWORD PTR [ecx+12]
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?StockDispBuffer2@@YAHHHEHH@Z ; StockDispBuffer2
  00092	83 c4 14	 add	 esp, 20			; 00000014H

; 3973 : 		else

  00095	eb 2c		 jmp	 SHORT $LN7@stockCharP
$LN6@stockCharP:

; 3974 : 			StockDispBuffer2(pt->x + pt->dx, pt->y + pt->dy, DISP_PRIO_PARTS, pt->graNo, 0);

  00097	6a 00		 push	 0
  00099	8b 45 ec	 mov	 eax, DWORD PTR _pt$[ebp]
  0009c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0009e	51		 push	 ecx
  0009f	6a 0a		 push	 10			; 0000000aH
  000a1	8b 55 ec	 mov	 edx, DWORD PTR _pt$[ebp]
  000a4	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000a7	8b 4d ec	 mov	 ecx, DWORD PTR _pt$[ebp]
  000aa	03 41 10	 add	 eax, DWORD PTR [ecx+16]
  000ad	50		 push	 eax
  000ae	8b 55 ec	 mov	 edx, DWORD PTR _pt$[ebp]
  000b1	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  000b4	8b 4d ec	 mov	 ecx, DWORD PTR _pt$[ebp]
  000b7	03 41 0c	 add	 eax, DWORD PTR [ecx+12]
  000ba	50		 push	 eax
  000bb	e8 00 00 00 00	 call	 ?StockDispBuffer2@@YAHHHEHH@Z ; StockDispBuffer2
  000c0	83 c4 14	 add	 esp, 20			; 00000014H
$LN7@stockCharP:

; 3975 : #if 0
; 3976 : 		// ?????
; 3977 : 		if (pt->type == CHAR_PARTS_PRIO_TYPE_CHAR)
; 3978 : 			break;
; 3979 : #endif
; 3980 : 	}

  000c3	e9 72 ff ff ff	 jmp	 $LN2@stockCharP
$LN1@stockCharP:

; 3981 : }

  000c8	5f		 pop	 edi
  000c9	5e		 pop	 esi
  000ca	5b		 pop	 ebx
  000cb	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000d1	3b ec		 cmp	 ebp, esp
  000d3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c3		 ret	 0
?stockCharParts@@YAXXZ ENDP				; stockCharParts
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setCharPrio@@YAXHHHHHMM@Z
_TEXT	SEGMENT
$T1 = -245						; size = 1
_flag$ = -44						; size = 4
_prePtc$ = -32						; size = 4
_ptc$ = -20						; size = 4
_i$ = -8						; size = 4
_graNo$ = 8						; size = 4
_x$ = 12						; size = 4
_y$ = 16						; size = 4
_dx$ = 20						; size = 4
_dy$ = 24						; size = 4
_mx$ = 28						; size = 4
_my$ = 32						; size = 4
?setCharPrio@@YAXHHHHHMM@Z PROC				; setCharPrio, COMDAT

; 3797 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00012	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	c6 85 0b ff ff
	ff 00		 mov	 BYTE PTR $T1[ebp], 0

; 3798 : 	int i;
; 3799 : 	CHAR_PARTS_PRIORITY *ptc, *prePtc;
; 3800 : 	BOOL flag;
; 3801 : 
; 3802 : 	// ?????þ†???ü¬??
; 3803 : 	if (charPrioCnt >= MAX_CHAR_PRIO_BUF)

  00025	81 3d 00 00 00
	00 00 08 00 00	 cmp	 DWORD PTR ?charPrioCnt@@3HA, 2048 ; charPrioCnt, 00000800H
  0002f	7c 05		 jl	 SHORT $LN5@setCharPri

; 3804 : 		return;

  00031	e9 a5 01 00 00	 jmp	 $LN1@setCharPri
$LN5@setCharPri:

; 3805 : 	// ?????????????
; 3806 : 	charPrioBuf[charPrioCnt].graNo = graNo;

  00036	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0003d	8b 4d 08	 mov	 ecx, DWORD PTR _graNo$[ebp]
  00040	89 88 00 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax], ecx

; 3807 : 	charPrioBuf[charPrioCnt].x     = x;

  00046	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0004d	8b 4d 0c	 mov	 ecx, DWORD PTR _x$[ebp]
  00050	89 88 04 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+4], ecx

; 3808 : 	charPrioBuf[charPrioCnt].y     = y;

  00056	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0005d	8b 4d 10	 mov	 ecx, DWORD PTR _y$[ebp]
  00060	89 88 08 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+8], ecx

; 3809 : 	charPrioBuf[charPrioCnt].dx    = dx;

  00066	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0006d	8b 4d 14	 mov	 ecx, DWORD PTR _dx$[ebp]
  00070	89 88 0c 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+12], ecx

; 3810 : 	charPrioBuf[charPrioCnt].dy    = dy;

  00076	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0007d	8b 4d 18	 mov	 ecx, DWORD PTR _dy$[ebp]
  00080	89 88 10 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+16], ecx

; 3811 : 	charPrioBuf[charPrioCnt].mx    = mx;

  00086	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0008d	f3 0f 10 45 1c	 movss	 xmm0, DWORD PTR _mx$[ebp]
  00092	f3 0f 11 80 18
	00 00 00	 movss	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+24], xmm0

; 3812 : 	charPrioBuf[charPrioCnt].my    = my;

  0009a	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000a1	f3 0f 10 45 20	 movss	 xmm0, DWORD PTR _my$[ebp]
  000a6	f3 0f 11 80 1c
	00 00 00	 movss	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+28], xmm0

; 3813 : 	charPrioBuf[charPrioCnt].type  = CHAR_PARTS_PRIO_TYPE_CHAR;

  000ae	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000b5	33 c9		 xor	 ecx, ecx
  000b7	66 89 88 20 00
	00 00		 mov	 WORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+32], cx

; 3814 : 	charPrioBuf[charPrioCnt].pre   = NULL;

  000be	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000c5	c7 80 24 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+36], 0

; 3815 : 	charPrioBuf[charPrioCnt].next  = NULL;

  000cf	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000d6	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+40], 0

; 3816 : 	charPrioBuf[charPrioCnt].depth = y;

  000e0	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000e7	8b 4d 10	 mov	 ecx, DWORD PTR _y$[ebp]
  000ea	89 88 14 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+20], ecx

; 3817 : 	if (charPrioCnt == 0)

  000f0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?charPrioCnt@@3HA, 0 ; charPrioCnt
  000f7	75 1f		 jne	 SHORT $LN6@setCharPri

; 3818 : 		addCharPartsPrio(&charPrioBufTop, &charPrioBuf[charPrioCnt]);

  000f9	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  00100	05 00 00 00 00	 add	 eax, OFFSET ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBuf
  00105	50		 push	 eax
  00106	68 00 00 00 00	 push	 OFFSET ?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBufTop
  0010b	e8 00 00 00 00	 call	 ?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; addCharPartsPrio
  00110	83 c4 08	 add	 esp, 8

; 3819 : 	else

  00113	e9 b6 00 00 00	 jmp	 $LN9@setCharPri
$LN6@setCharPri:

; 3820 : 	{
; 3821 : 		// ???¥K??????????
; 3822 : 		flag = FALSE;

  00118	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 0

; 3823 : 		ptc = charPrioBufTop.next;

  0011f	a1 28 00 00 00	 mov	 eax, DWORD PTR ?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A+40
  00124	89 45 ec	 mov	 DWORD PTR _ptc$[ebp], eax

; 3824 : 		for (i = 0; i < charPrioCnt && ptc != NULL; i++, ptc = ptc->next)

  00127	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0012e	eb 12		 jmp	 SHORT $LN4@setCharPri
$LN2@setCharPri:
  00130	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00133	83 c0 01	 add	 eax, 1
  00136	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
  00139	8b 4d ec	 mov	 ecx, DWORD PTR _ptc$[ebp]
  0013c	8b 51 28	 mov	 edx, DWORD PTR [ecx+40]
  0013f	89 55 ec	 mov	 DWORD PTR _ptc$[ebp], edx
$LN4@setCharPri:
  00142	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00145	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?charPrioCnt@@3HA ; charPrioCnt
  0014b	7d 4c		 jge	 SHORT $LN3@setCharPri
  0014d	83 7d ec 00	 cmp	 DWORD PTR _ptc$[ebp], 0
  00151	74 46		 je	 SHORT $LN3@setCharPri

; 3825 : 		{
; 3826 : 			if (charPrioBuf[charPrioCnt].depth > ptc->depth)

  00153	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0015a	8b 4d ec	 mov	 ecx, DWORD PTR _ptc$[ebp]
  0015d	8b 90 14 00 00
	00		 mov	 edx, DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+20]
  00163	3b 51 14	 cmp	 edx, DWORD PTR [ecx+20]
  00166	7e 22		 jle	 SHORT $LN8@setCharPri

; 3827 : 			{
; 3828 : 				insertCharPartsPrio(ptc, &charPrioBuf[charPrioCnt]);

  00168	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0016f	05 00 00 00 00	 add	 eax, OFFSET ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBuf
  00174	50		 push	 eax
  00175	8b 4d ec	 mov	 ecx, DWORD PTR _ptc$[ebp]
  00178	51		 push	 ecx
  00179	e8 00 00 00 00	 call	 ?insertCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; insertCharPartsPrio
  0017e	83 c4 08	 add	 esp, 8

; 3829 : 				flag = TRUE;

  00181	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 3830 : 				break;

  00188	eb 0f		 jmp	 SHORT $LN3@setCharPri
$LN8@setCharPri:

; 3831 : 			}
; 3832 : 			prePtc = ptc;

  0018a	c6 85 0b ff ff
	ff 01		 mov	 BYTE PTR $T1[ebp], 1
  00191	8b 45 ec	 mov	 eax, DWORD PTR _ptc$[ebp]
  00194	89 45 e0	 mov	 DWORD PTR _prePtc$[ebp], eax

; 3833 : 		}

  00197	eb 97		 jmp	 SHORT $LN2@setCharPri
$LN3@setCharPri:

; 3834 : 		if (!flag)

  00199	83 7d d4 00	 cmp	 DWORD PTR _flag$[ebp], 0
  0019d	75 2f		 jne	 SHORT $LN9@setCharPri

; 3835 : 			addCharPartsPrio(prePtc, &charPrioBuf[charPrioCnt]);

  0019f	80 bd 0b ff ff
	ff 00		 cmp	 BYTE PTR $T1[ebp], 0
  001a6	75 0d		 jne	 SHORT $LN11@setCharPri
  001a8	68 00 00 00 00	 push	 OFFSET $LN12@setCharPri
  001ad	e8 00 00 00 00	 call	 __RTC_UninitUse
  001b2	83 c4 04	 add	 esp, 4
$LN11@setCharPri:
  001b5	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  001bc	05 00 00 00 00	 add	 eax, OFFSET ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBuf
  001c1	50		 push	 eax
  001c2	8b 4d e0	 mov	 ecx, DWORD PTR _prePtc$[ebp]
  001c5	51		 push	 ecx
  001c6	e8 00 00 00 00	 call	 ?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; addCharPartsPrio
  001cb	83 c4 08	 add	 esp, 8
$LN9@setCharPri:

; 3836 : 	}
; 3837 : 	charPrioCnt++;

  001ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?charPrioCnt@@3HA ; charPrioCnt
  001d3	83 c0 01	 add	 eax, 1
  001d6	a3 00 00 00 00	 mov	 DWORD PTR ?charPrioCnt@@3HA, eax ; charPrioCnt
$LN1@setCharPri:

; 3838 : }

  001db	5f		 pop	 edi
  001dc	5e		 pop	 esi
  001dd	5b		 pop	 ebx
  001de	81 c4 fc 00 00
	00		 add	 esp, 252		; 000000fcH
  001e4	3b ec		 cmp	 ebp, esp
  001e6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001eb	8b e5		 mov	 esp, ebp
  001ed	5d		 pop	 ebp
  001ee	c3		 ret	 0
$LN13@setCharPri:
$LN12@setCharPri:
  001ef	70		 DB	 112			; 00000070H
  001f0	72		 DB	 114			; 00000072H
  001f1	65		 DB	 101			; 00000065H
  001f2	50		 DB	 80			; 00000050H
  001f3	74		 DB	 116			; 00000074H
  001f4	63		 DB	 99			; 00000063H
  001f5	00		 DB	 0
?setCharPrio@@YAXHHHHHMM@Z ENDP				; setCharPrio
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setPartsPrio@@YAXHHHHHMMH@Z
_TEXT	SEGMENT
$T1 = -245						; size = 1
_flag$ = -44						; size = 4
_prePtc$ = -32						; size = 4
_ptc$ = -20						; size = 4
_i$ = -8						; size = 4
_graNo$ = 8						; size = 4
_x$ = 12						; size = 4
_y$ = 16						; size = 4
_dx$ = 20						; size = 4
_dy$ = 24						; size = 4
_mx$ = 28						; size = 4
_my$ = 32						; size = 4
_dispPrio$ = 36						; size = 4
?setPartsPrio@@YAXHHHHHMMH@Z PROC			; setPartsPrio, COMDAT

; 3744 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00012	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	c6 85 0b ff ff
	ff 00		 mov	 BYTE PTR $T1[ebp], 0

; 3745 : 	int i;
; 3746 : 	CHAR_PARTS_PRIORITY *ptc, *prePtc;
; 3747 : 	BOOL flag;
; 3748 : 
; 3749 : 	// ?????þ†???ü¬??
; 3750 : 	if (charPrioCnt >= MAX_CHAR_PRIO_BUF)

  00025	81 3d 00 00 00
	00 00 08 00 00	 cmp	 DWORD PTR ?charPrioCnt@@3HA, 2048 ; charPrioCnt, 00000800H
  0002f	7c 05		 jl	 SHORT $LN5@setPartsPr

; 3751 : 		return;

  00031	e9 d6 01 00 00	 jmp	 $LN1@setPartsPr
$LN5@setPartsPr:

; 3752 : 
; 3753 : 	// ?????????????
; 3754 : 	charPrioBuf[charPrioCnt].graNo = graNo;

  00036	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0003d	8b 4d 08	 mov	 ecx, DWORD PTR _graNo$[ebp]
  00040	89 88 00 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax], ecx

; 3755 : 	charPrioBuf[charPrioCnt].x     = x;

  00046	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0004d	8b 4d 0c	 mov	 ecx, DWORD PTR _x$[ebp]
  00050	89 88 04 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+4], ecx

; 3756 : 	charPrioBuf[charPrioCnt].y     = y;

  00056	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0005d	8b 4d 10	 mov	 ecx, DWORD PTR _y$[ebp]
  00060	89 88 08 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+8], ecx

; 3757 : 	charPrioBuf[charPrioCnt].dx    = dx;

  00066	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0006d	8b 4d 14	 mov	 ecx, DWORD PTR _dx$[ebp]
  00070	89 88 0c 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+12], ecx

; 3758 : 	charPrioBuf[charPrioCnt].dy    = dy;

  00076	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0007d	8b 4d 18	 mov	 ecx, DWORD PTR _dy$[ebp]
  00080	89 88 10 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+16], ecx

; 3759 : 	charPrioBuf[charPrioCnt].mx    = mx;

  00086	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0008d	f3 0f 10 45 1c	 movss	 xmm0, DWORD PTR _mx$[ebp]
  00092	f3 0f 11 80 18
	00 00 00	 movss	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+24], xmm0

; 3760 : 	charPrioBuf[charPrioCnt].my    = my;

  0009a	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000a1	f3 0f 10 45 20	 movss	 xmm0, DWORD PTR _my$[ebp]
  000a6	f3 0f 11 80 1c
	00 00 00	 movss	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+28], xmm0

; 3761 : 	if (dispPrio == 0)

  000ae	83 7d 24 00	 cmp	 DWORD PTR _dispPrio$[ebp], 0
  000b2	75 15		 jne	 SHORT $LN6@setPartsPr

; 3762 : 		charPrioBuf[charPrioCnt].type = CHAR_PARTS_PRIO_TYPE_ANI;

  000b4	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000bb	b9 02 00 00 00	 mov	 ecx, 2
  000c0	66 89 88 20 00
	00 00		 mov	 WORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+32], cx

; 3763 : 	else

  000c7	eb 13		 jmp	 SHORT $LN7@setPartsPr
$LN6@setPartsPr:

; 3764 : 		charPrioBuf[charPrioCnt].type  = CHAR_PARTS_PRIO_TYPE_PARTS;

  000c9	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000d0	b9 01 00 00 00	 mov	 ecx, 1
  000d5	66 89 88 20 00
	00 00		 mov	 WORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+32], cx
$LN7@setPartsPr:

; 3765 : 	charPrioBuf[charPrioCnt].pre   = NULL;

  000dc	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000e3	c7 80 24 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+36], 0

; 3766 : 	charPrioBuf[charPrioCnt].next  = NULL;

  000ed	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  000f4	c7 80 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+40], 0

; 3767 : 	charPrioBuf[charPrioCnt].depth = y;

  000fe	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  00105	8b 4d 10	 mov	 ecx, DWORD PTR _y$[ebp]
  00108	89 88 14 00 00
	00		 mov	 DWORD PTR ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A[eax+20], ecx

; 3768 : 
; 3769 : 	if (charPrioCnt == 0)

  0010e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?charPrioCnt@@3HA, 0 ; charPrioCnt
  00115	75 1f		 jne	 SHORT $LN8@setPartsPr

; 3770 : 		addCharPartsPrio(&charPrioBufTop, &charPrioBuf[charPrioCnt]);

  00117	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  0011e	05 00 00 00 00	 add	 eax, OFFSET ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBuf
  00123	50		 push	 eax
  00124	68 00 00 00 00	 push	 OFFSET ?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBufTop
  00129	e8 00 00 00 00	 call	 ?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; addCharPartsPrio
  0012e	83 c4 08	 add	 esp, 8

; 3771 : 	else

  00131	e9 c9 00 00 00	 jmp	 $LN12@setPartsPr
$LN8@setPartsPr:

; 3772 : 	{
; 3773 : 		// ???¥K??????????
; 3774 : 		flag = FALSE;

  00136	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 0

; 3775 : 		ptc = charPrioBufTop.next;

  0013d	a1 28 00 00 00	 mov	 eax, DWORD PTR ?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A+40
  00142	89 45 ec	 mov	 DWORD PTR _ptc$[ebp], eax

; 3776 : 		for (i = 0; i < charPrioCnt && ptc != NULL; i++, ptc = ptc->next)

  00145	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0014c	eb 12		 jmp	 SHORT $LN4@setPartsPr
$LN2@setPartsPr:
  0014e	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00151	83 c0 01	 add	 eax, 1
  00154	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
  00157	8b 4d ec	 mov	 ecx, DWORD PTR _ptc$[ebp]
  0015a	8b 51 28	 mov	 edx, DWORD PTR [ecx+40]
  0015d	89 55 ec	 mov	 DWORD PTR _ptc$[ebp], edx
$LN4@setPartsPr:
  00160	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00163	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?charPrioCnt@@3HA ; charPrioCnt
  00169	7d 5f		 jge	 SHORT $LN3@setPartsPr
  0016b	83 7d ec 00	 cmp	 DWORD PTR _ptc$[ebp], 0
  0016f	74 59		 je	 SHORT $LN3@setPartsPr

; 3777 : 		{
; 3778 : 			if (ptc->type == CHAR_PARTS_PRIO_TYPE_CHAR)

  00171	8b 45 ec	 mov	 eax, DWORD PTR _ptc$[ebp]
  00174	0f bf 48 20	 movsx	 ecx, WORD PTR [eax+32]
  00178	85 c9		 test	 ecx, ecx
  0017a	75 3f		 jne	 SHORT $LN11@setPartsPr

; 3779 : 			{
; 3780 : 				if (checkPrioPartsVsChar(ptc, &charPrioBuf[charPrioCnt]))

  0017c	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  00183	05 00 00 00 00	 add	 eax, OFFSET ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBuf
  00188	50		 push	 eax
  00189	8b 4d ec	 mov	 ecx, DWORD PTR _ptc$[ebp]
  0018c	51		 push	 ecx
  0018d	e8 00 00 00 00	 call	 ?checkPrioPartsVsChar@@YAHPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; checkPrioPartsVsChar
  00192	83 c4 08	 add	 esp, 8
  00195	85 c0		 test	 eax, eax
  00197	74 22		 je	 SHORT $LN11@setPartsPr

; 3781 : 				{
; 3782 : 					insertCharPartsPrio(ptc, &charPrioBuf[charPrioCnt]);

  00199	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  001a0	05 00 00 00 00	 add	 eax, OFFSET ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBuf
  001a5	50		 push	 eax
  001a6	8b 4d ec	 mov	 ecx, DWORD PTR _ptc$[ebp]
  001a9	51		 push	 ecx
  001aa	e8 00 00 00 00	 call	 ?insertCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; insertCharPartsPrio
  001af	83 c4 08	 add	 esp, 8

; 3783 : 					flag = TRUE;

  001b2	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 3784 : 					break;

  001b9	eb 0f		 jmp	 SHORT $LN3@setPartsPr
$LN11@setPartsPr:

; 3785 : 				}
; 3786 : 			}
; 3787 : 			prePtc = ptc;

  001bb	c6 85 0b ff ff
	ff 01		 mov	 BYTE PTR $T1[ebp], 1
  001c2	8b 45 ec	 mov	 eax, DWORD PTR _ptc$[ebp]
  001c5	89 45 e0	 mov	 DWORD PTR _prePtc$[ebp], eax

; 3788 : 		}

  001c8	eb 84		 jmp	 SHORT $LN2@setPartsPr
$LN3@setPartsPr:

; 3789 : 		if (!flag)

  001ca	83 7d d4 00	 cmp	 DWORD PTR _flag$[ebp], 0
  001ce	75 2f		 jne	 SHORT $LN12@setPartsPr

; 3790 : 			addCharPartsPrio(prePtc, &charPrioBuf[charPrioCnt]);

  001d0	80 bd 0b ff ff
	ff 00		 cmp	 BYTE PTR $T1[ebp], 0
  001d7	75 0d		 jne	 SHORT $LN14@setPartsPr
  001d9	68 00 00 00 00	 push	 OFFSET $LN15@setPartsPr
  001de	e8 00 00 00 00	 call	 __RTC_UninitUse
  001e3	83 c4 04	 add	 esp, 4
$LN14@setPartsPr:
  001e6	6b 05 00 00 00
	00 2c		 imul	 eax, DWORD PTR ?charPrioCnt@@3HA, 44 ; charPrioCnt
  001ed	05 00 00 00 00	 add	 eax, OFFSET ?charPrioBuf@@3PAUTAG_CHAR_PARTS_PRIORITY@@A ; charPrioBuf
  001f2	50		 push	 eax
  001f3	8b 4d e0	 mov	 ecx, DWORD PTR _prePtc$[ebp]
  001f6	51		 push	 ecx
  001f7	e8 00 00 00 00	 call	 ?addCharPartsPrio@@YAXPAUTAG_CHAR_PARTS_PRIORITY@@0@Z ; addCharPartsPrio
  001fc	83 c4 08	 add	 esp, 8
$LN12@setPartsPr:

; 3791 : 	}
; 3792 : 	charPrioCnt++;

  001ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?charPrioCnt@@3HA ; charPrioCnt
  00204	83 c0 01	 add	 eax, 1
  00207	a3 00 00 00 00	 mov	 DWORD PTR ?charPrioCnt@@3HA, eax ; charPrioCnt
$LN1@setPartsPr:

; 3793 : }

  0020c	5f		 pop	 edi
  0020d	5e		 pop	 esi
  0020e	5b		 pop	 ebx
  0020f	81 c4 fc 00 00
	00		 add	 esp, 252		; 000000fcH
  00215	3b ec		 cmp	 ebp, esp
  00217	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0021c	8b e5		 mov	 esp, ebp
  0021e	5d		 pop	 ebp
  0021f	c3		 ret	 0
$LN16@setPartsPr:
$LN15@setPartsPr:
  00220	70		 DB	 112			; 00000070H
  00221	72		 DB	 114			; 00000072H
  00222	65		 DB	 101			; 00000065H
  00223	50		 DB	 80			; 00000050H
  00224	74		 DB	 116			; 00000074H
  00225	63		 DB	 99			; 00000063H
  00226	00		 DB	 0
?setPartsPrio@@YAXHHHHHMMH@Z ENDP			; setPartsPrio
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?initCharPartsPrio@@YAXXZ
_TEXT	SEGMENT
?initCharPartsPrio@@YAXXZ PROC				; initCharPartsPrio, COMDAT

; 3736 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3737 : 	charPrioCnt = 0;

  0001e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?charPrioCnt@@3HA, 0 ; charPrioCnt

; 3738 : 	charPrioBufTop.pre = NULL;

  00028	c7 05 24 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A+36, 0

; 3739 : 	charPrioBufTop.next = NULL;

  00032	c7 05 28 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?charPrioBufTop@@3UTAG_CHAR_PARTS_PRIORITY@@A+40, 0

; 3740 : }

  0003c	5f		 pop	 edi
  0003d	5e		 pop	 esi
  0003e	5b		 pop	 ebx
  0003f	8b e5		 mov	 esp, ebp
  00041	5d		 pop	 ebp
  00042	c3		 ret	 0
?initCharPartsPrio@@YAXXZ ENDP				; initCharPartsPrio
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?goFrontPartyCharacter@@YAXHHH@Z
_TEXT	SEGMENT
tv190 = -244						; size = 4
tv159 = -244						; size = 4
_ptAct$ = -44						; size = 4
_oy$ = -32						; size = 4
_ox$ = -20						; size = 4
_i$ = -8						; size = 4
_no$ = 8						; size = 4
_x$ = 12						; size = 4
_y$ = 16						; size = 4
?goFrontPartyCharacter@@YAXHHH@Z PROC			; goFrontPartyCharacter, COMDAT

; 3182 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f4 00 00
	00		 sub	 esp, 244		; 000000f4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 0c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-244]
  00012	b9 3d 00 00 00	 mov	 ecx, 61			; 0000003dH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3183 : 	int i, ox, oy;
; 3184 : 	ACTION *ptAct;
; 3185 : 
; 3186 : 	// ????ýÑ©?þ†???????????ü¬??
; 3187 : 	if (party[0].ptAct == NULL)

  0001e	b8 30 00 00 00	 mov	 eax, 48			; 00000030H
  00023	6b c8 00	 imul	 ecx, eax, 0
  00026	83 b9 2c 00 00
	00 00		 cmp	 DWORD PTR ?party@@3PAUPARTY@@A[ecx+44], 0
  0002d	75 05		 jne	 SHORT $LN7@goFrontPar

; 3188 : 		return;

  0002f	e9 7e 02 00 00	 jmp	 $LN1@goFrontPar
$LN7@goFrontPar:

; 3189 : 	// ?????¥h???ü¬??
; 3190 : 	ptAct = party[0].ptAct;

  00034	b8 30 00 00 00	 mov	 eax, 48			; 00000030H
  00039	6b c8 00	 imul	 ecx, eax, 0
  0003c	8b 91 2c 00 00
	00		 mov	 edx, DWORD PTR ?party@@3PAUPARTY@@A[ecx+44]
  00042	89 55 d4	 mov	 DWORD PTR _ptAct$[ebp], edx

; 3191 : 	if (ptAct->bufCount > 0 || (float)ptAct->nextGx*GRID_SIZE != ptAct->mx || (float)ptAct->nextGy*GRID_SIZE != ptAct->my)

  00045	8b 45 d4	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00048	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  0004f	85 c9		 test	 ecx, ecx
  00051	7f 46		 jg	 SHORT $LN9@goFrontPar
  00053	8b 45 d4	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00056	f3 0f 2a 80 bc
	00 00 00	 cvtsi2ss xmm0, DWORD PTR [eax+188]
  0005e	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00066	8b 4d d4	 mov	 ecx, DWORD PTR _ptAct$[ebp]
  00069	0f 2e 81 18 01
	00 00		 ucomiss xmm0, DWORD PTR [ecx+280]
  00070	9f		 lahf
  00071	f6 c4 44	 test	 ah, 68			; 00000044H
  00074	7a 23		 jp	 SHORT $LN9@goFrontPar
  00076	8b 45 d4	 mov	 eax, DWORD PTR _ptAct$[ebp]
  00079	f3 0f 2a 80 c0
	00 00 00	 cvtsi2ss xmm0, DWORD PTR [eax+192]
  00081	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00089	8b 4d d4	 mov	 ecx, DWORD PTR _ptAct$[ebp]
  0008c	0f 2e 81 1c 01
	00 00		 ucomiss xmm0, DWORD PTR [ecx+284]
  00093	9f		 lahf
  00094	f6 c4 44	 test	 ah, 68			; 00000044H
  00097	7b 05		 jnp	 SHORT $LN8@goFrontPar
$LN9@goFrontPar:

; 3192 : 		return;

  00099	e9 14 02 00 00	 jmp	 $LN1@goFrontPar
$LN8@goFrontPar:

; 3193 : 	// §I??????¡q????????¥›??ü¬??
; 3194 : 	for (i = no - 1; i >= 0; i--)

  0009e	8b 45 08	 mov	 eax, DWORD PTR _no$[ebp]
  000a1	83 e8 01	 sub	 eax, 1
  000a4	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
  000a7	eb 09		 jmp	 SHORT $LN4@goFrontPar
$LN2@goFrontPar:
  000a9	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  000ac	83 e8 01	 sub	 eax, 1
  000af	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@goFrontPar:
  000b2	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  000b6	0f 8c f6 01 00
	00		 jl	 $LN3@goFrontPar

; 3195 : 	{
; 3196 : 		//jl fix
; 3197 : 		if (i >= 0 && i < MAX_PARTY) {

  000bc	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  000c0	0f 8c 39 01 00
	00		 jl	 $LN11@goFrontPar
  000c6	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  000ca	0f 8d 2f 01 00
	00		 jge	 $LN11@goFrontPar

; 3198 : 			if (party[i].useFlag && party[i].ptAct != NULL)

  000d0	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  000d4	0f bf 88 00 00
	00 00		 movsx	 ecx, WORD PTR ?party@@3PAUPARTY@@A[eax]
  000db	85 c9		 test	 ecx, ecx
  000dd	0f 84 1c 01 00
	00		 je	 $LN11@goFrontPar
  000e3	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  000e7	83 b8 2c 00 00
	00 00		 cmp	 DWORD PTR ?party@@3PAUPARTY@@A[eax+44], 0
  000ee	0f 84 0b 01 00
	00		 je	 $LN11@goFrontPar

; 3199 : 			{
; 3200 : 				if (ABS(party[i].ptAct->nextGx - party[no].ptAct->nextGx) < 2 && ABS(party[i].ptAct->nextGy - party[no].ptAct->nextGy) < 2)

  000f4	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  000f8	8b 88 2c 00 00
	00		 mov	 ecx, DWORD PTR ?party@@3PAUPARTY@@A[eax+44]
  000fe	6b 55 08 30	 imul	 edx, DWORD PTR _no$[ebp], 48
  00102	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  00108	8b 89 bc 00 00
	00		 mov	 ecx, DWORD PTR [ecx+188]
  0010e	2b 88 bc 00 00
	00		 sub	 ecx, DWORD PTR [eax+188]
  00114	79 2a		 jns	 SHORT $LN17@goFrontPar
  00116	6b 55 f8 30	 imul	 edx, DWORD PTR _i$[ebp], 48
  0011a	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  00120	6b 4d 08 30	 imul	 ecx, DWORD PTR _no$[ebp], 48
  00124	8b 91 2c 00 00
	00		 mov	 edx, DWORD PTR ?party@@3PAUPARTY@@A[ecx+44]
  0012a	8b 80 bc 00 00
	00		 mov	 eax, DWORD PTR [eax+188]
  00130	2b 82 bc 00 00
	00		 sub	 eax, DWORD PTR [edx+188]
  00136	f7 d8		 neg	 eax
  00138	89 85 0c ff ff
	ff		 mov	 DWORD PTR tv159[ebp], eax
  0013e	eb 26		 jmp	 SHORT $LN18@goFrontPar
$LN17@goFrontPar:
  00140	6b 4d f8 30	 imul	 ecx, DWORD PTR _i$[ebp], 48
  00144	8b 91 2c 00 00
	00		 mov	 edx, DWORD PTR ?party@@3PAUPARTY@@A[ecx+44]
  0014a	6b 45 08 30	 imul	 eax, DWORD PTR _no$[ebp], 48
  0014e	8b 88 2c 00 00
	00		 mov	 ecx, DWORD PTR ?party@@3PAUPARTY@@A[eax+44]
  00154	8b 92 bc 00 00
	00		 mov	 edx, DWORD PTR [edx+188]
  0015a	2b 91 bc 00 00
	00		 sub	 edx, DWORD PTR [ecx+188]
  00160	89 95 0c ff ff
	ff		 mov	 DWORD PTR tv159[ebp], edx
$LN18@goFrontPar:
  00166	83 bd 0c ff ff
	ff 02		 cmp	 DWORD PTR tv159[ebp], 2
  0016d	0f 8d 80 00 00
	00		 jge	 $LN12@goFrontPar
  00173	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  00177	8b 88 2c 00 00
	00		 mov	 ecx, DWORD PTR ?party@@3PAUPARTY@@A[eax+44]
  0017d	6b 55 08 30	 imul	 edx, DWORD PTR _no$[ebp], 48
  00181	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  00187	8b 89 c0 00 00
	00		 mov	 ecx, DWORD PTR [ecx+192]
  0018d	2b 88 c0 00 00
	00		 sub	 ecx, DWORD PTR [eax+192]
  00193	79 2a		 jns	 SHORT $LN19@goFrontPar
  00195	6b 55 f8 30	 imul	 edx, DWORD PTR _i$[ebp], 48
  00199	8b 82 2c 00 00
	00		 mov	 eax, DWORD PTR ?party@@3PAUPARTY@@A[edx+44]
  0019f	6b 4d 08 30	 imul	 ecx, DWORD PTR _no$[ebp], 48
  001a3	8b 91 2c 00 00
	00		 mov	 edx, DWORD PTR ?party@@3PAUPARTY@@A[ecx+44]
  001a9	8b 80 c0 00 00
	00		 mov	 eax, DWORD PTR [eax+192]
  001af	2b 82 c0 00 00
	00		 sub	 eax, DWORD PTR [edx+192]
  001b5	f7 d8		 neg	 eax
  001b7	89 85 0c ff ff
	ff		 mov	 DWORD PTR tv190[ebp], eax
  001bd	eb 26		 jmp	 SHORT $LN20@goFrontPar
$LN19@goFrontPar:
  001bf	6b 4d f8 30	 imul	 ecx, DWORD PTR _i$[ebp], 48
  001c3	8b 91 2c 00 00
	00		 mov	 edx, DWORD PTR ?party@@3PAUPARTY@@A[ecx+44]
  001c9	6b 45 08 30	 imul	 eax, DWORD PTR _no$[ebp], 48
  001cd	8b 88 2c 00 00
	00		 mov	 ecx, DWORD PTR ?party@@3PAUPARTY@@A[eax+44]
  001d3	8b 92 c0 00 00
	00		 mov	 edx, DWORD PTR [edx+192]
  001d9	2b 91 c0 00 00
	00		 sub	 edx, DWORD PTR [ecx+192]
  001df	89 95 0c ff ff
	ff		 mov	 DWORD PTR tv190[ebp], edx
$LN20@goFrontPar:
  001e5	83 bd 0c ff ff
	ff 02		 cmp	 DWORD PTR tv190[ebp], 2
  001ec	7d 05		 jge	 SHORT $LN12@goFrontPar

; 3201 : 					return;

  001ee	e9 bf 00 00 00	 jmp	 $LN1@goFrontPar
$LN12@goFrontPar:

; 3202 : 				i = -1;

  001f3	c7 45 f8 ff ff
	ff ff		 mov	 DWORD PTR _i$[ebp], -1

; 3203 : 				break;

  001fa	e9 b3 00 00 00	 jmp	 $LN3@goFrontPar
$LN11@goFrontPar:

; 3204 : 			}
; 3205 : 		}
; 3206 : 
; 3207 : 		if (i >= 0)

  001ff	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  00203	7c 05		 jl	 SHORT $LN13@goFrontPar

; 3208 : 			return;

  00205	e9 a8 00 00 00	 jmp	 $LN1@goFrontPar
$LN13@goFrontPar:

; 3209 : 		nowSpdRate = 1.0F;

  0020a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00212	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0

; 3210 : 		i = no;

  0021a	8b 45 08	 mov	 eax, DWORD PTR _no$[ebp]
  0021d	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN5@goFrontPar:

; 3211 : 		while (i < MAX_PARTY)

  00220	83 7d f8 05	 cmp	 DWORD PTR _i$[ebp], 5
  00224	0f 8d 83 00 00
	00		 jge	 $LN6@goFrontPar

; 3212 : 		{
; 3213 : 			if (i >= 0)

  0022a	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  0022e	7c 6f		 jl	 SHORT $LN15@goFrontPar

; 3214 : 			{
; 3215 : 				if (party[i].useFlag && party[i].ptAct != NULL)

  00230	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  00234	0f bf 88 00 00
	00 00		 movsx	 ecx, WORD PTR ?party@@3PAUPARTY@@A[eax]
  0023b	85 c9		 test	 ecx, ecx
  0023d	74 60		 je	 SHORT $LN15@goFrontPar
  0023f	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  00243	83 b8 2c 00 00
	00 00		 cmp	 DWORD PTR ?party@@3PAUPARTY@@A[eax+44], 0
  0024a	74 53		 je	 SHORT $LN15@goFrontPar

; 3216 : 				{
; 3217 : 					ptAct = party[i].ptAct;

  0024c	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  00250	8b 88 2c 00 00
	00		 mov	 ecx, DWORD PTR ?party@@3PAUPARTY@@A[eax+44]
  00256	89 4d d4	 mov	 DWORD PTR _ptAct$[ebp], ecx

; 3218 : 					ox = party[i].ptAct->nextGx;

  00259	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  0025d	8b 88 2c 00 00
	00		 mov	 ecx, DWORD PTR ?party@@3PAUPARTY@@A[eax+44]
  00263	8b 91 bc 00 00
	00		 mov	 edx, DWORD PTR [ecx+188]
  00269	89 55 ec	 mov	 DWORD PTR _ox$[ebp], edx

; 3219 : 					oy = party[i].ptAct->nextGy;

  0026c	6b 45 f8 30	 imul	 eax, DWORD PTR _i$[ebp], 48
  00270	8b 88 2c 00 00
	00		 mov	 ecx, DWORD PTR ?party@@3PAUPARTY@@A[eax+44]
  00276	8b 91 c0 00 00
	00		 mov	 edx, DWORD PTR [ecx+192]
  0027c	89 55 e0	 mov	 DWORD PTR _oy$[ebp], edx

; 3220 : 					stockCharMovePoint(ptAct, x, y);

  0027f	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  00282	50		 push	 eax
  00283	8b 4d 0c	 mov	 ecx, DWORD PTR _x$[ebp]
  00286	51		 push	 ecx
  00287	8b 55 d4	 mov	 edx, DWORD PTR _ptAct$[ebp]
  0028a	52		 push	 edx
  0028b	e8 00 00 00 00	 call	 ?stockCharMovePoint@@YAXPAUaction@@HH@Z ; stockCharMovePoint
  00290	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3221 : 					x = ox;

  00293	8b 45 ec	 mov	 eax, DWORD PTR _ox$[ebp]
  00296	89 45 0c	 mov	 DWORD PTR _x$[ebp], eax

; 3222 : 					y = oy;

  00299	8b 45 e0	 mov	 eax, DWORD PTR _oy$[ebp]
  0029c	89 45 10	 mov	 DWORD PTR _y$[ebp], eax
$LN15@goFrontPar:

; 3223 : 				}
; 3224 : 			}
; 3225 : 			i++;

  0029f	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  002a2	83 c0 01	 add	 eax, 1
  002a5	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 3226 : 		}

  002a8	e9 73 ff ff ff	 jmp	 $LN5@goFrontPar
$LN6@goFrontPar:

; 3227 : 	}

  002ad	e9 f7 fd ff ff	 jmp	 $LN2@goFrontPar
$LN3@goFrontPar:
$LN1@goFrontPar:

; 3228 : }

  002b2	5f		 pop	 edi
  002b3	5e		 pop	 esi
  002b4	5b		 pop	 ebx
  002b5	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  002bb	3b ec		 cmp	 ebp, esp
  002bd	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002c2	8b e5		 mov	 esp, ebp
  002c4	5d		 pop	 ebp
  002c5	c3		 ret	 0
?goFrontPartyCharacter@@YAXHHH@Z ENDP			; goFrontPartyCharacter
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?cnvServDir@@YADHH@Z
_TEXT	SEGMENT
_ret$ = -5						; size = 1
_dir$ = 8						; size = 4
_mode$ = 12						; size = 4
?cnvServDir@@YADHH@Z PROC				; cnvServDir, COMDAT

; 3711 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3712 : 	char ret = 'f';

  0001e	c6 45 fb 66	 mov	 BYTE PTR _ret$[ebp], 102 ; 00000066H

; 3713 : 
; 3714 : 	if (0 <= dir && dir <= 2)

  00022	83 7d 08 00	 cmp	 DWORD PTR _dir$[ebp], 0
  00026	7c 22		 jl	 SHORT $LN2@cnvServDir
  00028	83 7d 08 02	 cmp	 DWORD PTR _dir$[ebp], 2
  0002c	7f 1c		 jg	 SHORT $LN2@cnvServDir

; 3715 : 	{
; 3716 : 		if (mode == 0)

  0002e	83 7d 0c 00	 cmp	 DWORD PTR _mode$[ebp], 0
  00032	75 0b		 jne	 SHORT $LN4@cnvServDir

; 3717 : 			ret = 'f' + dir;

  00034	8b 45 08	 mov	 eax, DWORD PTR _dir$[ebp]
  00037	83 c0 66	 add	 eax, 102		; 00000066H
  0003a	88 45 fb	 mov	 BYTE PTR _ret$[ebp], al

; 3718 : 		else

  0003d	eb 09		 jmp	 SHORT $LN5@cnvServDir
$LN4@cnvServDir:

; 3719 : 			ret = 'F' + dir;

  0003f	8b 45 08	 mov	 eax, DWORD PTR _dir$[ebp]
  00042	83 c0 46	 add	 eax, 70			; 00000046H
  00045	88 45 fb	 mov	 BYTE PTR _ret$[ebp], al
$LN5@cnvServDir:
  00048	eb 20		 jmp	 SHORT $LN3@cnvServDir
$LN2@cnvServDir:

; 3720 : 	}
; 3721 : 	else if (dir < 8)

  0004a	83 7d 08 08	 cmp	 DWORD PTR _dir$[ebp], 8
  0004e	7d 1a		 jge	 SHORT $LN3@cnvServDir

; 3722 : 	{
; 3723 : 		if (mode == 0)

  00050	83 7d 0c 00	 cmp	 DWORD PTR _mode$[ebp], 0
  00054	75 0b		 jne	 SHORT $LN7@cnvServDir

; 3724 : 			ret = 'a' + dir - 3;

  00056	8b 45 08	 mov	 eax, DWORD PTR _dir$[ebp]
  00059	83 c0 5e	 add	 eax, 94			; 0000005eH
  0005c	88 45 fb	 mov	 BYTE PTR _ret$[ebp], al

; 3725 : 		else

  0005f	eb 09		 jmp	 SHORT $LN3@cnvServDir
$LN7@cnvServDir:

; 3726 : 			ret = 'A' + dir - 3;

  00061	8b 45 08	 mov	 eax, DWORD PTR _dir$[ebp]
  00064	83 c0 3e	 add	 eax, 62			; 0000003eH
  00067	88 45 fb	 mov	 BYTE PTR _ret$[ebp], al
$LN3@cnvServDir:

; 3727 : 	}
; 3728 : 
; 3729 : 	return ret;

  0006a	8a 45 fb	 mov	 al, BYTE PTR _ret$[ebp]

; 3730 : }

  0006d	5f		 pop	 edi
  0006e	5e		 pop	 esi
  0006f	5b		 pop	 ebx
  00070	8b e5		 mov	 esp, ebp
  00072	5d		 pop	 ebp
  00073	c3		 ret	 0
?cnvServDir@@YADHH@Z ENDP				; cnvServDir
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?getRouteData@@YAXHPAH0@Z
_TEXT	SEGMENT
tv64 = -196						; size = 4
_dir$ = 8						; size = 4
_x$ = 12						; size = 4
_y$ = 16						; size = 4
?getRouteData@@YAXHPAH0@Z PROC				; getRouteData, COMDAT

; 3434 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3435 : 	switch (dir)

  0001e	8b 45 08	 mov	 eax, DWORD PTR _dir$[ebp]
  00021	89 85 3c ff ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  00027	83 bd 3c ff ff
	ff 07		 cmp	 DWORD PTR tv64[ebp], 7
  0002e	0f 87 b3 00 00
	00		 ja	 $LN12@getRouteDa
  00034	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR tv64[ebp]
  0003a	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN14@getRouteDa[ecx*4]
$LN4@getRouteDa:

; 3436 : 	{
; 3437 : 		case 0:
; 3438 : 			*x = -1;

  00041	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  00044	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 3439 : 			*y = 1;

  0004a	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  0004d	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 3440 : 			break;

  00053	e9 a1 00 00 00	 jmp	 $LN1@getRouteDa
$LN5@getRouteDa:

; 3441 : 
; 3442 : 		case 1:
; 3443 : 			*x = -1;

  00058	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  0005b	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 3444 : 			*y = 0;

  00061	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  00064	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 3445 : 			break;

  0006a	e9 8a 00 00 00	 jmp	 $LN1@getRouteDa
$LN6@getRouteDa:

; 3446 : 
; 3447 : 		case 2:
; 3448 : 			*x = -1;

  0006f	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  00072	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 3449 : 			*y = -1;

  00078	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  0007b	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 3450 : 			break;

  00081	eb 76		 jmp	 SHORT $LN1@getRouteDa
$LN7@getRouteDa:

; 3451 : 
; 3452 : 		case 3:
; 3453 : 			*x = 0;

  00083	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  00086	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 3454 : 			*y = -1;

  0008c	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  0008f	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 3455 : 			break;

  00095	eb 62		 jmp	 SHORT $LN1@getRouteDa
$LN8@getRouteDa:

; 3456 : 
; 3457 : 		case 4:
; 3458 : 			*x = 1;

  00097	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  0009a	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 3459 : 			*y = -1;

  000a0	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  000a3	c7 00 ff ff ff
	ff		 mov	 DWORD PTR [eax], -1

; 3460 : 			break;

  000a9	eb 4e		 jmp	 SHORT $LN1@getRouteDa
$LN9@getRouteDa:

; 3461 : 
; 3462 : 		case 5:
; 3463 : 			*x = 1;

  000ab	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  000ae	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 3464 : 			*y = 0;

  000b4	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  000b7	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 3465 : 			break;

  000bd	eb 3a		 jmp	 SHORT $LN1@getRouteDa
$LN10@getRouteDa:

; 3466 : 
; 3467 : 		case 6:
; 3468 : 			*x = 1;

  000bf	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  000c2	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 3469 : 			*y = 1;

  000c8	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  000cb	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 3470 : 			break;

  000d1	eb 26		 jmp	 SHORT $LN1@getRouteDa
$LN11@getRouteDa:

; 3471 : 
; 3472 : 		case 7:
; 3473 : 			*x = 0;

  000d3	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  000d6	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 3474 : 			*y = 1;

  000dc	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  000df	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 3475 : 			break;

  000e5	eb 12		 jmp	 SHORT $LN1@getRouteDa
$LN12@getRouteDa:

; 3476 : 
; 3477 : 		default:
; 3478 : 			*x = 0;

  000e7	8b 45 0c	 mov	 eax, DWORD PTR _x$[ebp]
  000ea	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 3479 : 			*y = 0;

  000f0	8b 45 10	 mov	 eax, DWORD PTR _y$[ebp]
  000f3	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0
$LN1@getRouteDa:

; 3480 : 			break;
; 3481 : 	}
; 3482 : }

  000f9	5f		 pop	 edi
  000fa	5e		 pop	 esi
  000fb	5b		 pop	 ebx
  000fc	8b e5		 mov	 esp, ebp
  000fe	5d		 pop	 ebp
  000ff	c3		 ret	 0
$LN14@getRouteDa:
  00100	00 00 00 00	 DD	 $LN4@getRouteDa
  00104	00 00 00 00	 DD	 $LN5@getRouteDa
  00108	00 00 00 00	 DD	 $LN6@getRouteDa
  0010c	00 00 00 00	 DD	 $LN7@getRouteDa
  00110	00 00 00 00	 DD	 $LN8@getRouteDa
  00114	00 00 00 00	 DD	 $LN9@getRouteDa
  00118	00 00 00 00	 DD	 $LN10@getRouteDa
  0011c	00 00 00 00	 DD	 $LN11@getRouteDa
?getRouteData@@YAXHPAH0@Z ENDP				; getRouteData
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?updateMapArea@@YAXXZ
_TEXT	SEGMENT
?updateMapArea@@YAXXZ PROC				; updateMapArea, COMDAT

; 2382 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2383 : 	mapAreaX1 = nowGx+MAP_TILE_GRID_X1;

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00023	83 e8 14	 sub	 eax, 20			; 00000014H
  00026	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX1@@3HA, eax ; mapAreaX1

; 2384 : 	mapAreaY1 = nowGy+MAP_TILE_GRID_Y1;

  0002b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00030	83 e8 10	 sub	 eax, 16			; 00000010H
  00033	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY1@@3HA, eax ; mapAreaY1

; 2385 : 	mapAreaX2 = nowGx+MAP_TILE_GRID_X2;

  00038	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  0003d	83 c0 11	 add	 eax, 17			; 00000011H
  00040	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX2@@3HA, eax ; mapAreaX2

; 2386 : 	mapAreaY2 = nowGy+MAP_TILE_GRID_Y2;

  00045	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0004a	83 c0 15	 add	 eax, 21			; 00000015H
  0004d	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY2@@3HA, eax ; mapAreaY2

; 2387 : 
; 2388 : 	if (mapAreaX1 < 0)

  00052	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapAreaX1@@3HA, 0 ; mapAreaX1
  00059	7d 0a		 jge	 SHORT $LN2@updateMapA

; 2389 : 		mapAreaX1 = 0;

  0005b	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapAreaX1@@3HA, 0 ; mapAreaX1
$LN2@updateMapA:

; 2390 : 	if (mapAreaY1 < 0)

  00065	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapAreaY1@@3HA, 0 ; mapAreaY1
  0006c	7d 0a		 jge	 SHORT $LN3@updateMapA

; 2391 : 		mapAreaY1 = 0;

  0006e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapAreaY1@@3HA, 0 ; mapAreaY1
$LN3@updateMapA:

; 2392 : 	if (mapAreaX2 > nowFloorGxSize)

  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  0007d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  00083	7e 0a		 jle	 SHORT $LN4@updateMapA

; 2393 : 		mapAreaX2 = nowFloorGxSize;

  00085	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  0008a	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX2@@3HA, eax ; mapAreaX2
$LN4@updateMapA:

; 2394 : 	if (mapAreaY2 > nowFloorGySize)

  0008f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00094	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  0009a	7e 0a		 jle	 SHORT $LN5@updateMapA

; 2395 : 		mapAreaY2 = nowFloorGySize;

  0009c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  000a1	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY2@@3HA, eax ; mapAreaY2
$LN5@updateMapA:

; 2396 : 
; 2397 : 	mapAreaWidth  = mapAreaX2 - mapAreaX1;

  000a6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  000ab	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  000b1	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaWidth@@3HA, eax ; mapAreaWidth

; 2398 : 	mapAreaHeight = mapAreaY2 - mapAreaY1;

  000b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  000bb	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  000c1	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaHeight@@3HA, eax ; mapAreaHeight

; 2399 : }

  000c6	5f		 pop	 edi
  000c7	5e		 pop	 esi
  000c8	5b		 pop	 ebx
  000c9	8b e5		 mov	 esp, ebp
  000cb	5d		 pop	 ebp
  000cc	c3		 ret	 0
?updateMapArea@@YAXXZ ENDP				; updateMapArea
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapMove2@@YAXXZ
_TEXT	SEGMENT
tv140 = -220						; size = 4
_dy$ = -20						; size = 4
_dx$ = -8						; size = 4
?mapMove2@@YAXXZ PROC					; mapMove2, COMDAT

; 3317 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec dc 00 00
	00		 sub	 esp, 220		; 000000dcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 24 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-220]
  00012	b9 37 00 00 00	 mov	 ecx, 55			; 00000037H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3318 : 	float dx, dy;
; 3319 : 
; 3320 : 	// ?¥h???
; 3321 : 	if (nowVx != 0 || nowVy != 0)

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVx@@3MA
  00026	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  0002d	9f		 lahf
  0002e	f6 c4 44	 test	 ah, 68			; 00000044H
  00031	7a 19		 jp	 SHORT $LN4@mapMove2
  00033	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVy@@3MA
  0003b	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00042	9f		 lahf
  00043	f6 c4 44	 test	 ah, 68			; 00000044H
  00046	0f 8b 0a 01 00
	00		 jnp	 $LN2@mapMove2
$LN4@mapMove2:

; 3322 : 	{
; 3323 : 		// ?¤†Ô?????????????
; 3324 : 		dx = (float)nextGx * GRID_SIZE;

  0004c	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGx@@3HA ; nextGx
  00054	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  0005c	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 3325 : 		dy = (float)nextGy * GRID_SIZE;

  00061	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nextGy@@3HA ; nextGy
  00069	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00071	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0

; 3326 : 		if (pointLen2(nowX, nowY, dx, dy) <= nowVx * nowVx + nowVy * nowVy)

  00076	51		 push	 ecx
  00077	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  0007c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00081	51		 push	 ecx
  00082	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00087	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0008c	51		 push	 ecx
  0008d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  00095	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0009a	51		 push	 ecx
  0009b	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  000a3	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  000a8	e8 00 00 00 00	 call	 ?pointLen2@@YAMMMMM@Z	; pointLen2
  000ad	83 c4 10	 add	 esp, 16			; 00000010H
  000b0	d9 9d 24 ff ff
	ff		 fstp	 DWORD PTR tv140[ebp]
  000b6	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowVx@@3MA
  000be	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR ?nowVx@@3MA
  000c6	f3 0f 10 0d 00
	00 00 00	 movss	 xmm1, DWORD PTR ?nowVy@@3MA
  000ce	f3 0f 59 0d 00
	00 00 00	 mulss	 xmm1, DWORD PTR ?nowVy@@3MA
  000d6	f3 0f 58 c1	 addss	 xmm0, xmm1
  000da	0f 2f 85 24 ff
	ff ff		 comiss	 xmm0, DWORD PTR tv140[ebp]
  000e1	72 32		 jb	 SHORT $LN5@mapMove2

; 3327 : 		{
; 3328 : 			nowX = dx;

  000e3	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  000e8	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0

; 3329 : 			nowY = dy;

  000f0	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  000f5	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0

; 3330 : 			nowVx = 0;

  000fd	0f 57 c0	 xorps	 xmm0, xmm0
  00100	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 3331 : 			nowVy = 0;

  00108	0f 57 c0	 xorps	 xmm0, xmm0
  0010b	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 3332 : 		}
; 3333 : 		// ?¥h
; 3334 : 		else

  00113	eb 30		 jmp	 SHORT $LN6@mapMove2
$LN5@mapMove2:

; 3335 : 		{
; 3336 : 			nowX += nowVx;

  00115	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  0011d	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?nowVx@@3MA
  00125	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0

; 3337 : 			nowY += nowVy;

  0012d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  00135	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR ?nowVy@@3MA
  0013d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0
$LN6@mapMove2:

; 3338 : 		}
; 3339 : 		setPcAction(ANIM_WALK);

  00145	6a 04		 push	 4
  00147	e8 00 00 00 00	 call	 ?setPcAction@@YAXH@Z	; setPcAction
  0014c	83 c4 04	 add	 esp, 4

; 3340 : 		setPcWalkFlag();

  0014f	e8 00 00 00 00	 call	 ?setPcWalkFlag@@YAXXZ	; setPcWalkFlag

; 3341 : 	}
; 3342 : 	else

  00154	eb 19		 jmp	 SHORT $LN7@mapMove2
$LN2@mapMove2:

; 3343 : 	{
; 3344 : 		// PC????????????WALK???????????STAND???
; 3345 : 		if (checkPcWalkFlag() == 1)

  00156	e8 00 00 00 00	 call	 ?checkPcWalkFlag@@YAHXZ	; checkPcWalkFlag
  0015b	83 f8 01	 cmp	 eax, 1
  0015e	75 0f		 jne	 SHORT $LN7@mapMove2

; 3346 : 		{
; 3347 : 			setPcAction(ANIM_STAND);

  00160	6a 03		 push	 3
  00162	e8 00 00 00 00	 call	 ?setPcAction@@YAXH@Z	; setPcAction
  00167	83 c4 04	 add	 esp, 4

; 3348 : 			delPcWalkFlag();

  0016a	e8 00 00 00 00	 call	 ?delPcWalkFlag@@YAXXZ	; delPcWalkFlag
$LN7@mapMove2:

; 3349 : 		}
; 3350 : 	}
; 3351 : 
; 3352 : 	nowGx = (int)(nowX / GRID_SIZE);

  0016f	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  00177	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  0017f	f3 0f 2c c0	 cvttss2si eax, xmm0
  00183	a3 00 00 00 00	 mov	 DWORD PTR ?nowGx@@3HA, eax ; nowGx

; 3353 : 	nowGy = (int)(nowY / GRID_SIZE);

  00188	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  00190	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  00198	f3 0f 2c c0	 cvttss2si eax, xmm0
  0019c	a3 00 00 00 00	 mov	 DWORD PTR ?nowGy@@3HA, eax ; nowGy

; 3354 : 	// PC?????????£t?¥i???
; 3355 : 	setPcPoint();

  001a1	e8 00 00 00 00	 call	 ?setPcPoint@@YAXXZ	; setPcPoint

; 3356 : }

  001a6	5f		 pop	 edi
  001a7	5e		 pop	 esi
  001a8	5b		 pop	 ebx
  001a9	81 c4 dc 00 00
	00		 add	 esp, 220		; 000000dcH
  001af	3b ec		 cmp	 ebp, esp
  001b1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b6	8b e5		 mov	 esp, ebp
  001b8	5d		 pop	 ebp
  001b9	c3		 ret	 0
?mapMove2@@YAXXZ ENDP					; mapMove2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setMapMovePoint2@@YAXHH@Z
_TEXT	SEGMENT
tv175 = -268						; size = 4
_dir$ = -68						; size = 4
_rate$ = -56						; size = 4
_dir1$ = -44						; size = 4
_len$ = -32						; size = 4
_dy$ = -20						; size = 4
_dx$ = -8						; size = 4
__nextGx$ = 8						; size = 4
__nextGy$ = 12						; size = 4
?setMapMovePoint2@@YAXHH@Z PROC				; setMapMovePoint2, COMDAT

; 3270 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 0c 01 00
	00		 sub	 esp, 268		; 0000010cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd f4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-268]
  00012	b9 43 00 00 00	 mov	 ecx, 67			; 00000043H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3271 : 	float dx, dy, len, dir1, rate = 1.0F;

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00026	f3 0f 11 45 c8	 movss	 DWORD PTR _rate$[ebp], xmm0

; 3272 : 	int dir;
; 3273 : 
; 3274 : 	if (pc.ptAct != NULL)

  0002b	83 3d ec 50 00
	00 00		 cmp	 DWORD PTR ?pc@@3UPC@@A+20716, 0
  00032	74 5e		 je	 SHORT $LN7@setMapMove

; 3275 : 	{
; 3276 : 		if (pc.ptAct->bufCount > 5)

  00034	a1 ec 50 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+20716
  00039	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  00040	83 f9 05	 cmp	 ecx, 5
  00043	7e 0f		 jle	 SHORT $LN3@setMapMove

; 3277 : 			rate = 2.0F;

  00045	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@40000000
  0004d	f3 0f 11 45 c8	 movss	 DWORD PTR _rate$[ebp], xmm0
  00052	eb 3e		 jmp	 SHORT $LN7@setMapMove
$LN3@setMapMove:

; 3278 : 		else if (pc.ptAct->bufCount >= 4)

  00054	a1 ec 50 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+20716
  00059	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  00060	83 f9 04	 cmp	 ecx, 4
  00063	7c 0f		 jl	 SHORT $LN5@setMapMove

; 3279 : 			rate = 1.6F;

  00065	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3fcccccd
  0006d	f3 0f 11 45 c8	 movss	 DWORD PTR _rate$[ebp], xmm0
  00072	eb 1e		 jmp	 SHORT $LN7@setMapMove
$LN5@setMapMove:

; 3280 : 		else if (pc.ptAct->bufCount >= 2)

  00074	a1 ec 50 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+20716
  00079	0f bf 88 14 01
	00 00		 movsx	 ecx, WORD PTR [eax+276]
  00080	83 f9 02	 cmp	 ecx, 2
  00083	7c 0d		 jl	 SHORT $LN7@setMapMove

; 3281 : 			rate = 1.2F;

  00085	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f99999a
  0008d	f3 0f 11 45 c8	 movss	 DWORD PTR _rate$[ebp], xmm0
$LN7@setMapMove:

; 3282 : 	}
; 3283 : 
; 3284 : 	nextGx = _nextGx;

  00092	8b 45 08	 mov	 eax, DWORD PTR __nextGx$[ebp]
  00095	a3 00 00 00 00	 mov	 DWORD PTR ?nextGx@@3HA, eax ; nextGx

; 3285 : 	nextGy = _nextGy;

  0009a	8b 45 0c	 mov	 eax, DWORD PTR __nextGy$[ebp]
  0009d	a3 00 00 00 00	 mov	 DWORD PTR ?nextGy@@3HA, eax ; nextGy

; 3286 : 	// ?¥h?????
; 3287 : 	dx = nextGx * GRID_SIZE - nowX;

  000a2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nextGx@@3HA ; nextGx
  000a7	c1 e0 06	 shl	 eax, 6
  000aa	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  000ae	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?nowX@@3MA
  000b6	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 3288 : 	dy = nextGy * GRID_SIZE - nowY;

  000bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nextGy@@3HA ; nextGy
  000c0	c1 e0 06	 shl	 eax, 6
  000c3	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  000c7	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?nowY@@3MA
  000cf	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0

; 3289 : 	len = (float)sqrt((double)(dx * dx + dy * dy));

  000d4	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  000d9	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _dx$[ebp]
  000de	f3 0f 10 4d ec	 movss	 xmm1, DWORD PTR _dy$[ebp]
  000e3	f3 0f 59 4d ec	 mulss	 xmm1, DWORD PTR _dy$[ebp]
  000e8	f3 0f 58 c1	 addss	 xmm0, xmm1
  000ec	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  000f0	83 ec 08	 sub	 esp, 8
  000f3	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  000f8	e8 00 00 00 00	 call	 _sqrt
  000fd	83 c4 08	 add	 esp, 8
  00100	d9 5d e0	 fstp	 DWORD PTR _len$[ebp]

; 3290 : 	if (len > 0)

  00103	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _len$[ebp]
  00108	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  0010f	76 20		 jbe	 SHORT $LN8@setMapMove

; 3291 : 	{
; 3292 : 		dx /= len;

  00111	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00116	f3 0f 5e 45 e0	 divss	 xmm0, DWORD PTR _len$[ebp]
  0011b	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 3293 : 		dy /= len;

  00120	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  00125	f3 0f 5e 45 e0	 divss	 xmm0, DWORD PTR _len$[ebp]
  0012a	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0

; 3294 : 	}
; 3295 : 	else

  0012f	eb 10		 jmp	 SHORT $LN9@setMapMove
$LN8@setMapMove:

; 3296 : 	{
; 3297 : 		dx = 0;

  00131	0f 57 c0	 xorps	 xmm0, xmm0
  00134	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 3298 : 		dy = 0;

  00139	0f 57 c0	 xorps	 xmm0, xmm0
  0013c	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0
$LN9@setMapMove:

; 3299 : 	}
; 3300 : 	nowVx = dx * MOVE_SPEED * rate;

  00141	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00146	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40800000
  0014e	f3 0f 59 45 c8	 mulss	 xmm0, DWORD PTR _rate$[ebp]
  00153	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 3301 : 	nowVy = dy * MOVE_SPEED * rate;

  0015b	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  00160	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40800000
  00168	f3 0f 59 45 c8	 mulss	 xmm0, DWORD PTR _rate$[ebp]
  0016d	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 3302 : 	// PC????©˜?¡@¤e
; 3303 : 	if (dx != 0 || dy != 0)

  00175	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  0017a	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00181	9f		 lahf
  00182	f6 c4 44	 test	 ah, 68			; 00000044H
  00185	7a 12		 jp	 SHORT $LN11@setMapMove
  00187	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  0018c	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  00193	9f		 lahf
  00194	f6 c4 44	 test	 ah, 68			; 00000044H
  00197	7b 6a		 jnp	 SHORT $LN10@setMapMove
$LN11@setMapMove:

; 3304 : 	{
; 3305 : 		dir1 = Atan(dx, dy) + 22.5F;

  00199	51		 push	 ecx
  0019a	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  0019f	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001a4	51		 push	 ecx
  001a5	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  001aa	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  001af	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  001b4	83 c4 08	 add	 esp, 8
  001b7	d9 9d f4 fe ff
	ff		 fstp	 DWORD PTR tv175[ebp]
  001bd	f3 0f 10 85 f4
	fe ff ff	 movss	 xmm0, DWORD PTR tv175[ebp]
  001c5	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  001cd	f3 0f 11 45 d4	 movss	 DWORD PTR _dir1$[ebp], xmm0

; 3306 : 		AdjustDir(&dir1);

  001d2	8d 45 d4	 lea	 eax, DWORD PTR _dir1$[ebp]
  001d5	50		 push	 eax
  001d6	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  001db	83 c4 04	 add	 esp, 4

; 3307 : 		dir = (int)(dir1 / 45);

  001de	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _dir1$[ebp]
  001e3	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  001eb	f3 0f 2c c0	 cvttss2si eax, xmm0
  001ef	89 45 bc	 mov	 DWORD PTR _dir$[ebp], eax

; 3308 : 		setPcDir(dir);

  001f2	8b 45 bc	 mov	 eax, DWORD PTR _dir$[ebp]
  001f5	50		 push	 eax
  001f6	e8 00 00 00 00	 call	 ?setPcDir@@YAXH@Z	; setPcDir
  001fb	83 c4 04	 add	 esp, 4

; 3309 : 		setPcWalkFlag();

  001fe	e8 00 00 00 00	 call	 ?setPcWalkFlag@@YAXXZ	; setPcWalkFlag
$LN10@setMapMove:

; 3310 : 	}
; 3311 : 	// PC?????????£t?¥i???
; 3312 : 	setPcPoint();

  00203	e8 00 00 00 00	 call	 ?setPcPoint@@YAXXZ	; setPcPoint

; 3313 : }

  00208	52		 push	 edx
  00209	8b cd		 mov	 ecx, ebp
  0020b	50		 push	 eax
  0020c	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN15@setMapMove
  00212	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00217	58		 pop	 eax
  00218	5a		 pop	 edx
  00219	5f		 pop	 edi
  0021a	5e		 pop	 esi
  0021b	5b		 pop	 ebx
  0021c	81 c4 0c 01 00
	00		 add	 esp, 268		; 0000010cH
  00222	3b ec		 cmp	 ebp, esp
  00224	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00229	8b e5		 mov	 esp, ebp
  0022b	5d		 pop	 ebp
  0022c	c3		 ret	 0
  0022d	0f 1f 00	 npad	 3
$LN15@setMapMove:
  00230	01 00 00 00	 DD	 1
  00234	00 00 00 00	 DD	 $LN14@setMapMove
$LN14@setMapMove:
  00238	d4 ff ff ff	 DD	 -44			; ffffffd4H
  0023c	04 00 00 00	 DD	 4
  00240	00 00 00 00	 DD	 $LN13@setMapMove
$LN13@setMapMove:
  00244	64		 DB	 100			; 00000064H
  00245	69		 DB	 105			; 00000069H
  00246	72		 DB	 114			; 00000072H
  00247	31		 DB	 49			; 00000031H
  00248	00		 DB	 0
?setMapMovePoint2@@YAXHH@Z ENDP				; setMapMovePoint2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setMapMovePoint@@YAXHH@Z
_TEXT	SEGMENT
tv159 = -268						; size = 4
_dir$ = -68						; size = 4
_rate$ = -56						; size = 4
_dir1$ = -44						; size = 4
_len$ = -32						; size = 4
_dy$ = -20						; size = 4
_dx$ = -8						; size = 4
__nextGx$ = 8						; size = 4
__nextGy$ = 12						; size = 4
?setMapMovePoint@@YAXHH@Z PROC				; setMapMovePoint, COMDAT

; 3232 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 0c 01 00
	00		 sub	 esp, 268		; 0000010cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd f4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-268]
  00012	b9 43 00 00 00	 mov	 ecx, 67			; 00000043H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 3233 : 	float dx, dy, len, dir1, rate = 1.0F;

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00026	f3 0f 11 45 c8	 movss	 DWORD PTR _rate$[ebp], xmm0

; 3234 : 	int dir;
; 3235 : 
; 3236 : 	nextGx = _nextGx;

  0002b	8b 45 08	 mov	 eax, DWORD PTR __nextGx$[ebp]
  0002e	a3 00 00 00 00	 mov	 DWORD PTR ?nextGx@@3HA, eax ; nextGx

; 3237 : 	nextGy = _nextGy;

  00033	8b 45 0c	 mov	 eax, DWORD PTR __nextGy$[ebp]
  00036	a3 00 00 00 00	 mov	 DWORD PTR ?nextGy@@3HA, eax ; nextGy

; 3238 : 	// ?¥h?????
; 3239 : 	dx = nextGx * GRID_SIZE - nowX;

  0003b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nextGx@@3HA ; nextGx
  00040	c1 e0 06	 shl	 eax, 6
  00043	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00047	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?nowX@@3MA
  0004f	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 3240 : 	dy = nextGy * GRID_SIZE - nowY;

  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nextGy@@3HA ; nextGy
  00059	c1 e0 06	 shl	 eax, 6
  0005c	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  00060	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?nowY@@3MA
  00068	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0

; 3241 : 	len = (float)sqrt((double)(dx * dx + dy * dy));

  0006d	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00072	f3 0f 59 45 f8	 mulss	 xmm0, DWORD PTR _dx$[ebp]
  00077	f3 0f 10 4d ec	 movss	 xmm1, DWORD PTR _dy$[ebp]
  0007c	f3 0f 59 4d ec	 mulss	 xmm1, DWORD PTR _dy$[ebp]
  00081	f3 0f 58 c1	 addss	 xmm0, xmm1
  00085	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00089	83 ec 08	 sub	 esp, 8
  0008c	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00091	e8 00 00 00 00	 call	 _sqrt
  00096	83 c4 08	 add	 esp, 8
  00099	d9 5d e0	 fstp	 DWORD PTR _len$[ebp]

; 3242 : 	if (len > 0)

  0009c	f3 0f 10 45 e0	 movss	 xmm0, DWORD PTR _len$[ebp]
  000a1	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@00000000
  000a8	76 20		 jbe	 SHORT $LN2@setMapMove

; 3243 : 	{
; 3244 : 		dx /= len;

  000aa	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  000af	f3 0f 5e 45 e0	 divss	 xmm0, DWORD PTR _len$[ebp]
  000b4	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 3245 : 		dy /= len;

  000b9	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  000be	f3 0f 5e 45 e0	 divss	 xmm0, DWORD PTR _len$[ebp]
  000c3	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0

; 3246 : 	}
; 3247 : 	else

  000c8	eb 10		 jmp	 SHORT $LN3@setMapMove
$LN2@setMapMove:

; 3248 : 	{
; 3249 : 		dx = 0;

  000ca	0f 57 c0	 xorps	 xmm0, xmm0
  000cd	f3 0f 11 45 f8	 movss	 DWORD PTR _dx$[ebp], xmm0

; 3250 : 		dy = 0;

  000d2	0f 57 c0	 xorps	 xmm0, xmm0
  000d5	f3 0f 11 45 ec	 movss	 DWORD PTR _dy$[ebp], xmm0
$LN3@setMapMove:

; 3251 : 	}
; 3252 : 	nowVx = dx * MOVE_SPEED * rate;

  000da	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  000df	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40800000
  000e7	f3 0f 59 45 c8	 mulss	 xmm0, DWORD PTR _rate$[ebp]
  000ec	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 3253 : 	nowVy = dy * MOVE_SPEED * rate;

  000f4	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  000f9	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@40800000
  00101	f3 0f 59 45 c8	 mulss	 xmm0, DWORD PTR _rate$[ebp]
  00106	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 3254 : 
; 3255 : 	// PC????©˜?¡@¤e
; 3256 : 	if (dx != 0 || dy != 0)

  0010e	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00113	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  0011a	9f		 lahf
  0011b	f6 c4 44	 test	 ah, 68			; 00000044H
  0011e	7a 12		 jp	 SHORT $LN5@setMapMove
  00120	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  00125	0f 2e 05 00 00
	00 00		 ucomiss xmm0, DWORD PTR __real@00000000
  0012c	9f		 lahf
  0012d	f6 c4 44	 test	 ah, 68			; 00000044H
  00130	7b 6a		 jnp	 SHORT $LN4@setMapMove
$LN5@setMapMove:

; 3257 : 	{
; 3258 : 		dir1 = Atan(dx, dy) + 22.5F;

  00132	51		 push	 ecx
  00133	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _dy$[ebp]
  00138	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0013d	51		 push	 ecx
  0013e	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _dx$[ebp]
  00143	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00148	e8 00 00 00 00	 call	 ?Atan@@YAMMM@Z		; Atan
  0014d	83 c4 08	 add	 esp, 8
  00150	d9 9d f4 fe ff
	ff		 fstp	 DWORD PTR tv159[ebp]
  00156	f3 0f 10 85 f4
	fe ff ff	 movss	 xmm0, DWORD PTR tv159[ebp]
  0015e	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@41b40000
  00166	f3 0f 11 45 d4	 movss	 DWORD PTR _dir1$[ebp], xmm0

; 3259 : 		AdjustDir(&dir1);

  0016b	8d 45 d4	 lea	 eax, DWORD PTR _dir1$[ebp]
  0016e	50		 push	 eax
  0016f	e8 00 00 00 00	 call	 ?AdjustDir@@YAXPAM@Z	; AdjustDir
  00174	83 c4 04	 add	 esp, 4

; 3260 : 		dir = (int)(dir1 / 45);

  00177	f3 0f 10 45 d4	 movss	 xmm0, DWORD PTR _dir1$[ebp]
  0017c	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42340000
  00184	f3 0f 2c c0	 cvttss2si eax, xmm0
  00188	89 45 bc	 mov	 DWORD PTR _dir$[ebp], eax

; 3261 : 		setPcDir(dir);

  0018b	8b 45 bc	 mov	 eax, DWORD PTR _dir$[ebp]
  0018e	50		 push	 eax
  0018f	e8 00 00 00 00	 call	 ?setPcDir@@YAXH@Z	; setPcDir
  00194	83 c4 04	 add	 esp, 4

; 3262 : 		setPcWalkFlag();

  00197	e8 00 00 00 00	 call	 ?setPcWalkFlag@@YAXXZ	; setPcWalkFlag
$LN4@setMapMove:

; 3263 : 	}
; 3264 : 	// PC?????????£t?¥i???
; 3265 : 	setPcPoint();

  0019c	e8 00 00 00 00	 call	 ?setPcPoint@@YAXXZ	; setPcPoint

; 3266 : }

  001a1	52		 push	 edx
  001a2	8b cd		 mov	 ecx, ebp
  001a4	50		 push	 eax
  001a5	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN9@setMapMove
  001ab	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001b0	58		 pop	 eax
  001b1	5a		 pop	 edx
  001b2	5f		 pop	 edi
  001b3	5e		 pop	 esi
  001b4	5b		 pop	 ebx
  001b5	81 c4 0c 01 00
	00		 add	 esp, 268		; 0000010cH
  001bb	3b ec		 cmp	 ebp, esp
  001bd	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001c2	8b e5		 mov	 esp, ebp
  001c4	5d		 pop	 ebp
  001c5	c3		 ret	 0
  001c6	66 90		 npad	 2
$LN9@setMapMove:
  001c8	01 00 00 00	 DD	 1
  001cc	00 00 00 00	 DD	 $LN8@setMapMove
$LN8@setMapMove:
  001d0	d4 ff ff ff	 DD	 -44			; ffffffd4H
  001d4	04 00 00 00	 DD	 4
  001d8	00 00 00 00	 DD	 $LN7@setMapMove
$LN7@setMapMove:
  001dc	64		 DB	 100			; 00000064H
  001dd	69		 DB	 105			; 00000069H
  001de	72		 DB	 114			; 00000072H
  001df	31		 DB	 49			; 00000031H
  001e0	00		 DB	 0
?setMapMovePoint@@YAXHH@Z ENDP				; setMapMovePoint
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?checkEmptyMap@@YAHH@Z
_TEXT	SEGMENT
_flag$ = -80						; size = 4
_len$ = -68						; size = 4
_ty$ = -56						; size = 4
_tx$ = -44						; size = 4
_gy$ = -32						; size = 4
_gx$ = -20						; size = 4
_i$ = -8						; size = 4
_dir$ = 8						; size = 4
?checkEmptyMap@@YAHH@Z PROC				; checkEmptyMap, COMDAT

; 1908 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 01 00
	00		 sub	 esp, 276		; 00000114H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd ec fe ff
	ff		 lea	 edi, DWORD PTR [ebp-276]
  00012	b9 45 00 00 00	 mov	 ecx, 69			; 00000045H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1909 : 	// ?????£t???11?????£??????þ†???TRUE?¨ë?
; 1910 : 	int i, gx, gy, tx, ty, len;
; 1911 : 	BOOL flag = FALSE;

  0001e	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 0

; 1912 : 
; 1913 : 	if (mapAreaWidth < MAP_X_SIZE || mapAreaHeight < MAP_Y_SIZE)

  00025	83 3d 00 00 00
	00 25		 cmp	 DWORD PTR ?mapAreaWidth@@3HA, 37 ; mapAreaWidth, 00000025H
  0002c	7c 09		 jl	 SHORT $LN15@checkEmpty
  0002e	83 3d 00 00 00
	00 25		 cmp	 DWORD PTR ?mapAreaHeight@@3HA, 37 ; mapAreaHeight, 00000025H
  00035	7d 07		 jge	 SHORT $LN14@checkEmpty
$LN15@checkEmpty:

; 1914 : 		return FALSE;

  00037	33 c0		 xor	 eax, eax
  00039	e9 df 05 00 00	 jmp	 $LN1@checkEmpty
$LN14@checkEmpty:

; 1915 : 
; 1916 : 	getMapAreaCnt = 0;

  0003e	33 c0		 xor	 eax, eax
  00040	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 1917 : 
; 1918 : 	if (dir == 0 || dir == 1 || dir == 2)

  00046	83 7d 08 00	 cmp	 DWORD PTR _dir$[ebp], 0
  0004a	74 10		 je	 SHORT $LN17@checkEmpty
  0004c	83 7d 08 01	 cmp	 DWORD PTR _dir$[ebp], 1
  00050	74 0a		 je	 SHORT $LN17@checkEmpty
  00052	83 7d 08 02	 cmp	 DWORD PTR _dir$[ebp], 2
  00056	0f 85 60 01 00
	00		 jne	 $LN16@checkEmpty
$LN17@checkEmpty:

; 1919 : 	{
; 1920 : 		gx = nowGx - SEARCH_AREA;

  0005c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00061	83 e8 0b	 sub	 eax, 11			; 0000000bH
  00064	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 1921 : 		gy = nowGy - SEARCH_AREA;

  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0006c	83 e8 0b	 sub	 eax, 11			; 0000000bH
  0006f	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 1922 : 		tx = -SEARCH_AREA - MAP_TILE_GRID_X1;

  00072	c7 45 d4 09 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 9

; 1923 : 		ty = -SEARCH_AREA - MAP_TILE_GRID_Y1;

  00079	c7 45 c8 05 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 5

; 1924 : 		len = (SEARCH_AREA << 1) + 1;

  00080	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 1925 : 		for (i = 0; i < len; i++)

  00087	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0008e	eb 09		 jmp	 SHORT $LN4@checkEmpty
$LN2@checkEmpty:
  00090	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00093	83 c0 01	 add	 eax, 1
  00096	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@checkEmpty:
  00099	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0009c	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  0009f	0f 8d 17 01 00
	00		 jge	 $LN16@checkEmpty

; 1926 : 		{
; 1927 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  000a5	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  000a9	0f 8c f6 00 00
	00		 jl	 $LN18@checkEmpty
  000af	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  000b2	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  000b8	0f 8d e7 00 00
	00		 jge	 $LN18@checkEmpty
  000be	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  000c2	0f 8c dd 00 00
	00		 jl	 $LN18@checkEmpty
  000c8	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  000cb	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  000d1	0f 8d ce 00 00
	00		 jge	 $LN18@checkEmpty

; 1928 : 			{
; 1929 : 				if (event[ty * mapAreaWidth + tx] == 0)

  000d7	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  000da	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  000e1	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  000e4	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  000ec	85 c9		 test	 ecx, ecx
  000ee	0f 85 b1 00 00
	00		 jne	 $LN18@checkEmpty

; 1930 : 				{
; 1931 : 					getMapAreaX1[getMapAreaCnt] = gx - 1;

  000f4	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  000f7	83 e8 01	 sub	 eax, 1
  000fa	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00101	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[ecx*2], ax

; 1932 : 					getMapAreaY1[getMapAreaCnt] = gy - 1;

  00109	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  0010c	83 e8 01	 sub	 eax, 1
  0010f	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00116	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[ecx*2], ax

; 1933 : 					getMapAreaX2[getMapAreaCnt] = gx + 1;

  0011e	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00121	83 c0 01	 add	 eax, 1
  00124	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0012b	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[ecx*2], ax

; 1934 : 					getMapAreaY2[getMapAreaCnt] = gy + (SEARCH_AREA << 1) + 1;

  00133	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00136	83 c0 17	 add	 eax, 23			; 00000017H
  00139	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00140	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[ecx*2], ax

; 1935 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  00148	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0014f	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  00156	51		 push	 ecx
  00157	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0015e	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  00165	50		 push	 eax
  00166	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0016d	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  00174	52		 push	 edx
  00175	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0017c	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  00183	51		 push	 ecx
  00184	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  00189	83 c4 10	 add	 esp, 16			; 00000010H

; 1936 : 					getMapAreaCnt++;

  0018c	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00192	66 83 c0 01	 add	 ax, 1
  00196	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 1937 : 					flag = TRUE;

  0019c	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 1938 : 					break;

  001a3	eb 17		 jmp	 SHORT $LN16@checkEmpty
$LN18@checkEmpty:

; 1939 : 				}
; 1940 : 			}
; 1941 : 			gy++;

  001a5	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  001a8	83 c0 01	 add	 eax, 1
  001ab	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 1942 : 			ty++;

  001ae	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  001b1	83 c0 01	 add	 eax, 1
  001b4	89 45 c8	 mov	 DWORD PTR _ty$[ebp], eax

; 1943 : 		}

  001b7	e9 d4 fe ff ff	 jmp	 $LN2@checkEmpty
$LN16@checkEmpty:

; 1944 : 	}
; 1945 : 	if (dir == 2 || dir == 3 || dir == 4)

  001bc	83 7d 08 02	 cmp	 DWORD PTR _dir$[ebp], 2
  001c0	74 10		 je	 SHORT $LN21@checkEmpty
  001c2	83 7d 08 03	 cmp	 DWORD PTR _dir$[ebp], 3
  001c6	74 0a		 je	 SHORT $LN21@checkEmpty
  001c8	83 7d 08 04	 cmp	 DWORD PTR _dir$[ebp], 4
  001cc	0f 85 60 01 00
	00		 jne	 $LN20@checkEmpty
$LN21@checkEmpty:

; 1946 : 	{
; 1947 : 		gx = nowGx - SEARCH_AREA;

  001d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  001d7	83 e8 0b	 sub	 eax, 11			; 0000000bH
  001da	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 1948 : 		gy = nowGy - SEARCH_AREA;

  001dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  001e2	83 e8 0b	 sub	 eax, 11			; 0000000bH
  001e5	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 1949 : 		tx = -SEARCH_AREA - MAP_TILE_GRID_X1;

  001e8	c7 45 d4 09 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 9

; 1950 : 		ty = -SEARCH_AREA - MAP_TILE_GRID_Y1;

  001ef	c7 45 c8 05 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 5

; 1951 : 		len = (SEARCH_AREA << 1) + 1;

  001f6	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 1952 : 		for (i = 0; i < len; i++)

  001fd	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00204	eb 09		 jmp	 SHORT $LN7@checkEmpty
$LN5@checkEmpty:
  00206	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00209	83 c0 01	 add	 eax, 1
  0020c	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN7@checkEmpty:
  0020f	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00212	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  00215	0f 8d 17 01 00
	00		 jge	 $LN20@checkEmpty

; 1953 : 		{
; 1954 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  0021b	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  0021f	0f 8c f6 00 00
	00		 jl	 $LN22@checkEmpty
  00225	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00228	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  0022e	0f 8d e7 00 00
	00		 jge	 $LN22@checkEmpty
  00234	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  00238	0f 8c dd 00 00
	00		 jl	 $LN22@checkEmpty
  0023e	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00241	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  00247	0f 8d ce 00 00
	00		 jge	 $LN22@checkEmpty

; 1955 : 			{
; 1956 : 				if (event[ty * mapAreaWidth + tx] == 0)

  0024d	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  00250	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00257	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  0025a	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  00262	85 c9		 test	 ecx, ecx
  00264	0f 85 b1 00 00
	00		 jne	 $LN22@checkEmpty

; 1957 : 				{
; 1958 : 					getMapAreaX1[getMapAreaCnt] = gx - 1;

  0026a	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0026d	83 e8 01	 sub	 eax, 1
  00270	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00277	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[ecx*2], ax

; 1959 : 					getMapAreaY1[getMapAreaCnt] = gy - 1;

  0027f	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00282	83 e8 01	 sub	 eax, 1
  00285	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0028c	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[ecx*2], ax

; 1960 : 					getMapAreaX2[getMapAreaCnt] = gx + (SEARCH_AREA << 1) + 1;

  00294	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00297	83 c0 17	 add	 eax, 23			; 00000017H
  0029a	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002a1	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[ecx*2], ax

; 1961 : 					getMapAreaY2[getMapAreaCnt] = gy + 1;

  002a9	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  002ac	83 c0 01	 add	 eax, 1
  002af	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002b6	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[ecx*2], ax

; 1962 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  002be	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002c5	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  002cc	51		 push	 ecx
  002cd	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002d4	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  002db	50		 push	 eax
  002dc	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002e3	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  002ea	52		 push	 edx
  002eb	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  002f2	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  002f9	51		 push	 ecx
  002fa	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  002ff	83 c4 10	 add	 esp, 16			; 00000010H

; 1963 : 					getMapAreaCnt++;

  00302	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00308	66 83 c0 01	 add	 ax, 1
  0030c	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 1964 : 					flag = TRUE;

  00312	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 1965 : 					break;

  00319	eb 17		 jmp	 SHORT $LN20@checkEmpty
$LN22@checkEmpty:

; 1966 : 				}
; 1967 : 			}
; 1968 : 			gx++;

  0031b	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0031e	83 c0 01	 add	 eax, 1
  00321	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 1969 : 			tx++;

  00324	8b 45 d4	 mov	 eax, DWORD PTR _tx$[ebp]
  00327	83 c0 01	 add	 eax, 1
  0032a	89 45 d4	 mov	 DWORD PTR _tx$[ebp], eax

; 1970 : 		}

  0032d	e9 d4 fe ff ff	 jmp	 $LN5@checkEmpty
$LN20@checkEmpty:

; 1971 : 	}
; 1972 : 	if (dir == 4 || dir == 5 || dir == 6)

  00332	83 7d 08 04	 cmp	 DWORD PTR _dir$[ebp], 4
  00336	74 10		 je	 SHORT $LN25@checkEmpty
  00338	83 7d 08 05	 cmp	 DWORD PTR _dir$[ebp], 5
  0033c	74 0a		 je	 SHORT $LN25@checkEmpty
  0033e	83 7d 08 06	 cmp	 DWORD PTR _dir$[ebp], 6
  00342	0f 85 5e 01 00
	00		 jne	 $LN24@checkEmpty
$LN25@checkEmpty:

; 1973 : 	{
; 1974 : 		gx = nowGx + SEARCH_AREA;

  00348	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  0034d	83 c0 0b	 add	 eax, 11			; 0000000bH
  00350	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 1975 : 		gy = nowGy - SEARCH_AREA;

  00353	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00358	83 e8 0b	 sub	 eax, 11			; 0000000bH
  0035b	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 1976 : 		tx = SEARCH_AREA - MAP_TILE_GRID_X1;

  0035e	c7 45 d4 1f 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 31	; 0000001fH

; 1977 : 		ty = -SEARCH_AREA - MAP_TILE_GRID_Y1;

  00365	c7 45 c8 05 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 5

; 1978 : 		len = (SEARCH_AREA << 1) + 1;

  0036c	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 1979 : 		for (i = 0; i < len; i++)

  00373	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0037a	eb 09		 jmp	 SHORT $LN10@checkEmpty
$LN8@checkEmpty:
  0037c	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0037f	83 c0 01	 add	 eax, 1
  00382	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN10@checkEmpty:
  00385	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00388	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  0038b	0f 8d 15 01 00
	00		 jge	 $LN24@checkEmpty

; 1980 : 		{
; 1981 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  00391	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  00395	0f 8c f4 00 00
	00		 jl	 $LN26@checkEmpty
  0039b	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0039e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  003a4	0f 8d e5 00 00
	00		 jge	 $LN26@checkEmpty
  003aa	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  003ae	0f 8c db 00 00
	00		 jl	 $LN26@checkEmpty
  003b4	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  003b7	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  003bd	0f 8d cc 00 00
	00		 jge	 $LN26@checkEmpty

; 1982 : 			{
; 1983 : 				if (event[ty * mapAreaWidth + tx] == 0)

  003c3	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  003c6	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  003cd	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  003d0	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  003d8	85 c9		 test	 ecx, ecx
  003da	0f 85 af 00 00
	00		 jne	 $LN26@checkEmpty

; 1984 : 				{
; 1985 : 					getMapAreaX1[getMapAreaCnt] = gx;

  003e0	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  003e7	66 8b 4d ec	 mov	 cx, WORD PTR _gx$[ebp]
  003eb	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[eax*2], cx

; 1986 : 					getMapAreaY1[getMapAreaCnt] = gy - 1;

  003f3	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  003f6	83 e8 01	 sub	 eax, 1
  003f9	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00400	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[ecx*2], ax

; 1987 : 					getMapAreaX2[getMapAreaCnt] = gx + 2;

  00408	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0040b	83 c0 02	 add	 eax, 2
  0040e	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00415	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[ecx*2], ax

; 1988 : 					getMapAreaY2[getMapAreaCnt] = gy + (SEARCH_AREA << 1) + 1;

  0041d	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00420	83 c0 17	 add	 eax, 23			; 00000017H
  00423	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0042a	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[ecx*2], ax

; 1989 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  00432	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00439	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  00440	51		 push	 ecx
  00441	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00448	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  0044f	50		 push	 eax
  00450	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00457	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  0045e	52		 push	 edx
  0045f	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00466	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  0046d	51		 push	 ecx
  0046e	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  00473	83 c4 10	 add	 esp, 16			; 00000010H

; 1990 : 					getMapAreaCnt++;

  00476	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0047c	66 83 c0 01	 add	 ax, 1
  00480	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 1991 : 					flag = TRUE;

  00486	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 1992 : 					break;

  0048d	eb 17		 jmp	 SHORT $LN24@checkEmpty
$LN26@checkEmpty:

; 1993 : 				}
; 1994 : 			}
; 1995 : 			gy++;

  0048f	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00492	83 c0 01	 add	 eax, 1
  00495	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 1996 : 			ty++;

  00498	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  0049b	83 c0 01	 add	 eax, 1
  0049e	89 45 c8	 mov	 DWORD PTR _ty$[ebp], eax

; 1997 : 		}

  004a1	e9 d6 fe ff ff	 jmp	 $LN8@checkEmpty
$LN24@checkEmpty:

; 1998 : 	}
; 1999 : 	if (dir == 6 || dir == 7 || dir == 0)

  004a6	83 7d 08 06	 cmp	 DWORD PTR _dir$[ebp], 6
  004aa	74 10		 je	 SHORT $LN29@checkEmpty
  004ac	83 7d 08 07	 cmp	 DWORD PTR _dir$[ebp], 7
  004b0	74 0a		 je	 SHORT $LN29@checkEmpty
  004b2	83 7d 08 00	 cmp	 DWORD PTR _dir$[ebp], 0
  004b6	0f 85 5e 01 00
	00		 jne	 $LN28@checkEmpty
$LN29@checkEmpty:

; 2000 : 	{
; 2001 : 		gx = nowGx - SEARCH_AREA;

  004bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  004c1	83 e8 0b	 sub	 eax, 11			; 0000000bH
  004c4	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 2002 : 		gy = nowGy + SEARCH_AREA;

  004c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  004cc	83 c0 0b	 add	 eax, 11			; 0000000bH
  004cf	89 45 e0	 mov	 DWORD PTR _gy$[ebp], eax

; 2003 : 		tx = -SEARCH_AREA - MAP_TILE_GRID_X1;

  004d2	c7 45 d4 09 00
	00 00		 mov	 DWORD PTR _tx$[ebp], 9

; 2004 : 		ty = SEARCH_AREA - MAP_TILE_GRID_Y1;

  004d9	c7 45 c8 1b 00
	00 00		 mov	 DWORD PTR _ty$[ebp], 27	; 0000001bH

; 2005 : 		len = (SEARCH_AREA << 1) + 1;

  004e0	c7 45 bc 17 00
	00 00		 mov	 DWORD PTR _len$[ebp], 23 ; 00000017H

; 2006 : 		for (i = 0; i < len; i++)

  004e7	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  004ee	eb 09		 jmp	 SHORT $LN13@checkEmpty
$LN11@checkEmpty:
  004f0	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  004f3	83 c0 01	 add	 eax, 1
  004f6	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN13@checkEmpty:
  004f9	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  004fc	3b 45 bc	 cmp	 eax, DWORD PTR _len$[ebp]
  004ff	0f 8d 15 01 00
	00		 jge	 $LN28@checkEmpty

; 2007 : 		{
; 2008 : 			if ((0 <= gx && gx < nowFloorGxSize) && (0 <= gy && gy < nowFloorGySize))

  00505	83 7d ec 00	 cmp	 DWORD PTR _gx$[ebp], 0
  00509	0f 8c f4 00 00
	00		 jl	 $LN30@checkEmpty
  0050f	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00512	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  00518	0f 8d e5 00 00
	00		 jge	 $LN30@checkEmpty
  0051e	83 7d e0 00	 cmp	 DWORD PTR _gy$[ebp], 0
  00522	0f 8c db 00 00
	00		 jl	 $LN30@checkEmpty
  00528	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  0052b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  00531	0f 8d cc 00 00
	00		 jge	 $LN30@checkEmpty

; 2009 : 			{
; 2010 : 				if (event[ty * mapAreaWidth + tx] == 0)

  00537	8b 45 c8	 mov	 eax, DWORD PTR _ty$[ebp]
  0053a	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00541	03 45 d4	 add	 eax, DWORD PTR _tx$[ebp]
  00544	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?event@@3PAGA[eax*2]
  0054c	85 c9		 test	 ecx, ecx
  0054e	0f 85 af 00 00
	00		 jne	 $LN30@checkEmpty

; 2011 : 				{
; 2012 : 					getMapAreaX1[getMapAreaCnt] = gx - 1;

  00554	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00557	83 e8 01	 sub	 eax, 1
  0055a	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00561	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX1@@3PAFA[ecx*2], ax

; 2013 : 					getMapAreaY1[getMapAreaCnt] = gy;

  00569	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00570	66 8b 4d e0	 mov	 cx, WORD PTR _gy$[ebp]
  00574	66 89 0c 45 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY1@@3PAFA[eax*2], cx

; 2014 : 					getMapAreaX2[getMapAreaCnt] = gx + (SEARCH_AREA << 1) + 1;

  0057c	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  0057f	83 c0 17	 add	 eax, 23			; 00000017H
  00582	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  00589	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaX2@@3PAFA[ecx*2], ax

; 2015 : 					getMapAreaY2[getMapAreaCnt] = gy + 2;

  00591	8b 45 e0	 mov	 eax, DWORD PTR _gy$[ebp]
  00594	83 c0 02	 add	 eax, 2
  00597	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  0059e	66 89 04 4d 00
	00 00 00	 mov	 WORD PTR ?getMapAreaY2@@3PAFA[ecx*2], ax

; 2016 : 					checkAreaLimit(&getMapAreaX1[getMapAreaCnt], &getMapAreaY1[getMapAreaCnt], &getMapAreaX2[getMapAreaCnt], &getMapAreaY2[getMapAreaCnt]);

  005a6	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005ad	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaY2@@3PAFA[eax*2]
  005b4	51		 push	 ecx
  005b5	0f bf 15 00 00
	00 00		 movsx	 edx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005bc	8d 04 55 00 00
	00 00		 lea	 eax, DWORD PTR ?getMapAreaX2@@3PAFA[edx*2]
  005c3	50		 push	 eax
  005c4	0f bf 0d 00 00
	00 00		 movsx	 ecx, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005cb	8d 14 4d 00 00
	00 00		 lea	 edx, DWORD PTR ?getMapAreaY1@@3PAFA[ecx*2]
  005d2	52		 push	 edx
  005d3	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005da	8d 0c 45 00 00
	00 00		 lea	 ecx, DWORD PTR ?getMapAreaX1@@3PAFA[eax*2]
  005e1	51		 push	 ecx
  005e2	e8 00 00 00 00	 call	 ?checkAreaLimit@@YAXPAF000@Z ; checkAreaLimit
  005e7	83 c4 10	 add	 esp, 16			; 00000010H

; 2017 : 					getMapAreaCnt++;

  005ea	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?getMapAreaCnt@@3FA ; getMapAreaCnt
  005f0	66 83 c0 01	 add	 ax, 1
  005f4	66 a3 00 00 00
	00		 mov	 WORD PTR ?getMapAreaCnt@@3FA, ax ; getMapAreaCnt

; 2018 : 					flag = TRUE;

  005fa	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 2019 : 					break;

  00601	eb 17		 jmp	 SHORT $LN28@checkEmpty
$LN30@checkEmpty:

; 2020 : 				}
; 2021 : 			}
; 2022 : 			gx++;

  00603	8b 45 ec	 mov	 eax, DWORD PTR _gx$[ebp]
  00606	83 c0 01	 add	 eax, 1
  00609	89 45 ec	 mov	 DWORD PTR _gx$[ebp], eax

; 2023 : 			tx++;

  0060c	8b 45 d4	 mov	 eax, DWORD PTR _tx$[ebp]
  0060f	83 c0 01	 add	 eax, 1
  00612	89 45 d4	 mov	 DWORD PTR _tx$[ebp], eax

; 2024 : 		}

  00615	e9 d6 fe ff ff	 jmp	 $LN11@checkEmpty
$LN28@checkEmpty:

; 2025 : 	}
; 2026 : 
; 2027 : 	return flag;

  0061a	8b 45 b0	 mov	 eax, DWORD PTR _flag$[ebp]
$LN1@checkEmpty:

; 2028 : }

  0061d	5f		 pop	 edi
  0061e	5e		 pop	 esi
  0061f	5b		 pop	 ebx
  00620	81 c4 14 01 00
	00		 add	 esp, 276		; 00000114H
  00626	3b ec		 cmp	 ebp, esp
  00628	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0062d	8b e5		 mov	 esp, ebp
  0062f	5d		 pop	 ebp
  00630	c3		 ret	 0
?checkEmptyMap@@YAHH@Z ENDP				; checkEmptyMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?moveProc@@YAXXZ
_TEXT	SEGMENT
?moveProc@@YAXXZ PROC					; moveProc, COMDAT

; 2144 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2145 : 	static unsigned int befortime = -1;
; 2146 : 
; 2147 : #ifdef  _STONDEBUG_
; 2148 : 	{
; 2149 : 		static short tglSw = 0;
; 2150 : 
; 2151 : 		if (tglSw == 1)
; 2152 : 		{
; 2153 : 			char msg[256];
; 2154 : 			sprintf(msg, "EN send        : %d", sendEnFlag);
; 2155 : 			StockFontBuffer(240, 16, FONT_PRIO_FRONT, 0, msg, 0);
; 2156 : 			sprintf(msg, "EV (Warp) send : %d", eventWarpSendFlag);
; 2157 : 			StockFontBuffer(240, 32, FONT_PRIO_FRONT, 0, msg, 0);
; 2158 : 			sprintf(msg, "EV (Enemy) send: %d", eventEnemySendFlag);
; 2159 : 			StockFontBuffer(240, 48, FONT_PRIO_FRONT, 0, msg, 0);
; 2160 : 			sprintf(msg, "Empty          : %d", mapEmptyFlag);
; 2161 : 			StockFontBuffer(240, 64, FONT_PRIO_FRONT, 0, msg, 0);
; 2162 : 			sprintf(msg, "  nowGx      = %3d/ nowGy      = %3d", nowGx, nowGy);
; 2163 : 			StockFontBuffer(240, 80, FONT_PRIO_FRONT, 0, msg, 0);
; 2164 : 			sprintf(msg, "  mapEmptyGx = %3d/ mapEmptyGy = %3d", mapEmptyGx, mapEmptyGy);
; 2165 : 			StockFontBuffer(240, 96, FONT_PRIO_FRONT, 0, msg, 0);
; 2166 : 			sprintf(msg, "  mapEmptyDir = %3d", mapEmptyDir);
; 2167 : 			StockFontBuffer(240, 112, FONT_PRIO_FRONT, 0, msg, 0);
; 2168 : 		}
; 2169 : 		else if (tglSw == 2)
; 2170 : 		{
; 2171 : 			char msg[256];
; 2172 : 			sprintf(msg, "nowEncountPercentage : %d", nowEncountPercentage);
; 2173 : 			StockFontBuffer(240, 16, FONT_PRIO_FRONT, 0, msg, 0);
; 2174 : 			sprintf(msg, "nowEncountExtra      : %d", nowEncountExtra);
; 2175 : 			StockFontBuffer(240, 32, FONT_PRIO_FRONT, 0, msg, 0);
; 2176 : 		}
; 2177 : 		else if (tglSw == 3 || tglSw == 4)
; 2178 : 		{
; 2179 : 			// ???§R¤e¤úû¨??????
; 2180 : 			// ????§R¤e¤úû¨??????
; 2181 : 			char msg[256];
; 2182 : 			int x, y, xx, yy, color;
; 2183 : 
; 2184 : 			xx = -MAP_TILE_GRID_X1;
; 2185 : 			yy = -MAP_TILE_GRID_Y1;
; 2186 : 
; 2187 : 			if (MAP_X_SIZE > mapAreaWidth)
; 2188 : 			{
; 2189 : 				if (mapAreaX1 == 0)
; 2190 : 					xx -= (MAP_X_SIZE - mapAreaWidth);
; 2191 : 			}
; 2192 : 			if (MAP_Y_SIZE > mapAreaHeight)
; 2193 : 			{
; 2194 : 				if (mapAreaY1 == 0)
; 2195 : 					yy -= (MAP_Y_SIZE - mapAreaHeight);
; 2196 : 			}
; 2197 : 
; 2198 : 			for (y = 0; y < mapAreaHeight && y < 26; y++)
; 2199 : 			{
; 2200 : 				for (x = 0; x < mapAreaWidth; x++)
; 2201 : 				{
; 2202 : 					if (tglSw == 3)
; 2203 : 					{
; 2204 : 						sprintf(msg, "%d", hitMap[y * mapAreaWidth + x]);
; 2205 : 						if (x == xx && y == yy)
; 2206 : 							color = FONT_PAL_RED;
; 2207 : 						else
; 2208 : 							color = FONT_PAL_WHITE;
; 2209 : 					}
; 2210 : 					else
; 2211 : 					{
; 2212 : 						sprintf(msg, "%d", (event[y * mapAreaWidth + x] & 0xfff));
; 2213 : 						if (x == xx && y == yy)
; 2214 : 							color = FONT_PAL_RED;
; 2215 : 						else
; 2216 : 						{
; 2217 : 							if (event[y * mapAreaWidth + x] != 0)
; 2218 : 								color = FONT_PAL_YELLOW;
; 2219 : 							else
; 2220 : 								color = FONT_PAL_WHITE;
; 2221 : 						}
; 2222 : 					}
; 2223 : 					StockFontBuffer(x * 10, y * 18, FONT_PRIO_FRONT, color, msg, 0);
; 2224 : 				}
; 2225 : 			}
; 2226 : 			sprintf(msg, "gx = %5d / gy = %5d / hit = %d", mouseMapGx, mouseMapGy, checkHitMap(mouseMapGx, mouseMapGy));
; 2227 : 			StockFontBuffer(332, 40, FONT_PRIO_FRONT, 0, msg, 0);
; 2228 : 		}
; 2229 : 		else if (tglSw == 5)
; 2230 : 		{
; 2231 : 			char msg[256];
; 2232 : 			int x, y;
; 2233 : 
; 2234 : 			x = mouseMapGx - mapAreaX1;
; 2235 : 			y = mouseMapGy - mapAreaY1;
; 2236 : 			sprintf(msg, "Tile  Bmp = %d", tile[y * mapAreaWidth + x]);
; 2237 : 			StockFontBuffer(240, 34, FONT_PRIO_FRONT, 0, msg, 0);
; 2238 : 			sprintf(msg, "Parts Bmp = %d", parts[y * mapAreaWidth + x]);
; 2239 : 			StockFontBuffer(240, 54, FONT_PRIO_FRONT, 0, msg, 0);
; 2240 : 			sprintf(msg, "Gx = %d / Gy = %d", mouseMapGx, mouseMapGy);
; 2241 : 			StockFontBuffer(240, 74, FONT_PRIO_FRONT, 0, msg, 0);
; 2242 : 		}
; 2243 : 		else if (tglSw == 6)
; 2244 : 		{
; 2245 : 			char msg[256];
; 2246 : 
; 2247 : 			if ((joy_trg[ 0 ] & JOY_RIGHT) && mapEffectRainLevel < 5)
; 2248 : 				mapEffectRainLevel++;
; 2249 : 			else if ((joy_trg[ 0 ] & JOY_LEFT) && mapEffectRainLevel > 0)
; 2250 : 				mapEffectRainLevel--;
; 2251 : 			sprintf(msg, "mapEffectRainLevel = %d", mapEffectRainLevel);
; 2252 : 			StockFontBuffer(240, 34, FONT_PRIO_FRONT, 0, msg, 0);
; 2253 : 		}
; 2254 : 		else if (tglSw == 7)
; 2255 : 		{
; 2256 : 			char msg[256];
; 2257 : 
; 2258 : 			if ((joy_trg[ 0 ] & JOY_RIGHT) && mapEffectSnowLevel < 5)
; 2259 : 				mapEffectSnowLevel++;
; 2260 : 			else if ((joy_trg[ 0 ] & JOY_LEFT) && mapEffectSnowLevel > 0)
; 2261 : 				mapEffectSnowLevel--;
; 2262 : 			sprintf(msg, "mapEffectSnowLevel = %d", mapEffectSnowLevel);
; 2263 : 			StockFontBuffer(240, 34, FONT_PRIO_FRONT, 0, msg, 0);
; 2264 : 		}
; 2265 : 	}
; 2266 : #endif
; 2267 : 
; 2268 : 	// ?ûï????????????
; 2269 : 	if (sendEnFlag == 0 && eventWarpSendFlag == 0 && eventEnemySendFlag == 0)

  0001e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?sendEnFlag@@3FA ; sendEnFlag
  00025	85 c0		 test	 eax, eax
  00027	75 1e		 jne	 SHORT $LN2@moveProc
  00029	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?eventWarpSendFlag@@3FA ; eventWarpSendFlag
  00030	85 c0		 test	 eax, eax
  00032	75 13		 jne	 SHORT $LN2@moveProc
  00034	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?eventEnemySendFlag@@3FA ; eventEnemySendFlag
  0003b	85 c0		 test	 eax, eax
  0003d	75 08		 jne	 SHORT $LN2@moveProc

; 2270 : 		etcEventFlag = 0;

  0003f	33 c0		 xor	 eax, eax
  00041	66 a3 00 00 00
	00		 mov	 WORD PTR ?etcEventFlag@@3FA, ax ; etcEventFlag
$LN2@moveProc:

; 2271 : 
; 2272 : 	// ?þü???û¨§Y??????????
; 2273 : 	// ??????????????
; 2274 : 	if (mouseLeftCrick)

  00047	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick
  0004e	74 3b		 je	 SHORT $LN3@moveProc

; 2275 : 	{
; 2276 : 		if (lookAtAround())

  00050	e8 00 00 00 00	 call	 ?lookAtAround@@YAHXZ	; lookAtAround
  00055	85 c0		 test	 eax, eax
  00057	74 0a		 je	 SHORT $LN4@moveProc

; 2277 : 			mouseLeftCrick = FALSE;

  00059	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick
$LN4@moveProc:

; 2278 : #ifdef __TALK_TO_NPC
; 2279 : 		BOOL TalkToNPC();
; 2280 : 		if (TalkToNPC())

  00063	e8 00 00 00 00	 call	 ?TalkToNPC@@YAHXZ	; TalkToNPC
  00068	85 c0		 test	 eax, eax
  0006a	74 0a		 je	 SHORT $LN5@moveProc

; 2281 : 			mouseLeftCrick = FALSE;

  0006c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick
$LN5@moveProc:

; 2282 : #endif
; 2283 : //Terry add 2003/11/25
; 2284 : 		if (g_bTradesystemOpen)

  00076	0f b6 05 00 00
	00 00		 movzx	 eax, BYTE PTR ?g_bTradesystemOpen@@3_NA ; g_bTradesystemOpen
  0007d	85 c0		 test	 eax, eax
  0007f	74 0a		 je	 SHORT $LN3@moveProc

; 2285 : 			mouseLeftCrick = FALSE;

  00081	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick
$LN3@moveProc:

; 2286 : //end
; 2287 : 	}
; 2288 : 	// ??ýÍ???¨Á??????ü¨?
; 2289 : 	if (mouseRightCrick)

  0008b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mouseRightCrick@@3HA, 0 ; mouseRightCrick
  00092	74 0a		 je	 SHORT $LN8@moveProc

; 2290 : 	{
; 2291 : 		// ??ýÍ??¨Á?
; 2292 : 		turnAround();

  00094	e8 00 00 00 00	 call	 ?turnAround@@YAXXZ	; turnAround

; 2293 : 		// ????ü¨?
; 2294 : 		getItem();

  00099	e8 00 00 00 00	 call	 ?getItem@@YAXXZ		; getItem
$LN8@moveProc:

; 2295 : 	}
; 2296 : #ifdef _MOUSE_DBL_CLICK
; 2297 : 	if (mouseDblRightOn)
; 2298 : 	{
; 2299 : 	}
; 2300 : #endif
; 2301 : 	// ?¥h¡I?¡k¢‘
; 2302 : 	// £O¥?????????¦V??ûõ?¦Ü??
; 2303 : 	// ?????????????????
; 2304 : 	if ((partyModeFlag == 0 || (pc.status & CHR_STATUS_LEADER) != 0) && etcSendFlag == 0 && etcEventFlag == 0)

  0009e	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  000a5	85 c0		 test	 eax, eax
  000a7	74 10		 je	 SHORT $LN10@moveProc
  000a9	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+164
  000ae	25 00 01 00 00	 and	 eax, 256		; 00000100H
  000b3	0f 84 d9 00 00
	00		 je	 $LN9@moveProc
$LN10@moveProc:
  000b9	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?etcSendFlag@@3FA ; etcSendFlag
  000c0	85 c0		 test	 eax, eax
  000c2	0f 85 ca 00 00
	00		 jne	 $LN9@moveProc
  000c8	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?etcEventFlag@@3FA ; etcEventFlag
  000cf	85 c0		 test	 eax, eax
  000d1	0f 85 bb 00 00
	00		 jne	 $LN9@moveProc

; 2305 : 	{
; 2306 : 		// ??????¥ø????¥h??????
; 2307 : 		if (mouseLeftPushTime >= MOVE_MODE_CHANGE_TIME)

  000d7	81 3d 00 00 00
	00 e8 03 00 00	 cmp	 DWORD PTR ?mouseLeftPushTime@@3IA, 1000 ; mouseLeftPushTime, 000003e8H
  000e1	72 0b		 jb	 SHORT $LN11@moveProc

; 2308 : 			mouseCursorMode = MOUSE_CURSOR_MODE_MOVE;

  000e3	b8 01 00 00 00	 mov	 eax, 1
  000e8	66 a3 00 00 00
	00		 mov	 WORD PTR ?mouseCursorMode@@3FA, ax ; mouseCursorMode
$LN11@moveProc:

; 2309 : 		// ?¥h??????
; 2310 : 		if (mouseCursorMode == MOUSE_CURSOR_MODE_MOVE)

  000ee	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mouseCursorMode@@3FA ; mouseCursorMode
  000f5	83 f8 01	 cmp	 eax, 1
  000f8	75 52		 jne	 SHORT $LN12@moveProc

; 2311 : 		{
; 2312 : 			// ????????¤GýÐ??????
; 2313 : 			if (mouseLeftCrick)

  000fa	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick
  00101	74 0a		 je	 SHORT $LN14@moveProc

; 2314 : 				mouseCursorMode = MOUSE_CURSOR_MODE_NORMAL;

  00103	33 c0		 xor	 eax, eax
  00105	66 a3 00 00 00
	00		 mov	 WORD PTR ?mouseCursorMode@@3FA, ax ; mouseCursorMode

; 2315 : 			else

  0010b	eb 3d		 jmp	 SHORT $LN15@moveProc
$LN14@moveProc:

; 2316 : 			// ?????úù??£t??¥h¡I???
; 2317 : 			{
; 2318 : 				// ?????ûÍ??þÉ
; 2319 : 				if (befortime + MOVE_CLICK_WAIT_TIME <= TimeGetTime())

  0010d	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?befortime@?1??moveProc@@YAXXZ@4IA
  00113	81 c6 fa 00 00
	00		 add	 esi, 250		; 000000faH
  00119	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0011e	3b f0		 cmp	 esi, eax
  00120	77 28		 ja	 SHORT $LN15@moveProc

; 2320 : 				{
; 2321 : 					befortime = TimeGetTime();

  00122	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00127	a3 00 00 00 00	 mov	 DWORD PTR ?befortime@?1??moveProc@@YAXXZ@4IA, eax

; 2322 : 					moveStackGx = mouseMapGx;

  0012c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGx@@3HA ; mouseMapGx
  00131	a3 00 00 00 00	 mov	 DWORD PTR ?moveStackGx@@3HA, eax ; moveStackGx

; 2323 : 					moveStackGy = mouseMapGy;

  00136	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGy@@3HA ; mouseMapGy
  0013b	a3 00 00 00 00	 mov	 DWORD PTR ?moveStackGy@@3HA, eax ; moveStackGy

; 2324 : 					moveStackFlag = TRUE;

  00140	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?moveStackFlag@@3HA, 1 ; moveStackFlag
$LN15@moveProc:

; 2325 : 				}
; 2326 : 			}
; 2327 : 		}
; 2328 : 		else

  0014a	eb 46		 jmp	 SHORT $LN9@moveProc
$LN12@moveProc:

; 2329 : 		// ¤GýÐ??????
; 2330 : 		if (mouseLeftCrick)

  0014c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick
  00153	74 3d		 je	 SHORT $LN9@moveProc

; 2331 : 		{
; 2332 : 			// ?????úù??£t??¥h¡I???
; 2333 : 			// ?????ûÍ??þÉ
; 2334 : 			if (befortime + MOVE_CLICK_WAIT_TIME <= TimeGetTime())

  00155	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?befortime@?1??moveProc@@YAXXZ@4IA
  0015b	81 c6 fa 00 00
	00		 add	 esi, 250		; 000000faH
  00161	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00166	3b f0		 cmp	 esi, eax
  00168	77 28		 ja	 SHORT $LN9@moveProc

; 2335 : 			{
; 2336 : 				befortime = TimeGetTime();

  0016a	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0016f	a3 00 00 00 00	 mov	 DWORD PTR ?befortime@?1??moveProc@@YAXXZ@4IA, eax

; 2337 : 				moveStackGx = mouseMapGx;

  00174	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGx@@3HA ; mouseMapGx
  00179	a3 00 00 00 00	 mov	 DWORD PTR ?moveStackGx@@3HA, eax ; moveStackGx

; 2338 : 				moveStackGy = mouseMapGy;

  0017e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGy@@3HA ; mouseMapGy
  00183	a3 00 00 00 00	 mov	 DWORD PTR ?moveStackGy@@3HA, eax ; moveStackGy

; 2339 : 				moveStackFlag = TRUE;

  00188	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?moveStackFlag@@3HA, 1 ; moveStackFlag
$LN9@moveProc:

; 2340 : 			}
; 2341 : 		}
; 2342 : 	}
; 2343 : 
; 2344 : 	// ?????§k????ûè?üÒ?
; 2345 : 	getPartyTbl();

  00192	e8 00 00 00 00	 call	 ?getPartyTbl@@YAXXZ	; getPartyTbl

; 2346 : 	// ?þ°?????????¥h??
; 2347 : 	if (partyModeFlag == 0 || (pc.status & CHR_STATUS_LEADER) != 0)

  00197	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  0019e	85 c0		 test	 eax, eax
  001a0	74 0c		 je	 SHORT $LN21@moveProc
  001a2	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?pc@@3UPC@@A+164
  001a7	25 00 01 00 00	 and	 eax, 256		; 00000100H
  001ac	74 07		 je	 SHORT $LN19@moveProc
$LN21@moveProc:

; 2348 : 		onceMoveProc();

  001ae	e8 00 00 00 00	 call	 ?onceMoveProc@@YAXXZ	; onceMoveProc

; 2349 : 	else

  001b3	eb 05		 jmp	 SHORT $LN1@moveProc
$LN19@moveProc:

; 2350 : 	// ?????úó?????¥h??
; 2351 : 		partyMoveProc();

  001b5	e8 00 00 00 00	 call	 ?partyMoveProc@@YAXXZ	; partyMoveProc
$LN1@moveProc:

; 2352 : 
; 2353 : 	return;
; 2354 : }

  001ba	5f		 pop	 edi
  001bb	5e		 pop	 esi
  001bc	5b		 pop	 ebx
  001bd	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  001c3	3b ec		 cmp	 ebp, esp
  001c5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ca	8b e5		 mov	 esp, ebp
  001cc	5d		 pop	 ebp
  001cd	c3		 ret	 0
?moveProc@@YAXXZ ENDP					; moveProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?drawGrid@@YAXXZ
_TEXT	SEGMENT
_yy$ = -44						; size = 4
_xx$ = -32						; size = 4
_y$ = -20						; size = 4
_x$ = -8						; size = 4
?drawGrid@@YAXXZ PROC					; drawGrid, COMDAT

; 2047 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 10 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-240]
  00012	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2048 : 	float x, y;
; 2049 : 	int xx, yy;
; 2050 : 	extern int mapWndFontNo[];
; 2051 : 	extern int resultWndFontNo[];
; 2052 : 
; 2053 : 	// ????????????????
; 2054 : 	if ((MenuToggleFlag & JOY_CTRL_M) == 0)

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?MenuToggleFlag@@3IA ; MenuToggleFlag
  00023	25 00 00 00 40	 and	 eax, 1073741824		; 40000000H
  00028	75 12		 jne	 SHORT $LN2@drawGrid

; 2055 : 		mapWndFontNo[0] = -2;

  0002a	b8 04 00 00 00	 mov	 eax, 4
  0002f	6b c8 00	 imul	 ecx, eax, 0
  00032	c7 81 00 00 00
	00 fe ff ff ff	 mov	 DWORD PTR ?mapWndFontNo@@3PAHA[ecx], -2 ; fffffffeH
$LN2@drawGrid:

; 2056 : 	// ¡P¥f???????????????
; 2057 : 	if (BattleResultWndFlag <= 0)

  0003c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?BattleResultWndFlag@@3HA, 0 ; BattleResultWndFlag
  00043	7f 12		 jg	 SHORT $LN3@drawGrid

; 2058 : 		resultWndFontNo[0] = -2;

  00045	b8 04 00 00 00	 mov	 eax, 4
  0004a	6b c8 00	 imul	 ecx, eax, 0
  0004d	c7 81 00 00 00
	00 fe ff ff ff	 mov	 DWORD PTR ?resultWndFontNo@@3PAHA[ecx], -2 ; fffffffeH
$LN3@drawGrid:

; 2059 : 
; 2060 : 	camGamenToMap((float)mouse.nowPoint.x, (float)mouse.nowPoint.y, &x, &y);

  00057	8d 45 ec	 lea	 eax, DWORD PTR _y$[ebp]
  0005a	50		 push	 eax
  0005b	8d 4d f8	 lea	 ecx, DWORD PTR _x$[ebp]
  0005e	51		 push	 ecx
  0005f	f3 0f 2a 05 04
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?mouse@@3UMOUSE@@A+4
  00067	51		 push	 ecx
  00068	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0006d	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?mouse@@3UMOUSE@@A
  00075	51		 push	 ecx
  00076	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0007b	e8 00 00 00 00	 call	 ?camGamenToMap@@YAXMMPAM0@Z ; camGamenToMap
  00080	83 c4 10	 add	 esp, 16			; 00000010H

; 2061 : 	mouseMapX = (int)(x + .5);

  00083	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _x$[ebp]
  00088	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00090	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00094	a3 00 00 00 00	 mov	 DWORD PTR ?mouseMapX@@3HA, eax ; mouseMapX

; 2062 : 	mouseMapY = (int)(y + .5);

  00099	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _y$[ebp]
  0009e	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  000a6	f2 0f 2c c0	 cvttsd2si eax, xmm0
  000aa	a3 00 00 00 00	 mov	 DWORD PTR ?mouseMapY@@3HA, eax ; mouseMapY

; 2063 : 	mouseMapGx = (mouseMapX + (GRID_SIZE >> 1)) / GRID_SIZE;

  000af	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapX@@3HA ; mouseMapX
  000b4	83 c0 20	 add	 eax, 32			; 00000020H
  000b7	99		 cdq
  000b8	83 e2 3f	 and	 edx, 63			; 0000003fH
  000bb	03 c2		 add	 eax, edx
  000bd	c1 f8 06	 sar	 eax, 6
  000c0	a3 00 00 00 00	 mov	 DWORD PTR ?mouseMapGx@@3HA, eax ; mouseMapGx

; 2064 : 	mouseMapGy = (mouseMapY + (GRID_SIZE >> 1)) / GRID_SIZE;

  000c5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapY@@3HA ; mouseMapY
  000ca	83 c0 20	 add	 eax, 32			; 00000020H
  000cd	99		 cdq
  000ce	83 e2 3f	 and	 edx, 63			; 0000003fH
  000d1	03 c2		 add	 eax, edx
  000d3	c1 f8 06	 sar	 eax, 6
  000d6	a3 00 00 00 00	 mov	 DWORD PTR ?mouseMapGy@@3HA, eax ; mouseMapGy

; 2065 : 	xx = mouseMapGx * GRID_SIZE;

  000db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGx@@3HA ; mouseMapGx
  000e0	c1 e0 06	 shl	 eax, 6
  000e3	89 45 e0	 mov	 DWORD PTR _xx$[ebp], eax

; 2066 : 	yy = mouseMapGy * GRID_SIZE;

  000e6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mouseMapGy@@3HA ; mouseMapGy
  000eb	c1 e0 06	 shl	 eax, 6
  000ee	89 45 d4	 mov	 DWORD PTR _yy$[ebp], eax

; 2067 : 	camMapToGamen((float)xx, (float)yy, &x, &y);

  000f1	8d 45 ec	 lea	 eax, DWORD PTR _y$[ebp]
  000f4	50		 push	 eax
  000f5	8d 4d f8	 lea	 ecx, DWORD PTR _x$[ebp]
  000f8	51		 push	 ecx
  000f9	f3 0f 2a 45 d4	 cvtsi2ss xmm0, DWORD PTR _yy$[ebp]
  000fe	51		 push	 ecx
  000ff	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00104	f3 0f 2a 45 e0	 cvtsi2ss xmm0, DWORD PTR _xx$[ebp]
  00109	51		 push	 ecx
  0010a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0010f	e8 00 00 00 00	 call	 ?camMapToGamen@@YAXMMPAM0@Z ; camMapToGamen
  00114	83 c4 10	 add	 esp, 16			; 00000010H

; 2068 : 
; 2069 : 	// ??????????????ýÆ?????¤úû¨???
; 2070 : #if 0
; 2071 : 	if (mouse.level < DISP_PRIO_MENU || mapWndFontNo[0] == HitDispNo || resultWndFontNo[0] == HitDispNo)
; 2072 : #else
; 2073 : 	if (mouse.level < DISP_PRIO_MENU)

  00117	0f b6 05 44 00
	00 00		 movzx	 eax, BYTE PTR ?mouse@@3UMOUSE@@A+68
  0011e	83 f8 68	 cmp	 eax, 104		; 00000068H
  00121	7d 40		 jge	 SHORT $LN5@drawGrid

; 2074 : #endif
; 2075 : 	{
; 2076 : 		// ?????????¤úû¨
; 2077 : 		if (mouseCursorMode == MOUSE_CURSOR_MODE_NORMAL)

  00123	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mouseCursorMode@@3FA ; mouseCursorMode
  0012a	85 c0		 test	 eax, eax
  0012c	75 35		 jne	 SHORT $LN5@drawGrid

; 2078 : 			StockDispBuffer((int)(x + .5), (int)(y + .5), DISP_PRIO_GRID, CG_GRID_CURSOR, 0);

  0012e	6a 00		 push	 0
  00130	68 a9 61 00 00	 push	 25001			; 000061a9H
  00135	6a 64		 push	 100			; 00000064H
  00137	f3 0f 5a 45 ec	 cvtss2sd xmm0, DWORD PTR _y$[ebp]
  0013c	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00144	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00148	50		 push	 eax
  00149	f3 0f 5a 45 f8	 cvtss2sd xmm0, DWORD PTR _x$[ebp]
  0014e	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00156	f2 0f 2c c8	 cvttsd2si ecx, xmm0
  0015a	51		 push	 ecx
  0015b	e8 00 00 00 00	 call	 ?StockDispBuffer@@YAHHHEHH@Z ; StockDispBuffer
  00160	83 c4 14	 add	 esp, 20			; 00000014H
$LN5@drawGrid:

; 2079 : 	//cary 2002.1.15	else
; 2080 : 	//	{
; 2081 : 	//		StockDispBuffer((int)(x+.5), (int)(y+.5), DISP_PRIO_GRID, 1610, 0);
; 2082 : 	//	}
; 2083 : 	}
; 2084 : 
; 2085 : 	// ?????£l
; 2086 : 	// fieldProc(); moveProc(); ?úÓý©??????????ûÂ???
; 2087 : 	mouseLeftCrick = FALSE;

  00163	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick

; 2088 : 	mouseLeftOn = FALSE;

  0016d	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftOn@@3HA, 0 ; mouseLeftOn

; 2089 : 	mouseRightCrick = FALSE;

  00177	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseRightCrick@@3HA, 0 ; mouseRightCrick

; 2090 : 	mouseRightOn = FALSE;

  00181	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseRightOn@@3HA, 0 ; mouseRightOn

; 2091 : #ifdef _MOUSE_DBL_CLICK
; 2092 : 	mouseDblRightOn = FALSE;

  0018b	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseDblRightOn@@3HA, 0 ; mouseDblRightOn

; 2093 : #endif
; 2094 : 	if ((mouse.level < DISP_PRIO_MENU && mouse.itemNo == -1) || mapWndFontNo[0] == HitDispNo || resultWndFontNo[0] == HitDispNo)

  00195	0f b6 05 44 00
	00 00		 movzx	 eax, BYTE PTR ?mouse@@3UMOUSE@@A+68
  0019c	83 f8 68	 cmp	 eax, 104		; 00000068H
  0019f	7d 09		 jge	 SHORT $LN9@drawGrid
  001a1	83 3d 48 00 00
	00 ff		 cmp	 DWORD PTR ?mouse@@3UMOUSE@@A+72, -1
  001a8	74 30		 je	 SHORT $LN8@drawGrid
$LN9@drawGrid:
  001aa	b8 04 00 00 00	 mov	 eax, 4
  001af	6b c8 00	 imul	 ecx, eax, 0
  001b2	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?mapWndFontNo@@3PAHA[ecx]
  001b8	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?HitDispNo@@3HA ; HitDispNo
  001be	74 1a		 je	 SHORT $LN8@drawGrid
  001c0	b8 04 00 00 00	 mov	 eax, 4
  001c5	6b c8 00	 imul	 ecx, eax, 0
  001c8	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?resultWndFontNo@@3PAHA[ecx]
  001ce	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?HitDispNo@@3HA ; HitDispNo
  001d4	0f 85 df 00 00
	00		 jne	 $LN6@drawGrid
$LN8@drawGrid:

; 2095 : 	{
; 2096 : 		if ((mouse.onceState & MOUSE_LEFT_CRICK))

  001da	a1 2c 00 00 00	 mov	 eax, DWORD PTR ?mouse@@3UMOUSE@@A+44
  001df	83 e0 01	 and	 eax, 1
  001e2	74 1e		 je	 SHORT $LN10@drawGrid

; 2097 : 		{
; 2098 : 			{
; 2099 : 				mouseLeftCrick = TRUE;

  001e4	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?mouseLeftCrick@@3HA, 1 ; mouseLeftCrick

; 2100 : 				mouseLeftPushTime = 0;

  001ee	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftPushTime@@3IA, 0 ; mouseLeftPushTime

; 2101 : 				beforeMouseLeftPushTime = TimeGetTime();

  001f8	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  001fd	a3 00 00 00 00	 mov	 DWORD PTR ?beforeMouseLeftPushTime@@3IA, eax ; beforeMouseLeftPushTime
$LN10@drawGrid:

; 2102 : 			}
; 2103 : 		}
; 2104 : 		if ((mouse.state & MOUSE_LEFT_CRICK))

  00202	a1 28 00 00 00	 mov	 eax, DWORD PTR ?mouse@@3UMOUSE@@A+40
  00207	83 e0 01	 and	 eax, 1
  0020a	74 25		 je	 SHORT $LN11@drawGrid

; 2105 : 		{
; 2106 : 			{
; 2107 : 				mouseLeftOn = TRUE;

  0020c	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?mouseLeftOn@@3HA, 1 ; mouseLeftOn

; 2108 : 				if (beforeMouseLeftPushTime > 0)

  00216	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?beforeMouseLeftPushTime@@3IA, 0 ; beforeMouseLeftPushTime
  0021d	76 10		 jbe	 SHORT $LN13@drawGrid

; 2109 : 					mouseLeftPushTime = TimeGetTime() - beforeMouseLeftPushTime;

  0021f	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00224	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?beforeMouseLeftPushTime@@3IA ; beforeMouseLeftPushTime
  0022a	a3 00 00 00 00	 mov	 DWORD PTR ?mouseLeftPushTime@@3IA, eax ; mouseLeftPushTime
$LN13@drawGrid:

; 2110 : 			}
; 2111 : 		}
; 2112 : 		else

  0022f	eb 14		 jmp	 SHORT $LN12@drawGrid
$LN11@drawGrid:

; 2113 : 		{
; 2114 : 			mouseLeftPushTime = 0;

  00231	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftPushTime@@3IA, 0 ; mouseLeftPushTime

; 2115 : 			beforeMouseLeftPushTime = 0;

  0023b	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?beforeMouseLeftPushTime@@3IA, 0 ; beforeMouseLeftPushTime
$LN12@drawGrid:

; 2116 : 		}
; 2117 : 		if ((mouse.onceState & MOUSE_RIGHT_CRICK))

  00245	a1 2c 00 00 00	 mov	 eax, DWORD PTR ?mouse@@3UMOUSE@@A+44
  0024a	83 e0 02	 and	 eax, 2
  0024d	74 0a		 je	 SHORT $LN14@drawGrid

; 2118 : 			mouseRightCrick = TRUE;

  0024f	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?mouseRightCrick@@3HA, 1 ; mouseRightCrick
$LN14@drawGrid:

; 2119 : 		if ((mouse.state & MOUSE_RIGHT_CRICK))

  00259	a1 28 00 00 00	 mov	 eax, DWORD PTR ?mouse@@3UMOUSE@@A+40
  0025e	83 e0 02	 and	 eax, 2
  00261	74 0a		 je	 SHORT $LN15@drawGrid

; 2120 : 			mouseRightOn = TRUE;

  00263	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?mouseRightOn@@3HA, 1 ; mouseRightOn
$LN15@drawGrid:

; 2121 : #ifdef _MOUSE_DBL_CLICK
; 2122 : 		if ((mouse.onceState & MOUSE_RIGHT_DBL_CRICK))

  0026d	a1 2c 00 00 00	 mov	 eax, DWORD PTR ?mouse@@3UMOUSE@@A+44
  00272	83 e0 20	 and	 eax, 32			; 00000020H
  00275	74 0a		 je	 SHORT $LN16@drawGrid

; 2123 : 			mouseDblRightOn = TRUE;

  00277	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?mouseDblRightOn@@3HA, 1 ; mouseDblRightOn
$LN16@drawGrid:

; 2124 : #endif
; 2125 : 		// ???????????????????¥h???????
; 2126 : 		// ¡P¥f??????????????????¥h???????
; 2127 : 		if (mapWndFontNo[0] == HitDispNo || resultWndFontNo[0] == HitDispNo)

  00281	b8 04 00 00 00	 mov	 eax, 4
  00286	6b c8 00	 imul	 ecx, eax, 0
  00289	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?mapWndFontNo@@3PAHA[ecx]
  0028f	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?HitDispNo@@3HA ; HitDispNo
  00295	74 16		 je	 SHORT $LN18@drawGrid
  00297	b8 04 00 00 00	 mov	 eax, 4
  0029c	6b c8 00	 imul	 ecx, eax, 0
  0029f	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?resultWndFontNo@@3PAHA[ecx]
  002a5	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?HitDispNo@@3HA ; HitDispNo
  002ab	75 0a		 jne	 SHORT $LN17@drawGrid
$LN18@drawGrid:

; 2128 : 			mouseLeftCrick = FALSE;

  002ad	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftCrick@@3HA, 0 ; mouseLeftCrick
$LN17@drawGrid:

; 2129 : 	}
; 2130 : 	else

  002b7	eb 1c		 jmp	 SHORT $LN7@drawGrid
$LN6@drawGrid:

; 2131 : 	{
; 2132 : 		mouseCursorMode = MOUSE_CURSOR_MODE_NORMAL;

  002b9	33 c0		 xor	 eax, eax
  002bb	66 a3 00 00 00
	00		 mov	 WORD PTR ?mouseCursorMode@@3FA, ax ; mouseCursorMode

; 2133 : 		mouseLeftPushTime = 0;

  002c1	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftPushTime@@3IA, 0 ; mouseLeftPushTime

; 2134 : 		beforeMouseLeftPushTime = 0;

  002cb	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?beforeMouseLeftPushTime@@3IA, 0 ; beforeMouseLeftPushTime
$LN7@drawGrid:

; 2135 : 	}
; 2136 : }

  002d5	52		 push	 edx
  002d6	8b cd		 mov	 ecx, ebp
  002d8	50		 push	 eax
  002d9	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN23@drawGrid
  002df	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  002e4	58		 pop	 eax
  002e5	5a		 pop	 edx
  002e6	5f		 pop	 edi
  002e7	5e		 pop	 esi
  002e8	5b		 pop	 ebx
  002e9	81 c4 f0 00 00
	00		 add	 esp, 240		; 000000f0H
  002ef	3b ec		 cmp	 ebp, esp
  002f1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002f6	8b e5		 mov	 esp, ebp
  002f8	5d		 pop	 ebp
  002f9	c3		 ret	 0
  002fa	66 90		 npad	 2
$LN23@drawGrid:
  002fc	02 00 00 00	 DD	 2
  00300	00 00 00 00	 DD	 $LN22@drawGrid
$LN22@drawGrid:
  00304	f8 ff ff ff	 DD	 -8			; fffffff8H
  00308	04 00 00 00	 DD	 4
  0030c	00 00 00 00	 DD	 $LN20@drawGrid
  00310	ec ff ff ff	 DD	 -20			; ffffffecH
  00314	04 00 00 00	 DD	 4
  00318	00 00 00 00	 DD	 $LN21@drawGrid
$LN21@drawGrid:
  0031c	79		 DB	 121			; 00000079H
  0031d	00		 DB	 0
$LN20@drawGrid:
  0031e	78		 DB	 120			; 00000078H
  0031f	00		 DB	 0
?drawGrid@@YAXXZ ENDP					; drawGrid
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?redrawMap@@YAXXZ
_TEXT	SEGMENT
?redrawMap@@YAXXZ PROC					; redrawMap, COMDAT

; 1367 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1368 : 	oldGx = -1;

  0001e	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldGx@@3HA, -1 ; oldGx

; 1369 : 	oldGy = -1;

  00028	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldGy@@3HA, -1 ; oldGy

; 1370 : }

  00032	5f		 pop	 edi
  00033	5e		 pop	 esi
  00034	5b		 pop	 ebx
  00035	8b e5		 mov	 esp, ebp
  00037	5d		 pop	 ebp
  00038	c3		 ret	 0
?redrawMap@@YAXXZ ENDP					; redrawMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?drawTile@@YAXXZ
_TEXT	SEGMENT
_tj$ = -92						; size = 4
_ti$ = -80						; size = 4
_ty$ = -68						; size = 4
_tx$ = -56						; size = 4
_y$ = -44						; size = 4
_x$ = -32						; size = 4
_j$ = -20						; size = 4
_i$ = -8						; size = 4
?drawTile@@YAXXZ PROC					; drawTile, COMDAT

; 1308 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd e0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-288]
  00012	b9 48 00 00 00	 mov	 ecx, 72			; 00000048H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1309 : 	int i, j, x, y, tx, ty;
; 1310 : 
; 1311 : 	// ??????¥‚???
; 1312 : 	if (readMap(nowFloor, mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0]))

  0001e	b8 02 00 00 00	 mov	 eax, 2
  00023	6b c8 00	 imul	 ecx, eax, 0
  00026	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?event@@3PAGA ; event
  0002c	51		 push	 ecx
  0002d	ba 02 00 00 00	 mov	 edx, 2
  00032	6b c2 00	 imul	 eax, edx, 0
  00035	05 00 00 00 00	 add	 eax, OFFSET ?parts@@3PAGA ; parts
  0003a	50		 push	 eax
  0003b	b9 02 00 00 00	 mov	 ecx, 2
  00040	6b d1 00	 imul	 edx, ecx, 0
  00043	81 c2 00 00 00
	00		 add	 edx, OFFSET ?tile@@3PAGA ; tile
  00049	52		 push	 edx
  0004a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  0004f	50		 push	 eax
  00050	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  00056	51		 push	 ecx
  00057	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  0005d	52		 push	 edx
  0005e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00063	50		 push	 eax
  00064	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowFloor@@3HA ; nowFloor
  0006a	51		 push	 ecx
  0006b	e8 00 00 00 00	 call	 ?readMap@@YAHHHHHHPAG00@Z ; readMap
  00070	83 c4 20	 add	 esp, 32			; 00000020H
  00073	85 c0		 test	 eax, eax
  00075	74 5e		 je	 SHORT $LN6@drawTile

; 1313 : 		readHitMap(mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0], &hitMap[0]);		// hitMap[]????§R¤e????¡@¤e??

  00077	b8 02 00 00 00	 mov	 eax, 2
  0007c	6b c8 00	 imul	 ecx, eax, 0
  0007f	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?hitMap@@3PAGA ; hitMap
  00085	51		 push	 ecx
  00086	ba 02 00 00 00	 mov	 edx, 2
  0008b	6b c2 00	 imul	 eax, edx, 0
  0008e	05 00 00 00 00	 add	 eax, OFFSET ?event@@3PAGA ; event
  00093	50		 push	 eax
  00094	b9 02 00 00 00	 mov	 ecx, 2
  00099	6b d1 00	 imul	 edx, ecx, 0
  0009c	81 c2 00 00 00
	00		 add	 edx, OFFSET ?parts@@3PAGA ; parts
  000a2	52		 push	 edx
  000a3	b8 02 00 00 00	 mov	 eax, 2
  000a8	6b c8 00	 imul	 ecx, eax, 0
  000ab	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?tile@@3PAGA ; tile
  000b1	51		 push	 ecx
  000b2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  000b8	52		 push	 edx
  000b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  000be	50		 push	 eax
  000bf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  000c5	51		 push	 ecx
  000c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  000cc	52		 push	 edx
  000cd	e8 00 00 00 00	 call	 ?readHitMap@@YAXHHHHPAG000@Z ; readHitMap
  000d2	83 c4 20	 add	 esp, 32			; 00000020H
$LN6@drawTile:

; 1314 : 	tx = nowXFastDraw2 + (((mapAreaX1 + mapAreaY2 - 1) * SURFACE_WIDTH) >> 1);

  000d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  000da	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  000e0	8d 54 01 ff	 lea	 edx, DWORD PTR [ecx+eax-1]
  000e4	c1 e2 06	 shl	 edx, 6
  000e7	d1 fa		 sar	 edx, 1
  000e9	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?nowXFastDraw2@@3HA ; nowXFastDraw2
  000ef	89 55 c8	 mov	 DWORD PTR _tx$[ebp], edx

; 1315 : 	ty = nowYFastDraw2 + (((-mapAreaX1 + mapAreaY2 - 1) * SURFACE_HEIGHT) >> 1);

  000f2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  000f7	f7 d8		 neg	 eax
  000f9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  000ff	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  00103	6b c2 30	 imul	 eax, edx, 48
  00106	d1 f8		 sar	 eax, 1
  00108	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowYFastDraw2@@3HA ; nowYFastDraw2
  0010e	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax

; 1316 : 	// ????§k???????????
; 1317 : 	//
; 1318 : 	// [map]
; 1319 : 	//               16
; 1320 : 	//            15    14
; 1321 : 	//         13    12    11
; 1322 : 	//      10     9     8     7
; 1323 : 	//          6     5     4
; 1324 : 	//             3     2
; 1325 : 	//                1
; 1326 : 
; 1327 : 	int ti, tj;
; 1328 : 
; 1329 : 	ti = mapAreaHeight - 1;

  00111	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaHeight@@3HA ; mapAreaHeight
  00116	83 e8 01	 sub	 eax, 1
  00119	89 45 b0	 mov	 DWORD PTR _ti$[ebp], eax

; 1330 : 	tj = 0;

  0011c	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _tj$[ebp], 0
$LN2@drawTile:

; 1331 : 	while (ti >= 0)

  00123	83 7d b0 00	 cmp	 DWORD PTR _ti$[ebp], 0
  00127	0f 8c 00 01 00
	00		 jl	 $LN1@drawTile

; 1332 : 	{
; 1333 : 		i = ti;

  0012d	8b 45 b0	 mov	 eax, DWORD PTR _ti$[ebp]
  00130	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 1334 : 		j = tj;

  00133	8b 45 a4	 mov	 eax, DWORD PTR _tj$[ebp]
  00136	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax

; 1335 : 		x = tx;

  00139	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  0013c	89 45 e0	 mov	 DWORD PTR _x$[ebp], eax

; 1336 : 		y = ty;

  0013f	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  00142	89 45 d4	 mov	 DWORD PTR _y$[ebp], eax
$LN4@drawTile:

; 1337 : 		while (i >= 0 && j >= 0)

  00145	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  00149	0f 8c 94 00 00
	00		 jl	 $LN5@drawTile
  0014f	83 7d ec 00	 cmp	 DWORD PTR _j$[ebp], 0
  00153	0f 8c 8a 00 00
	00		 jl	 $LN5@drawTile

; 1338 : 		{
; 1339 : 			// ???¤úû¨
; 1340 : 			if (tile[i * mapAreaWidth + j] > CG_INVISIBLE)

  00159	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0015c	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00163	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00166	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  0016e	83 f9 63	 cmp	 ecx, 99			; 00000063H
  00171	7e 50		 jle	 SHORT $LN7@drawTile

; 1341 : 			{
; 1342 : 				// ?þ¥›??????
; 1343 : 				if (x >= (-SURFACE_WIDTH >> 1) && x < (DEF_APPSIZEX + (SURFACE_WIDTH >> 1)) &&
; 1344 : 					y >= (-SURFACE_HEIGHT >> 1) && y < (DEF_APPSIZEY + (SURFACE_HEIGHT >> 1)))

  00173	83 7d e0 e0	 cmp	 DWORD PTR _x$[ebp], -32	; ffffffe0H
  00177	7c 4a		 jl	 SHORT $LN7@drawTile
  00179	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0017e	83 c0 20	 add	 eax, 32			; 00000020H
  00181	39 45 e0	 cmp	 DWORD PTR _x$[ebp], eax
  00184	7d 3d		 jge	 SHORT $LN7@drawTile
  00186	83 7d d4 e8	 cmp	 DWORD PTR _y$[ebp], -24	; ffffffe8H
  0018a	7c 37		 jl	 SHORT $LN7@drawTile
  0018c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00191	83 c0 18	 add	 eax, 24			; 00000018H
  00194	39 45 d4	 cmp	 DWORD PTR _y$[ebp], eax
  00197	7d 2a		 jge	 SHORT $LN7@drawTile

; 1345 : 					StockDispBuffer(x, y, DISP_PRIO_TILE, tile[i * mapAreaWidth + j], 0);

  00199	6a 00		 push	 0
  0019b	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0019e	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  001a5	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  001a8	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  001b0	51		 push	 ecx
  001b1	6a 01		 push	 1
  001b3	8b 55 d4	 mov	 edx, DWORD PTR _y$[ebp]
  001b6	52		 push	 edx
  001b7	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  001ba	50		 push	 eax
  001bb	e8 00 00 00 00	 call	 ?StockDispBuffer@@YAHHHEHH@Z ; StockDispBuffer
  001c0	83 c4 14	 add	 esp, 20			; 00000014H
$LN7@drawTile:

; 1346 : 			}
; 1347 : 			i--;

  001c3	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  001c6	83 e8 01	 sub	 eax, 1
  001c9	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 1348 : 			j--;

  001cc	8b 45 ec	 mov	 eax, DWORD PTR _j$[ebp]
  001cf	83 e8 01	 sub	 eax, 1
  001d2	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax

; 1349 : 			x -= SURFACE_WIDTH;

  001d5	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  001d8	83 e8 40	 sub	 eax, 64			; 00000040H
  001db	89 45 e0	 mov	 DWORD PTR _x$[ebp], eax

; 1350 : 		}

  001de	e9 62 ff ff ff	 jmp	 $LN4@drawTile
$LN5@drawTile:

; 1351 : 		if (tj < mapAreaWidth - 1)

  001e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  001e8	83 e8 01	 sub	 eax, 1
  001eb	39 45 a4	 cmp	 DWORD PTR _tj$[ebp], eax
  001ee	7d 1d		 jge	 SHORT $LN9@drawTile

; 1352 : 		{
; 1353 : 			tj++;

  001f0	8b 45 a4	 mov	 eax, DWORD PTR _tj$[ebp]
  001f3	83 c0 01	 add	 eax, 1
  001f6	89 45 a4	 mov	 DWORD PTR _tj$[ebp], eax

; 1354 : 			tx += SURFACE_WIDTH >> 1;

  001f9	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  001fc	83 c0 20	 add	 eax, 32			; 00000020H
  001ff	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 1355 : 			ty -= SURFACE_HEIGHT >> 1;

  00202	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  00205	83 e8 18	 sub	 eax, 24			; 00000018H
  00208	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax

; 1356 : 		}
; 1357 : 		else

  0020b	eb 1b		 jmp	 SHORT $LN10@drawTile
$LN9@drawTile:

; 1358 : 		{
; 1359 : 			ti--;

  0020d	8b 45 b0	 mov	 eax, DWORD PTR _ti$[ebp]
  00210	83 e8 01	 sub	 eax, 1
  00213	89 45 b0	 mov	 DWORD PTR _ti$[ebp], eax

; 1360 : 			tx -= SURFACE_WIDTH >> 1;

  00216	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  00219	83 e8 20	 sub	 eax, 32			; 00000020H
  0021c	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 1361 : 			ty -= SURFACE_HEIGHT >> 1;

  0021f	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  00222	83 e8 18	 sub	 eax, 24			; 00000018H
  00225	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax
$LN10@drawTile:

; 1362 : 		}
; 1363 : 	}

  00228	e9 f6 fe ff ff	 jmp	 $LN2@drawTile
$LN1@drawTile:

; 1364 : }

  0022d	5f		 pop	 edi
  0022e	5e		 pop	 esi
  0022f	5b		 pop	 ebx
  00230	81 c4 20 01 00
	00		 add	 esp, 288		; 00000120H
  00236	3b ec		 cmp	 ebp, esp
  00238	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0023d	8b e5		 mov	 esp, ebp
  0023f	5d		 pop	 ebp
  00240	c3		 ret	 0
?drawTile@@YAXXZ ENDP					; drawTile
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?drawMap2@@YAXXZ
_TEXT	SEGMENT
_tj$ = -188						; size = 4
_ti$ = -176						; size = 4
_tileDrawFlag$ = -164					; size = 2
_bmpNo$ = -152						; size = 4
_dy$ = -140						; size = 4
_dx$ = -128						; size = 4
_hh$ = -116						; size = 2
_ww$ = -104						; size = 2
_yy$ = -92						; size = 2
_xx$ = -80						; size = 2
_ty$ = -68						; size = 4
_tx$ = -56						; size = 4
_y$ = -44						; size = 4
_x$ = -32						; size = 4
_j$ = -20						; size = 4
_i$ = -8						; size = 4
?drawMap2@@YAXXZ PROC					; drawMap2, COMDAT

; 1130 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 01 00
	00		 sub	 esp, 384		; 00000180H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 80 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-384]
  00012	b9 60 00 00 00	 mov	 ecx, 96			; 00000060H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1131 : 	int i, j, x, y, tx, ty;
; 1132 : 	S2 xx, yy, ww, hh;
; 1133 : 	float dx, dy;
; 1134 : 	U4 bmpNo;
; 1135 : 	short tileDrawFlag;
; 1136 : 
; 1137 : 	if (!fastDrawTile)

  0001e	33 c0		 xor	 eax, eax
  00020	74 0a		 je	 SHORT $LN6@drawMap2

; 1138 : 	{
; 1139 : 		drawMap();

  00022	e8 00 00 00 00	 call	 ?drawMap@@YAXXZ		; drawMap

; 1140 : 		return;

  00027	e9 4d 07 00 00	 jmp	 $LN1@drawMap2
$LN6@drawMap2:

; 1141 : 	}
; 1142 : 	draw_map_bgm_flg = 0;

  0002c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 0 ; draw_map_bgm_flg

; 1143 : //	readMapAfterFrame++;
; 1144 : 	// ????????£t?¨Á??????????¥‚???
; 1145 : 	if (nowGx != oldGx || nowGy != oldGy)

  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  0003b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?oldGx@@3HA ; oldGx
  00041	75 11		 jne	 SHORT $LN8@drawMap2
  00043	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00048	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?oldGy@@3HA ; oldGy
  0004e	0f 84 ff 00 00
	00		 je	 $LN10@drawMap2
$LN8@drawMap2:

; 1146 : 	{
; 1147 : 		if (readMap(nowFloor, mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0]))

  00054	b8 02 00 00 00	 mov	 eax, 2
  00059	6b c8 00	 imul	 ecx, eax, 0
  0005c	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?event@@3PAGA ; event
  00062	51		 push	 ecx
  00063	ba 02 00 00 00	 mov	 edx, 2
  00068	6b c2 00	 imul	 eax, edx, 0
  0006b	05 00 00 00 00	 add	 eax, OFFSET ?parts@@3PAGA ; parts
  00070	50		 push	 eax
  00071	b9 02 00 00 00	 mov	 ecx, 2
  00076	6b d1 00	 imul	 edx, ecx, 0
  00079	81 c2 00 00 00
	00		 add	 edx, OFFSET ?tile@@3PAGA ; tile
  0007f	52		 push	 edx
  00080	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00085	50		 push	 eax
  00086	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  0008c	51		 push	 ecx
  0008d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00093	52		 push	 edx
  00094	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00099	50		 push	 eax
  0009a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowFloor@@3HA ; nowFloor
  000a0	51		 push	 ecx
  000a1	e8 00 00 00 00	 call	 ?readMap@@YAHHHHHHPAG00@Z ; readMap
  000a6	83 c4 20	 add	 esp, 32			; 00000020H
  000a9	85 c0		 test	 eax, eax
  000ab	0f 84 9d 00 00
	00		 je	 $LN9@drawMap2

; 1148 : 		{
; 1149 : 			// hitMap[]????§R¤e????¡@¤e??
; 1150 : 			readHitMap(mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0], &hitMap[0]);

  000b1	b8 02 00 00 00	 mov	 eax, 2
  000b6	6b c8 00	 imul	 ecx, eax, 0
  000b9	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?hitMap@@3PAGA ; hitMap
  000bf	51		 push	 ecx
  000c0	ba 02 00 00 00	 mov	 edx, 2
  000c5	6b c2 00	 imul	 eax, edx, 0
  000c8	05 00 00 00 00	 add	 eax, OFFSET ?event@@3PAGA ; event
  000cd	50		 push	 eax
  000ce	b9 02 00 00 00	 mov	 ecx, 2
  000d3	6b d1 00	 imul	 edx, ecx, 0
  000d6	81 c2 00 00 00
	00		 add	 edx, OFFSET ?parts@@3PAGA ; parts
  000dc	52		 push	 edx
  000dd	b8 02 00 00 00	 mov	 eax, 2
  000e2	6b c8 00	 imul	 ecx, eax, 0
  000e5	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?tile@@3PAGA ; tile
  000eb	51		 push	 ecx
  000ec	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  000f2	52		 push	 edx
  000f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  000f8	50		 push	 eax
  000f9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  000ff	51		 push	 ecx
  00100	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00106	52		 push	 edx
  00107	e8 00 00 00 00	 call	 ?readHitMap@@YAXHHHHPAG000@Z ; readHitMap
  0010c	83 c4 20	 add	 esp, 32			; 00000020H

; 1151 : 			if (mapEmptyFlag)

  0010f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag
  00116	74 2a		 je	 SHORT $LN11@drawMap2

; 1152 : 			{
; 1153 : 				if (!checkEmptyMap(mapEmptyDir))

  00118	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEmptyDir@@3FA ; mapEmptyDir
  0011f	50		 push	 eax
  00120	e8 00 00 00 00	 call	 ?checkEmptyMap@@YAHH@Z	; checkEmptyMap
  00125	83 c4 04	 add	 esp, 4
  00128	85 c0		 test	 eax, eax
  0012a	75 14		 jne	 SHORT $LN13@drawMap2

; 1154 : 				{
; 1155 : 					mapEmptyFlag = FALSE;

  0012c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag

; 1156 : 					autoMappingInitFlag = TRUE;	// ??????¥‚???

  00136	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?autoMappingInitFlag@@3HA, 1 ; autoMappingInitFlag
$LN13@drawMap2:

; 1157 : 				}
; 1158 : 			}
; 1159 : 			else

  00140	eb 0a		 jmp	 SHORT $LN12@drawMap2
$LN11@drawMap2:

; 1160 : 				autoMappingInitFlag = TRUE;	// ??????¥‚???

  00142	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?autoMappingInitFlag@@3HA, 1 ; autoMappingInitFlag
$LN12@drawMap2:

; 1161 : //			readMapAfterFrame = 0;	// ???????¥‚?????????????????
; 1162 : 		}
; 1163 : 		else

  0014c	eb 05		 jmp	 SHORT $LN10@drawMap2
$LN9@drawMap2:

; 1164 : 			return;

  0014e	e9 26 06 00 00	 jmp	 $LN1@drawMap2
$LN10@drawMap2:

; 1165 : 	}
; 1166 : 		camMapToGamen(0.0, 0.0, &dx, &dy);

  00153	8d 85 74 ff ff
	ff		 lea	 eax, DWORD PTR _dy$[ebp]
  00159	50		 push	 eax
  0015a	8d 4d 80	 lea	 ecx, DWORD PTR _dx$[ebp]
  0015d	51		 push	 ecx
  0015e	51		 push	 ecx
  0015f	0f 57 c0	 xorps	 xmm0, xmm0
  00162	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00167	51		 push	 ecx
  00168	0f 57 c0	 xorps	 xmm0, xmm0
  0016b	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00170	e8 00 00 00 00	 call	 ?camMapToGamen@@YAXMMPAM0@Z ; camMapToGamen
  00175	83 c4 10	 add	 esp, 16			; 00000010H

; 1167 : 	nowXFastDraw = (int)(dx + .5);

  00178	f3 0f 5a 45 80	 cvtss2sd xmm0, DWORD PTR _dx$[ebp]
  0017d	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00185	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00189	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 1168 : 	nowYFastDraw = (int)(dy + .5);

  0018e	f3 0f 5a 85 74
	ff ff ff	 cvtss2sd xmm0, DWORD PTR _dy$[ebp]
  00196	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  0019e	f2 0f 2c c0	 cvttsd2si eax, xmm0
  001a2	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw

; 1169 : 	nowXFastDraw2 = nowXFastDraw;

  001a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowXFastDraw@@3HA ; nowXFastDraw
  001ac	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw2@@3HA, eax ; nowXFastDraw2

; 1170 : 	nowYFastDraw2 = nowYFastDraw;

  001b1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowYFastDraw@@3HA ; nowYFastDraw
  001b6	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw2@@3HA, eax ; nowYFastDraw2

; 1171 : 	//???????????????
; 1172 : 	if (ResoMode == 1)

  001bb	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  001c2	75 47		 jne	 SHORT $LN14@drawMap2

; 1173 : 	{
; 1174 : 		nowXFastDraw = (int)(dx / 2 + .5);

  001c4	f3 0f 10 45 80	 movss	 xmm0, DWORD PTR _dx$[ebp]
  001c9	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  001d1	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001d5	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001dd	f2 0f 2c c0	 cvttsd2si eax, xmm0
  001e1	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 1175 : 		nowYFastDraw = (int)(dy / 2 + .5);

  001e6	f3 0f 10 85 74
	ff ff ff	 movss	 xmm0, DWORD PTR _dy$[ebp]
  001ee	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  001f6	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001fa	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00202	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00206	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw
$LN14@drawMap2:

; 1176 : 	}
; 1177 : 	amountXFastDraw = nowXFastDraw - baseXFastDraw;

  0020b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowXFastDraw@@3HA ; nowXFastDraw
  00210	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?baseXFastDraw@@3HA ; baseXFastDraw
  00216	a3 00 00 00 00	 mov	 DWORD PTR ?amountXFastDraw@@3HA, eax ; amountXFastDraw

; 1178 : 	amountYFastDraw = nowYFastDraw - baseYFastDraw;

  0021b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowYFastDraw@@3HA ; nowYFastDraw
  00220	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?baseYFastDraw@@3HA ; baseYFastDraw
  00226	a3 00 00 00 00	 mov	 DWORD PTR ?amountYFastDraw@@3HA, eax ; amountYFastDraw

; 1179 : 	amountXFastDraw2 = nowXFastDraw2 - baseXFastDraw2;

  0022b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowXFastDraw2@@3HA ; nowXFastDraw2
  00230	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?baseXFastDraw2@@3HA ; baseXFastDraw2
  00236	a3 00 00 00 00	 mov	 DWORD PTR ?amountXFastDraw2@@3HA, eax ; amountXFastDraw2

; 1180 : 	amountYFastDraw2 = nowYFastDraw2 - baseYFastDraw2;

  0023b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowYFastDraw2@@3HA ; nowYFastDraw2
  00240	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?baseYFastDraw2@@3HA ; baseYFastDraw2
  00246	a3 00 00 00 00	 mov	 DWORD PTR ?amountYFastDraw2@@3HA, eax ; amountYFastDraw2

; 1181 : 	tx = nowXFastDraw2 + (mapAreaX1 + mapAreaY2 - 1) * SURFACE_WIDTH / 2;

  0024b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00250	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00256	8d 44 01 ff	 lea	 eax, DWORD PTR [ecx+eax-1]
  0025a	c1 e0 06	 shl	 eax, 6
  0025d	99		 cdq
  0025e	2b c2		 sub	 eax, edx
  00260	d1 f8		 sar	 eax, 1
  00262	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowXFastDraw2@@3HA ; nowXFastDraw2
  00268	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 1182 : 	ty = nowYFastDraw2 + (-mapAreaX1 + mapAreaY2 - 1) * SURFACE_HEIGHT / 2;

  0026b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00270	f7 d8		 neg	 eax
  00272	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00278	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  0027c	6b c2 30	 imul	 eax, edx, 48
  0027f	99		 cdq
  00280	2b c2		 sub	 eax, edx
  00282	d1 f8		 sar	 eax, 1
  00284	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowYFastDraw2@@3HA ; nowYFastDraw2
  0028a	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax

; 1183 : 	// ????§k???????????
; 1184 : 	//
; 1185 : 	// [map]
; 1186 : 	//               16
; 1187 : 	//            15    14
; 1188 : 	//         13    12    11
; 1189 : 	//      10     9     8     7
; 1190 : 	//          6     5     4
; 1191 : 	//             3     2
; 1192 : 	//                1
; 1193 : 	int ti, tj;
; 1194 : 
; 1195 : 	ti = mapAreaHeight - 1;

  0028d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaHeight@@3HA ; mapAreaHeight
  00292	83 e8 01	 sub	 eax, 1
  00295	89 85 50 ff ff
	ff		 mov	 DWORD PTR _ti$[ebp], eax

; 1196 : 	tj = 0;

  0029b	c7 85 44 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _tj$[ebp], 0
$LN2@drawMap2:

; 1197 : 	while (ti >= 0)

  002a5	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR _ti$[ebp], 0
  002ac	0f 8c 71 04 00
	00		 jl	 $LN3@drawMap2

; 1198 : 	{
; 1199 : 		i = ti;

  002b2	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _ti$[ebp]
  002b8	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 1200 : 		j = tj;

  002bb	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR _tj$[ebp]
  002c1	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax

; 1201 : 		x = tx;

  002c4	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  002c7	89 45 e0	 mov	 DWORD PTR _x$[ebp], eax

; 1202 : 		y = ty;

  002ca	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  002cd	89 45 d4	 mov	 DWORD PTR _y$[ebp], eax
$LN4@drawMap2:

; 1203 : 		while (i >= 0 && j >= 0)

  002d0	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  002d4	0f 8c f0 03 00
	00		 jl	 $LN5@drawMap2
  002da	83 7d ec 00	 cmp	 DWORD PTR _j$[ebp], 0
  002de	0f 8c e6 03 00
	00		 jl	 $LN5@drawMap2

; 1204 : 		{
; 1205 : 			// ???¤úû¨
; 1206 : 			if (tile[i * mapAreaWidth + j] > CG_INVISIBLE)

  002e4	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  002e7	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  002ee	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  002f1	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  002f9	83 f9 63	 cmp	 ecx, 99			; 00000063H
  002fc	0f 8e 22 01 00
	00		 jle	 $LN15@drawMap2

; 1207 : 			{
; 1208 : 				if (amountXFastDraw2 != 0 || amountYFastDraw2 != 0)

  00302	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?amountXFastDraw2@@3HA, 0 ; amountXFastDraw2
  00309	75 0d		 jne	 SHORT $LN18@drawMap2
  0030b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?amountYFastDraw2@@3HA, 0 ; amountYFastDraw2
  00312	0f 84 07 01 00
	00		 je	 $LN19@drawMap2
$LN18@drawMap2:

; 1209 : 				{
; 1210 : 					// ?þ¥›?¦V?????????????
; 1211 : 					if ((-SURFACE_WIDTH >> 1) < x && x < DEF_APPSIZEX + (SURFACE_WIDTH >> 1) &&
; 1212 : 						(-SURFACE_HEIGHT >> 1) < y && y < DEF_APPSIZEY + (SURFACE_HEIGHT >> 1))

  00318	83 7d e0 e0	 cmp	 DWORD PTR _x$[ebp], -32	; ffffffe0H
  0031c	0f 8e fd 00 00
	00		 jle	 $LN19@drawMap2
  00322	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  00327	83 c0 20	 add	 eax, 32			; 00000020H
  0032a	39 45 e0	 cmp	 DWORD PTR _x$[ebp], eax
  0032d	0f 8d ec 00 00
	00		 jge	 $LN19@drawMap2
  00333	83 7d d4 e8	 cmp	 DWORD PTR _y$[ebp], -24	; ffffffe8H
  00337	0f 8e e2 00 00
	00		 jle	 $LN19@drawMap2
  0033d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00342	83 c0 18	 add	 eax, 24			; 00000018H
  00345	39 45 d4	 cmp	 DWORD PTR _y$[ebp], eax
  00348	0f 8d d1 00 00
	00		 jge	 $LN19@drawMap2

; 1213 : 					{
; 1214 : 						tileDrawFlag = 0;

  0034e	33 c0		 xor	 eax, eax
  00350	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _tileDrawFlag$[ebp], ax

; 1215 : 						if (amountXFastDraw2 > 0)

  00357	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?amountXFastDraw2@@3HA, 0 ; amountXFastDraw2
  0035e	7e 1c		 jle	 SHORT $LN20@drawMap2

; 1216 : 						{
; 1217 : 							if ((x - amountXFastDraw2) <= (SURFACE_WIDTH >> 1))

  00360	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  00363	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?amountXFastDraw2@@3HA ; amountXFastDraw2
  00369	83 f8 20	 cmp	 eax, 32			; 00000020H
  0036c	7f 0c		 jg	 SHORT $LN22@drawMap2

; 1218 : 								tileDrawFlag = 1;

  0036e	b8 01 00 00 00	 mov	 eax, 1
  00373	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _tileDrawFlag$[ebp], ax
$LN22@drawMap2:

; 1219 : 						}

  0037a	eb 2a		 jmp	 SHORT $LN24@drawMap2
$LN20@drawMap2:

; 1220 : 						else if (amountXFastDraw2 < 0)

  0037c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?amountXFastDraw2@@3HA, 0 ; amountXFastDraw2
  00383	7d 21		 jge	 SHORT $LN24@drawMap2

; 1221 : 						{
; 1222 : 							if (DEF_APPSIZEX - (SURFACE_WIDTH >> 1) <= (x - amountXFastDraw2))

  00385	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0038a	83 e8 20	 sub	 eax, 32			; 00000020H
  0038d	8b 4d e0	 mov	 ecx, DWORD PTR _x$[ebp]
  00390	2b 0d 00 00 00
	00		 sub	 ecx, DWORD PTR ?amountXFastDraw2@@3HA ; amountXFastDraw2
  00396	3b c1		 cmp	 eax, ecx
  00398	7f 0c		 jg	 SHORT $LN24@drawMap2

; 1223 : 								tileDrawFlag = 1;

  0039a	b8 01 00 00 00	 mov	 eax, 1
  0039f	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _tileDrawFlag$[ebp], ax
$LN24@drawMap2:

; 1224 : 						}
; 1225 : 						if (amountYFastDraw2 > 0)

  003a6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?amountYFastDraw2@@3HA, 0 ; amountYFastDraw2
  003ad	7e 1c		 jle	 SHORT $LN25@drawMap2

; 1226 : 						{
; 1227 : 							if ((y - amountYFastDraw2) <= (SURFACE_HEIGHT >> 1))

  003af	8b 45 d4	 mov	 eax, DWORD PTR _y$[ebp]
  003b2	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?amountYFastDraw2@@3HA ; amountYFastDraw2
  003b8	83 f8 18	 cmp	 eax, 24			; 00000018H
  003bb	7f 0c		 jg	 SHORT $LN27@drawMap2

; 1228 : 								tileDrawFlag = 1;

  003bd	b8 01 00 00 00	 mov	 eax, 1
  003c2	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _tileDrawFlag$[ebp], ax
$LN27@drawMap2:

; 1229 : 						}

  003c9	eb 2a		 jmp	 SHORT $LN29@drawMap2
$LN25@drawMap2:

; 1230 : 						else if (amountYFastDraw2 < 0)

  003cb	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?amountYFastDraw2@@3HA, 0 ; amountYFastDraw2
  003d2	7d 21		 jge	 SHORT $LN29@drawMap2

; 1231 : 						{
; 1232 : 							if (DEF_APPSIZEY - (SURFACE_HEIGHT >> 1) <= (y - amountYFastDraw2))

  003d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  003d9	83 e8 18	 sub	 eax, 24			; 00000018H
  003dc	8b 4d d4	 mov	 ecx, DWORD PTR _y$[ebp]
  003df	2b 0d 00 00 00
	00		 sub	 ecx, DWORD PTR ?amountYFastDraw2@@3HA ; amountYFastDraw2
  003e5	3b c1		 cmp	 eax, ecx
  003e7	7f 0c		 jg	 SHORT $LN29@drawMap2

; 1233 : 								tileDrawFlag = 1;

  003e9	b8 01 00 00 00	 mov	 eax, 1
  003ee	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _tileDrawFlag$[ebp], ax
$LN29@drawMap2:

; 1234 : 						}
; 1235 : 						if (tileDrawFlag);
; 1236 : 							StockDispBuffer(x, y, DISP_PRIO_TILE, tile[i * mapAreaWidth + j], 0);

  003f5	6a 00		 push	 0
  003f7	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  003fa	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00401	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00404	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  0040c	51		 push	 ecx
  0040d	6a 01		 push	 1
  0040f	8b 55 d4	 mov	 edx, DWORD PTR _y$[ebp]
  00412	52		 push	 edx
  00413	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  00416	50		 push	 eax
  00417	e8 00 00 00 00	 call	 ?StockDispBuffer@@YAHHHEHH@Z ; StockDispBuffer
  0041c	83 c4 14	 add	 esp, 20			; 00000014H
$LN19@drawMap2:

; 1237 : 					}
; 1238 : 				}
; 1239 : 			}
; 1240 : 			else

  0041f	e9 b8 00 00 00	 jmp	 $LN33@drawMap2
$LN15@drawMap2:

; 1241 : 			{
; 1242 : 				// ¥{ûì?????????
; 1243 : 				// ????????þ•??
; 1244 : 				if (20 <= tile[i * mapAreaWidth + j] && tile[i * mapAreaWidth + j] <= 39)

  00424	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00427	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0042e	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00431	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  00439	83 f9 14	 cmp	 ecx, 20			; 00000014H
  0043c	7c 42		 jl	 SHORT $LN31@drawMap2
  0043e	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00441	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00448	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  0044b	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  00453	83 f9 27	 cmp	 ecx, 39			; 00000027H
  00456	7f 28		 jg	 SHORT $LN31@drawMap2

; 1245 : 					play_environment(tile[i * mapAreaWidth + j], x, y);

  00458	8b 45 d4	 mov	 eax, DWORD PTR _y$[ebp]
  0045b	50		 push	 eax
  0045c	8b 4d e0	 mov	 ecx, DWORD PTR _x$[ebp]
  0045f	51		 push	 ecx
  00460	8b 55 f8	 mov	 edx, DWORD PTR _i$[ebp]
  00463	0f af 15 00 00
	00 00		 imul	 edx, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0046a	03 55 ec	 add	 edx, DWORD PTR _j$[ebp]
  0046d	0f b7 04 55 00
	00 00 00	 movzx	 eax, WORD PTR ?tile@@3PAGA[edx*2]
  00475	50		 push	 eax
  00476	e8 00 00 00 00	 call	 ?play_environment@@YAHHHH@Z ; play_environment
  0047b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0047e	eb 5c		 jmp	 SHORT $LN33@drawMap2
$LN31@drawMap2:

; 1246 : 				else if (40 <= tile[i * mapAreaWidth + j] && tile[i * mapAreaWidth + j] <= 59)// ?????????þ•??

  00480	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00483	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0048a	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  0048d	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  00495	83 f9 28	 cmp	 ecx, 40			; 00000028H
  00498	7c 42		 jl	 SHORT $LN33@drawMap2
  0049a	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0049d	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  004a4	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  004a7	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  004af	83 f9 3b	 cmp	 ecx, 59			; 0000003bH
  004b2	7f 28		 jg	 SHORT $LN33@drawMap2

; 1247 : 				{
; 1248 : 					play_map_bgm(tile[i * mapAreaWidth + j]);

  004b4	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  004b7	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  004be	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  004c1	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  004c9	51		 push	 ecx
  004ca	e8 00 00 00 00	 call	 ?play_map_bgm@@YAHH@Z	; play_map_bgm
  004cf	83 c4 04	 add	 esp, 4

; 1249 : 					draw_map_bgm_flg = 1;

  004d2	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg
$LN33@drawMap2:

; 1250 : 				}
; 1251 : 			}
; 1252 : 			// ???¤úû¨
; 1253 : 			if (parts[i * mapAreaWidth + j] > CG_INVISIBLE)

  004dc	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  004df	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  004e6	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  004e9	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  004f1	83 f9 63	 cmp	 ecx, 99			; 00000063H
  004f4	0f 8e f8 00 00
	00		 jle	 $LN34@drawMap2

; 1254 : 			{
; 1255 : 				realGetNo(parts[i * mapAreaWidth + j], &bmpNo);

  004fa	8d 85 68 ff ff
	ff		 lea	 eax, DWORD PTR _bmpNo$[ebp]
  00500	50		 push	 eax
  00501	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  00504	0f af 0d 00 00
	00 00		 imul	 ecx, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0050b	03 4d ec	 add	 ecx, DWORD PTR _j$[ebp]
  0050e	0f b7 14 4d 00
	00 00 00	 movzx	 edx, WORD PTR ?parts@@3PAGA[ecx*2]
  00516	52		 push	 edx
  00517	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo
  0051c	83 c4 08	 add	 esp, 8

; 1256 : 				// ?þ¥›??????
; 1257 : 				realGetPos(bmpNo, &xx, &yy);

  0051f	8d 45 a4	 lea	 eax, DWORD PTR _yy$[ebp]
  00522	50		 push	 eax
  00523	8d 4d b0	 lea	 ecx, DWORD PTR _xx$[ebp]
  00526	51		 push	 ecx
  00527	8b 95 68 ff ff
	ff		 mov	 edx, DWORD PTR _bmpNo$[ebp]
  0052d	52		 push	 edx
  0052e	e8 00 00 00 00	 call	 ?realGetPos@@YAHKPAF0@Z	; realGetPos
  00533	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1258 : 				realGetWH(bmpNo, &ww, &hh);

  00536	8d 45 8c	 lea	 eax, DWORD PTR _hh$[ebp]
  00539	50		 push	 eax
  0053a	8d 4d 98	 lea	 ecx, DWORD PTR _ww$[ebp]
  0053d	51		 push	 ecx
  0053e	8b 95 68 ff ff
	ff		 mov	 edx, DWORD PTR _bmpNo$[ebp]
  00544	52		 push	 edx
  00545	e8 00 00 00 00	 call	 ?realGetWH@@YAHKPAF0@Z	; realGetWH
  0054a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1259 : 				xx += x;

  0054d	0f bf 45 b0	 movsx	 eax, WORD PTR _xx$[ebp]
  00551	03 45 e0	 add	 eax, DWORD PTR _x$[ebp]
  00554	66 89 45 b0	 mov	 WORD PTR _xx$[ebp], ax

; 1260 : 				yy += y;

  00558	0f bf 45 a4	 movsx	 eax, WORD PTR _yy$[ebp]
  0055c	03 45 d4	 add	 eax, DWORD PTR _y$[ebp]
  0055f	66 89 45 a4	 mov	 WORD PTR _yy$[ebp], ax

; 1261 : 				if (xx < DEF_APPSIZEX && xx + ww - 1 >= 0 && yy < DEF_APPSIZEY && yy + hh - 1 >= 0)

  00563	0f bf 45 b0	 movsx	 eax, WORD PTR _xx$[ebp]
  00567	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0056d	7d 7e		 jge	 SHORT $LN36@drawMap2
  0056f	0f bf 45 b0	 movsx	 eax, WORD PTR _xx$[ebp]
  00573	0f bf 4d 98	 movsx	 ecx, WORD PTR _ww$[ebp]
  00577	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  0057b	85 d2		 test	 edx, edx
  0057d	7c 6e		 jl	 SHORT $LN36@drawMap2
  0057f	0f bf 45 a4	 movsx	 eax, WORD PTR _yy$[ebp]
  00583	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00589	7d 62		 jge	 SHORT $LN36@drawMap2
  0058b	0f bf 45 a4	 movsx	 eax, WORD PTR _yy$[ebp]
  0058f	0f bf 4d 8c	 movsx	 ecx, WORD PTR _hh$[ebp]
  00593	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  00597	85 d2		 test	 edx, edx
  00599	7c 52		 jl	 SHORT $LN36@drawMap2

; 1262 : 					// ¤úû¨?¡I¥T?¤e????¥K???
; 1263 : 					setPartsPrio(bmpNo, x, y, 0, 0, (float)(mapAreaX1 + j) * GRID_SIZE, (float)(mapAreaY1 + i) * GRID_SIZE, -1);

  0059b	6a ff		 push	 -1
  0059d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  005a2	03 45 f8	 add	 eax, DWORD PTR _i$[ebp]
  005a5	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  005a9	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  005b1	51		 push	 ecx
  005b2	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005b7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  005bd	03 4d ec	 add	 ecx, DWORD PTR _j$[ebp]
  005c0	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  005c4	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  005cc	51		 push	 ecx
  005cd	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  005d2	6a 00		 push	 0
  005d4	6a 00		 push	 0
  005d6	8b 55 d4	 mov	 edx, DWORD PTR _y$[ebp]
  005d9	52		 push	 edx
  005da	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  005dd	50		 push	 eax
  005de	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _bmpNo$[ebp]
  005e4	51		 push	 ecx
  005e5	e8 00 00 00 00	 call	 ?setPartsPrio@@YAXHHHHHMMH@Z ; setPartsPrio
  005ea	83 c4 20	 add	 esp, 32			; 00000020H
$LN36@drawMap2:

; 1264 : 			}
; 1265 : 			else

  005ed	e9 b8 00 00 00	 jmp	 $LN39@drawMap2
$LN34@drawMap2:

; 1266 : 			{
; 1267 : 				// ¥{ûì?????????
; 1268 : 				// ????????þ•??
; 1269 : 				if (20 <= parts[i * mapAreaWidth + j] && parts[i * mapAreaWidth + j] <= 39)

  005f2	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  005f5	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  005fc	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  005ff	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  00607	83 f9 14	 cmp	 ecx, 20			; 00000014H
  0060a	7c 42		 jl	 SHORT $LN37@drawMap2
  0060c	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0060f	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00616	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00619	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  00621	83 f9 27	 cmp	 ecx, 39			; 00000027H
  00624	7f 28		 jg	 SHORT $LN37@drawMap2

; 1270 : 					play_environment(parts[i * mapAreaWidth + j], x, y);

  00626	8b 45 d4	 mov	 eax, DWORD PTR _y$[ebp]
  00629	50		 push	 eax
  0062a	8b 4d e0	 mov	 ecx, DWORD PTR _x$[ebp]
  0062d	51		 push	 ecx
  0062e	8b 55 f8	 mov	 edx, DWORD PTR _i$[ebp]
  00631	0f af 15 00 00
	00 00		 imul	 edx, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00638	03 55 ec	 add	 edx, DWORD PTR _j$[ebp]
  0063b	0f b7 04 55 00
	00 00 00	 movzx	 eax, WORD PTR ?parts@@3PAGA[edx*2]
  00643	50		 push	 eax
  00644	e8 00 00 00 00	 call	 ?play_environment@@YAHHHH@Z ; play_environment
  00649	83 c4 0c	 add	 esp, 12			; 0000000cH
  0064c	eb 5c		 jmp	 SHORT $LN39@drawMap2
$LN37@drawMap2:

; 1271 : 				else if (40 <= parts[i * mapAreaWidth + j] && parts[i * mapAreaWidth + j] <= 59)// ?????????þ•??

  0064e	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00651	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00658	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  0065b	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  00663	83 f9 28	 cmp	 ecx, 40			; 00000028H
  00666	7c 42		 jl	 SHORT $LN39@drawMap2
  00668	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0066b	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00672	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00675	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  0067d	83 f9 3b	 cmp	 ecx, 59			; 0000003bH
  00680	7f 28		 jg	 SHORT $LN39@drawMap2

; 1272 : 				{
; 1273 : 					play_map_bgm(parts[i * mapAreaWidth + j]);

  00682	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00685	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0068c	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  0068f	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  00697	51		 push	 ecx
  00698	e8 00 00 00 00	 call	 ?play_map_bgm@@YAHH@Z	; play_map_bgm
  0069d	83 c4 04	 add	 esp, 4

; 1274 : 					draw_map_bgm_flg = 1;

  006a0	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg
$LN39@drawMap2:

; 1275 : 				}
; 1276 : 			}
; 1277 : 			i--;

  006aa	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  006ad	83 e8 01	 sub	 eax, 1
  006b0	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 1278 : 			j--;

  006b3	8b 45 ec	 mov	 eax, DWORD PTR _j$[ebp]
  006b6	83 e8 01	 sub	 eax, 1
  006b9	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax

; 1279 : 			x -= SURFACE_WIDTH;

  006bc	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  006bf	83 e8 40	 sub	 eax, 64			; 00000040H
  006c2	89 45 e0	 mov	 DWORD PTR _x$[ebp], eax

; 1280 : 		}

  006c5	e9 06 fc ff ff	 jmp	 $LN4@drawMap2
$LN5@drawMap2:

; 1281 : 		if (tj < mapAreaWidth - 1)

  006ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  006cf	83 e8 01	 sub	 eax, 1
  006d2	39 85 44 ff ff
	ff		 cmp	 DWORD PTR _tj$[ebp], eax
  006d8	7d 23		 jge	 SHORT $LN40@drawMap2

; 1282 : 		{
; 1283 : 			tj++;

  006da	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR _tj$[ebp]
  006e0	83 c0 01	 add	 eax, 1
  006e3	89 85 44 ff ff
	ff		 mov	 DWORD PTR _tj$[ebp], eax

; 1284 : 			tx += SURFACE_WIDTH >> 1;

  006e9	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  006ec	83 c0 20	 add	 eax, 32			; 00000020H
  006ef	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 1285 : 			ty -= SURFACE_HEIGHT >> 1;

  006f2	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  006f5	83 e8 18	 sub	 eax, 24			; 00000018H
  006f8	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax

; 1286 : 		}
; 1287 : 		else

  006fb	eb 21		 jmp	 SHORT $LN41@drawMap2
$LN40@drawMap2:

; 1288 : 		{
; 1289 : 			ti--;

  006fd	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _ti$[ebp]
  00703	83 e8 01	 sub	 eax, 1
  00706	89 85 50 ff ff
	ff		 mov	 DWORD PTR _ti$[ebp], eax

; 1290 : 			tx -= SURFACE_WIDTH >> 1;

  0070c	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  0070f	83 e8 20	 sub	 eax, 32			; 00000020H
  00712	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 1291 : 			ty -= SURFACE_HEIGHT >> 1;

  00715	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  00718	83 e8 18	 sub	 eax, 24			; 00000018H
  0071b	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax
$LN41@drawMap2:

; 1292 : 		}
; 1293 : 	}

  0071e	e9 82 fb ff ff	 jmp	 $LN2@drawMap2
$LN3@drawMap2:

; 1294 : 	// shan 2002/01/18
; 1295 : 	if (fMapBgm >= 40 && fMapBgm <= 53 && map_bgm_no == 2)

  00723	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?fMapBgm@@3HA, 40 ; fMapBgm, 00000028H
  0072a	7c 34		 jl	 SHORT $LN42@drawMap2
  0072c	83 3d 00 00 00
	00 35		 cmp	 DWORD PTR ?fMapBgm@@3HA, 53 ; fMapBgm, 00000035H
  00733	7f 2b		 jg	 SHORT $LN42@drawMap2
  00735	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?map_bgm_no@@3HA, 2 ; map_bgm_no
  0073c	75 22		 jne	 SHORT $LN42@drawMap2

; 1296 : 	{
; 1297 : 		play_map_bgm(fMapBgm);

  0073e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?fMapBgm@@3HA ; fMapBgm
  00743	50		 push	 eax
  00744	e8 00 00 00 00	 call	 ?play_map_bgm@@YAHH@Z	; play_map_bgm
  00749	83 c4 04	 add	 esp, 4

; 1298 : 		draw_map_bgm_flg = 1;

  0074c	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg

; 1299 : 		fMapBgm = 0;

  00756	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fMapBgm@@3HA, 0 ; fMapBgm
$LN42@drawMap2:

; 1300 : 	}
; 1301 : 	stockCharParts();

  00760	e8 00 00 00 00	 call	 ?stockCharParts@@YAXXZ	; stockCharParts

; 1302 : 	oldGx = nowGx;

  00765	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  0076a	a3 00 00 00 00	 mov	 DWORD PTR ?oldGx@@3HA, eax ; oldGx

; 1303 : 	oldGy = nowGy;

  0076f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00774	a3 00 00 00 00	 mov	 DWORD PTR ?oldGy@@3HA, eax ; oldGy
$LN1@drawMap2:

; 1304 : }

  00779	52		 push	 edx
  0077a	8b cd		 mov	 ecx, ebp
  0077c	50		 push	 eax
  0077d	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN52@drawMap2
  00783	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00788	58		 pop	 eax
  00789	5a		 pop	 edx
  0078a	5f		 pop	 edi
  0078b	5e		 pop	 esi
  0078c	5b		 pop	 ebx
  0078d	81 c4 80 01 00
	00		 add	 esp, 384		; 00000180H
  00793	3b ec		 cmp	 ebp, esp
  00795	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0079a	8b e5		 mov	 esp, ebp
  0079c	5d		 pop	 ebp
  0079d	c3		 ret	 0
  0079e	66 90		 npad	 2
$LN52@drawMap2:
  007a0	07 00 00 00	 DD	 7
  007a4	00 00 00 00	 DD	 $LN51@drawMap2
$LN51@drawMap2:
  007a8	b0 ff ff ff	 DD	 -80			; ffffffb0H
  007ac	02 00 00 00	 DD	 2
  007b0	00 00 00 00	 DD	 $LN44@drawMap2
  007b4	a4 ff ff ff	 DD	 -92			; ffffffa4H
  007b8	02 00 00 00	 DD	 2
  007bc	00 00 00 00	 DD	 $LN45@drawMap2
  007c0	98 ff ff ff	 DD	 -104			; ffffff98H
  007c4	02 00 00 00	 DD	 2
  007c8	00 00 00 00	 DD	 $LN46@drawMap2
  007cc	8c ff ff ff	 DD	 -116			; ffffff8cH
  007d0	02 00 00 00	 DD	 2
  007d4	00 00 00 00	 DD	 $LN47@drawMap2
  007d8	80 ff ff ff	 DD	 -128			; ffffff80H
  007dc	04 00 00 00	 DD	 4
  007e0	00 00 00 00	 DD	 $LN48@drawMap2
  007e4	74 ff ff ff	 DD	 -140			; ffffff74H
  007e8	04 00 00 00	 DD	 4
  007ec	00 00 00 00	 DD	 $LN49@drawMap2
  007f0	68 ff ff ff	 DD	 -152			; ffffff68H
  007f4	04 00 00 00	 DD	 4
  007f8	00 00 00 00	 DD	 $LN50@drawMap2
$LN50@drawMap2:
  007fc	62		 DB	 98			; 00000062H
  007fd	6d		 DB	 109			; 0000006dH
  007fe	70		 DB	 112			; 00000070H
  007ff	4e		 DB	 78			; 0000004eH
  00800	6f		 DB	 111			; 0000006fH
  00801	00		 DB	 0
$LN49@drawMap2:
  00802	64		 DB	 100			; 00000064H
  00803	79		 DB	 121			; 00000079H
  00804	00		 DB	 0
$LN48@drawMap2:
  00805	64		 DB	 100			; 00000064H
  00806	78		 DB	 120			; 00000078H
  00807	00		 DB	 0
$LN47@drawMap2:
  00808	68		 DB	 104			; 00000068H
  00809	68		 DB	 104			; 00000068H
  0080a	00		 DB	 0
$LN46@drawMap2:
  0080b	77		 DB	 119			; 00000077H
  0080c	77		 DB	 119			; 00000077H
  0080d	00		 DB	 0
$LN45@drawMap2:
  0080e	79		 DB	 121			; 00000079H
  0080f	79		 DB	 121			; 00000079H
  00810	00		 DB	 0
$LN44@drawMap2:
  00811	78		 DB	 120			; 00000078H
  00812	78		 DB	 120			; 00000078H
  00813	00		 DB	 0
?drawMap2@@YAXXZ ENDP					; drawMap2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?drawMap@@YAXXZ
_TEXT	SEGMENT
_tj$ = -212						; size = 4
_ti$ = -200						; size = 4
_bmpNo$ = -188						; size = 4
_dy$ = -176						; size = 4
_dx$ = -164						; size = 4
_hh$ = -152						; size = 2
_ww$ = -140						; size = 2
_yy$ = -128						; size = 2
_xx$ = -116						; size = 2
_tryFlag$ = -104					; size = 4
_snowFlag$ = -92					; size = 4
_rainFlag$ = -80					; size = 4
_ty$ = -68						; size = 4
_tx$ = -56						; size = 4
_y$ = -44						; size = 4
_x$ = -32						; size = 4
_j$ = -20						; size = 4
_i$ = -8						; size = 4
?drawMap@@YAXXZ PROC					; drawMap, COMDAT

; 896  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 98 01 00
	00		 sub	 esp, 408		; 00000198H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 68 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-408]
  00012	b9 66 00 00 00	 mov	 ecx, 102		; 00000066H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 897  : 	int i, j, x, y, tx, ty, rainFlag = 0, snowFlag = 0, tryFlag = 0;;

  0001e	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _rainFlag$[ebp], 0
  00025	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _snowFlag$[ebp], 0
  0002c	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _tryFlag$[ebp], 0

; 898  : 	S2 xx, yy, ww, hh;
; 899  : 	float dx, dy;
; 900  : 	U4 bmpNo;
; 901  : 
; 902  : 	draw_map_bgm_flg = 0;

  00033	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 0 ; draw_map_bgm_flg

; 903  : //	readMapAfterFrame++;
; 904  : 	// ????????£t?¨Á??????????¥‚???
; 905  : 	if (nowGx != oldGx || nowGy != oldGy)

  0003d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00042	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?oldGx@@3HA ; oldGx
  00048	75 11		 jne	 SHORT $LN7@drawMap
  0004a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0004f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?oldGy@@3HA ; oldGy
  00055	0f 84 ff 00 00
	00		 je	 $LN9@drawMap
$LN7@drawMap:

; 906  : 	{//¸ù¾ÝµØÍ¼ºÅ°ÑÊý¾Ý¶Á³öÀ´
; 907  : 		if (readMap(nowFloor, mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0]))

  0005b	b8 02 00 00 00	 mov	 eax, 2
  00060	6b c8 00	 imul	 ecx, eax, 0
  00063	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?event@@3PAGA ; event
  00069	51		 push	 ecx
  0006a	ba 02 00 00 00	 mov	 edx, 2
  0006f	6b c2 00	 imul	 eax, edx, 0
  00072	05 00 00 00 00	 add	 eax, OFFSET ?parts@@3PAGA ; parts
  00077	50		 push	 eax
  00078	b9 02 00 00 00	 mov	 ecx, 2
  0007d	6b d1 00	 imul	 edx, ecx, 0
  00080	81 c2 00 00 00
	00		 add	 edx, OFFSET ?tile@@3PAGA ; tile
  00086	52		 push	 edx
  00087	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  0008c	50		 push	 eax
  0008d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  00093	51		 push	 ecx
  00094	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  0009a	52		 push	 edx
  0009b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  000a0	50		 push	 eax
  000a1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowFloor@@3HA ; nowFloor
  000a7	51		 push	 ecx
  000a8	e8 00 00 00 00	 call	 ?readMap@@YAHHHHHHPAG00@Z ; readMap
  000ad	83 c4 20	 add	 esp, 32			; 00000020H
  000b0	85 c0		 test	 eax, eax
  000b2	0f 84 9d 00 00
	00		 je	 $LN8@drawMap

; 908  : 		{
; 909  : 			// hitMap[]????§R¤e????¡@¤e
; 910  : 			readHitMap(mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0], &hitMap[0]);

  000b8	b8 02 00 00 00	 mov	 eax, 2
  000bd	6b c8 00	 imul	 ecx, eax, 0
  000c0	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?hitMap@@3PAGA ; hitMap
  000c6	51		 push	 ecx
  000c7	ba 02 00 00 00	 mov	 edx, 2
  000cc	6b c2 00	 imul	 eax, edx, 0
  000cf	05 00 00 00 00	 add	 eax, OFFSET ?event@@3PAGA ; event
  000d4	50		 push	 eax
  000d5	b9 02 00 00 00	 mov	 ecx, 2
  000da	6b d1 00	 imul	 edx, ecx, 0
  000dd	81 c2 00 00 00
	00		 add	 edx, OFFSET ?parts@@3PAGA ; parts
  000e3	52		 push	 edx
  000e4	b8 02 00 00 00	 mov	 eax, 2
  000e9	6b c8 00	 imul	 ecx, eax, 0
  000ec	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?tile@@3PAGA ; tile
  000f2	51		 push	 ecx
  000f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  000f9	52		 push	 edx
  000fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  000ff	50		 push	 eax
  00100	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00106	51		 push	 ecx
  00107	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  0010d	52		 push	 edx
  0010e	e8 00 00 00 00	 call	 ?readHitMap@@YAXHHHHPAG000@Z ; readHitMap
  00113	83 c4 20	 add	 esp, 32			; 00000020H

; 911  : 			if (mapEmptyFlag)

  00116	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag
  0011d	74 2a		 je	 SHORT $LN10@drawMap

; 912  : 			{
; 913  : 				if (!checkEmptyMap(mapEmptyDir))

  0011f	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEmptyDir@@3FA ; mapEmptyDir
  00126	50		 push	 eax
  00127	e8 00 00 00 00	 call	 ?checkEmptyMap@@YAHH@Z	; checkEmptyMap
  0012c	83 c4 04	 add	 esp, 4
  0012f	85 c0		 test	 eax, eax
  00131	75 14		 jne	 SHORT $LN12@drawMap

; 914  : 				{
; 915  : 					mapEmptyFlag = FALSE;

  00133	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag

; 916  : 					autoMappingInitFlag = TRUE;	// ??????¥‚???

  0013d	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?autoMappingInitFlag@@3HA, 1 ; autoMappingInitFlag
$LN12@drawMap:

; 917  : 				}
; 918  : 			}
; 919  : 			else

  00147	eb 0a		 jmp	 SHORT $LN11@drawMap
$LN10@drawMap:

; 920  : 				autoMappingInitFlag = TRUE;	// ??????¥‚???

  00149	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?autoMappingInitFlag@@3HA, 1 ; autoMappingInitFlag
$LN11@drawMap:

; 921  : //			readMapAfterFrame = 0;	// ???????¥‚?????????????????
; 922  : 		}
; 923  : 		else

  00153	eb 05		 jmp	 SHORT $LN9@drawMap
$LN8@drawMap:

; 924  : 			return;

  00155	e9 58 05 00 00	 jmp	 $LN1@drawMap
$LN9@drawMap:

; 925  : 	}
; 926  : 	camMapToGamen(0.0, 0.0, &dx, &dy);

  0015a	8d 85 50 ff ff
	ff		 lea	 eax, DWORD PTR _dy$[ebp]
  00160	50		 push	 eax
  00161	8d 8d 5c ff ff
	ff		 lea	 ecx, DWORD PTR _dx$[ebp]
  00167	51		 push	 ecx
  00168	51		 push	 ecx
  00169	0f 57 c0	 xorps	 xmm0, xmm0
  0016c	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00171	51		 push	 ecx
  00172	0f 57 c0	 xorps	 xmm0, xmm0
  00175	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0017a	e8 00 00 00 00	 call	 ?camMapToGamen@@YAXMMPAM0@Z ; camMapToGamen
  0017f	83 c4 10	 add	 esp, 16			; 00000010H

; 927  : 	baseXFastDraw = (int)(dx + .5);

  00182	f3 0f 5a 85 5c
	ff ff ff	 cvtss2sd xmm0, DWORD PTR _dx$[ebp]
  0018a	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  00192	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00196	a3 00 00 00 00	 mov	 DWORD PTR ?baseXFastDraw@@3HA, eax ; baseXFastDraw

; 928  : 	baseYFastDraw = (int)(dy + .5);

  0019b	f3 0f 5a 85 50
	ff ff ff	 cvtss2sd xmm0, DWORD PTR _dy$[ebp]
  001a3	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001ab	f2 0f 2c c0	 cvttsd2si eax, xmm0
  001af	a3 00 00 00 00	 mov	 DWORD PTR ?baseYFastDraw@@3HA, eax ; baseYFastDraw

; 929  : 	//???????????????
; 930  : 	if (ResoMode == 1)

  001b4	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  001bb	75 4c		 jne	 SHORT $LN13@drawMap

; 931  : 	{
; 932  : 		nowXFastDraw = (int)(dx / 2 + .5);

  001bd	f3 0f 10 85 5c
	ff ff ff	 movss	 xmm0, DWORD PTR _dx$[ebp]
  001c5	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  001cd	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001d1	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001d9	f2 0f 2c c0	 cvttsd2si eax, xmm0
  001dd	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 933  : 		nowYFastDraw = (int)(dy / 2 + .5);

  001e2	f3 0f 10 85 50
	ff ff ff	 movss	 xmm0, DWORD PTR _dy$[ebp]
  001ea	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  001f2	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001f6	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001fe	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00202	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw

; 934  : 	}
; 935  : 	else

  00207	eb 14		 jmp	 SHORT $LN14@drawMap
$LN13@drawMap:

; 936  : 	{
; 937  : 		nowXFastDraw = baseXFastDraw;

  00209	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseXFastDraw@@3HA ; baseXFastDraw
  0020e	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 938  : 		nowYFastDraw = baseYFastDraw;

  00213	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseYFastDraw@@3HA ; baseYFastDraw
  00218	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw
$LN14@drawMap:

; 939  : 	}
; 940  : 	nowXFastDraw2 = baseXFastDraw;

  0021d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseXFastDraw@@3HA ; baseXFastDraw
  00222	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw2@@3HA, eax ; nowXFastDraw2

; 941  : 	nowYFastDraw2 = baseYFastDraw;

  00227	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseYFastDraw@@3HA ; baseYFastDraw
  0022c	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw2@@3HA, eax ; nowYFastDraw2

; 942  : 	amountXFastDraw = 0;

  00231	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountXFastDraw@@3HA, 0 ; amountXFastDraw

; 943  : 	amountYFastDraw = 0;

  0023b	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountYFastDraw@@3HA, 0 ; amountYFastDraw

; 944  : 	// 1 5 12 16 ... 
; 945  : 	tx = nowXFastDraw2 + (mapAreaX1 + mapAreaY2 - 1) * SURFACE_WIDTH / 2;

  00245	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  0024a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00250	8d 44 01 ff	 lea	 eax, DWORD PTR [ecx+eax-1]
  00254	c1 e0 06	 shl	 eax, 6
  00257	99		 cdq
  00258	2b c2		 sub	 eax, edx
  0025a	d1 f8		 sar	 eax, 1
  0025c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowXFastDraw2@@3HA ; nowXFastDraw2
  00262	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 946  : 	ty = nowYFastDraw2 + (-mapAreaX1 + mapAreaY2 - 1) * SURFACE_HEIGHT / 2;

  00265	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  0026a	f7 d8		 neg	 eax
  0026c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00272	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  00276	6b c2 30	 imul	 eax, edx, 48
  00279	99		 cdq
  0027a	2b c2		 sub	 eax, edx
  0027c	d1 f8		 sar	 eax, 1
  0027e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowYFastDraw2@@3HA ; nowYFastDraw2
  00284	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax

; 947  : 
; 948  : #if 1
; 949  : 	// ????§k???????????
; 950  : 	//
; 951  : 	// [map]
; 952  : 	//               16
; 953  : 	//            15    14
; 954  : 	//         13    12    11
; 955  : 	//      10     9     8     7
; 956  : 	//          6     5     4
; 957  : 	//             3     2
; 958  : 	//                1
; 959  : 
; 960  : 	int ti, tj;
; 961  : 
; 962  : 	ti = mapAreaHeight - 1;

  00287	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaHeight@@3HA ; mapAreaHeight
  0028c	83 e8 01	 sub	 eax, 1
  0028f	89 85 38 ff ff
	ff		 mov	 DWORD PTR _ti$[ebp], eax

; 963  : 	tj = 0;

  00295	c7 85 2c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _tj$[ebp], 0
$LN2@drawMap:

; 964  : 
; 965  : 	while (ti >= 0)

  0029f	83 bd 38 ff ff
	ff 00		 cmp	 DWORD PTR _ti$[ebp], 0
  002a6	0f 8c b0 03 00
	00		 jl	 $LN3@drawMap

; 966  : 	{
; 967  : 		i = ti;

  002ac	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _ti$[ebp]
  002b2	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 968  : 		j = tj;

  002b5	8b 85 2c ff ff
	ff		 mov	 eax, DWORD PTR _tj$[ebp]
  002bb	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax

; 969  : 		x = tx;

  002be	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  002c1	89 45 e0	 mov	 DWORD PTR _x$[ebp], eax

; 970  : 		y = ty;

  002c4	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  002c7	89 45 d4	 mov	 DWORD PTR _y$[ebp], eax
$LN4@drawMap:

; 971  : //		if (i==30)
; 972  : 		while (i >= 0 && j >= 0)

  002ca	83 7d f8 00	 cmp	 DWORD PTR _i$[ebp], 0
  002ce	0f 8c 2f 03 00
	00		 jl	 $LN5@drawMap
  002d4	83 7d ec 00	 cmp	 DWORD PTR _j$[ebp], 0
  002d8	0f 8c 25 03 00
	00		 jl	 $LN5@drawMap

; 973  : 		{
; 974  : 			// ???¤úû¨
; 975  : 			if (tile[i * mapAreaWidth+j] > CG_INVISIBLE)

  002de	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  002e1	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  002e8	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  002eb	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  002f3	83 f9 63	 cmp	 ecx, 99			; 00000063H
  002f6	7e 55		 jle	 SHORT $LN15@drawMap

; 976  : 			{
; 977  : #if 0
; 978  : 				// ??????þ•??(???)
; 979  : 				if (193 <= tile[i * mapAreaWidth + j] && tile[i * mapAreaWidth+j] <= 196)
; 980  : 					play_environment(0, x, y);
; 981  : #endif
; 982  : 				// ?þ¥›??????
; 983  : 				if (x >= (-SURFACE_WIDTH >> 1) && x < DEF_APPSIZEX + (SURFACE_WIDTH >> 1) &&
; 984  : 					y >= (-SURFACE_HEIGHT >> 1) && y < DEF_APPSIZEY + (SURFACE_HEIGHT >> 1))

  002f8	83 7d e0 e0	 cmp	 DWORD PTR _x$[ebp], -32	; ffffffe0H
  002fc	7c 4a		 jl	 SHORT $LN17@drawMap
  002fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  00303	83 c0 20	 add	 eax, 32			; 00000020H
  00306	39 45 e0	 cmp	 DWORD PTR _x$[ebp], eax
  00309	7d 3d		 jge	 SHORT $LN17@drawMap
  0030b	83 7d d4 e8	 cmp	 DWORD PTR _y$[ebp], -24	; ffffffe8H
  0030f	7c 37		 jl	 SHORT $LN17@drawMap
  00311	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00316	83 c0 18	 add	 eax, 24			; 00000018H
  00319	39 45 d4	 cmp	 DWORD PTR _y$[ebp], eax
  0031c	7d 2a		 jge	 SHORT $LN17@drawMap

; 985  : 					StockDispBuffer(x, y, DISP_PRIO_TILE, tile[i * mapAreaWidth + j], 0);

  0031e	6a 00		 push	 0
  00320	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00323	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0032a	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  0032d	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  00335	51		 push	 ecx
  00336	6a 01		 push	 1
  00338	8b 55 d4	 mov	 edx, DWORD PTR _y$[ebp]
  0033b	52		 push	 edx
  0033c	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  0033f	50		 push	 eax
  00340	e8 00 00 00 00	 call	 ?StockDispBuffer@@YAHHHEHH@Z ; StockDispBuffer
  00345	83 c4 14	 add	 esp, 20			; 00000014H
$LN17@drawMap:

; 986  : 			}
; 987  : 			else

  00348	e9 b8 00 00 00	 jmp	 $LN20@drawMap
$LN15@drawMap:

; 988  : 			{
; 989  : 				// ¥{ûì?????????
; 990  : 				// ????????þ•??
; 991  : 				if (20 <= tile[i * mapAreaWidth + j] && tile[i * mapAreaWidth + j] <= 39)

  0034d	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00350	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00357	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  0035a	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  00362	83 f9 14	 cmp	 ecx, 20			; 00000014H
  00365	7c 42		 jl	 SHORT $LN18@drawMap
  00367	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0036a	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00371	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00374	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  0037c	83 f9 27	 cmp	 ecx, 39			; 00000027H
  0037f	7f 28		 jg	 SHORT $LN18@drawMap

; 992  : 					play_environment(tile[i * mapAreaWidth + j], x, y);

  00381	8b 45 d4	 mov	 eax, DWORD PTR _y$[ebp]
  00384	50		 push	 eax
  00385	8b 4d e0	 mov	 ecx, DWORD PTR _x$[ebp]
  00388	51		 push	 ecx
  00389	8b 55 f8	 mov	 edx, DWORD PTR _i$[ebp]
  0038c	0f af 15 00 00
	00 00		 imul	 edx, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00393	03 55 ec	 add	 edx, DWORD PTR _j$[ebp]
  00396	0f b7 04 55 00
	00 00 00	 movzx	 eax, WORD PTR ?tile@@3PAGA[edx*2]
  0039e	50		 push	 eax
  0039f	e8 00 00 00 00	 call	 ?play_environment@@YAHHHH@Z ; play_environment
  003a4	83 c4 0c	 add	 esp, 12			; 0000000cH
  003a7	eb 5c		 jmp	 SHORT $LN20@drawMap
$LN18@drawMap:

; 993  : 				else if (40 <= tile[i * mapAreaWidth + j] && tile[i * mapAreaWidth + j] <= 59)// ?????????þ•??

  003a9	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  003ac	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  003b3	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  003b6	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  003be	83 f9 28	 cmp	 ecx, 40			; 00000028H
  003c1	7c 42		 jl	 SHORT $LN20@drawMap
  003c3	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  003c6	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  003cd	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  003d0	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  003d8	83 f9 3b	 cmp	 ecx, 59			; 0000003bH
  003db	7f 28		 jg	 SHORT $LN20@drawMap

; 994  : 				{
; 995  : 					play_map_bgm(tile[i * mapAreaWidth + j]);

  003dd	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  003e0	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  003e7	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  003ea	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  003f2	51		 push	 ecx
  003f3	e8 00 00 00 00	 call	 ?play_map_bgm@@YAHH@Z	; play_map_bgm
  003f8	83 c4 04	 add	 esp, 4

; 996  : 					draw_map_bgm_flg = 1;

  003fb	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg
$LN20@drawMap:

; 997  : 				}
; 998  : 			}
; 999  : 			// ???¤úû¨
; 1000 : 			if (parts[i * mapAreaWidth+j] > CG_INVISIBLE)

  00405	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00408	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0040f	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00412	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  0041a	83 f9 63	 cmp	 ecx, 99			; 00000063H
  0041d	0f 8e 08 01 00
	00		 jle	 $LN21@drawMap

; 1001 : 			{
; 1002 : #if 0
; 1003 : 				// ??????þ•??(???)
; 1004 : 				if (parts[i * mapAreaWidth+j] == 10011)
; 1005 : 					play_environment(2, x, y);
; 1006 : 				else if (parts[i * mapAreaWidth + j] == 10012)
; 1007 : 					play_environment(1, x, y);
; 1008 : 				else if (parts[i * mapAreaWidth + j] == 10203)
; 1009 : 					play_environment(4, x, y);
; 1010 : 				else if (parts[i * mapAreaWidth + j] == 10048)
; 1011 : 				{
; 1012 : 					play_map_bgm(2);
; 1013 : 					draw_map_bgm_flg = 1;
; 1014 : 				}
; 1015 : #endif
; 1016 : 				realGetNo(parts[i * mapAreaWidth + j], &bmpNo);

  00423	8d 85 44 ff ff
	ff		 lea	 eax, DWORD PTR _bmpNo$[ebp]
  00429	50		 push	 eax
  0042a	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  0042d	0f af 0d 00 00
	00 00		 imul	 ecx, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00434	03 4d ec	 add	 ecx, DWORD PTR _j$[ebp]
  00437	0f b7 14 4d 00
	00 00 00	 movzx	 edx, WORD PTR ?parts@@3PAGA[ecx*2]
  0043f	52		 push	 edx
  00440	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo
  00445	83 c4 08	 add	 esp, 8

; 1017 : 				// ?þ¥›??????
; 1018 : 				realGetPos(bmpNo, &xx, &yy);

  00448	8d 45 80	 lea	 eax, DWORD PTR _yy$[ebp]
  0044b	50		 push	 eax
  0044c	8d 4d 8c	 lea	 ecx, DWORD PTR _xx$[ebp]
  0044f	51		 push	 ecx
  00450	8b 95 44 ff ff
	ff		 mov	 edx, DWORD PTR _bmpNo$[ebp]
  00456	52		 push	 edx
  00457	e8 00 00 00 00	 call	 ?realGetPos@@YAHKPAF0@Z	; realGetPos
  0045c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1019 : 				realGetWH(bmpNo, &ww, &hh);

  0045f	8d 85 68 ff ff
	ff		 lea	 eax, DWORD PTR _hh$[ebp]
  00465	50		 push	 eax
  00466	8d 8d 74 ff ff
	ff		 lea	 ecx, DWORD PTR _ww$[ebp]
  0046c	51		 push	 ecx
  0046d	8b 95 44 ff ff
	ff		 mov	 edx, DWORD PTR _bmpNo$[ebp]
  00473	52		 push	 edx
  00474	e8 00 00 00 00	 call	 ?realGetWH@@YAHKPAF0@Z	; realGetWH
  00479	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1020 : 				xx += x;

  0047c	0f bf 45 8c	 movsx	 eax, WORD PTR _xx$[ebp]
  00480	03 45 e0	 add	 eax, DWORD PTR _x$[ebp]
  00483	66 89 45 8c	 mov	 WORD PTR _xx$[ebp], ax

; 1021 : 				yy += y;

  00487	0f bf 45 80	 movsx	 eax, WORD PTR _yy$[ebp]
  0048b	03 45 d4	 add	 eax, DWORD PTR _y$[ebp]
  0048e	66 89 45 80	 mov	 WORD PTR _yy$[ebp], ax

; 1022 : 				if (xx < DEF_APPSIZEX && xx + ww - 1 >= 0 && yy < DEF_APPSIZEY && yy + hh - 1 >= 0)

  00492	0f bf 45 8c	 movsx	 eax, WORD PTR _xx$[ebp]
  00496	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0049c	0f 8d 84 00 00
	00		 jge	 $LN23@drawMap
  004a2	0f bf 45 8c	 movsx	 eax, WORD PTR _xx$[ebp]
  004a6	0f bf 8d 74 ff
	ff ff		 movsx	 ecx, WORD PTR _ww$[ebp]
  004ad	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  004b1	85 d2		 test	 edx, edx
  004b3	7c 71		 jl	 SHORT $LN23@drawMap
  004b5	0f bf 45 80	 movsx	 eax, WORD PTR _yy$[ebp]
  004b9	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  004bf	7d 65		 jge	 SHORT $LN23@drawMap
  004c1	0f bf 45 80	 movsx	 eax, WORD PTR _yy$[ebp]
  004c5	0f bf 8d 68 ff
	ff ff		 movsx	 ecx, WORD PTR _hh$[ebp]
  004cc	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  004d0	85 d2		 test	 edx, edx
  004d2	7c 52		 jl	 SHORT $LN23@drawMap

; 1023 : 					// ¤úû¨?¡I¥T?¤e????¥K???
; 1024 : 					setPartsPrio(bmpNo, x, y, 0, 0, (float)(mapAreaX1 + j) * GRID_SIZE, (float)(mapAreaY1 + i) * GRID_SIZE, -1);

  004d4	6a ff		 push	 -1
  004d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  004db	03 45 f8	 add	 eax, DWORD PTR _i$[ebp]
  004de	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  004e2	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  004ea	51		 push	 ecx
  004eb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  004f0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  004f6	03 4d ec	 add	 ecx, DWORD PTR _j$[ebp]
  004f9	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  004fd	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00505	51		 push	 ecx
  00506	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0050b	6a 00		 push	 0
  0050d	6a 00		 push	 0
  0050f	8b 55 d4	 mov	 edx, DWORD PTR _y$[ebp]
  00512	52		 push	 edx
  00513	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  00516	50		 push	 eax
  00517	8b 8d 44 ff ff
	ff		 mov	 ecx, DWORD PTR _bmpNo$[ebp]
  0051d	51		 push	 ecx
  0051e	e8 00 00 00 00	 call	 ?setPartsPrio@@YAXHHHHHMMH@Z ; setPartsPrio
  00523	83 c4 20	 add	 esp, 32			; 00000020H
$LN23@drawMap:

; 1025 : 			}
; 1026 : 			else

  00526	e9 b8 00 00 00	 jmp	 $LN26@drawMap
$LN21@drawMap:

; 1027 : 			{
; 1028 : 				// ¥{ûì?????????
; 1029 : 				// ????????þ•??
; 1030 : 				if (20 <= parts[i * mapAreaWidth + j] && parts[i * mapAreaWidth + j] <= 39)

  0052b	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0052e	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00535	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00538	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  00540	83 f9 14	 cmp	 ecx, 20			; 00000014H
  00543	7c 42		 jl	 SHORT $LN24@drawMap
  00545	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00548	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0054f	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00552	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  0055a	83 f9 27	 cmp	 ecx, 39			; 00000027H
  0055d	7f 28		 jg	 SHORT $LN24@drawMap

; 1031 : 					play_environment(parts[i * mapAreaWidth + j], x, y);

  0055f	8b 45 d4	 mov	 eax, DWORD PTR _y$[ebp]
  00562	50		 push	 eax
  00563	8b 4d e0	 mov	 ecx, DWORD PTR _x$[ebp]
  00566	51		 push	 ecx
  00567	8b 55 f8	 mov	 edx, DWORD PTR _i$[ebp]
  0056a	0f af 15 00 00
	00 00		 imul	 edx, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00571	03 55 ec	 add	 edx, DWORD PTR _j$[ebp]
  00574	0f b7 04 55 00
	00 00 00	 movzx	 eax, WORD PTR ?parts@@3PAGA[edx*2]
  0057c	50		 push	 eax
  0057d	e8 00 00 00 00	 call	 ?play_environment@@YAHHHH@Z ; play_environment
  00582	83 c4 0c	 add	 esp, 12			; 0000000cH
  00585	eb 5c		 jmp	 SHORT $LN26@drawMap
$LN24@drawMap:

; 1032 : 				else if (40 <= parts[i * mapAreaWidth + j] && parts[i * mapAreaWidth + j] <= 59)// ?????????þ•??

  00587	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0058a	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00591	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  00594	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  0059c	83 f9 28	 cmp	 ecx, 40			; 00000028H
  0059f	7c 42		 jl	 SHORT $LN26@drawMap
  005a1	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  005a4	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  005ab	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  005ae	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  005b6	83 f9 3b	 cmp	 ecx, 59			; 0000003bH
  005b9	7f 28		 jg	 SHORT $LN26@drawMap

; 1033 : 				{
; 1034 : 					play_map_bgm(parts[i * mapAreaWidth + j]);

  005bb	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  005be	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  005c5	03 45 ec	 add	 eax, DWORD PTR _j$[ebp]
  005c8	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  005d0	51		 push	 ecx
  005d1	e8 00 00 00 00	 call	 ?play_map_bgm@@YAHH@Z	; play_map_bgm
  005d6	83 c4 04	 add	 esp, 4

; 1035 : 					draw_map_bgm_flg = 1;

  005d9	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg
$LN26@drawMap:

; 1036 : 				}
; 1037 : 			}
; 1038 : 			i--;

  005e3	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  005e6	83 e8 01	 sub	 eax, 1
  005e9	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax

; 1039 : 			j--;

  005ec	8b 45 ec	 mov	 eax, DWORD PTR _j$[ebp]
  005ef	83 e8 01	 sub	 eax, 1
  005f2	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax

; 1040 : 			x -= SURFACE_WIDTH;

  005f5	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  005f8	83 e8 40	 sub	 eax, 64			; 00000040H
  005fb	89 45 e0	 mov	 DWORD PTR _x$[ebp], eax

; 1041 : 		}

  005fe	e9 c7 fc ff ff	 jmp	 $LN4@drawMap
$LN5@drawMap:

; 1042 : 		if (tj < mapAreaWidth - 1)

  00603	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00608	83 e8 01	 sub	 eax, 1
  0060b	39 85 2c ff ff
	ff		 cmp	 DWORD PTR _tj$[ebp], eax
  00611	7d 23		 jge	 SHORT $LN27@drawMap

; 1043 : 		{
; 1044 : 			tj++;

  00613	8b 85 2c ff ff
	ff		 mov	 eax, DWORD PTR _tj$[ebp]
  00619	83 c0 01	 add	 eax, 1
  0061c	89 85 2c ff ff
	ff		 mov	 DWORD PTR _tj$[ebp], eax

; 1045 : 			tx += SURFACE_WIDTH >> 1;

  00622	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  00625	83 c0 20	 add	 eax, 32			; 00000020H
  00628	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 1046 : 			ty -= SURFACE_HEIGHT >> 1;

  0062b	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  0062e	83 e8 18	 sub	 eax, 24			; 00000018H
  00631	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax

; 1047 : 		}
; 1048 : 		else

  00634	eb 21		 jmp	 SHORT $LN28@drawMap
$LN27@drawMap:

; 1049 : 		{
; 1050 : 			ti--;

  00636	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _ti$[ebp]
  0063c	83 e8 01	 sub	 eax, 1
  0063f	89 85 38 ff ff
	ff		 mov	 DWORD PTR _ti$[ebp], eax

; 1051 : 			tx -= SURFACE_WIDTH >> 1;

  00645	8b 45 c8	 mov	 eax, DWORD PTR _tx$[ebp]
  00648	83 e8 20	 sub	 eax, 32			; 00000020H
  0064b	89 45 c8	 mov	 DWORD PTR _tx$[ebp], eax

; 1052 : 			ty -= SURFACE_HEIGHT >> 1;

  0064e	8b 45 bc	 mov	 eax, DWORD PTR _ty$[ebp]
  00651	83 e8 18	 sub	 eax, 24			; 00000018H
  00654	89 45 bc	 mov	 DWORD PTR _ty$[ebp], eax
$LN28@drawMap:

; 1053 : 		}
; 1054 : 	}

  00657	e9 43 fc ff ff	 jmp	 $LN2@drawMap
$LN3@drawMap:

; 1055 : #else
; 1056 : 	// ????§k???????????
; 1057 : 	//
; 1058 : 	// [map] 
; 1059 : 	//               16
; 1060 : 	//            15    12
; 1061 : 	//         14    11     8
; 1062 : 	//      13    10     7     4
; 1063 : 	//          9     6     3
; 1064 : 	//             5     2
; 1065 : 	//                1
; 1066 : 	x = (int)(dx + .5);
; 1067 : 	y = (int)(dy + .5);
; 1068 : 	for (i = mapAreaHeight - 1; i >= 0; i--)
; 1069 : 	{
; 1070 : 		tx = x;
; 1071 : 		ty = y;
; 1072 : 		for (j = 0; j < mapAreaWidth; j++)
; 1073 : 		{
; 1074 : 			// ???¤úû¨
; 1075 : 			if (tile[i * mapAreaWidth + j] > CG_INVISIBLE)
; 1076 : 			{
; 1077 : 				// ?þ¥›??????
; 1078 : 				if (x >= (-SURFACE_WIDTH >> 1) && x < DEF_APPSIZEX + (SURFACE_WIDTH >> 1) &&
; 1079 : 					y >= (-SURFACE_HEIGHT >> 1) && y < DEF_APPSIZEY + (SURFACE_HEIGHT >> 1))
; 1080 : 					StockDispBuffer(x, y, DISP_PRIO_TILE, tile[i * mapAreaWidth + j], 0);
; 1081 : 			}
; 1082 : 			// ???¤úû¨
; 1083 : 			if (parts[i * mapAreaWidth + j] > CG_INVISIBLE)
; 1084 : 			{
; 1085 : 				realGetNo(parts[i * mapAreaWidth + j], &bmpNo);
; 1086 : 				// ?þ¥›??????
; 1087 : 				realGetPos(bmpNo, &xx, &yy);
; 1088 : 				realGetWH(bmpNo, &ww, &hh);
; 1089 : 				xx += x;
; 1090 : 				yy += y;
; 1091 : 				if (xx < DEF_APPSIZEX && xx + ww - 1 >= 0 && yy < DEF_APPSIZEY && yy + hh - 1 >= 0)
; 1092 : 					// ¤úû¨?¡I¥T?¤e????¥K???
; 1093 : 					setPartsPrio(bmpNo, x, y, 0, 0, (float)(mapAreaX1 + j) * GRID_SIZE, (float)(mapAreaY1 + i) * GRID_SIZE, -1);
; 1094 : 			}
; 1095 : 			x += SURFACE_WIDTH >> 1;
; 1096 : 			y -= SURFACE_HEIGHT >> 1;
; 1097 : 		}
; 1098 : 		x = tx-SURFACE_WIDTH >> 1;
; 1099 : 		y = ty-SURFACE_HEIGHT >> 1;
; 1100 : 	}
; 1101 : #endif
; 1102 : 	stockCharParts();

  0065c	e8 00 00 00 00	 call	 ?stockCharParts@@YAXXZ	; stockCharParts

; 1103 : 	oldGx = nowGx;

  00661	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00666	a3 00 00 00 00	 mov	 DWORD PTR ?oldGx@@3HA, eax ; oldGx

; 1104 : 	oldGy = nowGy;

  0066b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00670	a3 00 00 00 00	 mov	 DWORD PTR ?oldGy@@3HA, eax ; oldGy

; 1105 : #if 0
; 1106 : 	if (!draw_map_bgm_flg)
; 1107 : 	{
; 1108 : 		play_map_bgm(0);
; 1109 : 		draw_map_bgm_flg = 1;
; 1110 : 	}
; 1111 : #endif
; 1112 : 	// shan 2002/01/18
; 1113 : 	if (fMapBgm >= 40 && fMapBgm <= 53 && map_bgm_no == 2)

  00675	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?fMapBgm@@3HA, 40 ; fMapBgm, 00000028H
  0067c	7c 34		 jl	 SHORT $LN29@drawMap
  0067e	83 3d 00 00 00
	00 35		 cmp	 DWORD PTR ?fMapBgm@@3HA, 53 ; fMapBgm, 00000035H
  00685	7f 2b		 jg	 SHORT $LN29@drawMap
  00687	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?map_bgm_no@@3HA, 2 ; map_bgm_no
  0068e	75 22		 jne	 SHORT $LN29@drawMap

; 1114 : 	{
; 1115 : 		play_map_bgm(fMapBgm);

  00690	a1 00 00 00 00	 mov	 eax, DWORD PTR ?fMapBgm@@3HA ; fMapBgm
  00695	50		 push	 eax
  00696	e8 00 00 00 00	 call	 ?play_map_bgm@@YAHH@Z	; play_map_bgm
  0069b	83 c4 04	 add	 esp, 4

; 1116 : 		draw_map_bgm_flg = 1;

  0069e	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg

; 1117 : 		fMapBgm = 0;

  006a8	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fMapBgm@@3HA, 0 ; fMapBgm
$LN29@drawMap:
$LN1@drawMap:

; 1118 : 	}
; 1119 : 	
; 1120 : 	/*
; 1121 : 	else
; 1122 : 	{
; 1123 : 		draw_map_bgm_flg = 0;
; 1124 : 	}
; 1125 : 	*/
; 1126 : }

  006b2	52		 push	 edx
  006b3	8b cd		 mov	 ecx, ebp
  006b5	50		 push	 eax
  006b6	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN39@drawMap
  006bc	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  006c1	58		 pop	 eax
  006c2	5a		 pop	 edx
  006c3	5f		 pop	 edi
  006c4	5e		 pop	 esi
  006c5	5b		 pop	 ebx
  006c6	81 c4 98 01 00
	00		 add	 esp, 408		; 00000198H
  006cc	3b ec		 cmp	 ebp, esp
  006ce	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006d3	8b e5		 mov	 esp, ebp
  006d5	5d		 pop	 ebp
  006d6	c3		 ret	 0
  006d7	90		 npad	 1
$LN39@drawMap:
  006d8	07 00 00 00	 DD	 7
  006dc	00 00 00 00	 DD	 $LN38@drawMap
$LN38@drawMap:
  006e0	8c ff ff ff	 DD	 -116			; ffffff8cH
  006e4	02 00 00 00	 DD	 2
  006e8	00 00 00 00	 DD	 $LN31@drawMap
  006ec	80 ff ff ff	 DD	 -128			; ffffff80H
  006f0	02 00 00 00	 DD	 2
  006f4	00 00 00 00	 DD	 $LN32@drawMap
  006f8	74 ff ff ff	 DD	 -140			; ffffff74H
  006fc	02 00 00 00	 DD	 2
  00700	00 00 00 00	 DD	 $LN33@drawMap
  00704	68 ff ff ff	 DD	 -152			; ffffff68H
  00708	02 00 00 00	 DD	 2
  0070c	00 00 00 00	 DD	 $LN34@drawMap
  00710	5c ff ff ff	 DD	 -164			; ffffff5cH
  00714	04 00 00 00	 DD	 4
  00718	00 00 00 00	 DD	 $LN35@drawMap
  0071c	50 ff ff ff	 DD	 -176			; ffffff50H
  00720	04 00 00 00	 DD	 4
  00724	00 00 00 00	 DD	 $LN36@drawMap
  00728	44 ff ff ff	 DD	 -188			; ffffff44H
  0072c	04 00 00 00	 DD	 4
  00730	00 00 00 00	 DD	 $LN37@drawMap
$LN37@drawMap:
  00734	62		 DB	 98			; 00000062H
  00735	6d		 DB	 109			; 0000006dH
  00736	70		 DB	 112			; 00000070H
  00737	4e		 DB	 78			; 0000004eH
  00738	6f		 DB	 111			; 0000006fH
  00739	00		 DB	 0
$LN36@drawMap:
  0073a	64		 DB	 100			; 00000064H
  0073b	79		 DB	 121			; 00000079H
  0073c	00		 DB	 0
$LN35@drawMap:
  0073d	64		 DB	 100			; 00000064H
  0073e	78		 DB	 120			; 00000078H
  0073f	00		 DB	 0
$LN34@drawMap:
  00740	68		 DB	 104			; 00000068H
  00741	68		 DB	 104			; 00000068H
  00742	00		 DB	 0
$LN33@drawMap:
  00743	77		 DB	 119			; 00000077H
  00744	77		 DB	 119			; 00000077H
  00745	00		 DB	 0
$LN32@drawMap:
  00746	79		 DB	 121			; 00000079H
  00747	79		 DB	 121			; 00000079H
  00748	00		 DB	 0
$LN31@drawMap:
  00749	78		 DB	 120			; 00000078H
  0074a	78		 DB	 120			; 00000078H
  0074b	00		 DB	 0
?drawMap@@YAXXZ ENDP					; drawMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?ddrawBattleMap@@YAXXZ
_TEXT	SEGMENT
_tempTiles$ = -41144					; size = 20480
_tempParts$ = -20656					; size = 20480
_bmpNo$ = -168						; size = 4
_dy$ = -156						; size = 4
_dx$ = -144						; size = 4
_tj$ = -132						; size = 4
_ti$ = -120						; size = 4
_TilesCnt$ = -108					; size = 4
_partsCnt$ = -96					; size = 4
_ty$ = -84						; size = 4
_tx$ = -72						; size = 4
_y$ = -60						; size = 4
_x$ = -48						; size = 4
_count$ = -36						; size = 4
_j$ = -24						; size = 4
_i$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
?ddrawBattleMap@@YAXXZ PROC				; ddrawBattleMap, COMDAT

; 766  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 bc a6 00 00	 mov	 eax, 42684		; 0000a6bcH
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	53		 push	 ebx
  0000e	56		 push	 esi
  0000f	57		 push	 edi
  00010	8d bd 44 59 ff
	ff		 lea	 edi, DWORD PTR [ebp-42684]
  00016	b9 af 29 00 00	 mov	 ecx, 10671		; 000029afH
  0001b	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  00020	f3 ab		 rep stosd
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00027	33 c5		 xor	 eax, ebp
  00029	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 767  : 	int i, j , count = 0, x, y, tx, ty, partsCnt = 0, TilesCnt = 0, ti, tj;

  0002c	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00033	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _partsCnt$[ebp], 0
  0003a	c7 45 94 00 00
	00 00		 mov	 DWORD PTR _TilesCnt$[ebp], 0

; 768  : 	float dx, dy;
; 769  : 	U4 bmpNo;
; 770  : 	PARTS tempParts[MAX_CHAR_PRIO_BUF / 2];
; 771  : 	PARTS tempTiles[MAX_CHAR_PRIO_BUF / 2];
; 772  : 
; 773  : 	draw_map_bgm_flg = 0;

  00041	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 0 ; draw_map_bgm_flg

; 774  : 	// ????????£t?¨Á??????????¥‚???
; 775  : 	if (nowGx != oldGx || nowGy != oldGy)

  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00050	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?oldGx@@3HA ; oldGx
  00056	75 11		 jne	 SHORT $LN10@ddrawBattl
  00058	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0005d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?oldGy@@3HA ; oldGy
  00063	0f 84 ff 00 00
	00		 je	 $LN12@ddrawBattl
$LN10@ddrawBattl:

; 776  : 	{
; 777  : 		if (readMap(nowFloor, mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0]))

  00069	b8 02 00 00 00	 mov	 eax, 2
  0006e	6b c8 00	 imul	 ecx, eax, 0
  00071	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?event@@3PAGA ; event
  00077	51		 push	 ecx
  00078	ba 02 00 00 00	 mov	 edx, 2
  0007d	6b c2 00	 imul	 eax, edx, 0
  00080	05 00 00 00 00	 add	 eax, OFFSET ?parts@@3PAGA ; parts
  00085	50		 push	 eax
  00086	b9 02 00 00 00	 mov	 ecx, 2
  0008b	6b d1 00	 imul	 edx, ecx, 0
  0008e	81 c2 00 00 00
	00		 add	 edx, OFFSET ?tile@@3PAGA ; tile
  00094	52		 push	 edx
  00095	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  0009a	50		 push	 eax
  0009b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  000a1	51		 push	 ecx
  000a2	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  000a8	52		 push	 edx
  000a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  000ae	50		 push	 eax
  000af	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?nowFloor@@3HA ; nowFloor
  000b5	51		 push	 ecx
  000b6	e8 00 00 00 00	 call	 ?readMap@@YAHHHHHHPAG00@Z ; readMap
  000bb	83 c4 20	 add	 esp, 32			; 00000020H
  000be	85 c0		 test	 eax, eax
  000c0	0f 84 9d 00 00
	00		 je	 $LN11@ddrawBattl

; 778  : 		{
; 779  : 			// hitMap[]????§R¤e????¡@¤e
; 780  : 			readHitMap(mapAreaX1, mapAreaY1, mapAreaX2, mapAreaY2, &tile[0], &parts[0], &event[0], &hitMap[0]);

  000c6	b8 02 00 00 00	 mov	 eax, 2
  000cb	6b c8 00	 imul	 ecx, eax, 0
  000ce	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?hitMap@@3PAGA ; hitMap
  000d4	51		 push	 ecx
  000d5	ba 02 00 00 00	 mov	 edx, 2
  000da	6b c2 00	 imul	 eax, edx, 0
  000dd	05 00 00 00 00	 add	 eax, OFFSET ?event@@3PAGA ; event
  000e2	50		 push	 eax
  000e3	b9 02 00 00 00	 mov	 ecx, 2
  000e8	6b d1 00	 imul	 edx, ecx, 0
  000eb	81 c2 00 00 00
	00		 add	 edx, OFFSET ?parts@@3PAGA ; parts
  000f1	52		 push	 edx
  000f2	b8 02 00 00 00	 mov	 eax, 2
  000f7	6b c8 00	 imul	 ecx, eax, 0
  000fa	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?tile@@3PAGA ; tile
  00100	51		 push	 ecx
  00101	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00107	52		 push	 edx
  00108	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  0010d	50		 push	 eax
  0010e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00114	51		 push	 ecx
  00115	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  0011b	52		 push	 edx
  0011c	e8 00 00 00 00	 call	 ?readHitMap@@YAXHHHHPAG000@Z ; readHitMap
  00121	83 c4 20	 add	 esp, 32			; 00000020H

; 781  : 			if (mapEmptyFlag)

  00124	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag
  0012b	74 2a		 je	 SHORT $LN13@ddrawBattl

; 782  : 			{
; 783  : 				if (!checkEmptyMap(mapEmptyDir))

  0012d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?mapEmptyDir@@3FA ; mapEmptyDir
  00134	50		 push	 eax
  00135	e8 00 00 00 00	 call	 ?checkEmptyMap@@YAHH@Z	; checkEmptyMap
  0013a	83 c4 04	 add	 esp, 4
  0013d	85 c0		 test	 eax, eax
  0013f	75 14		 jne	 SHORT $LN15@ddrawBattl

; 784  : 				{
; 785  : 					mapEmptyFlag = FALSE;

  00141	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag

; 786  : 					autoMappingInitFlag = TRUE;	// ??????¥‚???

  0014b	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?autoMappingInitFlag@@3HA, 1 ; autoMappingInitFlag
$LN15@ddrawBattl:

; 787  : 				}
; 788  : 			}
; 789  : 			else

  00155	eb 0a		 jmp	 SHORT $LN14@ddrawBattl
$LN13@ddrawBattl:

; 790  : 				autoMappingInitFlag = TRUE;	// ??????¥‚???

  00157	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?autoMappingInitFlag@@3HA, 1 ; autoMappingInitFlag
$LN14@ddrawBattl:

; 791  : //			readMapAfterFrame = 0;	// ???????¥‚?????????????????
; 792  : 		}
; 793  : 		else

  00161	eb 05		 jmp	 SHORT $LN12@ddrawBattl
$LN11@ddrawBattl:

; 794  : 			return;

  00163	e9 12 04 00 00	 jmp	 $LN1@ddrawBattl
$LN12@ddrawBattl:

; 795  : 	}
; 796  : 	camMapToGamen(0.0, 0.0, &dx, &dy);

  00168	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _dy$[ebp]
  0016e	50		 push	 eax
  0016f	8d 8d 70 ff ff
	ff		 lea	 ecx, DWORD PTR _dx$[ebp]
  00175	51		 push	 ecx
  00176	51		 push	 ecx
  00177	0f 57 c0	 xorps	 xmm0, xmm0
  0017a	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  0017f	51		 push	 ecx
  00180	0f 57 c0	 xorps	 xmm0, xmm0
  00183	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00188	e8 00 00 00 00	 call	 ?camMapToGamen@@YAXMMPAM0@Z ; camMapToGamen
  0018d	83 c4 10	 add	 esp, 16			; 00000010H

; 797  : 	baseXFastDraw = (int)(dx + .5);

  00190	f3 0f 5a 85 70
	ff ff ff	 cvtss2sd xmm0, DWORD PTR _dx$[ebp]
  00198	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001a0	f2 0f 2c c0	 cvttsd2si eax, xmm0
  001a4	a3 00 00 00 00	 mov	 DWORD PTR ?baseXFastDraw@@3HA, eax ; baseXFastDraw

; 798  : 	baseYFastDraw = (int)(dy + .5);

  001a9	f3 0f 5a 85 64
	ff ff ff	 cvtss2sd xmm0, DWORD PTR _dy$[ebp]
  001b1	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001b9	f2 0f 2c c0	 cvttsd2si eax, xmm0
  001bd	a3 00 00 00 00	 mov	 DWORD PTR ?baseYFastDraw@@3HA, eax ; baseYFastDraw

; 799  : 	//???????????????
; 800  : 	if (ResoMode == 1)

  001c2	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  001c9	75 4c		 jne	 SHORT $LN16@ddrawBattl

; 801  : 	{
; 802  : 		nowXFastDraw = (int)(dx / 2 + .5);

  001cb	f3 0f 10 85 70
	ff ff ff	 movss	 xmm0, DWORD PTR _dx$[ebp]
  001d3	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  001db	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  001df	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  001e7	f2 0f 2c c0	 cvttsd2si eax, xmm0
  001eb	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 803  : 		nowYFastDraw = (int)(dy / 2 + .5);

  001f0	f3 0f 10 85 64
	ff ff ff	 movss	 xmm0, DWORD PTR _dy$[ebp]
  001f8	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@40000000
  00200	f3 0f 5a c0	 cvtss2sd xmm0, xmm0
  00204	f2 0f 58 05 00
	00 00 00	 addsd	 xmm0, QWORD PTR __real@3fe0000000000000
  0020c	f2 0f 2c c0	 cvttsd2si eax, xmm0
  00210	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw

; 804  : 	}
; 805  : 	else

  00215	eb 14		 jmp	 SHORT $LN17@ddrawBattl
$LN16@ddrawBattl:

; 806  : 	{
; 807  : 		nowXFastDraw = baseXFastDraw;

  00217	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseXFastDraw@@3HA ; baseXFastDraw
  0021c	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, eax ; nowXFastDraw

; 808  : 		nowYFastDraw = baseYFastDraw;

  00221	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseYFastDraw@@3HA ; baseYFastDraw
  00226	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, eax ; nowYFastDraw
$LN17@ddrawBattl:

; 809  : 	}
; 810  : 	nowXFastDraw2 = baseXFastDraw;

  0022b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseXFastDraw@@3HA ; baseXFastDraw
  00230	a3 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw2@@3HA, eax ; nowXFastDraw2

; 811  : 	nowYFastDraw2 = baseYFastDraw;

  00235	a1 00 00 00 00	 mov	 eax, DWORD PTR ?baseYFastDraw@@3HA ; baseYFastDraw
  0023a	a3 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw2@@3HA, eax ; nowYFastDraw2

; 812  : 	amountXFastDraw = 0;

  0023f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountXFastDraw@@3HA, 0 ; amountXFastDraw

; 813  : 	amountYFastDraw = 0;

  00249	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountYFastDraw@@3HA, 0 ; amountYFastDraw

; 814  : 	// 1 5 12 16 ... 
; 815  : 	tx = nowXFastDraw2 + (mapAreaX1 + mapAreaY2 - 1) * SURFACE_WIDTH / 2;

  00253	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00258	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  0025e	8d 44 01 ff	 lea	 eax, DWORD PTR [ecx+eax-1]
  00262	c1 e0 06	 shl	 eax, 6
  00265	99		 cdq
  00266	2b c2		 sub	 eax, edx
  00268	d1 f8		 sar	 eax, 1
  0026a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowXFastDraw2@@3HA ; nowXFastDraw2
  00270	89 45 b8	 mov	 DWORD PTR _tx$[ebp], eax

; 816  : 	ty = nowYFastDraw2 + (-mapAreaX1 + mapAreaY2 - 1) * SURFACE_HEIGHT / 2;

  00273	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00278	f7 d8		 neg	 eax
  0027a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00280	8d 54 08 ff	 lea	 edx, DWORD PTR [eax+ecx-1]
  00284	6b c2 30	 imul	 eax, edx, 48
  00287	99		 cdq
  00288	2b c2		 sub	 eax, edx
  0028a	d1 f8		 sar	 eax, 1
  0028c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?nowYFastDraw2@@3HA ; nowYFastDraw2
  00292	89 45 ac	 mov	 DWORD PTR _ty$[ebp], eax

; 817  : 	ti = mapAreaHeight - 1;

  00295	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaHeight@@3HA ; mapAreaHeight
  0029a	83 e8 01	 sub	 eax, 1
  0029d	89 45 88	 mov	 DWORD PTR _ti$[ebp], eax

; 818  : 	tj = 0;

  002a0	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _tj$[ebp], 0
$LN2@ddrawBattl:

; 819  : 	while (ti >= 0)

  002aa	83 7d 88 00	 cmp	 DWORD PTR _ti$[ebp], 0
  002ae	0f 8c 1f 02 00
	00		 jl	 $LN3@ddrawBattl

; 820  : 	{
; 821  : 		i = ti;

  002b4	8b 45 88	 mov	 eax, DWORD PTR _ti$[ebp]
  002b7	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax

; 822  : 		j = tj;

  002ba	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _tj$[ebp]
  002c0	89 45 e8	 mov	 DWORD PTR _j$[ebp], eax

; 823  : 		x = tx;

  002c3	8b 45 b8	 mov	 eax, DWORD PTR _tx$[ebp]
  002c6	89 45 d0	 mov	 DWORD PTR _x$[ebp], eax

; 824  : 		y = ty;

  002c9	8b 45 ac	 mov	 eax, DWORD PTR _ty$[ebp]
  002cc	89 45 c4	 mov	 DWORD PTR _y$[ebp], eax
$LN4@ddrawBattl:

; 825  : 		while (i >= 0 && j >= 0)

  002cf	83 7d f4 00	 cmp	 DWORD PTR _i$[ebp], 0
  002d3	0f 8c a7 01 00
	00		 jl	 $LN5@ddrawBattl
  002d9	83 7d e8 00	 cmp	 DWORD PTR _j$[ebp], 0
  002dd	0f 8c 9d 01 00
	00		 jl	 $LN5@ddrawBattl

; 826  : 		{
; 827  : 		// ???¤úû¨
; 828  : 			if (tile[i * mapAreaWidth+j] > CG_INVISIBLE || parts[i * mapAreaWidth+j] > CG_INVISIBLE)

  002e3	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  002e6	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  002ed	03 45 e8	 add	 eax, DWORD PTR _j$[ebp]
  002f0	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  002f8	83 f9 63	 cmp	 ecx, 99			; 00000063H
  002fb	7f 1e		 jg	 SHORT $LN19@ddrawBattl
  002fd	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00300	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00307	03 45 e8	 add	 eax, DWORD PTR _j$[ebp]
  0030a	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  00312	83 f9 63	 cmp	 ecx, 99			; 00000063H
  00315	0f 8e 45 01 00
	00		 jle	 $LN20@ddrawBattl
$LN19@ddrawBattl:

; 829  : 			{
; 830  : 				// ?þ¥›??????
; 831  : 				if (x >= (-SURFACE_WIDTH >> 1) && x < DEF_APPSIZEX + (SURFACE_WIDTH >> 1) &&
; 832  : 					y >= (-SURFACE_HEIGHT >> 1) && y < DEF_APPSIZEY + (SURFACE_HEIGHT >> 1))

  0031b	83 7d d0 e0	 cmp	 DWORD PTR _x$[ebp], -32	; ffffffe0H
  0031f	0f 8c 3b 01 00
	00		 jl	 $LN20@ddrawBattl
  00325	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0032a	83 c0 20	 add	 eax, 32			; 00000020H
  0032d	39 45 d0	 cmp	 DWORD PTR _x$[ebp], eax
  00330	0f 8d 2a 01 00
	00		 jge	 $LN20@ddrawBattl
  00336	83 7d c4 e8	 cmp	 DWORD PTR _y$[ebp], -24	; ffffffe8H
  0033a	0f 8c 20 01 00
	00		 jl	 $LN20@ddrawBattl
  00340	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00345	83 c0 18	 add	 eax, 24			; 00000018H
  00348	39 45 c4	 cmp	 DWORD PTR _y$[ebp], eax
  0034b	0f 8d 0f 01 00
	00		 jge	 $LN20@ddrawBattl

; 833  : 				{
; 834  : //ROG ADD µØÉÏÎïÏÔÊ¾
; 835  : 					if (parts[i * mapAreaWidth+j] > CG_INVISIBLE)

  00351	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00354	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0035b	03 45 e8	 add	 eax, DWORD PTR _j$[ebp]
  0035e	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  00366	83 f9 63	 cmp	 ecx, 99			; 00000063H
  00369	0f 8e ac 00 00
	00		 jle	 $LN21@ddrawBattl

; 836  : 					{
; 837  : 						realGetNo(parts[i * mapAreaWidth + j], &bmpNo);

  0036f	8d 85 58 ff ff
	ff		 lea	 eax, DWORD PTR _bmpNo$[ebp]
  00375	50		 push	 eax
  00376	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00379	0f af 0d 00 00
	00 00		 imul	 ecx, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00380	03 4d e8	 add	 ecx, DWORD PTR _j$[ebp]
  00383	0f b7 14 4d 00
	00 00 00	 movzx	 edx, WORD PTR ?parts@@3PAGA[ecx*2]
  0038b	52		 push	 edx
  0038c	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo
  00391	83 c4 08	 add	 esp, 8

; 838  : 						tempParts[partsCnt].bmpNO = parts[i * mapAreaWidth + j];

  00394	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00397	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  0039e	03 45 e8	 add	 eax, DWORD PTR _j$[ebp]
  003a1	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?parts@@3PAGA[eax*2]
  003a9	6b 55 a0 14	 imul	 edx, DWORD PTR _partsCnt$[ebp], 20
  003ad	89 8c 15 60 af
	ff ff		 mov	 DWORD PTR _tempParts$[ebp+edx+16], ecx

; 839  : 						tempParts[partsCnt].x     = x;

  003b4	6b 45 a0 14	 imul	 eax, DWORD PTR _partsCnt$[ebp], 20
  003b8	8b 4d d0	 mov	 ecx, DWORD PTR _x$[ebp]
  003bb	89 8c 05 50 af
	ff ff		 mov	 DWORD PTR _tempParts$[ebp+eax], ecx

; 840  : 						tempParts[partsCnt].y     = y;

  003c2	6b 45 a0 14	 imul	 eax, DWORD PTR _partsCnt$[ebp], 20
  003c6	8b 4d c4	 mov	 ecx, DWORD PTR _y$[ebp]
  003c9	89 8c 05 54 af
	ff ff		 mov	 DWORD PTR _tempParts$[ebp+eax+4], ecx

; 841  : 						tempParts[partsCnt].mx    = (float)(mapAreaX1 + j) * GRID_SIZE;

  003d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  003d5	03 45 e8	 add	 eax, DWORD PTR _j$[ebp]
  003d8	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  003dc	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  003e4	6b 4d a0 14	 imul	 ecx, DWORD PTR _partsCnt$[ebp], 20
  003e8	f3 0f 11 84 0d
	58 af ff ff	 movss	 DWORD PTR _tempParts$[ebp+ecx+8], xmm0

; 842  : 						tempParts[partsCnt].my    = (float)(mapAreaY1 + i) * GRID_SIZE;

  003f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  003f6	03 45 f4	 add	 eax, DWORD PTR _i$[ebp]
  003f9	f3 0f 2a c0	 cvtsi2ss xmm0, eax
  003fd	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00405	6b 4d a0 14	 imul	 ecx, DWORD PTR _partsCnt$[ebp], 20
  00409	f3 0f 11 84 0d
	5c af ff ff	 movss	 DWORD PTR _tempParts$[ebp+ecx+12], xmm0

; 843  : 						partsCnt++;

  00412	8b 45 a0	 mov	 eax, DWORD PTR _partsCnt$[ebp]
  00415	83 c0 01	 add	 eax, 1
  00418	89 45 a0	 mov	 DWORD PTR _partsCnt$[ebp], eax
$LN21@ddrawBattl:

; 844  : 					}
; 845  : 					tempTiles[TilesCnt].x = x;

  0041b	6b 45 94 14	 imul	 eax, DWORD PTR _TilesCnt$[ebp], 20
  0041f	8b 4d d0	 mov	 ecx, DWORD PTR _x$[ebp]
  00422	89 8c 05 48 5f
	ff ff		 mov	 DWORD PTR _tempTiles$[ebp+eax], ecx

; 846  : 					tempTiles[TilesCnt].y = y;

  00429	6b 45 94 14	 imul	 eax, DWORD PTR _TilesCnt$[ebp], 20
  0042d	8b 4d c4	 mov	 ecx, DWORD PTR _y$[ebp]
  00430	89 8c 05 4c 5f
	ff ff		 mov	 DWORD PTR _tempTiles$[ebp+eax+4], ecx

; 847  : 					tempTiles[TilesCnt].bmpNO = tile[i * mapAreaWidth + j];

  00437	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0043a	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00441	03 45 e8	 add	 eax, DWORD PTR _j$[ebp]
  00444	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?tile@@3PAGA[eax*2]
  0044c	6b 55 94 14	 imul	 edx, DWORD PTR _TilesCnt$[ebp], 20
  00450	89 8c 15 58 5f
	ff ff		 mov	 DWORD PTR _tempTiles$[ebp+edx+16], ecx

; 848  : 					TilesCnt++;

  00457	8b 45 94	 mov	 eax, DWORD PTR _TilesCnt$[ebp]
  0045a	83 c0 01	 add	 eax, 1
  0045d	89 45 94	 mov	 DWORD PTR _TilesCnt$[ebp], eax
$LN20@ddrawBattl:

; 849  : 					//StockDispBuffer(x, y, DISP_PRIO_TILE, tile[i*mapAreaWidth+j], 0);
; 850  : 		//			count++;
; 851  : 				}
; 852  : 			}
; 853  : //ROG ADD end			}
; 854  : 			i--;

  00460	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00463	83 e8 01	 sub	 eax, 1
  00466	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax

; 855  : 			j--;

  00469	8b 45 e8	 mov	 eax, DWORD PTR _j$[ebp]
  0046c	83 e8 01	 sub	 eax, 1
  0046f	89 45 e8	 mov	 DWORD PTR _j$[ebp], eax

; 856  : 			x -= SURFACE_WIDTH;

  00472	8b 45 d0	 mov	 eax, DWORD PTR _x$[ebp]
  00475	83 e8 40	 sub	 eax, 64			; 00000040H
  00478	89 45 d0	 mov	 DWORD PTR _x$[ebp], eax

; 857  : 		}

  0047b	e9 4f fe ff ff	 jmp	 $LN4@ddrawBattl
$LN5@ddrawBattl:

; 858  : 		if (tj < mapAreaWidth - 1)

  00480	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaWidth@@3HA ; mapAreaWidth
  00485	83 e8 01	 sub	 eax, 1
  00488	39 85 7c ff ff
	ff		 cmp	 DWORD PTR _tj$[ebp], eax
  0048e	7d 23		 jge	 SHORT $LN22@ddrawBattl

; 859  : 		{
; 860  : 			tj++;

  00490	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _tj$[ebp]
  00496	83 c0 01	 add	 eax, 1
  00499	89 85 7c ff ff
	ff		 mov	 DWORD PTR _tj$[ebp], eax

; 861  : 			tx += SURFACE_WIDTH >> 1;

  0049f	8b 45 b8	 mov	 eax, DWORD PTR _tx$[ebp]
  004a2	83 c0 20	 add	 eax, 32			; 00000020H
  004a5	89 45 b8	 mov	 DWORD PTR _tx$[ebp], eax

; 862  : 			ty -= SURFACE_HEIGHT >> 1;

  004a8	8b 45 ac	 mov	 eax, DWORD PTR _ty$[ebp]
  004ab	83 e8 18	 sub	 eax, 24			; 00000018H
  004ae	89 45 ac	 mov	 DWORD PTR _ty$[ebp], eax

; 863  : 		}
; 864  : 		else

  004b1	eb 1b		 jmp	 SHORT $LN23@ddrawBattl
$LN22@ddrawBattl:

; 865  : 		{
; 866  : 			ti--;

  004b3	8b 45 88	 mov	 eax, DWORD PTR _ti$[ebp]
  004b6	83 e8 01	 sub	 eax, 1
  004b9	89 45 88	 mov	 DWORD PTR _ti$[ebp], eax

; 867  : 			tx -= SURFACE_WIDTH >> 1;

  004bc	8b 45 b8	 mov	 eax, DWORD PTR _tx$[ebp]
  004bf	83 e8 20	 sub	 eax, 32			; 00000020H
  004c2	89 45 b8	 mov	 DWORD PTR _tx$[ebp], eax

; 868  : 			ty -= SURFACE_HEIGHT >> 1;

  004c5	8b 45 ac	 mov	 eax, DWORD PTR _ty$[ebp]
  004c8	83 e8 18	 sub	 eax, 24			; 00000018H
  004cb	89 45 ac	 mov	 DWORD PTR _ty$[ebp], eax
$LN23@ddrawBattl:

; 869  : 		}
; 870  : 	}

  004ce	e9 d7 fd ff ff	 jmp	 $LN2@ddrawBattl
$LN3@ddrawBattl:

; 871  : //ROG ADD µØÉÏÎïÏÔÊ¾
; 872  : 	//if (partsCnt > 0)
; 873  : 	//{
; 874  : 	//	qsort(tempParts, partsCnt, sizeof(PARTS), (CMPFUNC*)sort_parts);
; 875  : 	//	for (i = 0; i < partsCnt; i++)
; 876  : 	//		StockDispBuffer(tempParts[i].x , tempParts[i].y, DISP_PRIO_TILE, tempParts[i].bmpNO, 0);
; 877  : 	//}
; 878  : 	SortDispBuffer();

  004d3	e8 00 00 00 00	 call	 ?SortDispBuffer@@YAXXZ	; SortDispBuffer

; 879  : 	for (i = 0; i < TilesCnt; i++)

  004d8	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  004df	eb 09		 jmp	 SHORT $LN8@ddrawBattl
$LN6@ddrawBattl:
  004e1	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  004e4	83 c0 01	 add	 eax, 1
  004e7	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax
$LN8@ddrawBattl:
  004ea	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  004ed	3b 45 94	 cmp	 eax, DWORD PTR _TilesCnt$[ebp]
  004f0	7d 32		 jge	 SHORT $LN7@ddrawBattl

; 880  : 		StockDispBuffer(tempTiles[i].x, tempTiles[i].y, DISP_PRIO_TILE, tempTiles[i].bmpNO, 0);

  004f2	6a 00		 push	 0
  004f4	6b 45 f4 14	 imul	 eax, DWORD PTR _i$[ebp], 20
  004f8	8b 8c 05 58 5f
	ff ff		 mov	 ecx, DWORD PTR _tempTiles$[ebp+eax+16]
  004ff	51		 push	 ecx
  00500	6a 01		 push	 1
  00502	6b 55 f4 14	 imul	 edx, DWORD PTR _i$[ebp], 20
  00506	8b 84 15 4c 5f
	ff ff		 mov	 eax, DWORD PTR _tempTiles$[ebp+edx+4]
  0050d	50		 push	 eax
  0050e	6b 4d f4 14	 imul	 ecx, DWORD PTR _i$[ebp], 20
  00512	8b 94 0d 48 5f
	ff ff		 mov	 edx, DWORD PTR _tempTiles$[ebp+ecx]
  00519	52		 push	 edx
  0051a	e8 00 00 00 00	 call	 ?StockDispBuffer@@YAHHHEHH@Z ; StockDispBuffer
  0051f	83 c4 14	 add	 esp, 20			; 00000014H
  00522	eb bd		 jmp	 SHORT $LN6@ddrawBattl
$LN7@ddrawBattl:

; 881  : 	SortDispBuffer();

  00524	e8 00 00 00 00	 call	 ?SortDispBuffer@@YAXXZ	; SortDispBuffer

; 882  : //ROG ADD end
; 883  : //	stockCharParts();
; 884  : 	oldGx = nowGx;

  00529	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  0052e	a3 00 00 00 00	 mov	 DWORD PTR ?oldGx@@3HA, eax ; oldGx

; 885  : 	oldGy = nowGy;

  00533	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  00538	a3 00 00 00 00	 mov	 DWORD PTR ?oldGy@@3HA, eax ; oldGy

; 886  : 	if (fMapBgm >= 40 && fMapBgm <= 53 && map_bgm_no == 2)

  0053d	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?fMapBgm@@3HA, 40 ; fMapBgm, 00000028H
  00544	7c 34		 jl	 SHORT $LN24@ddrawBattl
  00546	83 3d 00 00 00
	00 35		 cmp	 DWORD PTR ?fMapBgm@@3HA, 53 ; fMapBgm, 00000035H
  0054d	7f 2b		 jg	 SHORT $LN24@ddrawBattl
  0054f	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?map_bgm_no@@3HA, 2 ; map_bgm_no
  00556	75 22		 jne	 SHORT $LN24@ddrawBattl

; 887  : 	{
; 888  : 		play_map_bgm(fMapBgm);

  00558	a1 00 00 00 00	 mov	 eax, DWORD PTR ?fMapBgm@@3HA ; fMapBgm
  0055d	50		 push	 eax
  0055e	e8 00 00 00 00	 call	 ?play_map_bgm@@YAHH@Z	; play_map_bgm
  00563	83 c4 04	 add	 esp, 4

; 889  : 		draw_map_bgm_flg = 1;

  00566	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?draw_map_bgm_flg@@3HA, 1 ; draw_map_bgm_flg

; 890  : 		fMapBgm = 0;

  00570	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?fMapBgm@@3HA, 0 ; fMapBgm
$LN24@ddrawBattl:
$LN1@ddrawBattl:

; 891  : 	}
; 892  : }

  0057a	52		 push	 edx
  0057b	8b cd		 mov	 ecx, ebp
  0057d	50		 push	 eax
  0057e	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN32@ddrawBattl
  00584	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00589	58		 pop	 eax
  0058a	5a		 pop	 edx
  0058b	5f		 pop	 edi
  0058c	5e		 pop	 esi
  0058d	5b		 pop	 ebx
  0058e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00591	33 cd		 xor	 ecx, ebp
  00593	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00598	81 c4 bc a6 00
	00		 add	 esp, 42684		; 0000a6bcH
  0059e	3b ec		 cmp	 ebp, esp
  005a0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005a5	8b e5		 mov	 esp, ebp
  005a7	5d		 pop	 ebp
  005a8	c3		 ret	 0
  005a9	0f 1f 00	 npad	 3
$LN32@ddrawBattl:
  005ac	05 00 00 00	 DD	 5
  005b0	00 00 00 00	 DD	 $LN31@ddrawBattl
$LN31@ddrawBattl:
  005b4	70 ff ff ff	 DD	 -144			; ffffff70H
  005b8	04 00 00 00	 DD	 4
  005bc	00 00 00 00	 DD	 $LN26@ddrawBattl
  005c0	64 ff ff ff	 DD	 -156			; ffffff64H
  005c4	04 00 00 00	 DD	 4
  005c8	00 00 00 00	 DD	 $LN27@ddrawBattl
  005cc	58 ff ff ff	 DD	 -168			; ffffff58H
  005d0	04 00 00 00	 DD	 4
  005d4	00 00 00 00	 DD	 $LN28@ddrawBattl
  005d8	50 af ff ff	 DD	 -20656			; ffffaf50H
  005dc	00 50 00 00	 DD	 20480			; 00005000H
  005e0	00 00 00 00	 DD	 $LN29@ddrawBattl
  005e4	48 5f ff ff	 DD	 -41144			; ffff5f48H
  005e8	00 50 00 00	 DD	 20480			; 00005000H
  005ec	00 00 00 00	 DD	 $LN30@ddrawBattl
$LN30@ddrawBattl:
  005f0	74		 DB	 116			; 00000074H
  005f1	65		 DB	 101			; 00000065H
  005f2	6d		 DB	 109			; 0000006dH
  005f3	70		 DB	 112			; 00000070H
  005f4	54		 DB	 84			; 00000054H
  005f5	69		 DB	 105			; 00000069H
  005f6	6c		 DB	 108			; 0000006cH
  005f7	65		 DB	 101			; 00000065H
  005f8	73		 DB	 115			; 00000073H
  005f9	00		 DB	 0
$LN29@ddrawBattl:
  005fa	74		 DB	 116			; 00000074H
  005fb	65		 DB	 101			; 00000065H
  005fc	6d		 DB	 109			; 0000006dH
  005fd	70		 DB	 112			; 00000070H
  005fe	50		 DB	 80			; 00000050H
  005ff	61		 DB	 97			; 00000061H
  00600	72		 DB	 114			; 00000072H
  00601	74		 DB	 116			; 00000074H
  00602	73		 DB	 115			; 00000073H
  00603	00		 DB	 0
$LN28@ddrawBattl:
  00604	62		 DB	 98			; 00000062H
  00605	6d		 DB	 109			; 0000006dH
  00606	70		 DB	 112			; 00000070H
  00607	4e		 DB	 78			; 0000004eH
  00608	6f		 DB	 111			; 0000006fH
  00609	00		 DB	 0
$LN27@ddrawBattl:
  0060a	64		 DB	 100			; 00000064H
  0060b	79		 DB	 121			; 00000079H
  0060c	00		 DB	 0
$LN26@ddrawBattl:
  0060d	64		 DB	 100			; 00000064H
  0060e	78		 DB	 120			; 00000078H
  0060f	00		 DB	 0
?ddrawBattleMap@@YAXXZ ENDP				; ddrawBattleMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?mapCheckSum@@YAHHHHHHHHH@Z
_TEXT	SEGMENT
_event$ = -8340						; size = 2738
_parts$ = -5592						; size = 2738
_tile$ = -2844						; size = 2738
_j$ = -96						; size = 4
_i$ = -84						; size = 4
_height$ = -72						; size = 4
_width$ = -60						; size = 4
_databufferindex$ = -48					; size = 4
_eventsum$ = -36					; size = 4
_objsum$ = -24						; size = 4
_tilesum$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_floor$ = 8						; size = 4
_x1$ = 12						; size = 4
_y1$ = 16						; size = 4
_x2$ = 20						; size = 4
_y2$ = 24						; size = 4
_tileSum$ = 28						; size = 4
_partsSum$ = 32						; size = 4
_eventSum$ = 36						; size = 4
?mapCheckSum@@YAHHHHHHHHH@Z PROC			; mapCheckSum, COMDAT

; 1455 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 98 26 00 00	 mov	 eax, 9880		; 00002698H
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	53		 push	 ebx
  0000e	56		 push	 esi
  0000f	57		 push	 edi
  00010	8d bd 68 d9 ff
	ff		 lea	 edi, DWORD PTR [ebp-9880]
  00016	b9 a6 09 00 00	 mov	 ecx, 2470		; 000009a6H
  0001b	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  00020	f3 ab		 rep stosd
  00022	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00027	33 c5		 xor	 eax, ebp
  00029	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 1456 : 	
; 1457 : 	int tilesum = 0, objsum = 0, eventsum = 0, databufferindex = 0, width = x2 - x1, height = y2 - y1, i, j;

  0002c	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _tilesum$[ebp], 0
  00033	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _objsum$[ebp], 0
  0003a	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _eventsum$[ebp], 0
  00041	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _databufferindex$[ebp], 0
  00048	8b 45 14	 mov	 eax, DWORD PTR _x2$[ebp]
  0004b	2b 45 0c	 sub	 eax, DWORD PTR _x1$[ebp]
  0004e	89 45 c4	 mov	 DWORD PTR _width$[ebp], eax
  00051	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  00054	2b 45 10	 sub	 eax, DWORD PTR _y1$[ebp]
  00057	89 45 b8	 mov	 DWORD PTR _height$[ebp], eax

; 1458 : 	unsigned short tile[MAP_X_SIZE*MAP_Y_SIZE];
; 1459 : 	unsigned short parts[MAP_X_SIZE*MAP_Y_SIZE];
; 1460 : 	unsigned short event[MAP_X_SIZE*MAP_Y_SIZE];
; 1461 : 
; 1462 : 	// ???????????¥‚?üÒ?
; 1463 : 
; 1464 : 	readMap(floor, x1, y1, x2, y2, tile, parts, event);

  0005a	8d 85 6c df ff
	ff		 lea	 eax, DWORD PTR _event$[ebp]
  00060	50		 push	 eax
  00061	8d 8d 28 ea ff
	ff		 lea	 ecx, DWORD PTR _parts$[ebp]
  00067	51		 push	 ecx
  00068	8d 95 e4 f4 ff
	ff		 lea	 edx, DWORD PTR _tile$[ebp]
  0006e	52		 push	 edx
  0006f	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  00072	50		 push	 eax
  00073	8b 4d 14	 mov	 ecx, DWORD PTR _x2$[ebp]
  00076	51		 push	 ecx
  00077	8b 55 10	 mov	 edx, DWORD PTR _y1$[ebp]
  0007a	52		 push	 edx
  0007b	8b 45 0c	 mov	 eax, DWORD PTR _x1$[ebp]
  0007e	50		 push	 eax
  0007f	8b 4d 08	 mov	 ecx, DWORD PTR _floor$[ebp]
  00082	51		 push	 ecx
  00083	e8 00 00 00 00	 call	 ?readMap@@YAHHHHHHPAG00@Z ; readMap
  00088	83 c4 20	 add	 esp, 32			; 00000020H

; 1465 : 	for (i = 0; i < height; i++)

  0008b	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00092	eb 09		 jmp	 SHORT $LN4@mapCheckSu
$LN2@mapCheckSu:
  00094	8b 45 ac	 mov	 eax, DWORD PTR _i$[ebp]
  00097	83 c0 01	 add	 eax, 1
  0009a	89 45 ac	 mov	 DWORD PTR _i$[ebp], eax
$LN4@mapCheckSu:
  0009d	8b 45 ac	 mov	 eax, DWORD PTR _i$[ebp]
  000a0	3b 45 b8	 cmp	 eax, DWORD PTR _height$[ebp]
  000a3	7d 48		 jge	 SHORT $LN3@mapCheckSu

; 1466 : 	{
; 1467 :         for (j = 0; j < width; j++)

  000a5	c7 45 a0 00 00
	00 00		 mov	 DWORD PTR _j$[ebp], 0
  000ac	eb 09		 jmp	 SHORT $LN7@mapCheckSu
$LN5@mapCheckSu:
  000ae	8b 45 a0	 mov	 eax, DWORD PTR _j$[ebp]
  000b1	83 c0 01	 add	 eax, 1
  000b4	89 45 a0	 mov	 DWORD PTR _j$[ebp], eax
$LN7@mapCheckSu:
  000b7	8b 45 a0	 mov	 eax, DWORD PTR _j$[ebp]
  000ba	3b 45 c4	 cmp	 eax, DWORD PTR _width$[ebp]
  000bd	7d 2c		 jge	 SHORT $LN6@mapCheckSu

; 1468 : 			event[i * width + j] &= 0x0fff;

  000bf	8b 45 ac	 mov	 eax, DWORD PTR _i$[ebp]
  000c2	0f af 45 c4	 imul	 eax, DWORD PTR _width$[ebp]
  000c6	03 45 a0	 add	 eax, DWORD PTR _j$[ebp]
  000c9	0f b7 8c 45 6c
	df ff ff	 movzx	 ecx, WORD PTR _event$[ebp+eax*2]
  000d1	81 e1 ff 0f 00
	00		 and	 ecx, 4095		; 00000fffH
  000d7	8b 55 ac	 mov	 edx, DWORD PTR _i$[ebp]
  000da	0f af 55 c4	 imul	 edx, DWORD PTR _width$[ebp]
  000de	03 55 a0	 add	 edx, DWORD PTR _j$[ebp]
  000e1	66 89 8c 55 6c
	df ff ff	 mov	 WORD PTR _event$[ebp+edx*2], cx
  000e9	eb c3		 jmp	 SHORT $LN5@mapCheckSu
$LN6@mapCheckSu:

; 1469 :     }

  000eb	eb a7		 jmp	 SHORT $LN2@mapCheckSu
$LN3@mapCheckSu:

; 1470 : 
; 1471 : 	tilesum  = CheckCRC((unsigned char*)tile,  27 * 27 * sizeof(short));

  000ed	68 b2 05 00 00	 push	 1458			; 000005b2H
  000f2	8d 85 e4 f4 ff
	ff		 lea	 eax, DWORD PTR _tile$[ebp]
  000f8	50		 push	 eax
  000f9	e8 00 00 00 00	 call	 ?CheckCRC@@YAGPAEH@Z	; CheckCRC
  000fe	83 c4 08	 add	 esp, 8
  00101	0f b7 c8	 movzx	 ecx, ax
  00104	89 4d f4	 mov	 DWORD PTR _tilesum$[ebp], ecx

; 1472 : 	objsum   = CheckCRC((unsigned char*)parts, 27 * 27 * sizeof(short));

  00107	68 b2 05 00 00	 push	 1458			; 000005b2H
  0010c	8d 85 28 ea ff
	ff		 lea	 eax, DWORD PTR _parts$[ebp]
  00112	50		 push	 eax
  00113	e8 00 00 00 00	 call	 ?CheckCRC@@YAGPAEH@Z	; CheckCRC
  00118	83 c4 08	 add	 esp, 8
  0011b	0f b7 c8	 movzx	 ecx, ax
  0011e	89 4d e8	 mov	 DWORD PTR _objsum$[ebp], ecx

; 1473 : 	eventsum = CheckCRC((unsigned char*)event, 27 * 27 * sizeof(short));

  00121	68 b2 05 00 00	 push	 1458			; 000005b2H
  00126	8d 85 6c df ff
	ff		 lea	 eax, DWORD PTR _event$[ebp]
  0012c	50		 push	 eax
  0012d	e8 00 00 00 00	 call	 ?CheckCRC@@YAGPAEH@Z	; CheckCRC
  00132	83 c4 08	 add	 esp, 8
  00135	0f b7 c8	 movzx	 ecx, ax
  00138	89 4d dc	 mov	 DWORD PTR _eventsum$[ebp], ecx

; 1474 : 
; 1475 : 	if (tileSum == tilesum && partsSum == objsum && eventSum == eventsum)

  0013b	8b 45 1c	 mov	 eax, DWORD PTR _tileSum$[ebp]
  0013e	3b 45 f4	 cmp	 eax, DWORD PTR _tilesum$[ebp]
  00141	75 31		 jne	 SHORT $LN8@mapCheckSu
  00143	8b 45 20	 mov	 eax, DWORD PTR _partsSum$[ebp]
  00146	3b 45 e8	 cmp	 eax, DWORD PTR _objsum$[ebp]
  00149	75 29		 jne	 SHORT $LN8@mapCheckSu
  0014b	8b 45 24	 mov	 eax, DWORD PTR _eventSum$[ebp]
  0014e	3b 45 dc	 cmp	 eax, DWORD PTR _eventsum$[ebp]
  00151	75 21		 jne	 SHORT $LN8@mapCheckSu

; 1476 : 	{
; 1477 : 		if (loginFlag)

  00153	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?loginFlag@@3HA, 0 ; loginFlag
  0015a	74 0f		 je	 SHORT $LN10@mapCheckSu

; 1478 : 		{
; 1479 : 			redrawMap();

  0015c	e8 00 00 00 00	 call	 ?redrawMap@@YAXXZ	; redrawMap

; 1480 : 			loginFlag = FALSE;

  00161	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?loginFlag@@3HA, 0 ; loginFlag
$LN10@mapCheckSu:

; 1481 : 		}
; 1482 : 		return TRUE;

  0016b	b8 01 00 00 00	 mov	 eax, 1
  00170	eb 68		 jmp	 SHORT $LN1@mapCheckSu

; 1483 : 	}
; 1484 : 	else

  00172	eb 66		 jmp	 SHORT $LN1@mapCheckSu
$LN8@mapCheckSu:

; 1485 : 	{
; 1486 : 		if (bNewServer)

  00174	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  0017b	74 25		 je	 SHORT $LN11@mapCheckSu

; 1487 : 			lssproto_M_send(sockfd, floor, x1, y1, x2, y2);

  0017d	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  00180	50		 push	 eax
  00181	8b 4d 14	 mov	 ecx, DWORD PTR _x2$[ebp]
  00184	51		 push	 ecx
  00185	8b 55 10	 mov	 edx, DWORD PTR _y1$[ebp]
  00188	52		 push	 edx
  00189	8b 45 0c	 mov	 eax, DWORD PTR _x1$[ebp]
  0018c	50		 push	 eax
  0018d	8b 4d 08	 mov	 ecx, DWORD PTR _floor$[ebp]
  00190	51		 push	 ecx
  00191	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?sockfd@@3IA ; sockfd
  00197	52		 push	 edx
  00198	e8 00 00 00 00	 call	 ?lssproto_M_send@@YAXHHHHHH@Z ; lssproto_M_send
  0019d	83 c4 18	 add	 esp, 24			; 00000018H

; 1488 : 		else

  001a0	eb 23		 jmp	 SHORT $LN12@mapCheckSu
$LN11@mapCheckSu:

; 1489 : 			old_lssproto_M_send(sockfd, floor, x1, y1, x2, y2);

  001a2	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  001a5	50		 push	 eax
  001a6	8b 4d 14	 mov	 ecx, DWORD PTR _x2$[ebp]
  001a9	51		 push	 ecx
  001aa	8b 55 10	 mov	 edx, DWORD PTR _y1$[ebp]
  001ad	52		 push	 edx
  001ae	8b 45 0c	 mov	 eax, DWORD PTR _x1$[ebp]
  001b1	50		 push	 eax
  001b2	8b 4d 08	 mov	 ecx, DWORD PTR _floor$[ebp]
  001b5	51		 push	 ecx
  001b6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?sockfd@@3IA ; sockfd
  001bc	52		 push	 edx
  001bd	e8 00 00 00 00	 call	 ?old_lssproto_M_send@@YAXHHHHHH@Z ; old_lssproto_M_send
  001c2	83 c4 18	 add	 esp, 24			; 00000018H
$LN12@mapCheckSu:

; 1490 : 		//ÐÞÕýµØÍ¼Òì³£
; 1491 : 		if (loginFlag)

  001c5	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?loginFlag@@3HA, 0 ; loginFlag
  001cc	74 0a		 je	 SHORT $LN13@mapCheckSu

; 1492 : 			loginFlag = FALSE;

  001ce	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?loginFlag@@3HA, 0 ; loginFlag
$LN13@mapCheckSu:

; 1493 : 
; 1494 : 		return FALSE;

  001d8	33 c0		 xor	 eax, eax
$LN1@mapCheckSu:

; 1495 : 	}
; 1496 : }

  001da	52		 push	 edx
  001db	8b cd		 mov	 ecx, ebp
  001dd	50		 push	 eax
  001de	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN19@mapCheckSu
  001e4	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001e9	58		 pop	 eax
  001ea	5a		 pop	 edx
  001eb	5f		 pop	 edi
  001ec	5e		 pop	 esi
  001ed	5b		 pop	 ebx
  001ee	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001f1	33 cd		 xor	 ecx, ebp
  001f3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001f8	81 c4 98 26 00
	00		 add	 esp, 9880		; 00002698H
  001fe	3b ec		 cmp	 ebp, esp
  00200	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00205	8b e5		 mov	 esp, ebp
  00207	5d		 pop	 ebp
  00208	c3		 ret	 0
  00209	0f 1f 00	 npad	 3
$LN19@mapCheckSu:
  0020c	03 00 00 00	 DD	 3
  00210	00 00 00 00	 DD	 $LN18@mapCheckSu
$LN18@mapCheckSu:
  00214	e4 f4 ff ff	 DD	 -2844			; fffff4e4H
  00218	b2 0a 00 00	 DD	 2738			; 00000ab2H
  0021c	00 00 00 00	 DD	 $LN15@mapCheckSu
  00220	28 ea ff ff	 DD	 -5592			; ffffea28H
  00224	b2 0a 00 00	 DD	 2738			; 00000ab2H
  00228	00 00 00 00	 DD	 $LN16@mapCheckSu
  0022c	6c df ff ff	 DD	 -8340			; ffffdf6cH
  00230	b2 0a 00 00	 DD	 2738			; 00000ab2H
  00234	00 00 00 00	 DD	 $LN17@mapCheckSu
$LN17@mapCheckSu:
  00238	65		 DB	 101			; 00000065H
  00239	76		 DB	 118			; 00000076H
  0023a	65		 DB	 101			; 00000065H
  0023b	6e		 DB	 110			; 0000006eH
  0023c	74		 DB	 116			; 00000074H
  0023d	00		 DB	 0
$LN16@mapCheckSu:
  0023e	70		 DB	 112			; 00000070H
  0023f	61		 DB	 97			; 00000061H
  00240	72		 DB	 114			; 00000072H
  00241	74		 DB	 116			; 00000074H
  00242	73		 DB	 115			; 00000073H
  00243	00		 DB	 0
$LN15@mapCheckSu:
  00244	74		 DB	 116			; 00000074H
  00245	69		 DB	 105			; 00000069H
  00246	6c		 DB	 108			; 0000006cH
  00247	65		 DB	 101			; 00000065H
  00248	00		 DB	 0
?mapCheckSum@@YAHHHHHHHHH@Z ENDP			; mapCheckSum
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setWarpMap@@YAXHH@Z
_TEXT	SEGMENT
_gx$ = 8						; size = 4
_gy$ = 12						; size = 4
?setWarpMap@@YAXHH@Z PROC				; setWarpMap, COMDAT

; 699  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 700  : 	nowGx = gx;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _gx$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?nowGx@@3HA, eax ; nowGx

; 701  : 	nowGy = gy;

  00026	8b 45 0c	 mov	 eax, DWORD PTR _gy$[ebp]
  00029	a3 00 00 00 00	 mov	 DWORD PTR ?nowGy@@3HA, eax ; nowGy

; 702  : 	nowX = (float)nowGx * GRID_SIZE;

  0002e	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nowGx@@3HA ; nowGx
  00036	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  0003e	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0

; 703  : 	nowY = (float)nowGy * GRID_SIZE;

  00046	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nowGy@@3HA ; nowGy
  0004e	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00056	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0

; 704  : 	nextGx = nowGx;

  0005e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00063	a3 00 00 00 00	 mov	 DWORD PTR ?nextGx@@3HA, eax ; nextGx

; 705  : 	nextGy = nowGy;

  00068	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0006d	a3 00 00 00 00	 mov	 DWORD PTR ?nextGy@@3HA, eax ; nextGy

; 706  : 	nowVx = 0;

  00072	0f 57 c0	 xorps	 xmm0, xmm0
  00075	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 707  : 	nowVy = 0;

  0007d	0f 57 c0	 xorps	 xmm0, xmm0
  00080	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 708  : 	nowSpdRate = 1;

  00088	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00090	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0

; 709  : 	oldGx = -1;

  00098	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldGx@@3HA, -1 ; oldGx

; 710  : 	oldGy = -1;

  000a2	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldGy@@3HA, -1 ; oldGy

; 711  : 	oldNextGx = -1;

  000ac	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldNextGx@@3HA, -1 ; oldNextGx

; 712  : 	oldNextGy = -1;

  000b6	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldNextGy@@3HA, -1 ; oldNextGy

; 713  : 	viewPointX = nowX;

  000c0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  000c8	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointX@@3MA, xmm0

; 714  : 	viewPointY = nowY;

  000d0	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  000d8	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointY@@3MA, xmm0

; 715  : 	wnCloseFlag = 1;	// ¹Ø±ÕÍ¨ÓÃ´°¿Ú

  000e0	b8 01 00 00 00	 mov	 eax, 1
  000e5	66 a3 00 00 00
	00		 mov	 WORD PTR ?wnCloseFlag@@3FA, ax ; wnCloseFlag

; 716  : #ifdef _AniCrossFrame	   // Syu ADD ¶¯»­²ãÓÎ¹ý»­ÃæÉúÎï
; 717  : 	extern void crossAniRelease();
; 718  : 	crossAniRelease();

  000eb	e8 00 00 00 00	 call	 ?crossAniRelease@@YAXXZ	; crossAniRelease

; 719  : #endif
; 720  : #ifdef _SURFACE_ANIM       //ROG ADD ¶¯Ì¬³¡¾°
; 721  : 	extern void ReleaseSpecAnim ();
; 722  : 	ReleaseSpecAnim();

  000f0	e8 00 00 00 00	 call	 ?ReleaseSpecAnim@@YAXXZ	; ReleaseSpecAnim

; 723  : #endif
; 724  : }

  000f5	5f		 pop	 edi
  000f6	5e		 pop	 esi
  000f7	5b		 pop	 ebx
  000f8	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  000fe	3b ec		 cmp	 ebp, esp
  00100	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00105	8b e5		 mov	 esp, ebp
  00107	5d		 pop	 ebp
  00108	c3		 ret	 0
?setWarpMap@@YAXHH@Z ENDP				; setWarpMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?setMap@@YAXHHH@Z
_TEXT	SEGMENT
_floor$ = 8						; size = 4
_gx$ = 12						; size = 4
_gy$ = 16						; size = 4
?setMap@@YAXHHH@Z PROC					; setMap, COMDAT

; 691  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 692  : 	nowFloor = floor;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _floor$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?nowFloor@@3HA, eax ; nowFloor

; 693  : 	setWarpMap(gx, gy);

  00026	8b 45 10	 mov	 eax, DWORD PTR _gy$[ebp]
  00029	50		 push	 eax
  0002a	8b 4d 0c	 mov	 ecx, DWORD PTR _gx$[ebp]
  0002d	51		 push	 ecx
  0002e	e8 00 00 00 00	 call	 ?setWarpMap@@YAXHH@Z	; setWarpMap
  00033	83 c4 08	 add	 esp, 8

; 694  : }

  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	5b		 pop	 ebx
  00039	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003f	3b ec		 cmp	 ebp, esp
  00041	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00046	8b e5		 mov	 esp, ebp
  00048	5d		 pop	 ebp
  00049	c3		 ret	 0
?setMap@@YAXHHH@Z ENDP					; setMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?writeMap@@YAHHHHHHPAG00@Z
_TEXT	SEGMENT
_j$ = -444						; size = 4
_i$ = -432						; size = 4
_len2$ = -420						; size = 4
_len$ = -408						; size = 4
_my$ = -396						; size = 4
_mx$ = -384						; size = 4
_fy$ = -372						; size = 4
_fx$ = -360						; size = 4
_height$ = -348						; size = 4
_width$ = -336						; size = 4
_mWidth$ = -324						; size = 4
_fOffset$ = -312					; size = 4
_fHeight$ = -300					; size = 4
_fWidth$ = -288						; size = 4
_filename$ = -276					; size = 255
_fp$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_floor$ = 8						; size = 4
_x1$ = 12						; size = 4
_y1$ = 16						; size = 4
_x2$ = 20						; size = 4
_y2$ = 24						; size = 4
_tile$ = 28						; size = 4
_parts$ = 32						; size = 4
_event$ = 36						; size = 4
?writeMap@@YAHHHHHHPAG00@Z PROC				; writeMap, COMDAT

; 484  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 02 00
	00		 sub	 esp, 640		; 00000280H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 80 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-640]
  00012	b9 a0 00 00 00	 mov	 ecx, 160		; 000000a0H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 485  : 	FILE *fp;
; 486  : 	char filename[255];
; 487  : 	int fWidth, fHeight, fOffset, mWidth, width, height, fx, fy, mx, my, len, len2, i, j;
; 488  : 	
; 489  : 
; 490  : 	// Õi¤ßÞz¤ß¥Õ¥¡¥¤¥ëÃû×÷³É
; 491  : 	sprintf(filename, "map\\%d.dat", floor);

  00028	8b 45 08	 mov	 eax, DWORD PTR _floor$[ebp]
  0002b	50		 push	 eax
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0L@FCEGIJN@map?2?$CFd?4dat?$AA@
  00031	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR _filename$[ebp]
  00037	51		 push	 ecx
  00038	e8 00 00 00 00	 call	 _sprintf
  0003d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 492  : 
; 493  : 	// ????????
; 494  : 	if ((fp = fopen(filename, "rb+")) == NULL)

  00040	8b f4		 mov	 esi, esp
  00042	68 00 00 00 00	 push	 OFFSET ??_C@_03CCKOKKND@rb?$CL?$AA@
  00047	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  0004d	50		 push	 eax
  0004e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00054	83 c4 08	 add	 esp, 8
  00057	3b f4		 cmp	 esi, esp
  00059	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005e	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  00061	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  00065	75 7c		 jne	 SHORT $LN14@writeMap

; 495  : 	{
; 496  : 		// Ê§”¡¤¹¤ë¤Î¤Ï×î³õ¤Ç¥Þ¥Ã¥×¥Õ¥©¥ë¥À¤¬Ÿo¤¤¤«¤é
; 497  : 		// ¤À¤«¤é¥Õ¥©¥ë¥À¤ò×÷¤ë
; 498  : 		_mkdir("map");

  00067	8b f4		 mov	 esi, esp
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_03HBNNNHNM@map?$AA@
  0006e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___mkdir
  00074	83 c4 04	 add	 esp, 4
  00077	3b f4		 cmp	 esi, esp
  00079	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 499  : 		// Õi¤ßÞz¤ß¥Ç©`¥¿¤â×÷¤ë
; 500  : 		fp = fopen(filename, "wb");

  0007e	8b f4		 mov	 esi, esp
  00080	68 00 00 00 00	 push	 OFFSET ??_C@_02GMLFBBN@wb?$AA@
  00085	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  0008b	50		 push	 eax
  0008c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00092	83 c4 08	 add	 esp, 8
  00095	3b f4		 cmp	 esi, esp
  00097	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0009c	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax

; 501  : 		fclose(fp);

  0009f	8b f4		 mov	 esi, esp
  000a1	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  000a4	50		 push	 eax
  000a5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  000ab	83 c4 04	 add	 esp, 4
  000ae	3b f4		 cmp	 esi, esp
  000b0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 502  : 		// Õi¤ßÞz¤ß¥â©`¥É¤Ç¤â¤¦Ò»¶È¥ª©`¥×¥ó
; 503  : 		if ((fp = fopen(filename, "rb+")) == NULL)

  000b5	8b f4		 mov	 esi, esp
  000b7	68 00 00 00 00	 push	 OFFSET ??_C@_03CCKOKKND@rb?$CL?$AA@
  000bc	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _filename$[ebp]
  000c2	50		 push	 eax
  000c3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  000c9	83 c4 08	 add	 esp, 8
  000cc	3b f4		 cmp	 esi, esp
  000ce	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d3	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  000d6	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  000da	75 07		 jne	 SHORT $LN14@writeMap

; 504  : 			return FALSE;

  000dc	33 c0		 xor	 eax, eax
  000de	e9 11 05 00 00	 jmp	 $LN1@writeMap
$LN14@writeMap:

; 505  : 	}
; 506  : 
; 507  : 	fseek(fp, 0, SEEK_SET);

  000e3	8b f4		 mov	 esi, esp
  000e5	6a 00		 push	 0
  000e7	6a 00		 push	 0
  000e9	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  000ec	50		 push	 eax
  000ed	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  000f3	83 c4 0c	 add	 esp, 12			; 0000000cH
  000f6	3b f4		 cmp	 esi, esp
  000f8	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 508  : 	fread(&fWidth,  sizeof(int), 1, fp);

  000fd	8b f4		 mov	 esi, esp
  000ff	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00102	50		 push	 eax
  00103	6a 01		 push	 1
  00105	6a 04		 push	 4
  00107	8d 8d e0 fe ff
	ff		 lea	 ecx, DWORD PTR _fWidth$[ebp]
  0010d	51		 push	 ecx
  0010e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00114	83 c4 10	 add	 esp, 16			; 00000010H
  00117	3b f4		 cmp	 esi, esp
  00119	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 509  : 	fread(&fHeight, sizeof(int), 1, fp);

  0011e	8b f4		 mov	 esi, esp
  00120	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00123	50		 push	 eax
  00124	6a 01		 push	 1
  00126	6a 04		 push	 4
  00128	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _fHeight$[ebp]
  0012e	51		 push	 ecx
  0012f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00135	83 c4 10	 add	 esp, 16			; 00000010H
  00138	3b f4		 cmp	 esi, esp
  0013a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 510  : 	mWidth = x2 - x1;

  0013f	8b 45 14	 mov	 eax, DWORD PTR _x2$[ebp]
  00142	2b 45 0c	 sub	 eax, DWORD PTR _x1$[ebp]
  00145	89 85 bc fe ff
	ff		 mov	 DWORD PTR _mWidth$[ebp], eax

; 511  : 	width = mWidth;

  0014b	8b 85 bc fe ff
	ff		 mov	 eax, DWORD PTR _mWidth$[ebp]
  00151	89 85 b0 fe ff
	ff		 mov	 DWORD PTR _width$[ebp], eax

; 512  : 	height = y2 - y1;

  00157	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  0015a	2b 45 10	 sub	 eax, DWORD PTR _y1$[ebp]
  0015d	89 85 a4 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], eax

; 513  : 	mx = 0;

  00163	c7 85 80 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _mx$[ebp], 0

; 514  : 	fx = x1;

  0016d	8b 45 0c	 mov	 eax, DWORD PTR _x1$[ebp]
  00170	89 85 98 fe ff
	ff		 mov	 DWORD PTR _fx$[ebp], eax

; 515  : 	if (x1 < 0)

  00176	83 7d 0c 00	 cmp	 DWORD PTR _x1$[ebp], 0
  0017a	7d 28		 jge	 SHORT $LN16@writeMap

; 516  : 	{
; 517  : 		width += x1;

  0017c	8b 85 b0 fe ff
	ff		 mov	 eax, DWORD PTR _width$[ebp]
  00182	03 45 0c	 add	 eax, DWORD PTR _x1$[ebp]
  00185	89 85 b0 fe ff
	ff		 mov	 DWORD PTR _width$[ebp], eax

; 518  : 		fx = 0;

  0018b	c7 85 98 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _fx$[ebp], 0

; 519  : 		mx -= x1;

  00195	8b 85 80 fe ff
	ff		 mov	 eax, DWORD PTR _mx$[ebp]
  0019b	2b 45 0c	 sub	 eax, DWORD PTR _x1$[ebp]
  0019e	89 85 80 fe ff
	ff		 mov	 DWORD PTR _mx$[ebp], eax
$LN16@writeMap:

; 520  : 	}
; 521  : 	if (x2 > fWidth)

  001a4	8b 45 14	 mov	 eax, DWORD PTR _x2$[ebp]
  001a7	3b 85 e0 fe ff
	ff		 cmp	 eax, DWORD PTR _fWidth$[ebp]
  001ad	7e 17		 jle	 SHORT $LN17@writeMap

; 522  : 		width -= (x2 - fWidth);

  001af	8b 45 14	 mov	 eax, DWORD PTR _x2$[ebp]
  001b2	2b 85 e0 fe ff
	ff		 sub	 eax, DWORD PTR _fWidth$[ebp]
  001b8	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  001be	2b c8		 sub	 ecx, eax
  001c0	89 8d b0 fe ff
	ff		 mov	 DWORD PTR _width$[ebp], ecx
$LN17@writeMap:

; 523  : 	my = 0;

  001c6	c7 85 74 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _my$[ebp], 0

; 524  : 	fy = y1;

  001d0	8b 45 10	 mov	 eax, DWORD PTR _y1$[ebp]
  001d3	89 85 8c fe ff
	ff		 mov	 DWORD PTR _fy$[ebp], eax

; 525  : 	if (y1 < 0)

  001d9	83 7d 10 00	 cmp	 DWORD PTR _y1$[ebp], 0
  001dd	7d 28		 jge	 SHORT $LN18@writeMap

; 526  : 	{
; 527  : 		height += y1;

  001df	8b 85 a4 fe ff
	ff		 mov	 eax, DWORD PTR _height$[ebp]
  001e5	03 45 10	 add	 eax, DWORD PTR _y1$[ebp]
  001e8	89 85 a4 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], eax

; 528  : 		fy = 0;

  001ee	c7 85 8c fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _fy$[ebp], 0

; 529  : 		my -= y1;

  001f8	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  001fe	2b 45 10	 sub	 eax, DWORD PTR _y1$[ebp]
  00201	89 85 74 fe ff
	ff		 mov	 DWORD PTR _my$[ebp], eax
$LN18@writeMap:

; 530  : 	}
; 531  : 	if (y2 > fHeight)

  00207	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  0020a	3b 85 d4 fe ff
	ff		 cmp	 eax, DWORD PTR _fHeight$[ebp]
  00210	7e 17		 jle	 SHORT $LN19@writeMap

; 532  : 		height -= (y2 - fHeight);

  00212	8b 45 18	 mov	 eax, DWORD PTR _y2$[ebp]
  00215	2b 85 d4 fe ff
	ff		 sub	 eax, DWORD PTR _fHeight$[ebp]
  0021b	8b 8d a4 fe ff
	ff		 mov	 ecx, DWORD PTR _height$[ebp]
  00221	2b c8		 sub	 ecx, eax
  00223	89 8d a4 fe ff
	ff		 mov	 DWORD PTR _height$[ebp], ecx
$LN19@writeMap:

; 533  : 	fOffset = sizeof(int) * 2;

  00229	c7 85 c8 fe ff
	ff 08 00 00 00	 mov	 DWORD PTR _fOffset$[ebp], 8

; 534  : 	len = fy * fWidth + fx;

  00233	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  00239	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  00240	03 85 98 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  00246	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 535  : 	len2 = my * mWidth + mx;

  0024c	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  00252	0f af 85 bc fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  00259	03 85 80 fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  0025f	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 536  : 	for (i = 0; i < height; i++)

  00265	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0026f	eb 0f		 jmp	 SHORT $LN4@writeMap
$LN2@writeMap:
  00271	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00277	83 c0 01	 add	 eax, 1
  0027a	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@writeMap:
  00280	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00286	3b 85 a4 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  0028c	7d 7f		 jge	 SHORT $LN3@writeMap

; 537  : 	{
; 538  : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  0028e	8b f4		 mov	 esi, esp
  00290	6a 00		 push	 0
  00292	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  00298	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  0029e	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  002a1	52		 push	 edx
  002a2	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  002a5	50		 push	 eax
  002a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  002ac	83 c4 0c	 add	 esp, 12			; 0000000cH
  002af	3b f4		 cmp	 esi, esp
  002b1	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 539  : 		fwrite(&tile[len2], sizeof(short) * width, 1, fp);

  002b6	8b f4		 mov	 esi, esp
  002b8	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  002bb	50		 push	 eax
  002bc	6a 01		 push	 1
  002be	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  002c4	d1 e1		 shl	 ecx, 1
  002c6	51		 push	 ecx
  002c7	8b 95 5c fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  002cd	8b 45 1c	 mov	 eax, DWORD PTR _tile$[ebp]
  002d0	8d 0c 50	 lea	 ecx, DWORD PTR [eax+edx*2]
  002d3	51		 push	 ecx
  002d4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  002da	83 c4 10	 add	 esp, 16			; 00000010H
  002dd	3b f4		 cmp	 esi, esp
  002df	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 540  : 		len  += fWidth;

  002e4	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  002ea	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  002f0	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 541  : 		len2 += mWidth;

  002f6	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  002fc	03 85 bc fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  00302	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 542  : 	}

  00308	e9 64 ff ff ff	 jmp	 $LN2@writeMap
$LN3@writeMap:

; 543  : 	fOffset += sizeof(short) * (fWidth * fHeight);

  0030d	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _fWidth$[ebp]
  00313	0f af 85 d4 fe
	ff ff		 imul	 eax, DWORD PTR _fHeight$[ebp]
  0031a	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00320	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00323	89 95 c8 fe ff
	ff		 mov	 DWORD PTR _fOffset$[ebp], edx

; 544  : 	len = fy * fWidth + fx;

  00329	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  0032f	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  00336	03 85 98 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  0033c	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 545  : 	len2 = my * mWidth + mx;

  00342	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  00348	0f af 85 bc fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  0034f	03 85 80 fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  00355	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 546  : 	for (i = 0; i < height; i++)

  0035b	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  00365	eb 0f		 jmp	 SHORT $LN7@writeMap
$LN5@writeMap:
  00367	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0036d	83 c0 01	 add	 eax, 1
  00370	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN7@writeMap:
  00376	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0037c	3b 85 a4 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  00382	7d 7f		 jge	 SHORT $LN6@writeMap

; 547  : 	{
; 548  : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  00384	8b f4		 mov	 esi, esp
  00386	6a 00		 push	 0
  00388	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  0038e	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00394	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00397	52		 push	 edx
  00398	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0039b	50		 push	 eax
  0039c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  003a2	83 c4 0c	 add	 esp, 12			; 0000000cH
  003a5	3b f4		 cmp	 esi, esp
  003a7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 549  : 		fwrite(&parts[len2], sizeof(short) * width, 1, fp);

  003ac	8b f4		 mov	 esi, esp
  003ae	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  003b1	50		 push	 eax
  003b2	6a 01		 push	 1
  003b4	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  003ba	d1 e1		 shl	 ecx, 1
  003bc	51		 push	 ecx
  003bd	8b 95 5c fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  003c3	8b 45 20	 mov	 eax, DWORD PTR _parts$[ebp]
  003c6	8d 0c 50	 lea	 ecx, DWORD PTR [eax+edx*2]
  003c9	51		 push	 ecx
  003ca	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  003d0	83 c4 10	 add	 esp, 16			; 00000010H
  003d3	3b f4		 cmp	 esi, esp
  003d5	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 550  : 		len  += fWidth;

  003da	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  003e0	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  003e6	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 551  : 		len2 += mWidth;

  003ec	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  003f2	03 85 bc fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  003f8	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 552  : 	}	

  003fe	e9 64 ff ff ff	 jmp	 $LN5@writeMap
$LN6@writeMap:

; 553  : 	fOffset += sizeof(short) * (fWidth * fHeight);

  00403	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _fWidth$[ebp]
  00409	0f af 85 d4 fe
	ff ff		 imul	 eax, DWORD PTR _fHeight$[ebp]
  00410	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  00416	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00419	89 95 c8 fe ff
	ff		 mov	 DWORD PTR _fOffset$[ebp], edx

; 554  : 	len = fy * fWidth + fx;

  0041f	8b 85 8c fe ff
	ff		 mov	 eax, DWORD PTR _fy$[ebp]
  00425	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _fWidth$[ebp]
  0042c	03 85 98 fe ff
	ff		 add	 eax, DWORD PTR _fx$[ebp]
  00432	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 555  : 	len2 = my * mWidth + mx;

  00438	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _my$[ebp]
  0043e	0f af 85 bc fe
	ff ff		 imul	 eax, DWORD PTR _mWidth$[ebp]
  00445	03 85 80 fe ff
	ff		 add	 eax, DWORD PTR _mx$[ebp]
  0044b	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 556  : 	for (i = 0; i < height; i++)

  00451	c7 85 50 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0045b	eb 0f		 jmp	 SHORT $LN10@writeMap
$LN8@writeMap:
  0045d	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00463	83 c0 01	 add	 eax, 1
  00466	89 85 50 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN10@writeMap:
  0046c	8b 85 50 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00472	3b 85 a4 fe ff
	ff		 cmp	 eax, DWORD PTR _height$[ebp]
  00478	0f 8d 5b 01 00
	00		 jge	 $LN9@writeMap

; 557  : 	{
; 558  : 		// Õi¤ßÞz¤ß?ÒŠ¤¿¥Õ¥é¥°¤òÁ¢¤Æ¤ë   ÔÄ¶Á£¿±ê¼Ç¹ÛÖÚ
; 559  : 		for (j = 0; j < width; j++)

  0047e	c7 85 44 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  00488	eb 0f		 jmp	 SHORT $LN13@writeMap
$LN11@writeMap:
  0048a	8b 85 44 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  00490	83 c0 01	 add	 eax, 1
  00493	89 85 44 fe ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN13@writeMap:
  00499	8b 85 44 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  0049f	3b 85 b0 fe ff
	ff		 cmp	 eax, DWORD PTR _width$[ebp]
  004a5	0f 8d af 00 00
	00		 jge	 $LN12@writeMap

; 560  : 		{
; 561  : 			event[len2+j] |= (MAP_SEE_FLAG | MAP_READ_FLAG);

  004ab	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  004b1	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  004b7	8b 4d 24	 mov	 ecx, DWORD PTR _event$[ebp]
  004ba	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  004be	81 ca 00 c0 00
	00		 or	 edx, 49152		; 0000c000H
  004c4	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  004ca	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  004d0	8b 4d 24	 mov	 ecx, DWORD PTR _event$[ebp]
  004d3	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 562  : 			if (nowFloor == floor && (mapAreaX1 <= x1 + j && x1 + j < mapAreaX2 && mapAreaY1 <= y1 + i && y1 + i < mapAreaY2))

  004d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowFloor@@3HA ; nowFloor
  004dc	3b 45 08	 cmp	 eax, DWORD PTR _floor$[ebp]
  004df	75 74		 jne	 SHORT $LN20@writeMap
  004e1	8b 45 0c	 mov	 eax, DWORD PTR _x1$[ebp]
  004e4	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  004ea	39 05 00 00 00
	00		 cmp	 DWORD PTR ?mapAreaX1@@3HA, eax ; mapAreaX1
  004f0	7f 63		 jg	 SHORT $LN20@writeMap
  004f2	8b 45 0c	 mov	 eax, DWORD PTR _x1$[ebp]
  004f5	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  004fb	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  00501	7d 52		 jge	 SHORT $LN20@writeMap
  00503	8b 45 10	 mov	 eax, DWORD PTR _y1$[ebp]
  00506	03 85 50 fe ff
	ff		 add	 eax, DWORD PTR _i$[ebp]
  0050c	39 05 00 00 00
	00		 cmp	 DWORD PTR ?mapAreaY1@@3HA, eax ; mapAreaY1
  00512	7f 41		 jg	 SHORT $LN20@writeMap
  00514	8b 45 10	 mov	 eax, DWORD PTR _y1$[ebp]
  00517	03 85 50 fe ff
	ff		 add	 eax, DWORD PTR _i$[ebp]
  0051d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00523	7d 30		 jge	 SHORT $LN20@writeMap

; 563  : 				// µ±ÖØ²¥ÆÁÄ»ÖÐµÄÊÂ¼þÊ±£¬ÄÚ´æÒ²±»ÖØÐ´
; 564  : 				setEventMemory(x1 + j, y1 + i, event[len2 + j]);

  00525	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  0052b	03 85 44 fe ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  00531	8b 4d 24	 mov	 ecx, DWORD PTR _event$[ebp]
  00534	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00538	52		 push	 edx
  00539	8b 45 10	 mov	 eax, DWORD PTR _y1$[ebp]
  0053c	03 85 50 fe ff
	ff		 add	 eax, DWORD PTR _i$[ebp]
  00542	50		 push	 eax
  00543	8b 4d 0c	 mov	 ecx, DWORD PTR _x1$[ebp]
  00546	03 8d 44 fe ff
	ff		 add	 ecx, DWORD PTR _j$[ebp]
  0054c	51		 push	 ecx
  0054d	e8 00 00 00 00	 call	 ?setEventMemory@@YAXHHG@Z ; setEventMemory
  00552	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN20@writeMap:

; 565  : 		}

  00555	e9 30 ff ff ff	 jmp	 $LN11@writeMap
$LN12@writeMap:

; 566  : 		fseek(fp, sizeof(short) * len + fOffset, SEEK_SET);

  0055a	8b f4		 mov	 esi, esp
  0055c	6a 00		 push	 0
  0055e	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  00564	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _fOffset$[ebp]
  0056a	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0056d	52		 push	 edx
  0056e	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00571	50		 push	 eax
  00572	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00578	83 c4 0c	 add	 esp, 12			; 0000000cH
  0057b	3b f4		 cmp	 esi, esp
  0057d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 567  : 		fwrite(&event[len2], sizeof(short) * width, 1, fp);

  00582	8b f4		 mov	 esi, esp
  00584	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00587	50		 push	 eax
  00588	6a 01		 push	 1
  0058a	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _width$[ebp]
  00590	d1 e1		 shl	 ecx, 1
  00592	51		 push	 ecx
  00593	8b 95 5c fe ff
	ff		 mov	 edx, DWORD PTR _len2$[ebp]
  00599	8b 45 24	 mov	 eax, DWORD PTR _event$[ebp]
  0059c	8d 0c 50	 lea	 ecx, DWORD PTR [eax+edx*2]
  0059f	51		 push	 ecx
  005a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  005a6	83 c4 10	 add	 esp, 16			; 00000010H
  005a9	3b f4		 cmp	 esi, esp
  005ab	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 568  : 		len  += fWidth;

  005b0	8b 85 68 fe ff
	ff		 mov	 eax, DWORD PTR _len$[ebp]
  005b6	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _fWidth$[ebp]
  005bc	89 85 68 fe ff
	ff		 mov	 DWORD PTR _len$[ebp], eax

; 569  : 		len2 += mWidth;

  005c2	8b 85 5c fe ff
	ff		 mov	 eax, DWORD PTR _len2$[ebp]
  005c8	03 85 bc fe ff
	ff		 add	 eax, DWORD PTR _mWidth$[ebp]
  005ce	89 85 5c fe ff
	ff		 mov	 DWORD PTR _len2$[ebp], eax

; 570  : 	}

  005d4	e9 84 fe ff ff	 jmp	 $LN8@writeMap
$LN9@writeMap:

; 571  : 	fclose (fp);

  005d9	8b f4		 mov	 esi, esp
  005db	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  005de	50		 push	 eax
  005df	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  005e5	83 c4 04	 add	 esp, 4
  005e8	3b f4		 cmp	 esi, esp
  005ea	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 572  : 
; 573  : 	return TRUE;

  005ef	b8 01 00 00 00	 mov	 eax, 1
$LN1@writeMap:

; 574  : }

  005f4	52		 push	 edx
  005f5	8b cd		 mov	 ecx, ebp
  005f7	50		 push	 eax
  005f8	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN26@writeMap
  005fe	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00603	58		 pop	 eax
  00604	5a		 pop	 edx
  00605	5f		 pop	 edi
  00606	5e		 pop	 esi
  00607	5b		 pop	 ebx
  00608	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0060b	33 cd		 xor	 ecx, ebp
  0060d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00612	81 c4 80 02 00
	00		 add	 esp, 640		; 00000280H
  00618	3b ec		 cmp	 ebp, esp
  0061a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0061f	8b e5		 mov	 esp, ebp
  00621	5d		 pop	 ebp
  00622	c3		 ret	 0
  00623	90		 npad	 1
$LN26@writeMap:
  00624	03 00 00 00	 DD	 3
  00628	00 00 00 00	 DD	 $LN25@writeMap
$LN25@writeMap:
  0062c	ec fe ff ff	 DD	 -276			; fffffeecH
  00630	ff 00 00 00	 DD	 255			; 000000ffH
  00634	00 00 00 00	 DD	 $LN22@writeMap
  00638	e0 fe ff ff	 DD	 -288			; fffffee0H
  0063c	04 00 00 00	 DD	 4
  00640	00 00 00 00	 DD	 $LN23@writeMap
  00644	d4 fe ff ff	 DD	 -300			; fffffed4H
  00648	04 00 00 00	 DD	 4
  0064c	00 00 00 00	 DD	 $LN24@writeMap
$LN24@writeMap:
  00650	66		 DB	 102			; 00000066H
  00651	48		 DB	 72			; 00000048H
  00652	65		 DB	 101			; 00000065H
  00653	69		 DB	 105			; 00000069H
  00654	67		 DB	 103			; 00000067H
  00655	68		 DB	 104			; 00000068H
  00656	74		 DB	 116			; 00000074H
  00657	00		 DB	 0
$LN23@writeMap:
  00658	66		 DB	 102			; 00000066H
  00659	57		 DB	 87			; 00000057H
  0065a	69		 DB	 105			; 00000069H
  0065b	64		 DB	 100			; 00000064H
  0065c	74		 DB	 116			; 00000074H
  0065d	68		 DB	 104			; 00000068H
  0065e	00		 DB	 0
$LN22@writeMap:
  0065f	66		 DB	 102			; 00000066H
  00660	69		 DB	 105			; 00000069H
  00661	6c		 DB	 108			; 0000006cH
  00662	65		 DB	 101			; 00000065H
  00663	6e		 DB	 110			; 0000006eH
  00664	61		 DB	 97			; 00000061H
  00665	6d		 DB	 109			; 0000006dH
  00666	65		 DB	 101			; 00000065H
  00667	00		 DB	 0
?writeMap@@YAHHHHHHPAG00@Z ENDP				; writeMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?createMap@@YAXHHH@Z
_TEXT	SEGMENT
_l$ = -348						; size = 2
_oy$ = -336						; size = 4
_ox$ = -324						; size = 4
_k$ = -312						; size = 4
_j$ = -300						; size = 4
_i$ = -288						; size = 4
_floorname$ = -276					; size = 255
_fp$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_fl$ = 8						; size = 4
_maxx$ = 12						; size = 4
_maxy$ = 16						; size = 4
?createMap@@YAXHHH@Z PROC				; createMap, COMDAT

; 409  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 02 00
	00		 sub	 esp, 544		; 00000220H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd e0 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-544]
  00012	b9 88 00 00 00	 mov	 ecx, 136		; 00000088H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 410  : 	FILE *fp;
; 411  : 	char floorname[255];
; 412  : 	int i = 0, j, k, ox, oy;

  00028	c7 85 e0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0

; 413  : 	short l = 0;

  00032	33 c0		 xor	 eax, eax
  00034	66 89 85 a4 fe
	ff ff		 mov	 WORD PTR _l$[ebp], ax

; 414  : 
; 415  : 	if (fl == 0)

  0003b	83 7d 08 00	 cmp	 DWORD PTR _fl$[ebp], 0
  0003f	75 05		 jne	 SHORT $LN20@createMap

; 416  : 		return;

  00041	e9 1b 03 00 00	 jmp	 $LN1@createMap
$LN20@createMap:

; 417  : 
; 418  : 	sprintf(floorname, "map\\%d.dat", fl);

  00046	8b 45 08	 mov	 eax, DWORD PTR _fl$[ebp]
  00049	50		 push	 eax
  0004a	68 00 00 00 00	 push	 OFFSET ??_C@_0L@FCEGIJN@map?2?$CFd?4dat?$AA@
  0004f	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR _floorname$[ebp]
  00055	51		 push	 ecx
  00056	e8 00 00 00 00	 call	 _sprintf
  0005b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 419  : 	if ((fp = fopen(floorname, "rb")) == NULL)

  0005e	8b f4		 mov	 esi, esp
  00060	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  00065	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _floorname$[ebp]
  0006b	50		 push	 eax
  0006c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00072	83 c4 08	 add	 esp, 8
  00075	3b f4		 cmp	 esi, esp
  00077	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0007c	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  0007f	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  00083	0f 85 4e 01 00
	00		 jne	 $LN21@createMap

; 420  : 	{
; 421  : 		// ?????þ†????þÎ??
; 422  : 		// ¥Õ¥¡¥¤¥ë¤¬Ÿo¤¤¤Î¤Ç×÷³É¤¹¤ë
; 423  : 		_mkdir("map");

  00089	8b f4		 mov	 esi, esp
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_03HBNNNHNM@map?$AA@
  00090	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___mkdir
  00096	83 c4 04	 add	 esp, 4
  00099	3b f4		 cmp	 esi, esp
  0009b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 424  : 		if ((fp = fopen(floorname, "wb")) == NULL)

  000a0	8b f4		 mov	 esi, esp
  000a2	68 00 00 00 00	 push	 OFFSET ??_C@_02GMLFBBN@wb?$AA@
  000a7	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _floorname$[ebp]
  000ad	50		 push	 eax
  000ae	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  000b4	83 c4 08	 add	 esp, 8
  000b7	3b f4		 cmp	 esi, esp
  000b9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000be	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  000c1	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  000c5	75 05		 jne	 SHORT $LN23@createMap

; 425  : 			return;

  000c7	e9 95 02 00 00	 jmp	 $LN1@createMap
$LN23@createMap:

; 426  : 		fseek(fp, 0, SEEK_SET);

  000cc	8b f4		 mov	 esi, esp
  000ce	6a 00		 push	 0
  000d0	6a 00		 push	 0
  000d2	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  000d5	50		 push	 eax
  000d6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  000dc	83 c4 0c	 add	 esp, 12			; 0000000cH
  000df	3b f4		 cmp	 esi, esp
  000e1	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 427  : 		fwrite(&maxx, sizeof(int), 1, fp);

  000e6	8b f4		 mov	 esi, esp
  000e8	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  000eb	50		 push	 eax
  000ec	6a 01		 push	 1
  000ee	6a 04		 push	 4
  000f0	8d 4d 0c	 lea	 ecx, DWORD PTR _maxx$[ebp]
  000f3	51		 push	 ecx
  000f4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  000fa	83 c4 10	 add	 esp, 16			; 00000010H
  000fd	3b f4		 cmp	 esi, esp
  000ff	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 428  : 		fwrite(&maxy, sizeof(int), 1, fp);

  00104	8b f4		 mov	 esi, esp
  00106	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00109	50		 push	 eax
  0010a	6a 01		 push	 1
  0010c	6a 04		 push	 4
  0010e	8d 4d 10	 lea	 ecx, DWORD PTR _maxy$[ebp]
  00111	51		 push	 ecx
  00112	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00118	83 c4 10	 add	 esp, 16			; 00000010H
  0011b	3b f4		 cmp	 esi, esp
  0011d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 429  : 		for (i = 0; i < 3; i++)

  00122	c7 85 e0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0012c	eb 0f		 jmp	 SHORT $LN4@createMap
$LN2@createMap:
  0012e	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00134	83 c0 01	 add	 eax, 1
  00137	89 85 e0 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@createMap:
  0013d	83 bd e0 fe ff
	ff 03		 cmp	 DWORD PTR _i$[ebp], 3
  00144	7d 76		 jge	 SHORT $LN3@createMap

; 430  : 		{
; 431  : 			for (j = 0; j < maxx; j++)

  00146	c7 85 d4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  00150	eb 0f		 jmp	 SHORT $LN7@createMap
$LN5@createMap:
  00152	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  00158	83 c0 01	 add	 eax, 1
  0015b	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN7@createMap:
  00161	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  00167	3b 45 0c	 cmp	 eax, DWORD PTR _maxx$[ebp]
  0016a	7d 4b		 jge	 SHORT $LN6@createMap

; 432  : 			{
; 433  : 				for (k=0; k < maxy; k++)

  0016c	c7 85 c8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _k$[ebp], 0
  00176	eb 0f		 jmp	 SHORT $LN10@createMap
$LN8@createMap:
  00178	8b 85 c8 fe ff
	ff		 mov	 eax, DWORD PTR _k$[ebp]
  0017e	83 c0 01	 add	 eax, 1
  00181	89 85 c8 fe ff
	ff		 mov	 DWORD PTR _k$[ebp], eax
$LN10@createMap:
  00187	8b 85 c8 fe ff
	ff		 mov	 eax, DWORD PTR _k$[ebp]
  0018d	3b 45 10	 cmp	 eax, DWORD PTR _maxy$[ebp]
  00190	7d 23		 jge	 SHORT $LN9@createMap

; 434  : 				{
; 435  : 					fwrite(&l, sizeof(short), 1, fp);

  00192	8b f4		 mov	 esi, esp
  00194	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00197	50		 push	 eax
  00198	6a 01		 push	 1
  0019a	6a 02		 push	 2
  0019c	8d 8d a4 fe ff
	ff		 lea	 ecx, DWORD PTR _l$[ebp]
  001a2	51		 push	 ecx
  001a3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  001a9	83 c4 10	 add	 esp, 16			; 00000010H
  001ac	3b f4		 cmp	 esi, esp
  001ae	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 436  : 				}

  001b3	eb c3		 jmp	 SHORT $LN8@createMap
$LN9@createMap:

; 437  : 			}

  001b5	eb 9b		 jmp	 SHORT $LN5@createMap
$LN6@createMap:

; 438  : 		}

  001b7	e9 72 ff ff ff	 jmp	 $LN2@createMap
$LN3@createMap:

; 439  : 		fclose(fp);

  001bc	8b f4		 mov	 esi, esp
  001be	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  001c1	50		 push	 eax
  001c2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  001c8	83 c4 04	 add	 esp, 4
  001cb	3b f4		 cmp	 esi, esp
  001cd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 440  : 	}
; 441  : 	else

  001d2	e9 8a 01 00 00	 jmp	 $LN1@createMap
$LN21@createMap:

; 442  : 	{
; 443  : 		// ¥Õ¥¡¥¤¥ë¤¬¤¢¤ë•r¥µ¥¤¥º¤¬ß`¤¦¤Ê¤é¥Þ¥Ã¥×¤¬‰ä¤ï¤Ã¤Æ¤ë
; 444  : 		fread(&ox, sizeof(int), 1, fp);

  001d7	8b f4		 mov	 esi, esp
  001d9	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  001dc	50		 push	 eax
  001dd	6a 01		 push	 1
  001df	6a 04		 push	 4
  001e1	8d 8d bc fe ff
	ff		 lea	 ecx, DWORD PTR _ox$[ebp]
  001e7	51		 push	 ecx
  001e8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  001ee	83 c4 10	 add	 esp, 16			; 00000010H
  001f1	3b f4		 cmp	 esi, esp
  001f3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 445  : 		fread(&oy, sizeof(int), 1, fp);

  001f8	8b f4		 mov	 esi, esp
  001fa	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  001fd	50		 push	 eax
  001fe	6a 01		 push	 1
  00200	6a 04		 push	 4
  00202	8d 8d b0 fe ff
	ff		 lea	 ecx, DWORD PTR _oy$[ebp]
  00208	51		 push	 ecx
  00209	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0020f	83 c4 10	 add	 esp, 16			; 00000010H
  00212	3b f4		 cmp	 esi, esp
  00214	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 446  : 		if (maxx != ox || maxy != oy)

  00219	8b 45 0c	 mov	 eax, DWORD PTR _maxx$[ebp]
  0021c	3b 85 bc fe ff
	ff		 cmp	 eax, DWORD PTR _ox$[ebp]
  00222	75 0f		 jne	 SHORT $LN25@createMap
  00224	8b 45 10	 mov	 eax, DWORD PTR _maxy$[ebp]
  00227	3b 85 b0 fe ff
	ff		 cmp	 eax, DWORD PTR _oy$[ebp]
  0022d	0f 84 18 01 00
	00		 je	 $LN24@createMap
$LN25@createMap:

; 447  : 		{
; 448  : 			fclose(fp);

  00233	8b f4		 mov	 esi, esp
  00235	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00238	50		 push	 eax
  00239	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  0023f	83 c4 04	 add	 esp, 4
  00242	3b f4		 cmp	 esi, esp
  00244	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 449  : 			// ¥µ¥¤¥º¤¬ß`¤¦¤Î¤Ç¼È´æ¥Õ¥¡¥¤¥ë¤òÏû¤·¤ÆÐÂÒŽ¤Ë¤¹¤ë
; 450  : 			if ((fp = fopen(floorname, "wb")) == NULL)

  00249	8b f4		 mov	 esi, esp
  0024b	68 00 00 00 00	 push	 OFFSET ??_C@_02GMLFBBN@wb?$AA@
  00250	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _floorname$[ebp]
  00256	50		 push	 eax
  00257	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  0025d	83 c4 08	 add	 esp, 8
  00260	3b f4		 cmp	 esi, esp
  00262	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00267	89 45 f4	 mov	 DWORD PTR _fp$[ebp], eax
  0026a	83 7d f4 00	 cmp	 DWORD PTR _fp$[ebp], 0
  0026e	75 05		 jne	 SHORT $LN26@createMap

; 451  : 				return;

  00270	e9 ec 00 00 00	 jmp	 $LN1@createMap
$LN26@createMap:

; 452  : 			fwrite(&maxx, sizeof(int), 1, fp);

  00275	8b f4		 mov	 esi, esp
  00277	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  0027a	50		 push	 eax
  0027b	6a 01		 push	 1
  0027d	6a 04		 push	 4
  0027f	8d 4d 0c	 lea	 ecx, DWORD PTR _maxx$[ebp]
  00282	51		 push	 ecx
  00283	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00289	83 c4 10	 add	 esp, 16			; 00000010H
  0028c	3b f4		 cmp	 esi, esp
  0028e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 453  : 			fwrite(&maxy, sizeof(int), 1, fp);

  00293	8b f4		 mov	 esi, esp
  00295	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00298	50		 push	 eax
  00299	6a 01		 push	 1
  0029b	6a 04		 push	 4
  0029d	8d 4d 10	 lea	 ecx, DWORD PTR _maxy$[ebp]
  002a0	51		 push	 ecx
  002a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  002a7	83 c4 10	 add	 esp, 16			; 00000010H
  002aa	3b f4		 cmp	 esi, esp
  002ac	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 454  : 			for (i = 0; i < 3; i++)

  002b1	c7 85 e0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  002bb	eb 0f		 jmp	 SHORT $LN13@createMap
$LN11@createMap:
  002bd	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  002c3	83 c0 01	 add	 eax, 1
  002c6	89 85 e0 fe ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN13@createMap:
  002cc	83 bd e0 fe ff
	ff 03		 cmp	 DWORD PTR _i$[ebp], 3
  002d3	7d 76		 jge	 SHORT $LN24@createMap

; 455  : 			{
; 456  : 				for (j = 0; j < maxx; j++)

  002d5	c7 85 d4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  002df	eb 0f		 jmp	 SHORT $LN16@createMap
$LN14@createMap:
  002e1	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  002e7	83 c0 01	 add	 eax, 1
  002ea	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN16@createMap:
  002f0	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  002f6	3b 45 0c	 cmp	 eax, DWORD PTR _maxx$[ebp]
  002f9	7d 4b		 jge	 SHORT $LN15@createMap

; 457  : 				{
; 458  : 					for (k = 0; k < maxy; k++)

  002fb	c7 85 c8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _k$[ebp], 0
  00305	eb 0f		 jmp	 SHORT $LN19@createMap
$LN17@createMap:
  00307	8b 85 c8 fe ff
	ff		 mov	 eax, DWORD PTR _k$[ebp]
  0030d	83 c0 01	 add	 eax, 1
  00310	89 85 c8 fe ff
	ff		 mov	 DWORD PTR _k$[ebp], eax
$LN19@createMap:
  00316	8b 85 c8 fe ff
	ff		 mov	 eax, DWORD PTR _k$[ebp]
  0031c	3b 45 10	 cmp	 eax, DWORD PTR _maxy$[ebp]
  0031f	7d 23		 jge	 SHORT $LN18@createMap

; 459  : 					{
; 460  : 						fwrite(&l, sizeof(short), 1, fp);

  00321	8b f4		 mov	 esi, esp
  00323	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00326	50		 push	 eax
  00327	6a 01		 push	 1
  00329	6a 02		 push	 2
  0032b	8d 8d a4 fe ff
	ff		 lea	 ecx, DWORD PTR _l$[ebp]
  00331	51		 push	 ecx
  00332	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00338	83 c4 10	 add	 esp, 16			; 00000010H
  0033b	3b f4		 cmp	 esi, esp
  0033d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 461  : 					}

  00342	eb c3		 jmp	 SHORT $LN17@createMap
$LN18@createMap:

; 462  : 				}

  00344	eb 9b		 jmp	 SHORT $LN14@createMap
$LN15@createMap:

; 463  : 			}

  00346	e9 72 ff ff ff	 jmp	 $LN11@createMap
$LN24@createMap:

; 464  : 		}
; 465  : 		fclose (fp);

  0034b	8b f4		 mov	 esi, esp
  0034d	8b 45 f4	 mov	 eax, DWORD PTR _fp$[ebp]
  00350	50		 push	 eax
  00351	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  00357	83 c4 04	 add	 esp, 4
  0035a	3b f4		 cmp	 esi, esp
  0035c	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN1@createMap:

; 466  : 	}
; 467  : }

  00361	52		 push	 edx
  00362	8b cd		 mov	 ecx, ebp
  00364	50		 push	 eax
  00365	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN33@createMap
  0036b	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00370	58		 pop	 eax
  00371	5a		 pop	 edx
  00372	5f		 pop	 edi
  00373	5e		 pop	 esi
  00374	5b		 pop	 ebx
  00375	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00378	33 cd		 xor	 ecx, ebp
  0037a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0037f	81 c4 20 02 00
	00		 add	 esp, 544		; 00000220H
  00385	3b ec		 cmp	 ebp, esp
  00387	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0038c	8b e5		 mov	 esp, ebp
  0038e	5d		 pop	 ebp
  0038f	c3		 ret	 0
$LN33@createMap:
  00390	04 00 00 00	 DD	 4
  00394	00 00 00 00	 DD	 $LN32@createMap
$LN32@createMap:
  00398	ec fe ff ff	 DD	 -276			; fffffeecH
  0039c	ff 00 00 00	 DD	 255			; 000000ffH
  003a0	00 00 00 00	 DD	 $LN28@createMap
  003a4	bc fe ff ff	 DD	 -324			; fffffebcH
  003a8	04 00 00 00	 DD	 4
  003ac	00 00 00 00	 DD	 $LN29@createMap
  003b0	b0 fe ff ff	 DD	 -336			; fffffeb0H
  003b4	04 00 00 00	 DD	 4
  003b8	00 00 00 00	 DD	 $LN30@createMap
  003bc	a4 fe ff ff	 DD	 -348			; fffffea4H
  003c0	02 00 00 00	 DD	 2
  003c4	00 00 00 00	 DD	 $LN31@createMap
$LN31@createMap:
  003c8	6c		 DB	 108			; 0000006cH
  003c9	00		 DB	 0
$LN30@createMap:
  003ca	6f		 DB	 111			; 0000006fH
  003cb	79		 DB	 121			; 00000079H
  003cc	00		 DB	 0
$LN29@createMap:
  003cd	6f		 DB	 111			; 0000006fH
  003ce	78		 DB	 120			; 00000078H
  003cf	00		 DB	 0
$LN28@createMap:
  003d0	66		 DB	 102			; 00000066H
  003d1	6c		 DB	 108			; 0000006cH
  003d2	6f		 DB	 111			; 0000006fH
  003d3	6f		 DB	 111			; 0000006fH
  003d4	72		 DB	 114			; 00000072H
  003d5	6e		 DB	 110			; 0000006eH
  003d6	61		 DB	 97			; 00000061H
  003d7	6d		 DB	 109			; 0000006dH
  003d8	65		 DB	 101			; 00000065H
  003d9	00		 DB	 0
?createMap@@YAXHHH@Z ENDP				; createMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?resetMap@@YAXXZ
_TEXT	SEGMENT
?resetMap@@YAXXZ PROC					; resetMap, COMDAT

; 364  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 365  : 	// ?¥h????¥h¡I????????
; 366  : 	nowGx = (int)(nowX / GRID_SIZE);

  0001e	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  00026	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  0002e	f3 0f 2c c0	 cvttss2si eax, xmm0
  00032	a3 00 00 00 00	 mov	 DWORD PTR ?nowGx@@3HA, eax ; nowGx

; 367  : 	nowGy = (int)(nowY / GRID_SIZE);

  00037	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  0003f	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42800000
  00047	f3 0f 2c c0	 cvttss2si eax, xmm0
  0004b	a3 00 00 00 00	 mov	 DWORD PTR ?nowGy@@3HA, eax ; nowGy

; 368  : 	nextGx = nowGx;

  00050	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  00055	a3 00 00 00 00	 mov	 DWORD PTR ?nextGx@@3HA, eax ; nextGx

; 369  : 	nextGy = nowGy;

  0005a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0005f	a3 00 00 00 00	 mov	 DWORD PTR ?nextGy@@3HA, eax ; nextGy

; 370  : 	nowX = (float)nowGx * GRID_SIZE;

  00064	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nowGx@@3HA ; nowGx
  0006c	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  00074	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0

; 371  : 	nowY = (float)nowGy * GRID_SIZE;

  0007c	f3 0f 2a 05 00
	00 00 00	 cvtsi2ss xmm0, DWORD PTR ?nowGy@@3HA ; nowGy
  00084	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@42800000
  0008c	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0

; 372  : 	oldGx = -1;

  00094	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldGx@@3HA, -1 ; oldGx

; 373  : 	oldGy = -1;

  0009e	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldGy@@3HA, -1 ; oldGy

; 374  : 	oldNextGx = -1;

  000a8	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldNextGx@@3HA, -1 ; oldNextGx

; 375  : 	oldNextGy = -1;

  000b2	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?oldNextGy@@3HA, -1 ; oldNextGy

; 376  : 	mapAreaX1 = nowGx + MAP_TILE_GRID_X1;

  000bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  000c1	83 e8 14	 sub	 eax, 20			; 00000014H
  000c4	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX1@@3HA, eax ; mapAreaX1

; 377  : 	mapAreaY1 = nowGy + MAP_TILE_GRID_Y1;

  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  000ce	83 e8 10	 sub	 eax, 16			; 00000010H
  000d1	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY1@@3HA, eax ; mapAreaY1

; 378  : 	mapAreaX2 = nowGx + MAP_TILE_GRID_X2;

  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  000db	83 c0 11	 add	 eax, 17			; 00000011H
  000de	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX2@@3HA, eax ; mapAreaX2

; 379  : 	mapAreaY2 = nowGy + MAP_TILE_GRID_Y2;

  000e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  000e8	83 c0 15	 add	 eax, 21			; 00000015H
  000eb	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY2@@3HA, eax ; mapAreaY2

; 380  : 
; 381  : 	if (mapAreaX1 < 0)

  000f0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapAreaX1@@3HA, 0 ; mapAreaX1
  000f7	7d 0a		 jge	 SHORT $LN2@resetMap

; 382  : 		mapAreaX1 = 0;

  000f9	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapAreaX1@@3HA, 0 ; mapAreaX1
$LN2@resetMap:

; 383  : 	if (mapAreaY1 < 0)

  00103	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapAreaY1@@3HA, 0 ; mapAreaY1
  0010a	7d 0a		 jge	 SHORT $LN3@resetMap

; 384  : 		mapAreaY1 = 0;

  0010c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapAreaY1@@3HA, 0 ; mapAreaY1
$LN3@resetMap:

; 385  : 	if (mapAreaX2 > nowFloorGxSize)

  00116	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  0011b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  00121	7e 0a		 jle	 SHORT $LN4@resetMap

; 386  : 		mapAreaX2 = nowFloorGxSize;

  00123	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  00128	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX2@@3HA, eax ; mapAreaX2
$LN4@resetMap:

; 387  : 	if (mapAreaY2 > nowFloorGySize)

  0012d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00132	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  00138	7e 0a		 jle	 SHORT $LN5@resetMap

; 388  : 		mapAreaY2 = nowFloorGySize;

  0013a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  0013f	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY2@@3HA, eax ; mapAreaY2
$LN5@resetMap:

; 389  : 
; 390  : 	mapAreaWidth  = mapAreaX2 - mapAreaX1;

  00144	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  00149	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  0014f	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaWidth@@3HA, eax ; mapAreaWidth

; 391  : 	mapAreaHeight = mapAreaY2 - mapAreaY1;

  00154	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00159	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  0015f	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaHeight@@3HA, eax ; mapAreaHeight

; 392  : 	nowVx = 0;

  00164	0f 57 c0	 xorps	 xmm0, xmm0
  00167	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 393  : 	nowVy = 0;

  0016f	0f 57 c0	 xorps	 xmm0, xmm0
  00172	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 394  : 	nowSpdRate = 1;

  0017a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00182	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0

; 395  : 	viewPointX = nowX;

  0018a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowX@@3MA
  00192	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointX@@3MA, xmm0

; 396  : 	viewPointY = nowY;

  0019a	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?nowY@@3MA
  001a2	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?viewPointY@@3MA, xmm0

; 397  : 	moveRouteCnt = 0;

  001aa	33 c0		 xor	 eax, eax
  001ac	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 398  : 	moveRouteCnt2 = 0;

  001b2	33 c0		 xor	 eax, eax
  001b4	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt2@@3FA, ax ; moveRouteCnt2

; 399  : 	moveStackFlag = FALSE;

  001ba	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?moveStackFlag@@3HA, 0 ; moveStackFlag

; 400  : 	mouseCursorMode = MOUSE_CURSOR_MODE_NORMAL;

  001c4	33 c0		 xor	 eax, eax
  001c6	66 a3 00 00 00
	00		 mov	 WORD PTR ?mouseCursorMode@@3FA, ax ; mouseCursorMode

; 401  : 	mouseLeftPushTime = 0;

  001cc	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftPushTime@@3IA, 0 ; mouseLeftPushTime

; 402  : 	beforeMouseLeftPushTime = 0;

  001d6	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?beforeMouseLeftPushTime@@3IA, 0 ; beforeMouseLeftPushTime

; 403  : //	autoMapSeeFlag = FALSE;
; 404  : }

  001e0	5f		 pop	 edi
  001e1	5e		 pop	 esi
  001e2	5b		 pop	 ebx
  001e3	8b e5		 mov	 esp, ebp
  001e5	5d		 pop	 ebp
  001e6	c3		 ret	 0
?resetMap@@YAXXZ ENDP					; resetMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\map.cpp
;	COMDAT ?initMap@@YAXXZ
_TEXT	SEGMENT
?initMap@@YAXXZ PROC					; initMap, COMDAT

; 258  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 259  : #ifndef _DEBUG
; 260  : 	nowFloor = 0;
; 261  : 	nowFloorGxSize = 0;
; 262  : 	nowFloorGySize = 0;
; 263  : 	nowGx = 0;
; 264  : 	nowGy = 0;
; 265  : 	nowX = 0;
; 266  : 	nowY = 0;
; 267  : 	nextGx = 0;
; 268  : 	nextGy = 0;
; 269  : 	oldGx = 0, oldGy = 0;
; 270  : 	oldNextGx = 0, oldNextGy = 0;
; 271  : 
; 272  : 	loginFlag = TRUE;
; 273  : #else
; 274  : 	if (offlineFlag)

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?offlineFlag@@3HA, 0 ; offlineFlag
  00025	74 2a		 je	 SHORT $LN2@initMap

; 275  : 	{
; 276  : 		setMap(400, 20, 20);

  00027	6a 14		 push	 20			; 00000014H
  00029	6a 14		 push	 20			; 00000014H
  0002b	68 90 01 00 00	 push	 400			; 00000190H
  00030	e8 00 00 00 00	 call	 ?setMap@@YAXHHH@Z	; setMap
  00035	83 c4 0c	 add	 esp, 12			; 0000000cH

; 277  : 		nowFloorGxSize = 100;

  00038	c7 05 00 00 00
	00 64 00 00 00	 mov	 DWORD PTR ?nowFloorGxSize@@3HA, 100 ; nowFloorGxSize, 00000064H

; 278  : 		nowFloorGySize = 100;

  00042	c7 05 00 00 00
	00 64 00 00 00	 mov	 DWORD PTR ?nowFloorGySize@@3HA, 100 ; nowFloorGySize, 00000064H

; 279  : 	}
; 280  : 	else

  0004c	e9 8e 00 00 00	 jmp	 $LN3@initMap
$LN2@initMap:

; 281  : 	{
; 282  : 		nowFloor = 0;

  00051	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowFloor@@3HA, 0 ; nowFloor

; 283  : 		nowFloorGxSize = 0;

  0005b	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowFloorGxSize@@3HA, 0 ; nowFloorGxSize

; 284  : 		nowFloorGySize = 0;

  00065	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowFloorGySize@@3HA, 0 ; nowFloorGySize

; 285  : 		nowGx = 0;

  0006f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowGx@@3HA, 0 ; nowGx

; 286  : 		nowGy = 0;

  00079	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowGy@@3HA, 0 ; nowGy

; 287  : 		nowX = 0;

  00083	0f 57 c0	 xorps	 xmm0, xmm0
  00086	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowX@@3MA, xmm0

; 288  : 		nowY = 0;

  0008e	0f 57 c0	 xorps	 xmm0, xmm0
  00091	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowY@@3MA, xmm0

; 289  : 		nextGx = 0;

  00099	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nextGx@@3HA, 0 ; nextGx

; 290  : 		nextGy = 0;

  000a3	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nextGy@@3HA, 0 ; nextGy

; 291  : 		oldGx = 0, oldGy = 0;

  000ad	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?oldGx@@3HA, 0 ; oldGx
  000b7	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?oldGy@@3HA, 0 ; oldGy

; 292  : 		oldNextGx = 0, oldNextGy = 0;

  000c1	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?oldNextGx@@3HA, 0 ; oldNextGx
  000cb	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?oldNextGy@@3HA, 0 ; oldNextGy

; 293  : 
; 294  : 		loginFlag = TRUE;

  000d5	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?loginFlag@@3HA, 1 ; loginFlag
$LN3@initMap:

; 295  : 	}
; 296  : #endif
; 297  : 
; 298  : 	mapAreaX1 = nowGx+MAP_TILE_GRID_X1;

  000df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  000e4	83 e8 14	 sub	 eax, 20			; 00000014H
  000e7	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX1@@3HA, eax ; mapAreaX1

; 299  : 	mapAreaY1 = nowGy+MAP_TILE_GRID_Y1;

  000ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  000f1	83 e8 10	 sub	 eax, 16			; 00000010H
  000f4	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY1@@3HA, eax ; mapAreaY1

; 300  : 	mapAreaX2 = nowGx+MAP_TILE_GRID_X2;

  000f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGx@@3HA ; nowGx
  000fe	83 c0 11	 add	 eax, 17			; 00000011H
  00101	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX2@@3HA, eax ; mapAreaX2

; 301  : 	mapAreaY2 = nowGy+MAP_TILE_GRID_Y2;

  00106	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowGy@@3HA ; nowGy
  0010b	83 c0 15	 add	 eax, 21			; 00000015H
  0010e	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY2@@3HA, eax ; mapAreaY2

; 302  : 
; 303  : 	if (mapAreaX1 < 0)

  00113	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapAreaX1@@3HA, 0 ; mapAreaX1
  0011a	7d 0a		 jge	 SHORT $LN4@initMap

; 304  : 		mapAreaX1 = 0;

  0011c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapAreaX1@@3HA, 0 ; mapAreaX1
$LN4@initMap:

; 305  : 	if (mapAreaY1 < 0)

  00126	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?mapAreaY1@@3HA, 0 ; mapAreaY1
  0012d	7d 0a		 jge	 SHORT $LN5@initMap

; 306  : 		mapAreaY1 = 0;

  0012f	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapAreaY1@@3HA, 0 ; mapAreaY1
$LN5@initMap:

; 307  : 	if (mapAreaX2 > nowFloorGxSize)

  00139	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  0013e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  00144	7e 0a		 jle	 SHORT $LN6@initMap

; 308  : 		mapAreaX2 = nowFloorGxSize;

  00146	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowFloorGxSize@@3HA ; nowFloorGxSize
  0014b	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaX2@@3HA, eax ; mapAreaX2
$LN6@initMap:

; 309  : 	if (mapAreaY2 > nowFloorGySize)

  00150	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  00155	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  0015b	7e 0a		 jle	 SHORT $LN7@initMap

; 310  : 		mapAreaY2 = nowFloorGySize;

  0015d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?nowFloorGySize@@3HA ; nowFloorGySize
  00162	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaY2@@3HA, eax ; mapAreaY2
$LN7@initMap:

; 311  : 
; 312  : 	mapAreaWidth  = mapAreaX2 - mapAreaX1;

  00167	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaX2@@3HA ; mapAreaX2
  0016c	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaX1@@3HA ; mapAreaX1
  00172	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaWidth@@3HA, eax ; mapAreaWidth

; 313  : 	mapAreaHeight = mapAreaY2 - mapAreaY1;

  00177	a1 00 00 00 00	 mov	 eax, DWORD PTR ?mapAreaY2@@3HA ; mapAreaY2
  0017c	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?mapAreaY1@@3HA ; mapAreaY1
  00182	a3 00 00 00 00	 mov	 DWORD PTR ?mapAreaHeight@@3HA, eax ; mapAreaHeight

; 314  : 	nowVx = 0;

  00187	0f 57 c0	 xorps	 xmm0, xmm0
  0018a	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVx@@3MA, xmm0

; 315  : 	nowVy = 0;

  00192	0f 57 c0	 xorps	 xmm0, xmm0
  00195	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowVy@@3MA, xmm0

; 316  : 	nowSpdRate = 1;

  0019d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  001a5	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?nowSpdRate@@3MA, xmm0

; 317  : 	moveRouteCnt = 0;

  001ad	33 c0		 xor	 eax, eax
  001af	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt@@3FA, ax ; moveRouteCnt

; 318  : 	moveRouteCnt2 = 0;

  001b5	33 c0		 xor	 eax, eax
  001b7	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveRouteCnt2@@3FA, ax ; moveRouteCnt2

; 319  : 	moveStackFlag = FALSE;

  001bd	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?moveStackFlag@@3HA, 0 ; moveStackFlag

; 320  : 	mapEmptyFlag = FALSE;

  001c7	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mapEmptyFlag@@3HA, 0 ; mapEmptyFlag

; 321  : 	mouseCursorMode = MOUSE_CURSOR_MODE_NORMAL;

  001d1	33 c0		 xor	 eax, eax
  001d3	66 a3 00 00 00
	00		 mov	 WORD PTR ?mouseCursorMode@@3FA, ax ; mouseCursorMode

; 322  : 	nowEncountPercentage = 0;

  001d9	33 c0		 xor	 eax, eax
  001db	66 a3 00 00 00
	00		 mov	 WORD PTR ?nowEncountPercentage@@3FA, ax ; nowEncountPercentage

; 323  : 	nowEncountExtra = 0;

  001e1	33 c0		 xor	 eax, eax
  001e3	66 a3 00 00 00
	00		 mov	 WORD PTR ?nowEncountExtra@@3FA, ax ; nowEncountExtra

; 324  : 	sendEnFlag = 0;

  001e9	33 c0		 xor	 eax, eax
  001eb	66 a3 00 00 00
	00		 mov	 WORD PTR ?sendEnFlag@@3FA, ax ; sendEnFlag

; 325  : 	encountNowFlag = 0;

  001f1	33 c0		 xor	 eax, eax
  001f3	66 a3 00 00 00
	00		 mov	 WORD PTR ?encountNowFlag@@3FA, ax ; encountNowFlag

; 326  : 	eventWarpSendFlag = 0;

  001f9	33 c0		 xor	 eax, eax
  001fb	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventWarpSendFlag@@3FA, ax ; eventWarpSendFlag

; 327  : 	eventEnemySendFlag = 0;

  00201	33 c0		 xor	 eax, eax
  00203	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemySendFlag@@3FA, ax ; eventEnemySendFlag

; 328  : 	eventEnemyFlag = 0;

  00209	33 c0		 xor	 eax, eax
  0020b	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemyFlag@@3FA, ax ; eventEnemyFlag

; 329  : 	etcEventFlag = 0;

  00211	33 c0		 xor	 eax, eax
  00213	66 a3 00 00 00
	00		 mov	 WORD PTR ?etcEventFlag@@3FA, ax ; etcEventFlag

; 330  : 	mouseLeftPushTime = 0;

  00219	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?mouseLeftPushTime@@3IA, 0 ; mouseLeftPushTime

; 331  : 	beforeMouseLeftPushTime = 0;

  00223	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?beforeMouseLeftPushTime@@3IA, 0 ; beforeMouseLeftPushTime

; 332  : 	warpEffectFlag = FALSE;

  0022d	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?warpEffectFlag@@3HA, 0 ; warpEffectFlag

; 333  : 	warpEffectStart = FALSE;

  00237	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?warpEffectStart@@3HA, 0 ; warpEffectStart

; 334  : 	warpEffectOk = FALSE;

  00241	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?warpEffectOk@@3HA, 0 ; warpEffectOk

; 335  : //	autoMapSeeFlag = FALSE;
; 336  : 	eventWarpSendId = -1;

  0024b	83 c8 ff	 or	 eax, -1
  0024e	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventWarpSendId@@3FA, ax ; eventWarpSendId

; 337  : 	eventEnemySendId = -1;

  00254	83 c8 ff	 or	 eax, -1
  00257	66 a3 00 00 00
	00		 mov	 WORD PTR ?eventEnemySendId@@3FA, ax ; eventEnemySendId

; 338  : 	moveLastDir = -1;

  0025d	83 c8 ff	 or	 eax, -1
  00260	66 a3 00 00 00
	00		 mov	 WORD PTR ?moveLastDir@@3FA, ax ; moveLastDir

; 339  : 	amountXFastDraw = 0;

  00266	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountXFastDraw@@3HA, 0 ; amountXFastDraw

; 340  : 	amountYFastDraw = 0;

  00270	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountYFastDraw@@3HA, 0 ; amountYFastDraw

; 341  : 	nowXFastDraw = 0;

  0027a	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw@@3HA, 0 ; nowXFastDraw

; 342  : 	nowYFastDraw = 0;

  00284	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw@@3HA, 0 ; nowYFastDraw

; 343  : 	baseXFastDraw = 0;

  0028e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?baseXFastDraw@@3HA, 0 ; baseXFastDraw

; 344  : 	baseYFastDraw = 0;

  00298	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?baseYFastDraw@@3HA, 0 ; baseYFastDraw

; 345  : 	amountXFastDraw2 = 0;

  002a2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountXFastDraw2@@3HA, 0 ; amountXFastDraw2

; 346  : 	amountYFastDraw2 = 0;

  002ac	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?amountYFastDraw2@@3HA, 0 ; amountYFastDraw2

; 347  : 	nowXFastDraw2 = 0;

  002b6	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowXFastDraw2@@3HA, 0 ; nowXFastDraw2

; 348  : 	nowYFastDraw2 = 0;

  002c0	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?nowYFastDraw2@@3HA, 0 ; nowYFastDraw2

; 349  : 	baseXFastDraw2 = 0;

  002ca	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?baseXFastDraw2@@3HA, 0 ; baseXFastDraw2

; 350  : 	baseYFastDraw2 = 0;

  002d4	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?baseYFastDraw2@@3HA, 0 ; baseYFastDraw2

; 351  : 	vsLookFlag = 0;

  002de	33 c0		 xor	 eax, eax
  002e0	66 a3 00 00 00
	00		 mov	 WORD PTR ?vsLookFlag@@3FA, ax ; vsLookFlag

; 352  : 	fastDrawTileFlag = 1;

  002e6	b8 01 00 00 00	 mov	 eax, 1
  002eb	66 a3 00 00 00
	00		 mov	 WORD PTR ?fastDrawTileFlag@@3FA, ax ; fastDrawTileFlag

; 353  : 	transmigrationEffectFlag = 0;

  002f1	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?transmigrationEffectFlag@@3HA, 0 ; transmigrationEffectFlag

; 354  : 	transEffectPaletteStatus = 0;

  002fb	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?transEffectPaletteStatus@@3HA, 0 ; transEffectPaletteStatus

; 355  : 	transEffectPaletteAfterWaitTime = 0;

  00305	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?transEffectPaletteAfterWaitTime@@3IA, 0 ; transEffectPaletteAfterWaitTime

; 356  : #ifdef MAP_CACHE_PROC
; 357  : 	initMapCache();
; 358  : #endif
; 359  : }

  0030f	5f		 pop	 edi
  00310	5e		 pop	 esi
  00311	5b		 pop	 ebx
  00312	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00318	3b ec		 cmp	 ebp, esp
  0031a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0031f	8b e5		 mov	 esp, ebp
  00321	5d		 pop	 ebp
  00322	c3		 ret	 0
?initMap@@YAXXZ ENDP					; initMap
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT _sprintf
_TEXT	SEGMENT
__ArgList$ = -20					; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
_sprintf PROC						; COMDAT

; 1776 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1777 :     int _Result;
; 1778 :     va_list _ArgList;
; 1779 :     __crt_va_start(_ArgList, _Format);

  0001e	e8 00 00 00 00	 call	 ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
  00023	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  00026	89 45 ec	 mov	 DWORD PTR __ArgList$[ebp], eax

; 1780 : 
; 1781 :     #pragma warning(push)
; 1782 :     #pragma warning(disable: 4996) // Deprecation
; 1783 :     _Result = _vsprintf_l(_Buffer, _Format, NULL, _ArgList);

  00029	8b 45 ec	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0002c	50		 push	 eax
  0002d	6a 00		 push	 0
  0002f	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00032	51		 push	 ecx
  00033	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  00036	52		 push	 edx
  00037	e8 00 00 00 00	 call	 __vsprintf_l
  0003c	83 c4 10	 add	 esp, 16			; 00000010H
  0003f	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1784 :     #pragma warning(pop)
; 1785 : 
; 1786 :     __crt_va_end(_ArgList);

  00042	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 1787 :     return _Result;

  00049	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]

; 1788 : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00055	3b ec		 cmp	 ebp, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
_sprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsprintf_l
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
__Locale$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vsprintf_l PROC					; COMDAT

; 1455 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1456 :     #pragma warning(push)
; 1457 :     #pragma warning(disable: 4996) // Deprecation
; 1458 :     return _vsnprintf_l(_Buffer, (size_t)-1, _Format, _Locale, _ArgList);

  0001e	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00021	50		 push	 eax
  00022	8b 4d 10	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00025	51		 push	 ecx
  00026	8b 55 0c	 mov	 edx, DWORD PTR __Format$[ebp]
  00029	52		 push	 edx
  0002a	6a ff		 push	 -1
  0002c	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 __vsnprintf_l
  00035	83 c4 14	 add	 esp, 20			; 00000014H

; 1459 :     #pragma warning(pop)
; 1460 : }

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	5b		 pop	 ebx
  0003b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00041	3b ec		 cmp	 ebp, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
__vsprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsnprintf_l
_TEXT	SEGMENT
tv74 = -208						; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__Locale$ = 20						; size = 4
__ArgList$ = 24						; size = 4
__vsnprintf_l PROC					; COMDAT

; 1385 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 30 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-208]
  00012	b9 34 00 00 00	 mov	 ecx, 52			; 00000034H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1386 :     int const _Result = __stdio_common_vsprintf(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 18	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 14	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 10	 mov	 edx, DWORD PTR __Format$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 0c	 mov	 eax, DWORD PTR __BufferCount$[ebp]
  0002f	50		 push	 eax
  00030	8b 4d 08	 mov	 ecx, DWORD PTR __Buffer$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00039	8b 10		 mov	 edx, DWORD PTR [eax]
  0003b	83 ca 01	 or	 edx, 1
  0003e	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00041	50		 push	 eax
  00042	52		 push	 edx
  00043	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf
  00049	83 c4 1c	 add	 esp, 28			; 0000001cH
  0004c	3b f4		 cmp	 esi, esp
  0004e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00053	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1387 :         _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS | _CRT_INTERNAL_PRINTF_LEGACY_VSPRINTF_NULL_TERMINATION,
; 1388 :         _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1389 : 
; 1390 :     return _Result < 0 ? -1 : _Result;

  00056	83 7d f8 00	 cmp	 DWORD PTR __Result$[ebp], 0
  0005a	7d 0c		 jge	 SHORT $LN3@vsnprintf_
  0005c	c7 85 30 ff ff
	ff ff ff ff ff	 mov	 DWORD PTR tv74[ebp], -1
  00066	eb 09		 jmp	 SHORT $LN4@vsnprintf_
$LN3@vsnprintf_:
  00068	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]
  0006b	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], eax
$LN4@vsnprintf_:
  00071	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv74[ebp]

; 1391 : }

  00077	5f		 pop	 edi
  00078	5e		 pop	 esi
  00079	5b		 pop	 ebx
  0007a	81 c4 d0 00 00
	00		 add	 esp, 208		; 000000d0H
  00080	3b ec		 cmp	 ebp, esp
  00082	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00087	8b e5		 mov	 esp, ebp
  00089	5d		 pop	 ebp
  0008a	c3		 ret	 0
__vsnprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\microsoft visual studio 14.0\vc\include\vadefs.h
;	COMDAT ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ
_TEXT	SEGMENT
??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ PROC	; __vcrt_va_start_verify_argument_type<char const * const>, COMDAT

; 144  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 145  :             static_assert(!__vcrt_va_list_is_reference<_Ty>::__the_value, "va_start argument must not have reference type and must not be parenthesized");
; 146  :         }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ENDP	; __vcrt_va_start_verify_argument_type<char const * const>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\corecrt_stdio_config.h
;	COMDAT ___local_stdio_printf_options
_TEXT	SEGMENT
___local_stdio_printf_options PROC			; COMDAT

; 73   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 74   :     static unsigned __int64 _OptionsStorage;
; 75   :     return &_OptionsStorage;

  0001e	b8 00 00 00 00	 mov	 eax, OFFSET ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage

; 76   : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
___local_stdio_printf_options ENDP
_TEXT	ENDS
END
