; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.24215.1 

	TITLE	C:\Users\Administrator\Desktop\????? ??\????? ??\Client Source Code\system\chat.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?pNowStrBuffer@@3PAUSTR_BUFFER@@A		; pNowStrBuffer
PUBLIC	?ChatBuffer@@3PAU_CHAT_BUFFER@@A		; ChatBuffer
PUBLIC	?MyChatBuffer@@3USTR_BUFFER@@A			; MyChatBuffer
PUBLIC	?NowChatLine@@3HA				; NowChatLine
PUBLIC	?NowMaxChatLine@@3HA				; NowMaxChatLine
PUBLIC	?NowMaxVoice@@3HA				; NowMaxVoice
PUBLIC	?SubBuffer@@3USTR_BUFFER@@A			; SubBuffer
PUBLIC	?CursorFlashCnt@@3HA				; CursorFlashCnt
PUBLIC	?ChatLineSmoothY@@3HA				; ChatLineSmoothY
PUBLIC	?ChatHistory@@3UCHAT_HISTORY@@A			; ChatHistory
PUBLIC	?SayShieldList@@3PAY0BI@DA			; SayShieldList
PUBLIC	?NameShieldList@@3PAY0BI@DA			; NameShieldList
PUBLIC	?chatLogFile@@3PAU_iobuf@@A			; chatLogFile
PUBLIC	?chatLogFileName@@3PADA				; chatLogFileName
_BSS	SEGMENT
?pNowStrBuffer@@3PAUSTR_BUFFER@@A DD 01H DUP (?)	; pNowStrBuffer
?ChatBuffer@@3PAU_CHAT_BUFFER@@A DB 026e8H DUP (?)	; ChatBuffer
?MyChatBuffer@@3USTR_BUFFER@@A DB 0128H DUP (?)		; MyChatBuffer
?NowChatLine@@3HA DD 01H DUP (?)			; NowChatLine
?±íÇéÍ¼Æ¬Ë÷Òý@?1??ChatBufferToFontBuffer@@YAXXZ@4HA DD 01H DUP (?) ; `ChatBufferToFontBuffer'::`2'::±íÇéÍ¼Æ¬Ë÷Òý
?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA DD 01H DUP (?) ; `ChatBufferToFontBuffer'::`2'::±íÇé´°¿Ú×´Ì¬
?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA DD 01H DUP (?) ; `ChatBufferToFontBuffer'::`2'::±íÇéµ±Ç°Ò³
?SubBuffer@@3USTR_BUFFER@@A DB 0128H DUP (?)		; SubBuffer
?CursorFlashCnt@@3HA DD 01H DUP (?)			; CursorFlashCnt
?ChatLineSmoothY@@3HA DD 01H DUP (?)			; ChatLineSmoothY
?ChatHistory@@3UCHAT_HISTORY@@A DB 04148H DUP (?)	; ChatHistory
?SayShieldList@@3PAY0BI@DA DB 01d4c0H DUP (?)		; SayShieldList
?NameShieldList@@3PAY0BI@DA DB 01d4c0H DUP (?)		; NameShieldList
?chatLogFile@@3PAU_iobuf@@A DD 01H DUP (?)		; chatLogFile
?szWord@?1??LoadReadSayShield@@YAHXZ@4PADA DB 014H DUP (?) ; `LoadReadSayShield'::`2'::szWord
?szName_@?1??LoadReadNameShield@@YAHXZ@4PADA DB 014H DUP (?) ; `LoadReadNameShield'::`2'::szName_
_BSS	ENDS
_DATA	SEGMENT
?first_keydown@?1??KeyboardReturn@@YAXXZ@4_NA DB 01H	; `KeyboardReturn'::`2'::first_keydown
	ORG $+3
?NowMaxChatLine@@3HA DD 014H				; NowMaxChatLine
?NowMaxVoice@@3HA DD 03H				; NowMaxVoice
?±íÇé×ÜÒ³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA DD 03H	; `ChatBufferToFontBuffer'::`2'::±íÇé×ÜÒ³
?chatLogFileName@@3PADA DB 'CHAT_000000.TXT', 00H	; chatLogFileName
_DATA	ENDS
PUBLIC	___local_stdio_printf_options
PUBLIC	___local_stdio_scanf_options
PUBLIC	__vfprintf_l
PUBLIC	_fprintf
PUBLIC	??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
PUBLIC	__vsnprintf_l
PUBLIC	__vsprintf_l
PUBLIC	__vsprintf_s_l
PUBLIC	_vsprintf_s
PUBLIC	_sprintf
PUBLIC	__vsscanf_l
PUBLIC	_sscanf
PUBLIC	?StockStrBufferChar@@YAXD@Z			; StockStrBufferChar
PUBLIC	?StockStrBufferDBChar@@YAXPAD@Z			; StockStrBufferDBChar
PUBLIC	?ChatBufferToFontBuffer@@YAXXZ			; ChatBufferToFontBuffer
PUBLIC	?ChatProc@@YAXXZ				; ChatProc
PUBLIC	?StockChatBufferLine@@YAXPADEH@Z		; StockChatBufferLine
PUBLIC	?StockChatBufferLineExt@@YAXPADEHH@Z		; StockChatBufferLineExt
PUBLIC	?ClearChatBuffer@@YAXXZ				; ClearChatBuffer
PUBLIC	?GetStrLastByte@@YAHPAD@Z			; GetStrLastByte
PUBLIC	?GetStrWidth@@YAHPAD@Z				; GetStrWidth
PUBLIC	?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z		; GetKeyInputFocus
PUBLIC	?InitChat@@YAXXZ				; InitChat
PUBLIC	?FlashKeyboardCursor@@YAXXZ			; FlashKeyboardCursor
PUBLIC	?KeyboardLeft@@YAXXZ				; KeyboardLeft
PUBLIC	?KeyboardRight@@YAXXZ				; KeyboardRight
PUBLIC	?KeyboardReturn@@YAXXZ				; KeyboardReturn
PUBLIC	?KeyboardBackSpace@@YAXXZ			; KeyboardBackSpace
PUBLIC	?SaveChatHistoryStr@@YAHH@Z			; SaveChatHistoryStr
PUBLIC	?LoadChatHistoryStr@@YAHXZ			; LoadChatHistoryStr
PUBLIC	?LoadReadSayShield@@YAHXZ			; LoadReadSayShield
PUBLIC	?LoadReadNameShield@@YAHXZ			; LoadReadNameShield
PUBLIC	?CheckSay@@YA_NPBDD@Z				; CheckSay
PUBLIC	?CheckName@@YA_NPBD@Z				; CheckName
PUBLIC	?GetClipboad@@YAXXZ				; GetClipboad
PUBLIC	?SetClipboad@@YAXXZ				; SetClipboad
PUBLIC	?StrToNowStrBuffer@@YAXPAD@Z			; StrToNowStrBuffer
PUBLIC	?KeyboardTab@@YAXXZ				; KeyboardTab
PUBLIC	?openChatLogFile@@YAXXZ				; openChatLogFile
PUBLIC	?EncryptFileName@@YAPAXPBDAAI@Z			; EncryptFileName
PUBLIC	??0?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptClient<85,104,201,60,107,73,129,101>
PUBLIC	?Init@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXXZ ; CEncryptClient<85,104,201,60,107,73,129,101>::Init
PUBLIC	?Encrypt@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXPAEH_N@Z ; CEncryptClient<85,104,201,60,107,73,129,101>::Encrypt
PUBLIC	??0CEncryptCode@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptCode::CEncryptCode
PUBLIC	?MoveFilePointInt@@YAHPBDIAAIAAHH@Z		; MoveFilePointInt
PUBLIC	?StrToNowStrBuffer1@@YAXPAD@Z			; StrToNowStrBuffer1
PUBLIC	?StrToNowStrBuffer2@@YAHPAD@Z			; StrToNowStrBuffer2
PUBLIC	??$strncpy_s@$0BAF@@@YAHAAY0BAF@DPBDI@Z		; strncpy_s<261>
PUBLIC	??$strncpy_s@$0EAA@@@YAHAAY0EAA@DPBDI@Z		; strncpy_s<1024>
PUBLIC	??$sprintf_s@$0IA@@@YAHAAY0IA@DPBDZZ		; sprintf_s<128>
PUBLIC	??$strcat_s@$0BAE@@@YAHAAY0BAE@DPBD@Z		; strcat_s<260>
PUBLIC	??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const *>
PUBLIC	?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage
PUBLIC	?_OptionsStorage@?1??__local_stdio_scanf_options@@9@4_KA ; `__local_stdio_scanf_options'::`2'::_OptionsStorage
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_0BB@BLGDDDEM@data?2channel?4dat?$AA@	; `string'
PUBLIC	??_C@_02CHHAKFFB@w?$CL?$AA@			; `string'
PUBLIC	??_C@_0BG@FPPMNNCD@CHAT_?$CF02d?$CF02d?$CF02d?4TXT?$AA@ ; `string'
PUBLIC	??_C@_01MCMALHOG@a?$AA@				; `string'
PUBLIC	??_C@_0DC@OHCCGGLJ@?9?9?9?9?9?5Login?3?5?$CF02d?1?$CF02d?1?$CF02d?5?$CF02d@ ; `string'
PUBLIC	??_C@_03HMFOOINA@r?$CLb?$AA@			; `string'
PUBLIC	??_C@_0BB@NBMCCIBO@data?2chathis?4dat?$AA@	; `string'
PUBLIC	??_C@_02JDPG@rb?$AA@				; `string'
PUBLIC	??_C@_02GMLFBBN@wb?$AA@				; `string'
PUBLIC	?__LINE__Var@?0??EncryptFileName@@YAPAXPBDAAI@Z@4JA ; `EncryptFileName'::`1'::__LINE__Var
PUBLIC	??_C@_00CNPNBAHC@?$AA@				; `string'
PUBLIC	??_C@_0M@OJFNJGNP@data?1?$CFs?4bin?$AA@		; `string'
PUBLIC	??_C@_0GC@NPMAGJAK@c?3?2users?2administrator?2desktop?2?$LN@ ; `string'
PUBLIC	??_C@_01EEMJAFIK@?6?$AA@			; `string'
PUBLIC	??_C@_0M@GNOANMGB@ShieldWorld?$AA@		; `string'
PUBLIC	??_C@_02DKCKIIND@?$CFs?$AA@			; `string'
PUBLIC	??_C@_0L@DMHAPCJA@ShieldName?$AA@		; `string'
PUBLIC	??_C@_01IDAFKMJL@_?$AA@				; `string'
PUBLIC	??_C@_04DNPDJLGB@C?$HM?$CFs?$AA@		; `string'
PUBLIC	??_C@_03OFAPEBGM@?$CFs?6?$AA@			; `string'
PUBLIC	??_C@_0CJ@PPAMOMEI@?$LL?s?$LE?k?$LJ?f?$LP?$KB?$LA?T?5?$MA?$PM?$LM?$NL?G?R?5?$MA?L?$LI?p?F?$LM?D?$NM?$MA?$LL?5?$LM?$LB?E@ ; `string'
PUBLIC	??_C@_05OLBKMNMB@?$HL?$CD?$CFd?$HN?$AA@		; `string'
PUBLIC	__real@3ff6666666666666
EXTRN	??_V@YAXPAX@Z:PROC				; operator delete[]
EXTRN	___report_rangecheckfailure:PROC
EXTRN	__Init_thread_header:PROC
EXTRN	__Init_thread_abort:PROC
EXTRN	__Init_thread_footer:PROC
EXTRN	??_U@YAPAXIHPBDH@Z:PROC				; operator new[]
EXTRN	?TimeGetTime@@YAIXZ:PROC			; TimeGetTime
EXTRN	_memset:PROC
EXTRN	__imp__strstr:PROC
EXTRN	__imp__strcat_s:PROC
EXTRN	__imp__strncpy_s:PROC
EXTRN	_strcmp:PROC
EXTRN	_strcpy:PROC
EXTRN	_strlen:PROC
EXTRN	__imp__strlwr:PROC
EXTRN	__imp__GlobalAlloc@8:PROC
EXTRN	__imp__GlobalLock@4:PROC
EXTRN	__imp__GlobalUnlock@4:PROC
EXTRN	__imp__lstrcpynA@12:PROC
EXTRN	__imp__lstrcpyA@8:PROC
EXTRN	__imp__OpenClipboard@4:PROC
EXTRN	__imp__CloseClipboard@0:PROC
EXTRN	__imp__SetClipboardData@8:PROC
EXTRN	__imp__GetClipboardData@4:PROC
EXTRN	__imp__EmptyClipboard@0:PROC
EXTRN	__imp__LCMapStringA@24:PROC
EXTRN	__imp__IsDBCSLeadByte@4:PROC
EXTRN	__imp__fclose:PROC
EXTRN	__imp__fopen:PROC
EXTRN	__imp__fread:PROC
EXTRN	__imp__fseek:PROC
EXTRN	__imp__ftell:PROC
EXTRN	__imp__fwrite:PROC
EXTRN	__imp____stdio_common_vfprintf:PROC
EXTRN	__imp____stdio_common_vsprintf:PROC
EXTRN	__imp____stdio_common_vsprintf_s:PROC
EXTRN	__imp____stdio_common_vsscanf:PROC
EXTRN	?DeathAction@@YAXPAUaction@@@Z:PROC		; DeathAction
EXTRN	?StockDispBuffer@@YAHHHEHH@Z:PROC		; StockDispBuffer
EXTRN	?StockDispBuffer¾ø¶ÔÎ»ÖÃ@@YAHHHEHH@Z:PROC	; StockDispBuffer¾ø¶ÔÎ»ÖÃ
EXTRN	?NewStockFontBuffer@@YAXPAU_CHAT_BUFFER@@HEPADHH@Z:PROC ; NewStockFontBuffer
EXTRN	?delFontBuffer@@YAXPAU_CHAT_BUFFER@@@Z:PROC	; delFontBuffer
EXTRN	?StockFontBuffer@@YAHHHDHPADH@Z:PROC		; StockFontBuffer
EXTRN	?StockFontBufferExt@@YAHHHDHPADHH@Z:PROC	; StockFontBufferExt
EXTRN	?StockFontBuffer2@@YAXPAUSTR_BUFFER@@@Z:PROC	; StockFontBuffer2
EXTRN	?GetImeString@@YAPADXZ:PROC			; GetImeString
EXTRN	?GetCharPrev@@YAPADPAD0@Z:PROC			; GetCharPrev
EXTRN	?chatStrSendForServer@@YAXPADH@Z:PROC		; chatStrSendForServer
EXTRN	?getUserChatOption@@YAXXZ:PROC			; getUserChatOption
EXTRN	__imp___localtime64:PROC
EXTRN	__imp___time64:PROC
EXTRN	?MakeHitBox@@YAHHHHHH@Z:PROC			; MakeHitBox
EXTRN	?play_se@@YAHHHH@Z:PROC				; play_se
EXTRN	?lssproto_FS_send@@YAXHH@Z:PROC			; lssproto_FS_send
EXTRN	?lssproto_FT_send@@YAXHPAD@Z:PROC		; lssproto_FT_send
EXTRN	?lssproto_KN_send@@YAXHHPAD@Z:PROC		; lssproto_KN_send
EXTRN	?lssproto_CHATROOM_send@@YAXHPAD@Z:PROC		; lssproto_CHATROOM_send
EXTRN	?old_lssproto_FS_send@@YAXHH@Z:PROC		; old_lssproto_FS_send
EXTRN	?old_lssproto_FT_send@@YAXHPAD@Z:PROC		; old_lssproto_FT_send
EXTRN	?old_lssproto_KN_send@@YAXHHPAD@Z:PROC		; old_lssproto_KN_send
EXTRN	?BIG5ToGB2312@@YAPADPBD@Z:PROC			; BIG5ToGB2312
EXTRN	?Ëµ»°·ÖÐÐ@@YAPADPADHH@Z:PROC			; Ëµ»°·ÖÐÐ
EXTRN	?ShowBottomLineString@@YAXHPAD@Z:PROC		; ShowBottomLineString
EXTRN	?selGraId@@YAHPAHH@Z:PROC			; selGraId
EXTRN	@_RTC_CheckStackVars@8:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_InitBase:PROC
EXTRN	__RTC_Shutdown:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	_memset:PROC
EXTRN	__Init_thread_epoch:DWORD
EXTRN	?DISPLACEMENT_Y@@3HA:DWORD			; DISPLACEMENT_Y
EXTRN	?hWnd@@3PAUHWND__@@A:DWORD			; hWnd
EXTRN	?ResoMode@@3HA:DWORD				; ResoMode
EXTRN	?joy_con@@3PAKA:QWORD				; joy_con
EXTRN	?joy_trg@@3PAKA:QWORD				; joy_trg
EXTRN	?joy_auto@@3PAKA:QWORD				; joy_auto
EXTRN	?mouse@@3UMOUSE@@A:BYTE				; mouse
EXTRN	?pc@@3UPC@@A:BYTE				; pc
EXTRN	?partyModeFlag@@3FA:WORD			; partyModeFlag
EXTRN	?MenuToggleFlag@@3IA:DWORD			; MenuToggleFlag
EXTRN	?chatRegistryStr@@3PAUSTR_BUFFER@@A:BYTE	; chatRegistryStr
EXTRN	?MailStr@@3USTR_BUFFER@@A:BYTE			; MailStr
EXTRN	?pActMenuWnd3@@3PAUaction@@A:DWORD		; pActMenuWnd3
EXTRN	?shougouChange@@3USTR_BUFFER@@A:BYTE		; shougouChange
EXTRN	?petNameChange@@3USTR_BUFFER@@A:BYTE		; petNameChange
EXTRN	?AuctionStr@@3USTR_BUFFER@@A:BYTE		; AuctionStr
EXTRN	?petStatusNo@@3HA:DWORD				; petStatusNo
EXTRN	?TalkMode@@3HA:DWORD				; TalkMode
EXTRN	?secretName@@3PADA:BYTE				; secretName
EXTRN	?setRoomFlag@@3_NA:BYTE				; setRoomFlag
EXTRN	?secretFlag@@3_NA:BYTE				; secretFlag
EXTRN	?selChar@@3HA:DWORD				; selChar
EXTRN	?chatRoomName@@3USTR_BUFFER@@A:BYTE		; chatRoomName
EXTRN	?pSetRoomWnd@@3PAUaction@@A:DWORD		; pSetRoomWnd
EXTRN	?bNewServer@@3HA:DWORD				; bNewServer
EXTRN	?sockfd@@3IA:DWORD				; sockfd
EXTRN	?±àÂë@@3HA:DWORD				; ±àÂë
EXTRN	?·±Ìå¿ª¹Ø@@3HA:DWORD				; ·±Ìå¿ª¹Ø
EXTRN	?idPasswordStr@@3PAUSTR_BUFFER@@A:DWORD		; idPasswordStr
EXTRN	?idKeyReturn@@3FA:WORD				; idKeyReturn
EXTRN	?idKey@@3USTR_BUFFER@@A:BYTE			; idKey
EXTRN	?passwd@@3USTR_BUFFER@@A:BYTE			; passwd
EXTRN	?selCharName@@3USTR_BUFFER@@A:BYTE		; selCharName
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
EXTRN	__tls_array:DWORD
EXTRN	__tls_index:DWORD
;	COMDAT ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA
_BSS	SEGMENT
?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA DQ 01H DUP (?) ; `__local_stdio_printf_options'::`2'::_OptionsStorage
_BSS	ENDS
;	COMDAT ?_OptionsStorage@?1??__local_stdio_scanf_options@@9@4_KA
_BSS	SEGMENT
?_OptionsStorage@?1??__local_stdio_scanf_options@@9@4_KA DQ 01H DUP (?) ; `__local_stdio_scanf_options'::`2'::_OptionsStorage
_BSS	ENDS
_BSS	SEGMENT
?dwChannelChangeTime@?1??KeyboardTab@@YAXXZ@4KA DD 01H DUP (?) ; `KeyboardTab'::`2'::dwChannelChangeTime
?$TSS0@?1??KeyboardTab@@YAXXZ@4HA DD 01H DUP (?)	; TSS0<`template-parameter-2',yboardTab,int, ?? &>
?PreTime@?4??KeyboardReturn@@YAXXZ@4KA DD 01H DUP (?)	; `KeyboardReturn'::`5'::PreTime
?$TSS0@?4??KeyboardReturn@@YAXXZ@4HA DD 01H DUP (?)	; TSS0<`template-parameter-5',yboardReturn,int, ?? &>
?CurTime@?4??KeyboardReturn@@YAXXZ@4KA DD 01H DUP (?)	; `KeyboardReturn'::`5'::CurTime
_BSS	ENDS
;	COMDAT __real@3ff6666666666666
CONST	SEGMENT
__real@3ff6666666666666 DQ 03ff6666666666666r	; 1.4
CONST	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT ??_C@_05OLBKMNMB@?$HL?$CD?$CFd?$HN?$AA@
CONST	SEGMENT
??_C@_05OLBKMNMB@?$HL?$CD?$CFd?$HN?$AA@ DB '{#%d}', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@PPAMOMEI@?$LL?s?$LE?k?$LJ?f?$LP?$KB?$LA?T?5?$MA?$PM?$LM?$NL?G?R?5?$MA?L?$LI?p?F?$LM?D?$NM?$MA?$LL?5?$LM?$LB?E@
CONST	SEGMENT
??_C@_0CJ@PPAMOMEI@?$LL?s?$LE?k?$LJ?f?$LP?$KB?$LA?T?5?$MA?$PM?$LM?$NL?G?R?5?$MA?L?$LI?p?F?$LM?D?$NM?$MA?$LL?5?$LM?$LB?E@ DB 0bbH
	DB	0f3H, 0b4H, 0ebH, 0b9H, 0e6H, 0bfH, 0a1H, 0b0H, 0d4H, ' ', 0c0H
	DB	0fcH, 0bcH, 0dbH, 0c7H, 0d2H, ' ', 0c0H, 0ccH, 0b8H, 0f0H, 0c6H
	DB	0bcH, 0c4H, 0dcH, 0c0H, 0bbH, ' ', 0bcH, 0b1H, 0c5H, 0c3H, 0c7H
	DB	0d5H, 0b4H, 0cfH, 0b4H, 0d9H, '.', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_03OFAPEBGM@?$CFs?6?$AA@
CONST	SEGMENT
??_C@_03OFAPEBGM@?$CFs?6?$AA@ DB '%s', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_04DNPDJLGB@C?$HM?$CFs?$AA@
CONST	SEGMENT
??_C@_04DNPDJLGB@C?$HM?$CFs?$AA@ DB 'C|%s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_01IDAFKMJL@_?$AA@
CONST	SEGMENT
??_C@_01IDAFKMJL@_?$AA@ DB '_', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@DMHAPCJA@ShieldName?$AA@
CONST	SEGMENT
??_C@_0L@DMHAPCJA@ShieldName?$AA@ DB 'ShieldName', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs?$AA@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs?$AA@ DB '%s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@GNOANMGB@ShieldWorld?$AA@
CONST	SEGMENT
??_C@_0M@GNOANMGB@ShieldWorld?$AA@ DB 'ShieldWorld', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_01EEMJAFIK@?6?$AA@
CONST	SEGMENT
??_C@_01EEMJAFIK@?6?$AA@ DB 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0GC@NPMAGJAK@c?3?2users?2administrator?2desktop?2?$LN@
CONST	SEGMENT
??_C@_0GC@NPMAGJAK@c?3?2users?2administrator?2desktop?2?$LN@ DB 'c:\users'
	DB	'\administrator\desktop\', 0bdH, 0baH, 0c5H, 0e6H, 0bfH, 0a1H, 0c0H
	DB	0ccH, 0c1H, 0f6H, ' ', 0c0H, 0daH, 0b7H, 0e1H, '\', 0c5H, 0acH
	DB	0b6H, 0f3H, 0c0H, 0ccH, 0beH, 0f0H, 0c6H, 0aeH, ' ', 0c0H, 0daH
	DB	0b7H, 0e1H, '\client source code\system\chat.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@OJFNJGNP@data?1?$CFs?4bin?$AA@
CONST	SEGMENT
??_C@_0M@OJFNJGNP@data?1?$CFs?4bin?$AA@ DB 'data/%s.bin', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_00CNPNBAHC@?$AA@
CONST	SEGMENT
??_C@_00CNPNBAHC@?$AA@ DB 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??EncryptFileName@@YAPAXPBDAAI@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??EncryptFileName@@YAPAXPBDAAI@Z@4JA DD 0e2H ; `EncryptFileName'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_02GMLFBBN@wb?$AA@
CONST	SEGMENT
??_C@_02GMLFBBN@wb?$AA@ DB 'wb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_02JDPG@rb?$AA@
CONST	SEGMENT
??_C@_02JDPG@rb?$AA@ DB 'rb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@NBMCCIBO@data?2chathis?4dat?$AA@
CONST	SEGMENT
??_C@_0BB@NBMCCIBO@data?2chathis?4dat?$AA@ DB 'data\chathis.dat', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_03HMFOOINA@r?$CLb?$AA@
CONST	SEGMENT
??_C@_03HMFOOINA@r?$CLb?$AA@ DB 'r+b', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DC@OHCCGGLJ@?9?9?9?9?9?5Login?3?5?$CF02d?1?$CF02d?1?$CF02d?5?$CF02d@
CONST	SEGMENT
??_C@_0DC@OHCCGGLJ@?9?9?9?9?9?5Login?3?5?$CF02d?1?$CF02d?1?$CF02d?5?$CF02d@ DB '-'
	DB	'---- Login: %02d/%02d/%02d %02d:%02d:%02d -----', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_01MCMALHOG@a?$AA@
CONST	SEGMENT
??_C@_01MCMALHOG@a?$AA@ DB 'a', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@FPPMNNCD@CHAT_?$CF02d?$CF02d?$CF02d?4TXT?$AA@
CONST	SEGMENT
??_C@_0BG@FPPMNNCD@CHAT_?$CF02d?$CF02d?$CF02d?4TXT?$AA@ DB 'CHAT_%02d%02d'
	DB	'%02d.TXT', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_02CHHAKFFB@w?$CL?$AA@
CONST	SEGMENT
??_C@_02CHHAKFFB@w?$CL?$AA@ DB 'w+', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@BLGDDDEM@data?2channel?4dat?$AA@
CONST	SEGMENT
??_C@_0BB@BLGDDDEM@data?2channel?4dat?$AA@ DB 'data\channel.dat', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?KeyboardTab@@YAXXZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?KeyboardTab@@YAXXZ$0
__ehfuncinfo$?KeyboardTab@@YAXXZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?KeyboardTab@@YAXXZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?KeyboardReturn@@YAXXZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?KeyboardReturn@@YAXXZ$0
__ehfuncinfo$?KeyboardReturn@@YAXXZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?KeyboardReturn@@YAXXZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\microsoft visual studio 14.0\vc\include\vadefs.h
;	COMDAT ??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ
_TEXT	SEGMENT
??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ PROC	; __vcrt_va_start_verify_argument_type<char const *>, COMDAT

; 144  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 145  :             static_assert(!__vcrt_va_list_is_reference<_Ty>::__the_value, "va_start argument must not have reference type and must not be parenthesized");
; 146  :         }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ ENDP	; __vcrt_va_start_verify_argument_type<char const *>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\string.h
;	COMDAT ??$strcat_s@$0BAE@@@YAHAAY0BAE@DPBD@Z
_TEXT	SEGMENT
__Destination$ = 8					; size = 4
__Source$ = 12						; size = 4
??$strcat_s@$0BAE@@@YAHAAY0BAE@DPBD@Z PROC		; strcat_s<260>, COMDAT

; 82   :     )

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 78   : __DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_1(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 0c	 mov	 eax, DWORD PTR __Source$[ebp]
  00023	50		 push	 eax
  00024	68 04 01 00 00	 push	 260			; 00000104H
  00029	8b 4d 08	 mov	 ecx, DWORD PTR __Destination$[ebp]
  0002c	51		 push	 ecx
  0002d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__strcat_s
  00033	83 c4 0c	 add	 esp, 12			; 0000000cH
  00036	3b f4		 cmp	 esi, esp
  00038	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi
  0003f	5b		 pop	 ebx
  00040	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00046	3b ec		 cmp	 ebp, esp
  00048	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0004d	8b e5		 mov	 esp, ebp
  0004f	5d		 pop	 ebp
  00050	c3		 ret	 0
??$strcat_s@$0BAE@@@YAHAAY0BAE@DPBD@Z ENDP		; strcat_s<260>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT ??$sprintf_s@$0IA@@@YAHAAY0IA@DPBDZZ
_TEXT	SEGMENT
__ArgList$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
??$sprintf_s@$0IA@@@YAHAAY0IA@DPBDZZ PROC		; sprintf_s<128>, COMDAT

; 1850 :     )

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1846 : __DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_1_ARGLIST(

  0001e	e8 00 00 00 00	 call	 ??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const *>
  00023	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  00026	89 45 f8	 mov	 DWORD PTR __ArgList$[ebp], eax
  00029	8b 45 f8	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0002c	50		 push	 eax
  0002d	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00030	51		 push	 ecx
  00031	68 80 00 00 00	 push	 128			; 00000080H
  00036	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  00039	52		 push	 edx
  0003a	e8 00 00 00 00	 call	 _vsprintf_s
  0003f	83 c4 10	 add	 esp, 16			; 00000010H
  00042	5f		 pop	 edi
  00043	5e		 pop	 esi
  00044	5b		 pop	 ebx
  00045	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0004b	3b ec		 cmp	 ebp, esp
  0004d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00052	8b e5		 mov	 esp, ebp
  00054	5d		 pop	 ebp
  00055	c3		 ret	 0
??$sprintf_s@$0IA@@@YAHAAY0IA@DPBDZZ ENDP		; sprintf_s<128>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\string.h
;	COMDAT ??$strncpy_s@$0EAA@@@YAHAAY0EAA@DPBDI@Z
_TEXT	SEGMENT
__Destination$ = 8					; size = 4
__Source$ = 12						; size = 4
__Count$ = 16						; size = 4
??$strncpy_s@$0EAA@@@YAHAAY0EAA@DPBDI@Z PROC		; strncpy_s<1024>, COMDAT

; 338  :     )

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 333  : __DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_2(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 10	 mov	 eax, DWORD PTR __Count$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 0c	 mov	 ecx, DWORD PTR __Source$[ebp]
  00027	51		 push	 ecx
  00028	68 00 04 00 00	 push	 1024			; 00000400H
  0002d	8b 55 08	 mov	 edx, DWORD PTR __Destination$[ebp]
  00030	52		 push	 edx
  00031	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__strncpy_s
  00037	83 c4 10	 add	 esp, 16			; 00000010H
  0003a	3b f4		 cmp	 esi, esp
  0003c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00041	5f		 pop	 edi
  00042	5e		 pop	 esi
  00043	5b		 pop	 ebx
  00044	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0004a	3b ec		 cmp	 ebp, esp
  0004c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00051	8b e5		 mov	 esp, ebp
  00053	5d		 pop	 ebp
  00054	c3		 ret	 0
??$strncpy_s@$0EAA@@@YAHAAY0EAA@DPBDI@Z ENDP		; strncpy_s<1024>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\string.h
;	COMDAT ??$strncpy_s@$0BAF@@@YAHAAY0BAF@DPBDI@Z
_TEXT	SEGMENT
__Destination$ = 8					; size = 4
__Source$ = 12						; size = 4
__Count$ = 16						; size = 4
??$strncpy_s@$0BAF@@@YAHAAY0BAF@DPBDI@Z PROC		; strncpy_s<261>, COMDAT

; 338  :     )

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 333  : __DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_2(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 10	 mov	 eax, DWORD PTR __Count$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 0c	 mov	 ecx, DWORD PTR __Source$[ebp]
  00027	51		 push	 ecx
  00028	68 05 01 00 00	 push	 261			; 00000105H
  0002d	8b 55 08	 mov	 edx, DWORD PTR __Destination$[ebp]
  00030	52		 push	 edx
  00031	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__strncpy_s
  00037	83 c4 10	 add	 esp, 16			; 00000010H
  0003a	3b f4		 cmp	 esi, esp
  0003c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00041	5f		 pop	 edi
  00042	5e		 pop	 esi
  00043	5b		 pop	 ebx
  00044	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0004a	3b ec		 cmp	 ebp, esp
  0004c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00051	8b e5		 mov	 esp, ebp
  00053	5d		 pop	 ebp
  00054	c3		 ret	 0
??$strncpy_s@$0BAF@@@YAHAAY0BAF@DPBDI@Z ENDP		; strncpy_s<261>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?StrToNowStrBuffer2@@YAHPAD@Z
_TEXT	SEGMENT
_i$ = -20						; size = 4
_strLen$ = -8						; size = 4
_str$ = 8						; size = 4
?StrToNowStrBuffer2@@YAHPAD@Z PROC			; StrToNowStrBuffer2, COMDAT

; 481  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 482  : 	int strLen,i;
; 483  : 	strLen=strlen(str);

  0001e	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00021	50		 push	 eax
  00022	e8 00 00 00 00	 call	 _strlen
  00027	83 c4 04	 add	 esp, 4
  0002a	89 45 f8	 mov	 DWORD PTR _strLen$[ebp], eax

; 484  : 	if(strLen>70){

  0002d	83 7d f8 46	 cmp	 DWORD PTR _strLen$[ebp], 70 ; 00000046H
  00031	7e 33		 jle	 SHORT $LN5@StrToNowSt

; 485  : 		if(IsDBCSLeadByte(str[68]))

  00033	b8 01 00 00 00	 mov	 eax, 1
  00038	6b c8 44	 imul	 ecx, eax, 68
  0003b	8b f4		 mov	 esi, esp
  0003d	8b 55 08	 mov	 edx, DWORD PTR _str$[ebp]
  00040	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  00044	50		 push	 eax
  00045	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  0004b	3b f4		 cmp	 esi, esp
  0004d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00052	85 c0		 test	 eax, eax
  00054	74 09		 je	 SHORT $LN6@StrToNowSt

; 486  : 			strLen = 69;

  00056	c7 45 f8 45 00
	00 00		 mov	 DWORD PTR _strLen$[ebp], 69 ; 00000045H

; 487  : 		else

  0005d	eb 07		 jmp	 SHORT $LN5@StrToNowSt
$LN6@StrToNowSt:

; 488  : 			strLen = 70;

  0005f	c7 45 f8 46 00
	00 00		 mov	 DWORD PTR _strLen$[ebp], 70 ; 00000046H
$LN5@StrToNowSt:

; 489  : 	}
; 490  : 	for(i=0;i<strLen;i++){

  00066	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0006d	eb 09		 jmp	 SHORT $LN4@StrToNowSt
$LN2@StrToNowSt:
  0006f	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00072	83 c0 01	 add	 eax, 1
  00075	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN4@StrToNowSt:
  00078	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0007b	3b 45 f8	 cmp	 eax, DWORD PTR _strLen$[ebp]
  0007e	7d 4b		 jge	 SHORT $LN3@StrToNowSt

; 491  : 		if(IsDBCSLeadByte(str[i])){

  00080	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00083	03 45 ec	 add	 eax, DWORD PTR _i$[ebp]
  00086	8b f4		 mov	 esi, esp
  00088	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  0008b	51		 push	 ecx
  0008c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  00092	3b f4		 cmp	 esi, esp
  00094	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00099	85 c0		 test	 eax, eax
  0009b	74 1a		 je	 SHORT $LN8@StrToNowSt

; 492  : 			StockStrBufferDBChar(str+i);

  0009d	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  000a0	03 45 ec	 add	 eax, DWORD PTR _i$[ebp]
  000a3	50		 push	 eax
  000a4	e8 00 00 00 00	 call	 ?StockStrBufferDBChar@@YAXPAD@Z ; StockStrBufferDBChar
  000a9	83 c4 04	 add	 esp, 4

; 493  : 			i++;

  000ac	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  000af	83 c0 01	 add	 eax, 1
  000b2	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax

; 494  : 		}else

  000b5	eb 12		 jmp	 SHORT $LN9@StrToNowSt
$LN8@StrToNowSt:

; 495  : 			StockStrBufferChar(str[i]);

  000b7	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  000ba	03 45 ec	 add	 eax, DWORD PTR _i$[ebp]
  000bd	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  000c0	51		 push	 ecx
  000c1	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  000c6	83 c4 04	 add	 esp, 4
$LN9@StrToNowSt:

; 496  : 	}

  000c9	eb a4		 jmp	 SHORT $LN2@StrToNowSt
$LN3@StrToNowSt:

; 497  : 	return i;

  000cb	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]

; 498  : }

  000ce	5f		 pop	 edi
  000cf	5e		 pop	 esi
  000d0	5b		 pop	 ebx
  000d1	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000d7	3b ec		 cmp	 ebp, esp
  000d9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000de	8b e5		 mov	 esp, ebp
  000e0	5d		 pop	 ebp
  000e1	c3		 ret	 0
?StrToNowStrBuffer2@@YAHPAD@Z ENDP			; StrToNowStrBuffer2
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?StrToNowStrBuffer1@@YAXPAD@Z
_TEXT	SEGMENT
_i$1 = -1080						; size = 4
_strLen$2 = -1068					; size = 4
_·±Ìå$3 = -1056						; size = 1024
_i$4 = -24						; size = 4
_strLen$5 = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_str$ = 8						; size = 4
?StrToNowStrBuffer1@@YAXPAD@Z PROC			; StrToNowStrBuffer1, COMDAT

; 449  : void StrToNowStrBuffer1( char *str ){

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 7c 06 00
	00		 sub	 esp, 1660		; 0000067cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 84 f9 ff
	ff		 lea	 edi, DWORD PTR [ebp-1660]
  00012	b9 9f 01 00 00	 mov	 ecx, 415		; 0000019fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 450  : 	if(ç¹ä½“å¼€å…³){

  00028	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?·±Ìå¿ª¹Ø@@3HA, 0 ; ·±Ìå¿ª¹Ø
  0002f	0f 84 e4 00 00
	00		 je	 $LN8@StrToNowSt

; 451  : 		int strLen,i;
; 452  : 		char ç¹ä½“[1024]={0};

  00035	c6 85 e0 fb ff
	ff 00		 mov	 BYTE PTR _·±Ìå$3[ebp], 0
  0003c	68 ff 03 00 00	 push	 1023			; 000003ffH
  00041	6a 00		 push	 0
  00043	8d 85 e1 fb ff
	ff		 lea	 eax, DWORD PTR _·±Ìå$3[ebp+1]
  00049	50		 push	 eax
  0004a	e8 00 00 00 00	 call	 _memset
  0004f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 453  : 		LCMapString (0x804,0x4000000,str, strlen(str),ç¹ä½“,1024);

  00052	8b f4		 mov	 esi, esp
  00054	68 00 04 00 00	 push	 1024			; 00000400H
  00059	8d 85 e0 fb ff
	ff		 lea	 eax, DWORD PTR _·±Ìå$3[ebp]
  0005f	50		 push	 eax
  00060	8b 4d 08	 mov	 ecx, DWORD PTR _str$[ebp]
  00063	51		 push	 ecx
  00064	e8 00 00 00 00	 call	 _strlen
  00069	83 c4 04	 add	 esp, 4
  0006c	50		 push	 eax
  0006d	8b 55 08	 mov	 edx, DWORD PTR _str$[ebp]
  00070	52		 push	 edx
  00071	68 00 00 00 04	 push	 67108864		; 04000000H
  00076	68 04 08 00 00	 push	 2052			; 00000804H
  0007b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LCMapStringA@24
  00081	3b f4		 cmp	 esi, esp
  00083	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 454  : 		strLen=strlen(ç¹ä½“);

  00088	8d 85 e0 fb ff
	ff		 lea	 eax, DWORD PTR _·±Ìå$3[ebp]
  0008e	50		 push	 eax
  0008f	e8 00 00 00 00	 call	 _strlen
  00094	83 c4 04	 add	 esp, 4
  00097	89 45 f4	 mov	 DWORD PTR _strLen$5[ebp], eax

; 455  : 		if(strLen>86)

  0009a	83 7d f4 56	 cmp	 DWORD PTR _strLen$5[ebp], 86 ; 00000056H
  0009e	7e 07		 jle	 SHORT $LN10@StrToNowSt

; 456  : 			strLen=86;

  000a0	c7 45 f4 56 00
	00 00		 mov	 DWORD PTR _strLen$5[ebp], 86 ; 00000056H
$LN10@StrToNowSt:

; 457  : 		for(i=0;i<strLen;i++){

  000a7	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _i$4[ebp], 0
  000ae	eb 09		 jmp	 SHORT $LN4@StrToNowSt
$LN2@StrToNowSt:
  000b0	8b 45 e8	 mov	 eax, DWORD PTR _i$4[ebp]
  000b3	83 c0 01	 add	 eax, 1
  000b6	89 45 e8	 mov	 DWORD PTR _i$4[ebp], eax
$LN4@StrToNowSt:
  000b9	8b 45 e8	 mov	 eax, DWORD PTR _i$4[ebp]
  000bc	3b 45 f4	 cmp	 eax, DWORD PTR _strLen$5[ebp]
  000bf	7d 53		 jge	 SHORT $LN3@StrToNowSt

; 458  : 			if(IsDBCSLeadByte(ç¹ä½“[i])){

  000c1	8b f4		 mov	 esi, esp
  000c3	8b 45 e8	 mov	 eax, DWORD PTR _i$4[ebp]
  000c6	0f b6 8c 05 e0
	fb ff ff	 movzx	 ecx, BYTE PTR _·±Ìå$3[ebp+eax]
  000ce	51		 push	 ecx
  000cf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  000d5	3b f4		 cmp	 esi, esp
  000d7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000dc	85 c0		 test	 eax, eax
  000de	74 1e		 je	 SHORT $LN11@StrToNowSt

; 459  : 				StockStrBufferDBChar(ç¹ä½“+i);

  000e0	8b 45 e8	 mov	 eax, DWORD PTR _i$4[ebp]
  000e3	8d 8c 05 e0 fb
	ff ff		 lea	 ecx, DWORD PTR _·±Ìå$3[ebp+eax]
  000ea	51		 push	 ecx
  000eb	e8 00 00 00 00	 call	 ?StockStrBufferDBChar@@YAXPAD@Z ; StockStrBufferDBChar
  000f0	83 c4 04	 add	 esp, 4

; 460  : 				i++;

  000f3	8b 45 e8	 mov	 eax, DWORD PTR _i$4[ebp]
  000f6	83 c0 01	 add	 eax, 1
  000f9	89 45 e8	 mov	 DWORD PTR _i$4[ebp], eax

; 461  : 			}else

  000fc	eb 14		 jmp	 SHORT $LN12@StrToNowSt
$LN11@StrToNowSt:

; 462  : 				StockStrBufferChar(ç¹ä½“[i]);

  000fe	8b 45 e8	 mov	 eax, DWORD PTR _i$4[ebp]
  00101	0f b6 8c 05 e0
	fb ff ff	 movzx	 ecx, BYTE PTR _·±Ìå$3[ebp+eax]
  00109	51		 push	 ecx
  0010a	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  0010f	83 c4 04	 add	 esp, 4
$LN12@StrToNowSt:

; 463  : 		}

  00112	eb 9c		 jmp	 SHORT $LN2@StrToNowSt
$LN3@StrToNowSt:

; 464  : 	}else{

  00114	e9 a8 00 00 00	 jmp	 $LN1@StrToNowSt
$LN8@StrToNowSt:

; 465  : 		int strLen,i;
; 466  : 		strLen=strlen(str);

  00119	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  0011c	50		 push	 eax
  0011d	e8 00 00 00 00	 call	 _strlen
  00122	83 c4 04	 add	 esp, 4
  00125	89 85 d4 fb ff
	ff		 mov	 DWORD PTR _strLen$2[ebp], eax

; 467  : 		if(strLen>86)

  0012b	83 bd d4 fb ff
	ff 56		 cmp	 DWORD PTR _strLen$2[ebp], 86 ; 00000056H
  00132	7e 0a		 jle	 SHORT $LN13@StrToNowSt

; 468  : 			strLen=86;

  00134	c7 85 d4 fb ff
	ff 56 00 00 00	 mov	 DWORD PTR _strLen$2[ebp], 86 ; 00000056H
$LN13@StrToNowSt:

; 469  : 		for(i=0;i<strLen;i++){

  0013e	c7 85 c8 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$1[ebp], 0
  00148	eb 0f		 jmp	 SHORT $LN7@StrToNowSt
$LN5@StrToNowSt:
  0014a	8b 85 c8 fb ff
	ff		 mov	 eax, DWORD PTR _i$1[ebp]
  00150	83 c0 01	 add	 eax, 1
  00153	89 85 c8 fb ff
	ff		 mov	 DWORD PTR _i$1[ebp], eax
$LN7@StrToNowSt:
  00159	8b 85 c8 fb ff
	ff		 mov	 eax, DWORD PTR _i$1[ebp]
  0015f	3b 85 d4 fb ff
	ff		 cmp	 eax, DWORD PTR _strLen$2[ebp]
  00165	7d 5a		 jge	 SHORT $LN1@StrToNowSt

; 470  : 			if(IsDBCSLeadByte(str[i])){

  00167	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  0016a	03 85 c8 fb ff
	ff		 add	 eax, DWORD PTR _i$1[ebp]
  00170	8b f4		 mov	 esi, esp
  00172	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00175	51		 push	 ecx
  00176	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  0017c	3b f4		 cmp	 esi, esp
  0017e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00183	85 c0		 test	 eax, eax
  00185	74 23		 je	 SHORT $LN14@StrToNowSt

; 471  : 				StockStrBufferDBChar(str+i);

  00187	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  0018a	03 85 c8 fb ff
	ff		 add	 eax, DWORD PTR _i$1[ebp]
  00190	50		 push	 eax
  00191	e8 00 00 00 00	 call	 ?StockStrBufferDBChar@@YAXPAD@Z ; StockStrBufferDBChar
  00196	83 c4 04	 add	 esp, 4

; 472  : 				i++;

  00199	8b 85 c8 fb ff
	ff		 mov	 eax, DWORD PTR _i$1[ebp]
  0019f	83 c0 01	 add	 eax, 1
  001a2	89 85 c8 fb ff
	ff		 mov	 DWORD PTR _i$1[ebp], eax

; 473  : 			}else

  001a8	eb 15		 jmp	 SHORT $LN15@StrToNowSt
$LN14@StrToNowSt:

; 474  : 				StockStrBufferChar(str[i]);

  001aa	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  001ad	03 85 c8 fb ff
	ff		 add	 eax, DWORD PTR _i$1[ebp]
  001b3	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  001b6	51		 push	 ecx
  001b7	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  001bc	83 c4 04	 add	 esp, 4
$LN15@StrToNowSt:

; 475  : 		}

  001bf	eb 89		 jmp	 SHORT $LN5@StrToNowSt
$LN1@StrToNowSt:

; 476  : 	}
; 477  : }

  001c1	52		 push	 edx
  001c2	8b cd		 mov	 ecx, ebp
  001c4	50		 push	 eax
  001c5	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN19@StrToNowSt
  001cb	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001d0	58		 pop	 eax
  001d1	5a		 pop	 edx
  001d2	5f		 pop	 edi
  001d3	5e		 pop	 esi
  001d4	5b		 pop	 ebx
  001d5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001d8	33 cd		 xor	 ecx, ebp
  001da	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001df	81 c4 7c 06 00
	00		 add	 esp, 1660		; 0000067cH
  001e5	3b ec		 cmp	 ebp, esp
  001e7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ec	8b e5		 mov	 esp, ebp
  001ee	5d		 pop	 ebp
  001ef	c3		 ret	 0
$LN19@StrToNowSt:
  001f0	01 00 00 00	 DD	 1
  001f4	00 00 00 00	 DD	 $LN18@StrToNowSt
$LN18@StrToNowSt:
  001f8	e0 fb ff ff	 DD	 -1056			; fffffbe0H
  001fc	00 04 00 00	 DD	 1024			; 00000400H
  00200	00 00 00 00	 DD	 $LN17@StrToNowSt
$LN17@StrToNowSt:
  00204	e7		 DB	 -25			; ffffffe7H
  00205	b9		 DB	 -71			; ffffffb9H
  00206	81		 DB	 -127			; ffffff81H
  00207	e4		 DB	 -28			; ffffffe4H
  00208	bd		 DB	 -67			; ffffffbdH
  00209	93		 DB	 -109			; ffffff93H
  0020a	00		 DB	 0
?StrToNowStrBuffer1@@YAXPAD@Z ENDP			; StrToNowStrBuffer1
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?MoveFilePointInt@@YAHPBDIAAIAAHH@Z
_TEXT	SEGMENT
_pFind$ = -20						; size = 4
_nReadCount$ = -8					; size = 4
_pBuffer$ = 8						; size = 4
_nSize$ = 12						; size = 4
_nRead$ = 16						; size = 4
_bRead$ = 20						; size = 4
_nResult$ = 24						; size = 4
?MoveFilePointInt@@YAHPBDIAAIAAHH@Z PROC		; MoveFilePointInt, COMDAT

; 268  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 269  : 	unsigned int nReadCount = nRead;	// è®°å½•ä¸Šæ¬¡æŒ‡é’ˆçš„ä½ç½® [11/28/2007]

  0001e	8b 45 10	 mov	 eax, DWORD PTR _nRead$[ebp]
  00021	8b 08		 mov	 ecx, DWORD PTR [eax]
  00023	89 4d f8	 mov	 DWORD PTR _nReadCount$[ebp], ecx

; 270  : 	const char* pFind = strstr( pBuffer + nRead,"\n");//find \n

  00026	8b f4		 mov	 esi, esp
  00028	68 00 00 00 00	 push	 OFFSET ??_C@_01EEMJAFIK@?6?$AA@
  0002d	8b 45 10	 mov	 eax, DWORD PTR _nRead$[ebp]
  00030	8b 4d 08	 mov	 ecx, DWORD PTR _pBuffer$[ebp]
  00033	03 08		 add	 ecx, DWORD PTR [eax]
  00035	51		 push	 ecx
  00036	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__strstr
  0003c	83 c4 08	 add	 esp, 8
  0003f	3b f4		 cmp	 esi, esp
  00041	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00046	89 45 ec	 mov	 DWORD PTR _pFind$[ebp], eax

; 271  : 	if( pFind )

  00049	83 7d ec 00	 cmp	 DWORD PTR _pFind$[ebp], 0
  0004d	74 0e		 je	 SHORT $LN2@MoveFilePo

; 272  : 	{
; 273  : 		nRead = ( pFind - pBuffer + 1 );	// å¾—åˆ°å½“å‰æŒ‡é’ˆçš„ä½ç½® [11/28/2007]  //å¾—åˆ°ç›¸å¯¹ä¸Žæ–‡ä»¶å¼€å§‹ä½ç½®çš„åç§»ä½ç½®// æœ€å…ˆçš„æ³¨é‡Šä¸å‡†ç¡® [æ¨æ–‡é¸½ 2007-12-14]

  0004f	8b 45 ec	 mov	 eax, DWORD PTR _pFind$[ebp]
  00052	2b 45 08	 sub	 eax, DWORD PTR _pBuffer$[ebp]
  00055	83 c0 01	 add	 eax, 1
  00058	8b 4d 10	 mov	 ecx, DWORD PTR _nRead$[ebp]
  0005b	89 01		 mov	 DWORD PTR [ecx], eax
$LN2@MoveFilePo:

; 274  : 	}
; 275  : 	if ((2 == nRead - nReadCount && nResult !=0)|| nResult == 0)	// /	åˆ¤æ–­è¯»åˆ°çœŸå®žæ•°æ®ï¼ˆ2ä¸ªå­—èŠ‚è¡¨ç¤ºâ€œ\r\nâ€ï¼‰  [11/28/2007]

  0005d	8b 45 10	 mov	 eax, DWORD PTR _nRead$[ebp]
  00060	8b 08		 mov	 ecx, DWORD PTR [eax]
  00062	2b 4d f8	 sub	 ecx, DWORD PTR _nReadCount$[ebp]
  00065	83 f9 02	 cmp	 ecx, 2
  00068	75 06		 jne	 SHORT $LN6@MoveFilePo
  0006a	83 7d 18 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  0006e	75 06		 jne	 SHORT $LN5@MoveFilePo
$LN6@MoveFilePo:
  00070	83 7d 18 00	 cmp	 DWORD PTR _nResult$[ebp], 0
  00074	75 0b		 jne	 SHORT $LN3@MoveFilePo
$LN5@MoveFilePo:

; 276  : 	{
; 277  : 		bRead = FALSE;

  00076	8b 45 14	 mov	 eax, DWORD PTR _bRead$[ebp]
  00079	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 278  : 	}
; 279  : 	else

  0007f	eb 09		 jmp	 SHORT $LN4@MoveFilePo
$LN3@MoveFilePo:

; 280  : 	{
; 281  : 		bRead = TRUE;

  00081	8b 45 14	 mov	 eax, DWORD PTR _bRead$[ebp]
  00084	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1
$LN4@MoveFilePo:

; 282  : 	}
; 283  : 	if( nRead > nSize )

  0008a	8b 45 10	 mov	 eax, DWORD PTR _nRead$[ebp]
  0008d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0008f	3b 4d 0c	 cmp	 ecx, DWORD PTR _nSize$[ebp]
  00092	76 04		 jbe	 SHORT $LN7@MoveFilePo

; 284  : 		return false;

  00094	33 c0		 xor	 eax, eax
  00096	eb 05		 jmp	 SHORT $LN1@MoveFilePo
$LN7@MoveFilePo:

; 285  : 	return true;

  00098	b8 01 00 00 00	 mov	 eax, 1
$LN1@MoveFilePo:

; 286  : }

  0009d	5f		 pop	 edi
  0009e	5e		 pop	 esi
  0009f	5b		 pop	 ebx
  000a0	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000a6	3b ec		 cmp	 ebp, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	8b e5		 mov	 esp, ebp
  000af	5d		 pop	 ebp
  000b0	c3		 ret	 0
?MoveFilePointInt@@YAHPBDIAAIAAHH@Z ENDP		; MoveFilePointInt
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\systeminc\encryptclient.h
;	COMDAT ??0CEncryptCode@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ
_TEXT	SEGMENT
_nTemp$1 = -56						; size = 4
_nTemp$2 = -44						; size = 4
_i$ = -32						; size = 4
_nCode$ = -17						; size = 1
_this$ = -8						; size = 4
??0CEncryptCode@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ PROC ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptCode::CEncryptCode, COMDAT
; _this$ = ecx

; 31   : 		CEncryptCode()

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00013	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 32   : 		{
; 33   : 		//* ÓëÏÂÃæELSEËã·¨ÏàÍ¬£¬Ö»Îª¼ÓÇ¿¸´ÔÓÐÔ£º)
; 34   : 				unsigned char	nCode = fst1;

  00023	c6 45 ef 3c	 mov	 BYTE PTR _nCode$[ebp], 60 ; 0000003cH

; 35   : 				int i;
; 36   : 				for(i = 0; i < 256; i++)

  00027	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0002e	eb 09		 jmp	 SHORT $LN4@CEncryptCo
$LN2@CEncryptCo:
  00030	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  00033	83 c0 01	 add	 eax, 1
  00036	89 45 e0	 mov	 DWORD PTR _i$[ebp], eax
$LN4@CEncryptCo:
  00039	81 7d e0 00 01
	00 00		 cmp	 DWORD PTR _i$[ebp], 256	; 00000100H
  00040	7d 4e		 jge	 SHORT $LN3@CEncryptCo

; 37   : 				{
; 38   : 					m_bufEncrypt1[i] = nCode;

  00042	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00045	03 45 e0	 add	 eax, DWORD PTR _i$[ebp]
  00048	8a 4d ef	 mov	 cl, BYTE PTR _nCode$[ebp]
  0004b	88 08		 mov	 BYTE PTR [eax], cl

; 39   : 					int	nTemp = (a1*nCode) % 256;

  0004d	0f b6 45 ef	 movzx	 eax, BYTE PTR _nCode$[ebp]
  00051	6b c8 55	 imul	 ecx, eax, 85
  00054	81 e1 ff 00 00
	80		 and	 ecx, -2147483393	; 800000ffH
  0005a	79 08		 jns	 SHORT $LN9@CEncryptCo
  0005c	49		 dec	 ecx
  0005d	81 c9 00 ff ff
	ff		 or	 ecx, -256		; ffffff00H
  00063	41		 inc	 ecx
$LN9@CEncryptCo:
  00064	89 4d d4	 mov	 DWORD PTR _nTemp$2[ebp], ecx

; 40   : 					nCode = (c1 + nTemp*nCode + b1*nCode) % 256;

  00067	0f b6 45 ef	 movzx	 eax, BYTE PTR _nCode$[ebp]
  0006b	0f af 45 d4	 imul	 eax, DWORD PTR _nTemp$2[ebp]
  0006f	0f b6 4d ef	 movzx	 ecx, BYTE PTR _nCode$[ebp]
  00073	6b d1 68	 imul	 edx, ecx, 104
  00076	8d 84 10 c9 00
	00 00		 lea	 eax, DWORD PTR [eax+edx+201]
  0007d	25 ff 00 00 80	 and	 eax, -2147483393	; 800000ffH
  00082	79 07		 jns	 SHORT $LN10@CEncryptCo
  00084	48		 dec	 eax
  00085	0d 00 ff ff ff	 or	 eax, -256		; ffffff00H
  0008a	40		 inc	 eax
$LN10@CEncryptCo:
  0008b	88 45 ef	 mov	 BYTE PTR _nCode$[ebp], al

; 41   : 				}

  0008e	eb a0		 jmp	 SHORT $LN2@CEncryptCo
$LN3@CEncryptCo:

; 42   : 				//@@@	assert(nCode == fst1);
; 43   : 
; 44   : 					nCode = fst2;

  00090	c6 45 ef 65	 mov	 BYTE PTR _nCode$[ebp], 101 ; 00000065H

; 45   : 				for( i = 0; i < 256; i++)

  00094	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0009b	eb 09		 jmp	 SHORT $LN7@CEncryptCo
$LN5@CEncryptCo:
  0009d	8b 45 e0	 mov	 eax, DWORD PTR _i$[ebp]
  000a0	83 c0 01	 add	 eax, 1
  000a3	89 45 e0	 mov	 DWORD PTR _i$[ebp], eax
$LN7@CEncryptCo:
  000a6	81 7d e0 00 01
	00 00		 cmp	 DWORD PTR _i$[ebp], 256	; 00000100H
  000ad	7d 35		 jge	 SHORT $LN1@CEncryptCo

; 46   : 				{
; 47   : 					m_bufEncrypt2[i] = nCode;

  000af	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b2	03 45 e0	 add	 eax, DWORD PTR _i$[ebp]
  000b5	8a 4d ef	 mov	 cl, BYTE PTR _nCode$[ebp]
  000b8	88 88 00 01 00
	00		 mov	 BYTE PTR [eax+256], cl

; 48   : 					int	nTemp = a2*nCode;

  000be	0f b6 45 ef	 movzx	 eax, BYTE PTR _nCode$[ebp]
  000c2	6b c8 6b	 imul	 ecx, eax, 107
  000c5	89 4d c8	 mov	 DWORD PTR _nTemp$1[ebp], ecx

; 49   : 					nCode = ((b2 + nTemp)*nCode + c2) & 0xFF;

  000c8	8b 45 c8	 mov	 eax, DWORD PTR _nTemp$1[ebp]
  000cb	83 c0 49	 add	 eax, 73			; 00000049H
  000ce	0f b6 4d ef	 movzx	 ecx, BYTE PTR _nCode$[ebp]
  000d2	0f af c1	 imul	 eax, ecx
  000d5	05 81 00 00 00	 add	 eax, 129		; 00000081H
  000da	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  000df	88 45 ef	 mov	 BYTE PTR _nCode$[ebp], al

; 50   : 				}

  000e2	eb b9		 jmp	 SHORT $LN5@CEncryptCo
$LN1@CEncryptCo:

; 51   : 				//@@@	assert(nCode == fst2);
; 52   : 		}

  000e4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e7	5f		 pop	 edi
  000e8	5e		 pop	 esi
  000e9	5b		 pop	 ebx
  000ea	8b e5		 mov	 esp, ebp
  000ec	5d		 pop	 ebp
  000ed	c3		 ret	 0
??0CEncryptCode@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ ENDP ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptCode::CEncryptCode
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\systeminc\encryptclient.h
;	COMDAT ?Encrypt@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXPAEH_N@Z
_TEXT	SEGMENT
tv135 = -244						; size = 4
tv130 = -244						; size = 4
_i$1 = -44						; size = 4
_nOldPos2$ = -32					; size = 4
_nOldPos1$ = -20					; size = 4
_this$ = -8						; size = 4
_bufMsg$ = 8						; size = 4
_nLen$ = 12						; size = 4
_bMove$ = 16						; size = 1
?Encrypt@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXPAEH_N@Z PROC ; CEncryptClient<85,104,201,60,107,73,129,101>::Encrypt, COMDAT
; _this$ = ecx

; 61   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f4 00 00
	00		 sub	 esp, 244		; 000000f4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 0c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-244]
  00013	b9 3d 00 00 00	 mov	 ecx, 61			; 0000003dH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 62   : 		int		nOldPos1 = m_nPos1;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 08		 mov	 ecx, DWORD PTR [eax]
  00028	89 4d ec	 mov	 DWORD PTR _nOldPos1$[ebp], ecx

; 63   : 		int		nOldPos2 = m_nPos2;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00031	89 4d e0	 mov	 DWORD PTR _nOldPos2$[ebp], ecx

; 64   : 		for(int i = 0; i < nLen; i++)

  00034	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _i$1[ebp], 0
  0003b	eb 09		 jmp	 SHORT $LN4@Encrypt
$LN2@Encrypt:
  0003d	8b 45 d4	 mov	 eax, DWORD PTR _i$1[ebp]
  00040	83 c0 01	 add	 eax, 1
  00043	89 45 d4	 mov	 DWORD PTR _i$1[ebp], eax
$LN4@Encrypt:
  00046	8b 45 d4	 mov	 eax, DWORD PTR _i$1[ebp]
  00049	3b 45 0c	 cmp	 eax, DWORD PTR _nLen$[ebp]
  0004c	0f 8d a8 00 00
	00		 jge	 $LN3@Encrypt

; 65   : 		{
; 66   : 			bufMsg[i] ^= m_cGlobalEncrypt.m_bufEncrypt1[m_nPos1];

  00052	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00055	8b 08		 mov	 ecx, DWORD PTR [eax]
  00057	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0005a	0f b6 44 0a 08	 movzx	 eax, BYTE PTR [edx+ecx+8]
  0005f	8b 4d 08	 mov	 ecx, DWORD PTR _bufMsg$[ebp]
  00062	03 4d d4	 add	 ecx, DWORD PTR _i$1[ebp]
  00065	0f b6 11	 movzx	 edx, BYTE PTR [ecx]
  00068	33 d0		 xor	 edx, eax
  0006a	8b 45 08	 mov	 eax, DWORD PTR _bufMsg$[ebp]
  0006d	03 45 d4	 add	 eax, DWORD PTR _i$1[ebp]
  00070	88 10		 mov	 BYTE PTR [eax], dl

; 67   : 			bufMsg[i] ^= m_cGlobalEncrypt.m_bufEncrypt2[m_nPos2];

  00072	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00075	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00078	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007b	0f b6 84 0a 08
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+264]
  00083	8b 4d 08	 mov	 ecx, DWORD PTR _bufMsg$[ebp]
  00086	03 4d d4	 add	 ecx, DWORD PTR _i$1[ebp]
  00089	0f b6 11	 movzx	 edx, BYTE PTR [ecx]
  0008c	33 d0		 xor	 edx, eax
  0008e	8b 45 08	 mov	 eax, DWORD PTR _bufMsg$[ebp]
  00091	03 45 d4	 add	 eax, DWORD PTR _i$1[ebp]
  00094	88 10		 mov	 BYTE PTR [eax], dl

; 68   : 			if(++m_nPos1 >= 256)

  00096	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00099	8b 08		 mov	 ecx, DWORD PTR [eax]
  0009b	83 c1 01	 add	 ecx, 1
  0009e	89 8d 0c ff ff
	ff		 mov	 DWORD PTR tv130[ebp], ecx
  000a4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000a7	8b 85 0c ff ff
	ff		 mov	 eax, DWORD PTR tv130[ebp]
  000ad	89 02		 mov	 DWORD PTR [edx], eax
  000af	81 bd 0c ff ff
	ff 00 01 00 00	 cmp	 DWORD PTR tv130[ebp], 256 ; 00000100H
  000b9	7c 3a		 jl	 SHORT $LN5@Encrypt

; 69   : 			{
; 70   : 				m_nPos1 = 0;

  000bb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000be	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 71   : 				if(++m_nPos2 >= 256)

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c7	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000ca	83 c1 01	 add	 ecx, 1
  000cd	89 8d 0c ff ff
	ff		 mov	 DWORD PTR tv135[ebp], ecx
  000d3	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000d6	8b 85 0c ff ff
	ff		 mov	 eax, DWORD PTR tv135[ebp]
  000dc	89 42 04	 mov	 DWORD PTR [edx+4], eax
  000df	81 bd 0c ff ff
	ff 00 01 00 00	 cmp	 DWORD PTR tv135[ebp], 256 ; 00000100H
  000e9	7c 0a		 jl	 SHORT $LN5@Encrypt

; 72   : 					m_nPos2 = 0;

  000eb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ee	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0
$LN5@Encrypt:

; 73   : 			}
; 74   : 			//@@@	assert(m_nPos1 >=0 && m_nPos1 < 256);
; 75   : 			//@@@	assert(m_nPos2 >=0 && m_nPos2 < 256);
; 76   : 		}

  000f5	e9 43 ff ff ff	 jmp	 $LN2@Encrypt
$LN3@Encrypt:

; 77   : 
; 78   : 		if(!bMove)

  000fa	0f b6 45 10	 movzx	 eax, BYTE PTR _bMove$[ebp]
  000fe	85 c0		 test	 eax, eax
  00100	75 11		 jne	 SHORT $LN1@Encrypt

; 79   : 		{
; 80   : 			// »Ö¸´Ö¸Õë
; 81   : 			m_nPos1 = nOldPos1;

  00102	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00105	8b 4d ec	 mov	 ecx, DWORD PTR _nOldPos1$[ebp]
  00108	89 08		 mov	 DWORD PTR [eax], ecx

; 82   : 			m_nPos2 = nOldPos2;

  0010a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010d	8b 4d e0	 mov	 ecx, DWORD PTR _nOldPos2$[ebp]
  00110	89 48 04	 mov	 DWORD PTR [eax+4], ecx
$LN1@Encrypt:

; 83   : 		}
; 84   : 	   /*@@@	LOGCATCH("Encrypt fail."); exit(3);*/ 
; 85   : }

  00113	5f		 pop	 edi
  00114	5e		 pop	 esi
  00115	5b		 pop	 ebx
  00116	8b e5		 mov	 esp, ebp
  00118	5d		 pop	 ebp
  00119	c2 0c 00	 ret	 12			; 0000000cH
?Encrypt@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXPAEH_N@Z ENDP ; CEncryptClient<85,104,201,60,107,73,129,101>::Encrypt
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\systeminc\encryptclient.h
;	COMDAT ?Init@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXXZ
_TEXT	SEGMENT
_this$ = -8						; size = 4
?Init@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXXZ PROC ; CEncryptClient<85,104,201,60,107,73,129,101>::Init, COMDAT
; _this$ = ecx

; 21   : 	void Init() { m_nPos1 = m_nPos2 = 0; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0
  0002d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00030	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], 0
  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	5b		 pop	 ebx
  00039	8b e5		 mov	 esp, ebp
  0003b	5d		 pop	 ebp
  0003c	c3		 ret	 0
?Init@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXXZ ENDP ; CEncryptClient<85,104,201,60,107,73,129,101>::Init
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\systeminc\encryptclient.h
;	COMDAT ??0?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8						; size = 4
??0?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ PROC ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptClient<85,104,201,60,107,73,129,101>, COMDAT
; _this$ = ecx

; 19   : 	CEncryptClient(){ Init(); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	83 c1 08	 add	 ecx, 8
  00029	e8 00 00 00 00	 call	 ??0CEncryptCode@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptCode::CEncryptCode
  0002e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00031	e8 00 00 00 00	 call	 ?Init@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXXZ ; CEncryptClient<85,104,201,60,107,73,129,101>::Init
  00036	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00039	5f		 pop	 edi
  0003a	5e		 pop	 esi
  0003b	5b		 pop	 ebx
  0003c	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00042	3b ec		 cmp	 ebp, esp
  00044	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
??0?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ ENDP ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptClient<85,104,201,60,107,73,129,101>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?EncryptFileName@@YAPAXPBDAAI@Z
_TEXT	SEGMENT
$T1 = -1700						; size = 4
_pBuffer$ = -1112					; size = 4
_unFileSize$ = -1100					; size = 4
_fp$ = -1088						; size = 4
_pszReadName$ = -1076					; size = 4
_szResFileTemp$ = -1064					; size = 260
_szFile$ = -796						; size = 260
_myConfFileCncryp$ = -528				; size = 520
__$ArrayPad$ = -4					; size = 4
_pszResFile$ = 8					; size = 4
_nSize$ = 12						; size = 4
?EncryptFileName@@YAPAXPBDAAI@Z PROC			; EncryptFileName, COMDAT

; 226  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a8 06 00
	00		 sub	 esp, 1704		; 000006a8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 58 f9 ff
	ff		 lea	 edi, DWORD PTR [ebp-1704]
  00012	b9 aa 01 00 00	 mov	 ecx, 426		; 000001aaH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 227  : 	ENCRYPTCONF	myConfFileCncryp;

  00028	8d 8d f0 fd ff
	ff		 lea	 ecx, DWORD PTR _myConfFileCncryp$[ebp]
  0002e	e8 00 00 00 00	 call	 ??0?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAE@XZ ; CEncryptClient<85,104,201,60,107,73,129,101>::CEncryptClient<85,104,201,60,107,73,129,101>

; 228  : 	if( NULL != pszResFile ) ; //  [Chancy2008-4-16 21:51]
; 229  : 
; 230  : 	char szFile[MAX_PATH] = "";

  00033	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@?$AA@
  00038	88 85 e4 fc ff
	ff		 mov	 BYTE PTR _szFile$[ebp], al
  0003e	68 03 01 00 00	 push	 259			; 00000103H
  00043	6a 00		 push	 0
  00045	8d 85 e5 fc ff
	ff		 lea	 eax, DWORD PTR _szFile$[ebp+1]
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 _memset
  00051	83 c4 0c	 add	 esp, 12			; 0000000cH

; 231  : 	char szResFileTemp[MAX_PATH] = "" ;

  00054	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@?$AA@
  00059	88 85 d8 fb ff
	ff		 mov	 BYTE PTR _szResFileTemp$[ebp], al
  0005f	68 03 01 00 00	 push	 259			; 00000103H
  00064	6a 00		 push	 0
  00066	8d 85 d9 fb ff
	ff		 lea	 eax, DWORD PTR _szResFileTemp$[ebp+1]
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 _memset
  00072	83 c4 0c	 add	 esp, 12			; 0000000cH

; 232  : 	lstrcpyn( szResFileTemp , pszResFile , sizeof( szResFileTemp ) ) ;

  00075	8b f4		 mov	 esi, esp
  00077	68 04 01 00 00	 push	 260			; 00000104H
  0007c	8b 45 08	 mov	 eax, DWORD PTR _pszResFile$[ebp]
  0007f	50		 push	 eax
  00080	8d 8d d8 fb ff
	ff		 lea	 ecx, DWORD PTR _szResFileTemp$[ebp]
  00086	51		 push	 ecx
  00087	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12
  0008d	3b f4		 cmp	 esi, esp
  0008f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 233  : 
; 234  : 	char* pszReadName = strlwr(szResFileTemp); //  [Chancy2008-4-16 21:52]

  00094	8b f4		 mov	 esi, esp
  00096	8d 85 d8 fb ff
	ff		 lea	 eax, DWORD PTR _szResFileTemp$[ebp]
  0009c	50		 push	 eax
  0009d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__strlwr
  000a3	83 c4 04	 add	 esp, 4
  000a6	3b f4		 cmp	 esi, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	89 85 cc fb ff
	ff		 mov	 DWORD PTR _pszReadName$[ebp], eax

; 235  : 
; 236  : 	if ( !pszReadName )

  000b3	83 bd cc fb ff
	ff 00		 cmp	 DWORD PTR _pszReadName$[ebp], 0
  000ba	75 07		 jne	 SHORT $LN3@EncryptFil

; 237  : 		return NULL;

  000bc	33 c0		 xor	 eax, eax
  000be	e9 90 01 00 00	 jmp	 $LN1@EncryptFil
$LN3@EncryptFil:

; 238  : 
; 239  : 	sprintf(szFile,"data/%s.bin",pszReadName);

  000c3	8b 85 cc fb ff
	ff		 mov	 eax, DWORD PTR _pszReadName$[ebp]
  000c9	50		 push	 eax
  000ca	68 00 00 00 00	 push	 OFFSET ??_C@_0M@OJFNJGNP@data?1?$CFs?4bin?$AA@
  000cf	8d 8d e4 fc ff
	ff		 lea	 ecx, DWORD PTR _szFile$[ebp]
  000d5	51		 push	 ecx
  000d6	e8 00 00 00 00	 call	 _sprintf
  000db	83 c4 0c	 add	 esp, 12			; 0000000cH

; 240  : 
; 241  : 	FILE* fp = fopen(szFile, "rb");

  000de	8b f4		 mov	 esi, esp
  000e0	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  000e5	8d 85 e4 fc ff
	ff		 lea	 eax, DWORD PTR _szFile$[ebp]
  000eb	50		 push	 eax
  000ec	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  000f2	83 c4 08	 add	 esp, 8
  000f5	3b f4		 cmp	 esi, esp
  000f7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000fc	89 85 c0 fb ff
	ff		 mov	 DWORD PTR _fp$[ebp], eax

; 242  : 
; 243  : 	if ( !fp )

  00102	83 bd c0 fb ff
	ff 00		 cmp	 DWORD PTR _fp$[ebp], 0
  00109	75 07		 jne	 SHORT $LN4@EncryptFil

; 244  : 	{
; 245  : 		return false;

  0010b	33 c0		 xor	 eax, eax
  0010d	e9 41 01 00 00	 jmp	 $LN1@EncryptFil
$LN4@EncryptFil:

; 246  : 	}
; 247  : 
; 248  : 	(myConfFileCncryp).Init();

  00112	8d 8d f0 fd ff
	ff		 lea	 ecx, DWORD PTR _myConfFileCncryp$[ebp]
  00118	e8 00 00 00 00	 call	 ?Init@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXXZ ; CEncryptClient<85,104,201,60,107,73,129,101>::Init

; 249  : 
; 250  : 	fseek(fp,0,SEEK_END);//move file pointer to file end

  0011d	8b f4		 mov	 esi, esp
  0011f	6a 02		 push	 2
  00121	6a 00		 push	 0
  00123	8b 85 c0 fb ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  00129	50		 push	 eax
  0012a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00130	83 c4 0c	 add	 esp, 12			; 0000000cH
  00133	3b f4		 cmp	 esi, esp
  00135	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 251  : 	unsigned int unFileSize =  ftell( fp );

  0013a	8b f4		 mov	 esi, esp
  0013c	8b 85 c0 fb ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  00142	50		 push	 eax
  00143	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ftell
  00149	83 c4 04	 add	 esp, 4
  0014c	3b f4		 cmp	 esi, esp
  0014e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00153	89 85 b4 fb ff
	ff		 mov	 DWORD PTR _unFileSize$[ebp], eax

; 252  : 	nSize = ftell( fp );

  00159	8b f4		 mov	 esi, esp
  0015b	8b 85 c0 fb ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  00161	50		 push	 eax
  00162	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ftell
  00168	83 c4 04	 add	 esp, 4
  0016b	3b f4		 cmp	 esi, esp
  0016d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00172	8b 4d 0c	 mov	 ecx, DWORD PTR _nSize$[ebp]
  00175	89 01		 mov	 DWORD PTR [ecx], eax

; 253  : 	fseek( fp,0,SEEK_SET );// RESTORE

  00177	8b f4		 mov	 esi, esp
  00179	6a 00		 push	 0
  0017b	6a 00		 push	 0
  0017d	8b 85 c0 fb ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  00183	50		 push	 eax
  00184	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  0018a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0018d	3b f4		 cmp	 esi, esp
  0018f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 254  : 
; 255  : 	void* pBuffer = new char[ unFileSize + 1 ]; // apply 1 char memory for '\0' because char pointer

  00194	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??EncryptFileName@@YAPAXPBDAAI@Z@4JA
  00199	83 c0 1d	 add	 eax, 29			; 0000001dH
  0019c	50		 push	 eax
  0019d	68 00 00 00 00	 push	 OFFSET ??_C@_0GC@NPMAGJAK@c?3?2users?2administrator?2desktop?2?$LN@
  001a2	6a 01		 push	 1
  001a4	8b 8d b4 fb ff
	ff		 mov	 ecx, DWORD PTR _unFileSize$[ebp]
  001aa	83 c1 01	 add	 ecx, 1
  001ad	51		 push	 ecx
  001ae	e8 00 00 00 00	 call	 ??_U@YAPAXIHPBDH@Z	; operator new[]
  001b3	83 c4 10	 add	 esp, 16			; 00000010H
  001b6	89 85 5c f9 ff
	ff		 mov	 DWORD PTR $T1[ebp], eax
  001bc	8b 95 5c f9 ff
	ff		 mov	 edx, DWORD PTR $T1[ebp]
  001c2	89 95 a8 fb ff
	ff		 mov	 DWORD PTR _pBuffer$[ebp], edx

; 256  : 
; 257  : 	if( !pBuffer )

  001c8	83 bd a8 fb ff
	ff 00		 cmp	 DWORD PTR _pBuffer$[ebp], 0
  001cf	75 04		 jne	 SHORT $LN5@EncryptFil

; 258  : 		return false;

  001d1	33 c0		 xor	 eax, eax
  001d3	eb 7e		 jmp	 SHORT $LN1@EncryptFil
$LN5@EncryptFil:

; 259  : 	memset( pBuffer,0,sizeof( char ) * ( unFileSize + 1 ) );

  001d5	8b 85 b4 fb ff
	ff		 mov	 eax, DWORD PTR _unFileSize$[ebp]
  001db	83 c0 01	 add	 eax, 1
  001de	50		 push	 eax
  001df	6a 00		 push	 0
  001e1	8b 8d a8 fb ff
	ff		 mov	 ecx, DWORD PTR _pBuffer$[ebp]
  001e7	51		 push	 ecx
  001e8	e8 00 00 00 00	 call	 _memset
  001ed	83 c4 0c	 add	 esp, 12			; 0000000cH

; 260  : 	fread( pBuffer,unFileSize,1,fp );

  001f0	8b f4		 mov	 esi, esp
  001f2	8b 85 c0 fb ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  001f8	50		 push	 eax
  001f9	6a 01		 push	 1
  001fb	8b 8d b4 fb ff
	ff		 mov	 ecx, DWORD PTR _unFileSize$[ebp]
  00201	51		 push	 ecx
  00202	8b 95 a8 fb ff
	ff		 mov	 edx, DWORD PTR _pBuffer$[ebp]
  00208	52		 push	 edx
  00209	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  0020f	83 c4 10	 add	 esp, 16			; 00000010H
  00212	3b f4		 cmp	 esi, esp
  00214	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 261  : 	(myConfFileCncryp).Encrypt((unsigned char *)pBuffer,unFileSize);

  00219	6a 01		 push	 1
  0021b	8b 85 b4 fb ff
	ff		 mov	 eax, DWORD PTR _unFileSize$[ebp]
  00221	50		 push	 eax
  00222	8b 8d a8 fb ff
	ff		 mov	 ecx, DWORD PTR _pBuffer$[ebp]
  00228	51		 push	 ecx
  00229	8d 8d f0 fd ff
	ff		 lea	 ecx, DWORD PTR _myConfFileCncryp$[ebp]
  0022f	e8 00 00 00 00	 call	 ?Encrypt@?$CEncryptClient@$0FF@$0GI@$0MJ@$0DM@$0GL@$0EJ@$0IB@$0GF@@@QAEXPAEH_N@Z ; CEncryptClient<85,104,201,60,107,73,129,101>::Encrypt

; 262  : 	fclose(fp);

  00234	8b f4		 mov	 esi, esp
  00236	8b 85 c0 fb ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  0023c	50		 push	 eax
  0023d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  00243	83 c4 04	 add	 esp, 4
  00246	3b f4		 cmp	 esi, esp
  00248	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 263  : 
; 264  : 	return pBuffer;

  0024d	8b 85 a8 fb ff
	ff		 mov	 eax, DWORD PTR _pBuffer$[ebp]
$LN1@EncryptFil:

; 265  : }

  00253	52		 push	 edx
  00254	8b cd		 mov	 ecx, ebp
  00256	50		 push	 eax
  00257	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN11@EncryptFil
  0025d	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00262	58		 pop	 eax
  00263	5a		 pop	 edx
  00264	5f		 pop	 edi
  00265	5e		 pop	 esi
  00266	5b		 pop	 ebx
  00267	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0026a	33 cd		 xor	 ecx, ebp
  0026c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00271	81 c4 a8 06 00
	00		 add	 esp, 1704		; 000006a8H
  00277	3b ec		 cmp	 ebp, esp
  00279	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0027e	8b e5		 mov	 esp, ebp
  00280	5d		 pop	 ebp
  00281	c3		 ret	 0
  00282	66 90		 npad	 2
$LN11@EncryptFil:
  00284	03 00 00 00	 DD	 3
  00288	00 00 00 00	 DD	 $LN10@EncryptFil
$LN10@EncryptFil:
  0028c	f0 fd ff ff	 DD	 -528			; fffffdf0H
  00290	08 02 00 00	 DD	 520			; 00000208H
  00294	00 00 00 00	 DD	 $LN7@EncryptFil
  00298	e4 fc ff ff	 DD	 -796			; fffffce4H
  0029c	04 01 00 00	 DD	 260			; 00000104H
  002a0	00 00 00 00	 DD	 $LN8@EncryptFil
  002a4	d8 fb ff ff	 DD	 -1064			; fffffbd8H
  002a8	04 01 00 00	 DD	 260			; 00000104H
  002ac	00 00 00 00	 DD	 $LN9@EncryptFil
$LN9@EncryptFil:
  002b0	73		 DB	 115			; 00000073H
  002b1	7a		 DB	 122			; 0000007aH
  002b2	52		 DB	 82			; 00000052H
  002b3	65		 DB	 101			; 00000065H
  002b4	73		 DB	 115			; 00000073H
  002b5	46		 DB	 70			; 00000046H
  002b6	69		 DB	 105			; 00000069H
  002b7	6c		 DB	 108			; 0000006cH
  002b8	65		 DB	 101			; 00000065H
  002b9	54		 DB	 84			; 00000054H
  002ba	65		 DB	 101			; 00000065H
  002bb	6d		 DB	 109			; 0000006dH
  002bc	70		 DB	 112			; 00000070H
  002bd	00		 DB	 0
$LN8@EncryptFil:
  002be	73		 DB	 115			; 00000073H
  002bf	7a		 DB	 122			; 0000007aH
  002c0	46		 DB	 70			; 00000046H
  002c1	69		 DB	 105			; 00000069H
  002c2	6c		 DB	 108			; 0000006cH
  002c3	65		 DB	 101			; 00000065H
  002c4	00		 DB	 0
$LN7@EncryptFil:
  002c5	6d		 DB	 109			; 0000006dH
  002c6	79		 DB	 121			; 00000079H
  002c7	43		 DB	 67			; 00000043H
  002c8	6f		 DB	 111			; 0000006fH
  002c9	6e		 DB	 110			; 0000006eH
  002ca	66		 DB	 102			; 00000066H
  002cb	46		 DB	 70			; 00000046H
  002cc	69		 DB	 105			; 00000069H
  002cd	6c		 DB	 108			; 0000006cH
  002ce	65		 DB	 101			; 00000065H
  002cf	43		 DB	 67			; 00000043H
  002d0	6e		 DB	 110			; 0000006eH
  002d1	63		 DB	 99			; 00000063H
  002d2	72		 DB	 114			; 00000072H
  002d3	79		 DB	 121			; 00000079H
  002d4	70		 DB	 112			; 00000070H
  002d5	00		 DB	 0
?EncryptFileName@@YAPAXPBDAAI@Z ENDP			; EncryptFileName
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?openChatLogFile@@YAXXZ
_TEXT	SEGMENT
_longTime$1 = -24					; size = 8
_nowTime$2 = -8						; size = 4
?openChatLogFile@@YAXXZ PROC				; openChatLogFile, COMDAT

; 136  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec dc 00 00
	00		 sub	 esp, 220		; 000000dcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 24 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-220]
  00012	b9 37 00 00 00	 mov	 ecx, 55			; 00000037H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 137  : 	if( chatLogFile == NULL ){

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?chatLogFile@@3PAU_iobuf@@A, 0 ; chatLogFile
  00025	0f 85 bf 00 00
	00		 jne	 $LN1@openChatLo

; 138  : #ifdef  _STONDEBUG_
; 139  : 		chatLogFile = fopen( chatLogFileName, "wt" );
; 140  : #else
; 141  : 		struct tm *nowTime;
; 142  : 		time_t longTime;
; 143  : 		time( &longTime );

  0002b	8d 45 e8	 lea	 eax, DWORD PTR _longTime$1[ebp]
  0002e	50		 push	 eax
  0002f	e8 00 00 00 00	 call	 _time
  00034	83 c4 04	 add	 esp, 4

; 144  : 		nowTime = localtime( &longTime );

  00037	8d 45 e8	 lea	 eax, DWORD PTR _longTime$1[ebp]
  0003a	50		 push	 eax
  0003b	e8 00 00 00 00	 call	 _localtime
  00040	83 c4 04	 add	 esp, 4
  00043	89 45 f8	 mov	 DWORD PTR _nowTime$2[ebp], eax

; 145  : 		sprintf( chatLogFileName, "CHAT_%02d%02d%02d.TXT",

  00046	8b 45 f8	 mov	 eax, DWORD PTR _nowTime$2[ebp]
  00049	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0004c	51		 push	 ecx
  0004d	8b 55 f8	 mov	 edx, DWORD PTR _nowTime$2[ebp]
  00050	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00053	83 c0 01	 add	 eax, 1
  00056	50		 push	 eax
  00057	8b 4d f8	 mov	 ecx, DWORD PTR _nowTime$2[ebp]
  0005a	8b 41 14	 mov	 eax, DWORD PTR [ecx+20]
  0005d	99		 cdq
  0005e	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00063	f7 f9		 idiv	 ecx
  00065	52		 push	 edx
  00066	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@FPPMNNCD@CHAT_?$CF02d?$CF02d?$CF02d?4TXT?$AA@
  0006b	68 00 00 00 00	 push	 OFFSET ?chatLogFileName@@3PADA ; chatLogFileName
  00070	e8 00 00 00 00	 call	 _sprintf
  00075	83 c4 14	 add	 esp, 20			; 00000014H

; 146  : 			(nowTime->tm_year % 100), nowTime->tm_mon+1, nowTime->tm_mday );
; 147  : 
; 148  : 		chatLogFile = fopen( chatLogFileName, "a" );

  00078	8b f4		 mov	 esi, esp
  0007a	68 00 00 00 00	 push	 OFFSET ??_C@_01MCMALHOG@a?$AA@
  0007f	68 00 00 00 00	 push	 OFFSET ?chatLogFileName@@3PADA ; chatLogFileName
  00084	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  0008a	83 c4 08	 add	 esp, 8
  0008d	3b f4		 cmp	 esi, esp
  0008f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00094	a3 00 00 00 00	 mov	 DWORD PTR ?chatLogFile@@3PAU_iobuf@@A, eax ; chatLogFile

; 149  : 		if( chatLogFile ){

  00099	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?chatLogFile@@3PAU_iobuf@@A, 0 ; chatLogFile
  000a0	74 48		 je	 SHORT $LN1@openChatLo

; 150  : 			fprintf( chatLogFile, "----- Login: %02d/%02d/%02d %02d:%02d:%02d -----\n",

  000a2	8b 45 f8	 mov	 eax, DWORD PTR _nowTime$2[ebp]
  000a5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a7	51		 push	 ecx
  000a8	8b 55 f8	 mov	 edx, DWORD PTR _nowTime$2[ebp]
  000ab	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  000ae	50		 push	 eax
  000af	8b 4d f8	 mov	 ecx, DWORD PTR _nowTime$2[ebp]
  000b2	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  000b5	52		 push	 edx
  000b6	8b 45 f8	 mov	 eax, DWORD PTR _nowTime$2[ebp]
  000b9	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  000bc	51		 push	 ecx
  000bd	8b 55 f8	 mov	 edx, DWORD PTR _nowTime$2[ebp]
  000c0	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  000c3	83 c0 01	 add	 eax, 1
  000c6	50		 push	 eax
  000c7	8b 4d f8	 mov	 ecx, DWORD PTR _nowTime$2[ebp]
  000ca	8b 41 14	 mov	 eax, DWORD PTR [ecx+20]
  000cd	99		 cdq
  000ce	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  000d3	f7 f9		 idiv	 ecx
  000d5	52		 push	 edx
  000d6	68 00 00 00 00	 push	 OFFSET ??_C@_0DC@OHCCGGLJ@?9?9?9?9?9?5Login?3?5?$CF02d?1?$CF02d?1?$CF02d?5?$CF02d@
  000db	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?chatLogFile@@3PAU_iobuf@@A ; chatLogFile
  000e1	52		 push	 edx
  000e2	e8 00 00 00 00	 call	 _fprintf
  000e7	83 c4 20	 add	 esp, 32			; 00000020H
$LN1@openChatLo:

; 151  : 				(nowTime->tm_year % 100), nowTime->tm_mon+1, nowTime->tm_mday,
; 152  : 				nowTime->tm_hour, nowTime->tm_min, nowTime->tm_sec );
; 153  : 		}
; 154  : #endif
; 155  : 	}
; 156  : }

  000ea	52		 push	 edx
  000eb	8b cd		 mov	 ecx, ebp
  000ed	50		 push	 eax
  000ee	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN7@openChatLo
  000f4	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000f9	58		 pop	 eax
  000fa	5a		 pop	 edx
  000fb	5f		 pop	 edi
  000fc	5e		 pop	 esi
  000fd	5b		 pop	 ebx
  000fe	81 c4 dc 00 00
	00		 add	 esp, 220		; 000000dcH
  00104	3b ec		 cmp	 ebp, esp
  00106	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0010b	8b e5		 mov	 esp, ebp
  0010d	5d		 pop	 ebp
  0010e	c3		 ret	 0
  0010f	90		 npad	 1
$LN7@openChatLo:
  00110	01 00 00 00	 DD	 1
  00114	00 00 00 00	 DD	 $LN6@openChatLo
$LN6@openChatLo:
  00118	e8 ff ff ff	 DD	 -24			; ffffffe8H
  0011c	08 00 00 00	 DD	 8
  00120	00 00 00 00	 DD	 $LN5@openChatLo
$LN5@openChatLo:
  00124	6c		 DB	 108			; 0000006cH
  00125	6f		 DB	 111			; 0000006fH
  00126	6e		 DB	 110			; 0000006eH
  00127	67		 DB	 103			; 00000067H
  00128	54		 DB	 84			; 00000054H
  00129	69		 DB	 105			; 00000069H
  0012a	6d		 DB	 109			; 0000006dH
  0012b	65		 DB	 101			; 00000065H
  0012c	00		 DB	 0
?openChatLogFile@@YAXXZ ENDP				; openChatLogFile
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?KeyboardTab@@YAXXZ
_TEXT	SEGMENT
tv133 = -232						; size = 4
_flag$ = -32						; size = 4
_i$ = -20						; size = 4
__$EHRec$ = -12						; size = 12
?KeyboardTab@@YAXXZ PROC				; KeyboardTab, COMDAT

; 652  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?KeyboardTab@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec dc 00 00
	00		 sub	 esp, 220		; 000000dcH
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	8d bd 18 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-232]
  00020	b9 37 00 00 00	 mov	 ecx, 55			; 00000037H
  00025	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002a	f3 ab		 rep stosd
  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00031	33 c5		 xor	 eax, ebp
  00033	50		 push	 eax
  00034	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00037	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 653  : 	int i,flag = 0;

  0003d	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 0

; 654  : 	
; 655  : 	// îš¼?î¶???????
; 656  : 	if( pNowStrBuffer == NULL ) return;

  00044	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  0004b	75 05		 jne	 SHORT $LN8@KeyboardTa
  0004d	e9 3e 03 00 00	 jmp	 $LN1@KeyboardTa
$LN8@KeyboardTa:

; 657  : 	
; 658  : 	// îž°?î™‘????? *******************************
; 659  : 	for( i = 0 ; i < MAX_CHAT_REGISTY_STR ; i++ ){

  00052	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00059	eb 09		 jmp	 SHORT $LN4@KeyboardTa
$LN2@KeyboardTa:
  0005b	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0005e	83 c0 01	 add	 eax, 1
  00061	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN4@KeyboardTa:
  00064	83 7d ec 08	 cmp	 DWORD PTR _i$[ebp], 8
  00068	7d 1f		 jge	 SHORT $LN3@KeyboardTa

; 660  : 		if( pNowStrBuffer == &chatRegistryStr[ i ] ){ 

  0006a	69 45 ec 28 01
	00 00		 imul	 eax, DWORD PTR _i$[ebp], 296
  00071	05 00 00 00 00	 add	 eax, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  00076	39 05 00 00 00
	00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, eax ; pNowStrBuffer
  0007c	75 09		 jne	 SHORT $LN9@KeyboardTa

; 661  : 			flag = TRUE;

  0007e	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _flag$[ebp], 1

; 662  : 			break;

  00085	eb 02		 jmp	 SHORT $LN3@KeyboardTa
$LN9@KeyboardTa:

; 663  : 		}
; 664  : 	}

  00087	eb d2		 jmp	 SHORT $LN2@KeyboardTa
$LN3@KeyboardTa:

; 665  : 	// îž°?î™‘??? *******************************
; 666  : 	if( flag == TRUE ){

  00089	83 7d e0 01	 cmp	 DWORD PTR _flag$[ebp], 1
  0008d	75 6b		 jne	 SHORT $LN10@KeyboardTa

; 667  : 		// ???????????
; 668  : 		if( joy_con[ 1 ] & JOY_RSHIFT || joy_con[ 1 ] & JOY_LSHIFT ){

  0008f	b8 04 00 00 00	 mov	 eax, 4
  00094	c1 e0 00	 shl	 eax, 0
  00097	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_con@@3PAKA[eax]
  0009d	81 e1 00 00 00
	04		 and	 ecx, 67108864		; 04000000H
  000a3	75 16		 jne	 SHORT $LN13@KeyboardTa
  000a5	b8 04 00 00 00	 mov	 eax, 4
  000aa	c1 e0 00	 shl	 eax, 0
  000ad	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_con@@3PAKA[eax]
  000b3	81 e1 00 00 00
	08		 and	 ecx, 134217728		; 08000000H
  000b9	74 14		 je	 SHORT $LN11@KeyboardTa
$LN13@KeyboardTa:

; 669  : 			i--;

  000bb	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  000be	83 e8 01	 sub	 eax, 1
  000c1	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax

; 670  : 			// ????????
; 671  : 			if( i < 0 ) i = MAX_CHAT_REGISTY_STR - 1;

  000c4	79 07		 jns	 SHORT $LN14@KeyboardTa
  000c6	c7 45 ec 07 00
	00 00		 mov	 DWORD PTR _i$[ebp], 7
$LN14@KeyboardTa:

; 672  : 		}else{

  000cd	eb 16		 jmp	 SHORT $LN12@KeyboardTa
$LN11@KeyboardTa:

; 673  : 			i++;

  000cf	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  000d2	83 c0 01	 add	 eax, 1
  000d5	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax

; 674  : 			// ????????
; 675  : 			if( i >= MAX_CHAT_REGISTY_STR ) i = 0;

  000d8	83 7d ec 08	 cmp	 DWORD PTR _i$[ebp], 8
  000dc	7c 07		 jl	 SHORT $LN12@KeyboardTa
  000de	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
$LN12@KeyboardTa:

; 676  : 		}
; 677  : 		// îš¼???????î™®
; 678  : 		GetKeyInputFocus( &chatRegistryStr[ i ] );

  000e5	69 45 ec 28 01
	00 00		 imul	 eax, DWORD PTR _i$[ebp], 296
  000ec	05 00 00 00 00	 add	 eax, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  000f1	50		 push	 eax
  000f2	e8 00 00 00 00	 call	 ?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z ; GetKeyInputFocus
  000f7	83 c4 04	 add	 esp, 4
$LN10@KeyboardTa:

; 679  : 	}
; 680  : 	
; 681  : 	// ?????????????î™??
; 682  : 	CursorFlashCnt = 20;

  000fa	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H

; 683  : 	static DWORD dwChannelChangeTime = TimeGetTime();

  00104	a1 00 00 00 00	 mov	 eax, DWORD PTR __tls_index
  00109	64 8b 0d 00 00
	00 00		 mov	 ecx, DWORD PTR fs:__tls_array
  00110	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  00113	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$TSS0@?1??KeyboardTab@@YAXXZ@4HA
  00118	3b 82 00 00 00
	00		 cmp	 eax, DWORD PTR __Init_thread_epoch[edx]
  0011e	7e 3b		 jle	 SHORT $LN5@KeyboardTa
  00120	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??KeyboardTab@@YAXXZ@4HA
  00125	e8 00 00 00 00	 call	 __Init_thread_header
  0012a	83 c4 04	 add	 esp, 4
  0012d	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?$TSS0@?1??KeyboardTab@@YAXXZ@4HA, -1
  00134	75 25		 jne	 SHORT $LN5@KeyboardTa
  00136	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  0013d	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00142	a3 00 00 00 00	 mov	 DWORD PTR ?dwChannelChangeTime@?1??KeyboardTab@@YAXXZ@4KA, eax
  00147	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  0014e	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??KeyboardTab@@YAXXZ@4HA
  00153	e8 00 00 00 00	 call	 __Init_thread_footer
  00158	83 c4 04	 add	 esp, 4
$LN5@KeyboardTa:

; 684  : 	if(dwChannelChangeTime + 250 < TimeGetTime()){

  0015b	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?dwChannelChangeTime@?1??KeyboardTab@@YAXXZ@4KA
  00161	81 c6 fa 00 00
	00		 add	 esi, 250		; 000000faH
  00167	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0016c	3b f0		 cmp	 esi, eax
  0016e	0f 83 1c 02 00
	00		 jae	 $LN1@KeyboardTa

; 685  : 		dwChannelChangeTime = TimeGetTime();

  00174	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00179	a3 00 00 00 00	 mov	 DWORD PTR ?dwChannelChangeTime@?1??KeyboardTab@@YAXXZ@4KA, eax

; 686  : 
; 687  : 
; 688  : #ifndef _CHATWORLDWIDEPROTOCOL
; 689  : 		TalkMode = (TalkMode + 1) % 6;
; 690  : #else
; 691  : #ifdef _NB_CHANNEL_ALLSERV
; 692  : 		TalkMode = (TalkMode + 1) % 8;

  0017e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  00183	83 c0 01	 add	 eax, 1
  00186	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  0018b	79 05		 jns	 SHORT $LN45@KeyboardTa
  0018d	48		 dec	 eax
  0018e	83 c8 f8	 or	 eax, -8			; fffffff8H
  00191	40		 inc	 eax
$LN45@KeyboardTa:
  00192	a3 00 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, eax ; TalkMode

; 693  : #else
; 694  : 		TalkMode = (TalkMode + 1) % 7;
; 695  : #endif
; 696  : #endif
; 697  : 		switch(TalkMode){

  00197	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  0019c	89 85 18 ff ff
	ff		 mov	 DWORD PTR tv133[ebp], eax
  001a2	83 bd 18 ff ff
	ff 06		 cmp	 DWORD PTR tv133[ebp], 6
  001a9	0f 87 e1 01 00
	00		 ja	 $LN1@KeyboardTa
  001af	8b 8d 18 ff ff
	ff		 mov	 ecx, DWORD PTR tv133[ebp]
  001b5	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN46@KeyboardTa[ecx*4]
$LN17@KeyboardTa:

; 698  : 		case 0:
; 699  : 			strcpy(secretName,"");

  001bc	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  001c1	68 00 00 00 00	 push	 OFFSET ?secretName@@3PADA ; secretName
  001c6	e8 00 00 00 00	 call	 _strcpy
  001cb	83 c4 08	 add	 esp, 8

; 700  : 			// å·²åœ¨é˜Ÿä¼é¢‘é“åˆ‡å›žä¸€èˆ¬é¢‘é“
; 701  : 			if(pc.etcFlag & PC_ETCFLAG_CHAT_MODE){

  001ce	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  001d5	83 e0 08	 and	 eax, 8
  001d8	74 49		 je	 SHORT $LN18@KeyboardTa

; 702  : 				pc.etcFlag &= ~PC_ETCFLAG_CHAT_MODE;

  001da	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  001e1	83 e0 f7	 and	 eax, -9			; fffffff7H
  001e4	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax

; 703  : 				if(bNewServer) lssproto_FS_send(sockfd,pc.etcFlag);

  001ea	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  001f1	74 19		 je	 SHORT $LN19@KeyboardTa
  001f3	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  001fa	50		 push	 eax
  001fb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  00201	51		 push	 ecx
  00202	e8 00 00 00 00	 call	 ?lssproto_FS_send@@YAXHH@Z ; lssproto_FS_send
  00207	83 c4 08	 add	 esp, 8
  0020a	eb 17		 jmp	 SHORT $LN18@KeyboardTa
$LN19@KeyboardTa:

; 704  : 				else old_lssproto_FS_send(sockfd,pc.etcFlag);

  0020c	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00213	50		 push	 eax
  00214	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  0021a	51		 push	 ecx
  0021b	e8 00 00 00 00	 call	 ?old_lssproto_FS_send@@YAXHH@Z ; old_lssproto_FS_send
  00220	83 c4 08	 add	 esp, 8
$LN18@KeyboardTa:

; 705  : 			}
; 706  : 			break;

  00223	e9 68 01 00 00	 jmp	 $LN1@KeyboardTa
$LN21@KeyboardTa:

; 707  : 		case 1:
; 708  : 			// å¯†è¯­é¢‘é“å…³é—­,è·³åˆ°ä¸‹ä¸€ä¸ªé¢‘é“
; 709  : 			if(!(pc.etcFlag & PC_ETCFLAG_CHAT_TELL)) TalkMode++;

  00228	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  0022f	83 e0 40	 and	 eax, 64			; 00000040H
  00232	75 0f		 jne	 SHORT $LN22@KeyboardTa
  00234	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  00239	83 c0 01	 add	 eax, 1
  0023c	a3 00 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, eax ; TalkMode

; 710  : 			else break;

  00241	eb 05		 jmp	 SHORT $LN24@KeyboardTa
$LN22@KeyboardTa:
  00243	e9 48 01 00 00	 jmp	 $LN1@KeyboardTa
$LN24@KeyboardTa:

; 711  : 		case 2:
; 712  : 			// æ— é˜Ÿä¼è·³åˆ°ä¸‹ä¸€ä¸ªé¢‘é“
; 713  : 			if(partyModeFlag == 0) TalkMode++;

  00248	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?partyModeFlag@@3FA ; partyModeFlag
  0024f	85 c0		 test	 eax, eax
  00251	75 0f		 jne	 SHORT $LN25@KeyboardTa
  00253	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  00258	83 c0 01	 add	 eax, 1
  0025b	a3 00 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, eax ; TalkMode

; 714  : 			else{

  00260	eb 4e		 jmp	 SHORT $LN29@KeyboardTa
$LN25@KeyboardTa:

; 715  : 				pc.etcFlag |= PC_ETCFLAG_CHAT_MODE;

  00262	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00269	83 c8 08	 or	 eax, 8
  0026c	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax

; 716  : 				if(bNewServer) lssproto_FS_send(sockfd,pc.etcFlag);

  00272	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00279	74 19		 je	 SHORT $LN27@KeyboardTa
  0027b	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00282	50		 push	 eax
  00283	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  00289	51		 push	 ecx
  0028a	e8 00 00 00 00	 call	 ?lssproto_FS_send@@YAXHH@Z ; lssproto_FS_send
  0028f	83 c4 08	 add	 esp, 8
  00292	eb 17		 jmp	 SHORT $LN28@KeyboardTa
$LN27@KeyboardTa:

; 717  : 				else old_lssproto_FS_send(sockfd,pc.etcFlag);

  00294	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  0029b	50		 push	 eax
  0029c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  002a2	51		 push	 ecx
  002a3	e8 00 00 00 00	 call	 ?old_lssproto_FS_send@@YAXHH@Z ; old_lssproto_FS_send
  002a8	83 c4 08	 add	 esp, 8
$LN28@KeyboardTa:

; 718  : 				break;

  002ab	e9 e0 00 00 00	 jmp	 $LN1@KeyboardTa
$LN29@KeyboardTa:

; 719  : 			}
; 720  : 		case 3:
; 721  : 			// è‹¥é˜Ÿé¢‘æœ‰å¼€,å…³æŽ‰é˜Ÿé¢‘
; 722  : 			if(pc.etcFlag & PC_ETCFLAG_CHAT_MODE){

  002b0	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  002b7	83 e0 08	 and	 eax, 8
  002ba	74 49		 je	 SHORT $LN30@KeyboardTa

; 723  : 				pc.etcFlag &= ~PC_ETCFLAG_CHAT_MODE;

  002bc	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  002c3	83 e0 f7	 and	 eax, -9			; fffffff7H
  002c6	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax

; 724  : 				if(bNewServer) lssproto_FS_send(sockfd,pc.etcFlag);

  002cc	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  002d3	74 19		 je	 SHORT $LN31@KeyboardTa
  002d5	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  002dc	50		 push	 eax
  002dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  002e3	51		 push	 ecx
  002e4	e8 00 00 00 00	 call	 ?lssproto_FS_send@@YAXHH@Z ; lssproto_FS_send
  002e9	83 c4 08	 add	 esp, 8
  002ec	eb 17		 jmp	 SHORT $LN30@KeyboardTa
$LN31@KeyboardTa:

; 725  : 				else old_lssproto_FS_send(sockfd,pc.etcFlag);

  002ee	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  002f5	50		 push	 eax
  002f6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  002fc	51		 push	 ecx
  002fd	e8 00 00 00 00	 call	 ?old_lssproto_FS_send@@YAXHH@Z ; old_lssproto_FS_send
  00302	83 c4 08	 add	 esp, 8
$LN30@KeyboardTa:

; 726  : 			}
; 727  : 			// å®¶æ—é¢‘é“å…³é—­,è·³åˆ°ä¸‹ä¸€ä¸ªé¢‘é“
; 728  : 			if(!(pc.etcFlag & PC_ETCFLAG_CHAT_FM)) TalkMode++;

  00305	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  0030c	25 80 00 00 00	 and	 eax, 128		; 00000080H
  00311	75 0f		 jne	 SHORT $LN33@KeyboardTa
  00313	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  00318	83 c0 01	 add	 eax, 1
  0031b	a3 00 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, eax ; TalkMode

; 729  : 			else break;

  00320	eb 02		 jmp	 SHORT $LN35@KeyboardTa
$LN33@KeyboardTa:
  00322	eb 6c		 jmp	 SHORT $LN1@KeyboardTa
$LN35@KeyboardTa:

; 730  : 		case 4:
; 731  : 			// èŒä¸šé¢‘é“å…³é—­,è·³åˆ°ä¸‹ä¸€ä¸ªé¢‘é“
; 732  : 			if(!(pc.etcFlag & PC_ETCFLAG_CHAT_OCC))

  00324	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  0032b	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00330	75 0f		 jne	 SHORT $LN36@KeyboardTa

; 733  : 				TalkMode++;

  00332	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  00337	83 c0 01	 add	 eax, 1
  0033a	a3 00 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, eax ; TalkMode

; 734  : 			else break;

  0033f	eb 02		 jmp	 SHORT $LN38@KeyboardTa
$LN36@KeyboardTa:
  00341	eb 4d		 jmp	 SHORT $LN1@KeyboardTa
$LN38@KeyboardTa:

; 735  : #ifdef _CHATROOMPROTOCOL
; 736  : 		case 5:
; 737  : 			// èŠå¤©å®¤é¢‘é“
; 738  : 			if(!(pc.etcFlag & PC_ETCFLAG_CHAT_CHAT)){

  00343	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  0034a	25 00 04 00 00	 and	 eax, 1024		; 00000400H
  0034f	75 30		 jne	 SHORT $LN39@KeyboardTa

; 739  : 				secretFlag = FALSE;

  00351	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?secretFlag@@3_NA, 0 ; secretFlag

; 740  : 				selChar = -1;

  00358	c7 05 00 00 00
	00 ff ff ff ff	 mov	 DWORD PTR ?selChar@@3HA, -1 ; selChar

; 741  : #ifdef _CHATWORLDWIDEPROTOCOL
; 742  : 				TalkMode++;

  00362	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  00367	83 c0 01	 add	 eax, 1
  0036a	a3 00 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, eax ; TalkMode

; 743  : #else
; 744  : 				TalkMode = 0;	
; 745  : #endif
; 746  : 				strcpy(secretName,"");

  0036f	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  00374	68 00 00 00 00	 push	 OFFSET ?secretName@@3PADA ; secretName
  00379	e8 00 00 00 00	 call	 _strcpy
  0037e	83 c4 08	 add	 esp, 8
$LN39@KeyboardTa:

; 747  : 			}
; 748  : 			break;

  00381	eb 0d		 jmp	 SHORT $LN1@KeyboardTa
$LN40@KeyboardTa:

; 749  : #endif
; 750  : #ifdef _CHATWORLDWIDEPROTOCOL
; 751  : 		//CC ä¸–ç•Œé¢‘é“
; 752  : 		case 6:
; 753  : #ifdef _NB_CHANNEL_ALLSERV
; 754  : 				TalkMode++;

  00383	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  00388	83 c0 01	 add	 eax, 1
  0038b	a3 00 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, eax ; TalkMode
$LN1@KeyboardTa:

; 755  : #else
; 756  : 				TalkMode = 0;	
; 757  : #endif
; 758  : 			break;
; 759  : #endif
; 760  : #ifdef _NB_CHANNEL_ALLSERV
; 761  : 		case 7:
; 762  : 			//TalkMode = 0;
; 763  : 			break;
; 764  : 		}
; 765  : #ifdef _TALK_WINDOW
; 766  : 		if(g_bTalkWindow) TalkWindow.Update();
; 767  : #endif
; 768  : 	}
; 769  : #else
; 770  : 	#ifdef _FRIENDCHANNEL
; 771  : 		TalkMode = (TalkMode + 1) % 3;
; 772  : 		if(TalkMode == 2 ){
; 773  : 			secretFlag = FALSE;
; 774  : 			selChar = -1;
; 775  : 			pNowStrBuffer->buffer[ 0 ] = NULL;
; 776  : 			pNowStrBuffer->cursor=0;
; 777  : 			pNowStrBuffer->cnt = 0;
; 778  : 			StrToNowStrBuffer("");
; 779  : 			if(strcmp(pc.chatRoomNum, "") == 0)	TalkMode = 0;
; 780  : 		}else	strcpy(secretName,"");
; 781  : 	#else
; 782  : 		#ifdef _TELLCHANNEL
; 783  : 			TalkMode = (TalkMode + 1) % 2;
; 784  : 			pNowStrBuffer->buffer[ 0 ] = NULL;
; 785  : 			pNowStrBuffer->cursor=0;
; 786  : 			pNowStrBuffer->cnt = 0;
; 787  : 			StrToNowStrBuffer("");
; 788  : 		#endif
; 789  : 	#endif
; 790  : #endif
; 791  : }	

  00390	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00393	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0039a	59		 pop	 ecx
  0039b	5f		 pop	 edi
  0039c	5e		 pop	 esi
  0039d	5b		 pop	 ebx
  0039e	81 c4 e8 00 00
	00		 add	 esp, 232		; 000000e8H
  003a4	3b ec		 cmp	 ebp, esp
  003a6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003ab	8b e5		 mov	 esp, ebp
  003ad	5d		 pop	 ebp
  003ae	c3		 ret	 0
  003af	90		 npad	 1
$LN46@KeyboardTa:
  003b0	00 00 00 00	 DD	 $LN17@KeyboardTa
  003b4	00 00 00 00	 DD	 $LN21@KeyboardTa
  003b8	00 00 00 00	 DD	 $LN24@KeyboardTa
  003bc	00 00 00 00	 DD	 $LN29@KeyboardTa
  003c0	00 00 00 00	 DD	 $LN35@KeyboardTa
  003c4	00 00 00 00	 DD	 $LN38@KeyboardTa
  003c8	00 00 00 00	 DD	 $LN40@KeyboardTa
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?KeyboardTab@@YAXXZ$0:
  00000	68 00 00 00 00	 push	 OFFSET ?$TSS0@?1??KeyboardTab@@YAXXZ@4HA
  00005	e8 00 00 00 00	 call	 __Init_thread_abort
  0000a	59		 pop	 ecx
  0000b	c3		 ret	 0
__ehhandler$?KeyboardTab@@YAXXZ:
  0000c	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00010	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00013	8b 8a 14 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-236]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?KeyboardTab@@YAXXZ
  00025	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?KeyboardTab@@YAXXZ ENDP				; KeyboardTab
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\time.h
;	COMDAT _time
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_time	PROC						; COMDAT

; 534  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 535  :             return _time64(_Time);

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  00023	50		 push	 eax
  00024	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___time64
  0002a	83 c4 04	 add	 esp, 4
  0002d	3b f4		 cmp	 esi, esp
  0002f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 536  :         }

  00034	5f		 pop	 edi
  00035	5e		 pop	 esi
  00036	5b		 pop	 ebx
  00037	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003d	3b ec		 cmp	 ebp, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
_time	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\time.h
;	COMDAT _localtime
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_localtime PROC						; COMDAT

; 508  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 509  :             #pragma warning(push)
; 510  :             #pragma warning(disable: 4996)
; 511  :             return _localtime64(_Time);

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  00023	50		 push	 eax
  00024	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___localtime64
  0002a	83 c4 04	 add	 esp, 4
  0002d	3b f4		 cmp	 esi, esp
  0002f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 512  :             #pragma warning(pop)
; 513  :         }

  00034	5f		 pop	 edi
  00035	5e		 pop	 esi
  00036	5b		 pop	 ebx
  00037	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003d	3b ec		 cmp	 ebp, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
_localtime ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?StrToNowStrBuffer@@YAXPAD@Z
_TEXT	SEGMENT
_i$1 = -56						; size = 4
_strLen$2 = -44						; size = 4
_i$3 = -32						; size = 4
_strLen$4 = -20						; size = 4
_newstr$5 = -8						; size = 4
_str$ = 8						; size = 4
?StrToNowStrBuffer@@YAXPAD@Z PROC			; StrToNowStrBuffer, COMDAT

; 401  : void StrToNowStrBuffer( char *str ){

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00012	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 402  : #ifdef _NB_CANCEL_FANTI
; 403  : 	if(ç¼–ç  == 950 ){

  0001e	81 3d 00 00 00
	00 b6 03 00 00	 cmp	 DWORD PTR ?±àÂë@@3HA, 950 ; ±àÂë, 000003b6H
  00028	0f 85 95 00 00
	00		 jne	 $LN8@StrToNowSt

; 404  : 		extern char* BIG5ToGB2312(const char* szBIG5String);
; 405  : 		char *newstr;
; 406  : 		newstr=BIG5ToGB2312((const char *)str);

  0002e	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ?BIG5ToGB2312@@YAPADPBD@Z ; BIG5ToGB2312
  00037	83 c4 04	 add	 esp, 4
  0003a	89 45 f8	 mov	 DWORD PTR _newstr$5[ebp], eax

; 407  : 		int strLen,i;
; 408  : 		strLen=strlen(newstr);

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _newstr$5[ebp]
  00040	50		 push	 eax
  00041	e8 00 00 00 00	 call	 _strlen
  00046	83 c4 04	 add	 esp, 4
  00049	89 45 ec	 mov	 DWORD PTR _strLen$4[ebp], eax

; 409  : 		if(strLen>86)

  0004c	83 7d ec 56	 cmp	 DWORD PTR _strLen$4[ebp], 86 ; 00000056H
  00050	7e 07		 jle	 SHORT $LN10@StrToNowSt

; 410  : 			strLen=86;

  00052	c7 45 ec 56 00
	00 00		 mov	 DWORD PTR _strLen$4[ebp], 86 ; 00000056H
$LN10@StrToNowSt:

; 411  : 		for(i=0;i<strLen;i++){

  00059	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _i$3[ebp], 0
  00060	eb 09		 jmp	 SHORT $LN4@StrToNowSt
$LN2@StrToNowSt:
  00062	8b 45 e0	 mov	 eax, DWORD PTR _i$3[ebp]
  00065	83 c0 01	 add	 eax, 1
  00068	89 45 e0	 mov	 DWORD PTR _i$3[ebp], eax
$LN4@StrToNowSt:
  0006b	8b 45 e0	 mov	 eax, DWORD PTR _i$3[ebp]
  0006e	3b 45 ec	 cmp	 eax, DWORD PTR _strLen$4[ebp]
  00071	7d 4b		 jge	 SHORT $LN3@StrToNowSt

; 412  : 			if(IsDBCSLeadByte(newstr[i])){

  00073	8b 45 f8	 mov	 eax, DWORD PTR _newstr$5[ebp]
  00076	03 45 e0	 add	 eax, DWORD PTR _i$3[ebp]
  00079	8b f4		 mov	 esi, esp
  0007b	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  0007e	51		 push	 ecx
  0007f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  00085	3b f4		 cmp	 esi, esp
  00087	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0008c	85 c0		 test	 eax, eax
  0008e	74 1a		 je	 SHORT $LN11@StrToNowSt

; 413  : 				StockStrBufferDBChar(newstr+i);

  00090	8b 45 f8	 mov	 eax, DWORD PTR _newstr$5[ebp]
  00093	03 45 e0	 add	 eax, DWORD PTR _i$3[ebp]
  00096	50		 push	 eax
  00097	e8 00 00 00 00	 call	 ?StockStrBufferDBChar@@YAXPAD@Z ; StockStrBufferDBChar
  0009c	83 c4 04	 add	 esp, 4

; 414  : 				i++;

  0009f	8b 45 e0	 mov	 eax, DWORD PTR _i$3[ebp]
  000a2	83 c0 01	 add	 eax, 1
  000a5	89 45 e0	 mov	 DWORD PTR _i$3[ebp], eax

; 415  : 			}else

  000a8	eb 12		 jmp	 SHORT $LN12@StrToNowSt
$LN11@StrToNowSt:

; 416  : 				StockStrBufferChar(newstr[i]);

  000aa	8b 45 f8	 mov	 eax, DWORD PTR _newstr$5[ebp]
  000ad	03 45 e0	 add	 eax, DWORD PTR _i$3[ebp]
  000b0	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  000b3	51		 push	 ecx
  000b4	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  000b9	83 c4 04	 add	 esp, 4
$LN12@StrToNowSt:

; 417  : 		}

  000bc	eb a4		 jmp	 SHORT $LN2@StrToNowSt
$LN3@StrToNowSt:

; 418  : 	}else{

  000be	e9 81 00 00 00	 jmp	 $LN1@StrToNowSt
$LN8@StrToNowSt:

; 419  : 		int strLen,i;
; 420  : 		strLen=strlen(str);

  000c3	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  000c6	50		 push	 eax
  000c7	e8 00 00 00 00	 call	 _strlen
  000cc	83 c4 04	 add	 esp, 4
  000cf	89 45 d4	 mov	 DWORD PTR _strLen$2[ebp], eax

; 421  : 		if(strLen>86)

  000d2	83 7d d4 56	 cmp	 DWORD PTR _strLen$2[ebp], 86 ; 00000056H
  000d6	7e 07		 jle	 SHORT $LN13@StrToNowSt

; 422  : 			strLen=86;

  000d8	c7 45 d4 56 00
	00 00		 mov	 DWORD PTR _strLen$2[ebp], 86 ; 00000056H
$LN13@StrToNowSt:

; 423  : 		for(i=0;i<strLen;i++){

  000df	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _i$1[ebp], 0
  000e6	eb 09		 jmp	 SHORT $LN7@StrToNowSt
$LN5@StrToNowSt:
  000e8	8b 45 c8	 mov	 eax, DWORD PTR _i$1[ebp]
  000eb	83 c0 01	 add	 eax, 1
  000ee	89 45 c8	 mov	 DWORD PTR _i$1[ebp], eax
$LN7@StrToNowSt:
  000f1	8b 45 c8	 mov	 eax, DWORD PTR _i$1[ebp]
  000f4	3b 45 d4	 cmp	 eax, DWORD PTR _strLen$2[ebp]
  000f7	7d 4b		 jge	 SHORT $LN1@StrToNowSt

; 424  : 			if(IsDBCSLeadByte(str[i])){

  000f9	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  000fc	03 45 c8	 add	 eax, DWORD PTR _i$1[ebp]
  000ff	8b f4		 mov	 esi, esp
  00101	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00104	51		 push	 ecx
  00105	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  0010b	3b f4		 cmp	 esi, esp
  0010d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00112	85 c0		 test	 eax, eax
  00114	74 1a		 je	 SHORT $LN14@StrToNowSt

; 425  : 				StockStrBufferDBChar(str+i);

  00116	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00119	03 45 c8	 add	 eax, DWORD PTR _i$1[ebp]
  0011c	50		 push	 eax
  0011d	e8 00 00 00 00	 call	 ?StockStrBufferDBChar@@YAXPAD@Z ; StockStrBufferDBChar
  00122	83 c4 04	 add	 esp, 4

; 426  : 				i++;

  00125	8b 45 c8	 mov	 eax, DWORD PTR _i$1[ebp]
  00128	83 c0 01	 add	 eax, 1
  0012b	89 45 c8	 mov	 DWORD PTR _i$1[ebp], eax

; 427  : 			}else

  0012e	eb 12		 jmp	 SHORT $LN15@StrToNowSt
$LN14@StrToNowSt:

; 428  : 				StockStrBufferChar(str[i]);

  00130	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00133	03 45 c8	 add	 eax, DWORD PTR _i$1[ebp]
  00136	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00139	51		 push	 ecx
  0013a	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  0013f	83 c4 04	 add	 esp, 4
$LN15@StrToNowSt:

; 429  : 		}

  00142	eb a4		 jmp	 SHORT $LN5@StrToNowSt
$LN1@StrToNowSt:

; 430  : 	}
; 431  : #else
; 432  : 	int strLen,i;
; 433  : 	strLen=strlen(str);
; 434  : 	/*if(strLen>=256)
; 435  : 		strLen=255;*/
; 436  : 	if(strLen>86)
; 437  : 		strLen=86;
; 438  : 	for(i=0;i<strLen;i++){
; 439  : 		if(IsDBCSLeadByte(str[i])){
; 440  : 			StockStrBufferDBChar(str+i);
; 441  : 			i++;
; 442  : 		}else
; 443  : 			StockStrBufferChar(str[i]);
; 444  : 	}
; 445  : #endif
; 446  : }

  00144	5f		 pop	 edi
  00145	5e		 pop	 esi
  00146	5b		 pop	 ebx
  00147	81 c4 fc 00 00
	00		 add	 esp, 252		; 000000fcH
  0014d	3b ec		 cmp	 ebp, esp
  0014f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00154	8b e5		 mov	 esp, ebp
  00156	5d		 pop	 ebp
  00157	c3		 ret	 0
?StrToNowStrBuffer@@YAXPAD@Z ENDP			; StrToNowStrBuffer
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?SetClipboad@@YAXXZ
_TEXT	SEGMENT
_lpMem$ = -20						; size = 4
_hMem$ = -8						; size = 4
?SetClipboad@@YAXXZ PROC				; SetClipboad, COMDAT

; 1554 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1555 : 	HGLOBAL hMem;
; 1556 : 	LPTSTR lpMem;
; 1557 : 
; 1558 : 	// îš¼?î¶???????
; 1559 : 	if( pNowStrBuffer == NULL ) return;

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  00025	75 05		 jne	 SHORT $LN2@SetClipboa
  00027	e9 be 00 00 00	 jmp	 $LN1@SetClipboa
$LN2@SetClipboa:

; 1560 : 	// îž°??î¡Š?????
; 1561 : 	if( pNowStrBuffer->buffer[ 0 ] == NULL ) return;

  0002c	b8 01 00 00 00	 mov	 eax, 1
  00031	6b c8 00	 imul	 ecx, eax, 0
  00034	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0003a	0f be 04 0a	 movsx	 eax, BYTE PTR [edx+ecx]
  0003e	85 c0		 test	 eax, eax
  00040	75 05		 jne	 SHORT $LN3@SetClipboa
  00042	e9 a3 00 00 00	 jmp	 $LN1@SetClipboa
$LN3@SetClipboa:

; 1562 : 	
; 1563 : 	/* ??????????îŸ• */
; 1564 : 	hMem = GlobalAlloc( GHND, 512 );

  00047	8b f4		 mov	 esi, esp
  00049	68 00 02 00 00	 push	 512			; 00000200H
  0004e	6a 42		 push	 66			; 00000042H
  00050	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GlobalAlloc@8
  00056	3b f4		 cmp	 esi, esp
  00058	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005d	89 45 f8	 mov	 DWORD PTR _hMem$[ebp], eax

; 1565 : 	/* ????????????????????îŽ•î™¾ */
; 1566 : 	lpMem = ( LPTSTR )GlobalLock( hMem );

  00060	8b f4		 mov	 esi, esp
  00062	8b 45 f8	 mov	 eax, DWORD PTR _hMem$[ebp]
  00065	50		 push	 eax
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GlobalLock@4
  0006c	3b f4		 cmp	 esi, esp
  0006e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00073	89 45 ec	 mov	 DWORD PTR _lpMem$[ebp], eax

; 1567 : //	lstrcpy( lpMem, chat_input_buf );
; 1568 : 	/* ??????????îž°??????? */
; 1569 : 	lstrcpy( lpMem, pNowStrBuffer->buffer );

  00076	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0007b	8b f4		 mov	 esi, esp
  0007d	50		 push	 eax
  0007e	8b 4d ec	 mov	 ecx, DWORD PTR _lpMem$[ebp]
  00081	51		 push	 ecx
  00082	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  00088	3b f4		 cmp	 esi, esp
  0008a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1570 : 	/* ??????????????? */
; 1571 : 	GlobalUnlock( hMem );

  0008f	8b f4		 mov	 esi, esp
  00091	8b 45 f8	 mov	 eax, DWORD PTR _hMem$[ebp]
  00094	50		 push	 eax
  00095	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GlobalUnlock@4
  0009b	3b f4		 cmp	 esi, esp
  0009d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1572 : 	/* ???????????? */
; 1573 : 	OpenClipboard( hWnd );

  000a2	8b f4		 mov	 esi, esp
  000a4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  000a9	50		 push	 eax
  000aa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__OpenClipboard@4
  000b0	3b f4		 cmp	 esi, esp
  000b2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1574 : 	/* ??????????? */
; 1575 : 	EmptyClipboard();

  000b7	8b f4		 mov	 esi, esp
  000b9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EmptyClipboard@0
  000bf	3b f4		 cmp	 esi, esp
  000c1	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1576 : 	/* ??????????????????îž°?????? */
; 1577 : 	SetClipboardData( CF_TEXT, hMem );

  000c6	8b f4		 mov	 esi, esp
  000c8	8b 45 f8	 mov	 eax, DWORD PTR _hMem$[ebp]
  000cb	50		 push	 eax
  000cc	6a 01		 push	 1
  000ce	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetClipboardData@8
  000d4	3b f4		 cmp	 esi, esp
  000d6	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1578 : 	/* ???????????? */
; 1579 : 	CloseClipboard();

  000db	8b f4		 mov	 esi, esp
  000dd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseClipboard@0
  000e3	3b f4		 cmp	 esi, esp
  000e5	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN1@SetClipboa:

; 1580 : 	/* ??????????îŸ´ */
; 1581 : 	//GlobalFree( hMem );
; 1582 : }

  000ea	5f		 pop	 edi
  000eb	5e		 pop	 esi
  000ec	5b		 pop	 ebx
  000ed	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000f3	3b ec		 cmp	 ebp, esp
  000f5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000fa	8b e5		 mov	 esp, ebp
  000fc	5d		 pop	 ebp
  000fd	c3		 ret	 0
?SetClipboad@@YAXXZ ENDP				; SetClipboad
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?GetClipboad@@YAXXZ
_TEXT	SEGMENT
_lpMem$ = -20						; size = 4
_hMem$ = -8						; size = 4
?GetClipboad@@YAXXZ PROC				; GetClipboad, COMDAT

; 1525 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1526 : 	HGLOBAL hMem;
; 1527 : 	LPTSTR lpMem;
; 1528 : 
; 1529 : 	/* ???????????? */
; 1530 : 	OpenClipboard( hWnd );

  0001e	8b f4		 mov	 esi, esp
  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00025	50		 push	 eax
  00026	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__OpenClipboard@4
  0002c	3b f4		 cmp	 esi, esp
  0002e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1531 : 	/* ?????????îž°????????????îŽ•î™¾ */
; 1532 : 	hMem = GetClipboardData( CF_TEXT );

  00033	8b f4		 mov	 esi, esp
  00035	6a 01		 push	 1
  00037	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClipboardData@4
  0003d	3b f4		 cmp	 esi, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	89 45 f8	 mov	 DWORD PTR _hMem$[ebp], eax

; 1533 : 	/* ??????????î */
; 1534 : 	if( hMem == NULL ){

  00047	83 7d f8 00	 cmp	 DWORD PTR _hMem$[ebp], 0
  0004b	75 11		 jne	 SHORT $LN2@GetClipboa

; 1535 : 		CloseClipboard();

  0004d	8b f4		 mov	 esi, esp
  0004f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseClipboard@0
  00055	3b f4		 cmp	 esi, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1536 : 		return;

  0005c	eb 44		 jmp	 SHORT $LN1@GetClipboa
$LN2@GetClipboa:

; 1537 : 	}
; 1538 : 	/* ????????????? */
; 1539 : 	lpMem = (LPTSTR)GlobalLock( hMem );

  0005e	8b f4		 mov	 esi, esp
  00060	8b 45 f8	 mov	 eax, DWORD PTR _hMem$[ebp]
  00063	50		 push	 eax
  00064	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GlobalLock@4
  0006a	3b f4		 cmp	 esi, esp
  0006c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00071	89 45 ec	 mov	 DWORD PTR _lpMem$[ebp], eax

; 1540 : 	/* ???????????????îš ??î“†î˜‹ */
; 1541 : //	SetWindowText( hwStrE, lpMem );
; 1542 : //	lstrcpy( chat_input_buf, lpMem );
; 1543 : 
; 1544 : 	// îž°??????îš¼?îž°?????
; 1545 : 	StrToNowStrBuffer( lpMem );

  00074	8b 45 ec	 mov	 eax, DWORD PTR _lpMem$[ebp]
  00077	50		 push	 eax
  00078	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  0007d	83 c4 04	 add	 esp, 4

; 1546 : 	
; 1547 : 	/* ?????????? */
; 1548 : 	GlobalUnlock( hMem );

  00080	8b f4		 mov	 esi, esp
  00082	8b 45 f8	 mov	 eax, DWORD PTR _hMem$[ebp]
  00085	50		 push	 eax
  00086	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GlobalUnlock@4
  0008c	3b f4		 cmp	 esi, esp
  0008e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1549 : 	CloseClipboard();

  00093	8b f4		 mov	 esi, esp
  00095	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseClipboard@0
  0009b	3b f4		 cmp	 esi, esp
  0009d	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN1@GetClipboa:

; 1550 : }

  000a2	5f		 pop	 edi
  000a3	5e		 pop	 esi
  000a4	5b		 pop	 ebx
  000a5	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000ab	3b ec		 cmp	 ebp, esp
  000ad	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000b2	8b e5		 mov	 esp, ebp
  000b4	5d		 pop	 ebp
  000b5	c3		 ret	 0
?GetClipboad@@YAXXZ ENDP				; GetClipboad
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?CheckName@@YA_NPBD@Z
_TEXT	SEGMENT
_szRe$1 = -20						; size = 4
_i$2 = -8						; size = 4
_strSay$ = 8						; size = 4
?CheckName@@YA_NPBD@Z PROC				; CheckName, COMDAT

; 380  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 381  : 	if ( NULL==strSay ) return true;

  0001e	83 7d 08 00	 cmp	 DWORD PTR _strSay$[ebp], 0
  00022	75 04		 jne	 SHORT $LN5@CheckName
  00024	b0 01		 mov	 al, 1
  00026	eb 60		 jmp	 SHORT $LN1@CheckName
$LN5@CheckName:

; 382  : 	if ( strlen(strSay)==0 ) return true;

  00028	8b 45 08	 mov	 eax, DWORD PTR _strSay$[ebp]
  0002b	50		 push	 eax
  0002c	e8 00 00 00 00	 call	 _strlen
  00031	83 c4 04	 add	 esp, 4
  00034	85 c0		 test	 eax, eax
  00036	75 04		 jne	 SHORT $LN6@CheckName
  00038	b0 01		 mov	 al, 1
  0003a	eb 4c		 jmp	 SHORT $LN1@CheckName
$LN6@CheckName:

; 383  : 
; 384  : 	for ( size_t i=0;i<MAX_SHIELD_SIZE;i++ )

  0003c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$2[ebp], 0
  00043	eb 09		 jmp	 SHORT $LN4@CheckName
$LN2@CheckName:
  00045	8b 45 f8	 mov	 eax, DWORD PTR _i$2[ebp]
  00048	83 c0 01	 add	 eax, 1
  0004b	89 45 f8	 mov	 DWORD PTR _i$2[ebp], eax
$LN4@CheckName:
  0004e	81 7d f8 88 13
	00 00		 cmp	 DWORD PTR _i$2[ebp], 5000 ; 00001388H
  00055	73 2f		 jae	 SHORT $LN3@CheckName

; 385  : 	{
; 386  : 		if ( const char *szRe = strstr( strSay,NameShieldList[i] ) )

  00057	6b 45 f8 18	 imul	 eax, DWORD PTR _i$2[ebp], 24
  0005b	05 00 00 00 00	 add	 eax, OFFSET ?NameShieldList@@3PAY0BI@DA ; NameShieldList
  00060	8b f4		 mov	 esi, esp
  00062	50		 push	 eax
  00063	8b 4d 08	 mov	 ecx, DWORD PTR _strSay$[ebp]
  00066	51		 push	 ecx
  00067	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__strstr
  0006d	83 c4 08	 add	 esp, 8
  00070	3b f4		 cmp	 esi, esp
  00072	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00077	89 45 ec	 mov	 DWORD PTR _szRe$1[ebp], eax
  0007a	83 7d ec 00	 cmp	 DWORD PTR _szRe$1[ebp], 0
  0007e	74 04		 je	 SHORT $LN7@CheckName

; 387  : 		{
; 388  : 			//	g_objGameMsg.AddMsg( SayShieldList[i].c_str() );             // æµ‹è¯•æ—¶æ˜¾ç¤ºå‡ºæ¥ 
; 389  : 			//	memset( (void*)szRe,szReplace,NameShieldList[i].length() );
; 390  : 			//word = NameShieldList[i];
; 391  : 			return false;

  00080	32 c0		 xor	 al, al
  00082	eb 04		 jmp	 SHORT $LN1@CheckName
$LN7@CheckName:

; 392  : 		}
; 393  : 	}

  00084	eb bf		 jmp	 SHORT $LN2@CheckName
$LN3@CheckName:

; 394  : 	return true;

  00086	b0 01		 mov	 al, 1
$LN1@CheckName:

; 395  : }

  00088	5f		 pop	 edi
  00089	5e		 pop	 esi
  0008a	5b		 pop	 ebx
  0008b	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00091	3b ec		 cmp	 ebp, esp
  00093	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c3		 ret	 0
?CheckName@@YA_NPBD@Z ENDP				; CheckName
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?CheckSay@@YA_NPBDD@Z
_TEXT	SEGMENT
_szRe$1 = -20						; size = 4
_i$2 = -8						; size = 4
_strSay$ = 8						; size = 4
_szReplace$ = 12					; size = 1
?CheckSay@@YA_NPBDD@Z PROC				; CheckSay, COMDAT

; 363  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 364  : 	if ( NULL==strSay ) return true;

  0001e	83 7d 08 00	 cmp	 DWORD PTR _strSay$[ebp], 0
  00022	75 04		 jne	 SHORT $LN5@CheckSay
  00024	b0 01		 mov	 al, 1
  00026	eb 60		 jmp	 SHORT $LN1@CheckSay
$LN5@CheckSay:

; 365  : 	if ( strlen(strSay)==0 ) return true;

  00028	8b 45 08	 mov	 eax, DWORD PTR _strSay$[ebp]
  0002b	50		 push	 eax
  0002c	e8 00 00 00 00	 call	 _strlen
  00031	83 c4 04	 add	 esp, 4
  00034	85 c0		 test	 eax, eax
  00036	75 04		 jne	 SHORT $LN6@CheckSay
  00038	b0 01		 mov	 al, 1
  0003a	eb 4c		 jmp	 SHORT $LN1@CheckSay
$LN6@CheckSay:

; 366  : 
; 367  : 	for ( size_t i=0;i<MAX_SHIELD_SIZE;i++ )

  0003c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$2[ebp], 0
  00043	eb 09		 jmp	 SHORT $LN4@CheckSay
$LN2@CheckSay:
  00045	8b 45 f8	 mov	 eax, DWORD PTR _i$2[ebp]
  00048	83 c0 01	 add	 eax, 1
  0004b	89 45 f8	 mov	 DWORD PTR _i$2[ebp], eax
$LN4@CheckSay:
  0004e	81 7d f8 88 13
	00 00		 cmp	 DWORD PTR _i$2[ebp], 5000 ; 00001388H
  00055	73 2f		 jae	 SHORT $LN3@CheckSay

; 368  : 	{
; 369  : 		if ( const char *szRe = strstr( strSay,SayShieldList[i] ) )

  00057	6b 45 f8 18	 imul	 eax, DWORD PTR _i$2[ebp], 24
  0005b	05 00 00 00 00	 add	 eax, OFFSET ?SayShieldList@@3PAY0BI@DA ; SayShieldList
  00060	8b f4		 mov	 esi, esp
  00062	50		 push	 eax
  00063	8b 4d 08	 mov	 ecx, DWORD PTR _strSay$[ebp]
  00066	51		 push	 ecx
  00067	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__strstr
  0006d	83 c4 08	 add	 esp, 8
  00070	3b f4		 cmp	 esi, esp
  00072	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00077	89 45 ec	 mov	 DWORD PTR _szRe$1[ebp], eax
  0007a	83 7d ec 00	 cmp	 DWORD PTR _szRe$1[ebp], 0
  0007e	74 04		 je	 SHORT $LN7@CheckSay

; 370  : 		{
; 371  : 			//	g_objGameMsg.AddMsg( SayShieldList[i].c_str() );             // æµ‹è¯•æ—¶æ˜¾ç¤ºå‡ºæ¥ 
; 372  : 			//memset( (void*)szRe,szReplace,strlen(SayShieldList[i]) );
; 373  : 			return false;

  00080	32 c0		 xor	 al, al
  00082	eb 04		 jmp	 SHORT $LN1@CheckSay
$LN7@CheckSay:

; 374  : 		}
; 375  : 	}

  00084	eb bf		 jmp	 SHORT $LN2@CheckSay
$LN3@CheckSay:

; 376  : 	return true;

  00086	b0 01		 mov	 al, 1
$LN1@CheckSay:

; 377  : }

  00088	5f		 pop	 edi
  00089	5e		 pop	 esi
  0008a	5b		 pop	 ebx
  0008b	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00091	3b ec		 cmp	 ebp, esp
  00093	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c3		 ret	 0
?CheckSay@@YA_NPBDD@Z ENDP				; CheckSay
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?LoadReadNameShield@@YAHXZ
_TEXT	SEGMENT
$T1 = -296						; size = 4
_nResult$2 = -92					; size = 4
_i$ = -80						; size = 4
_bRead$ = -68						; size = 4
_nRead$ = -56						; size = 4
_pBuffer$ = -44						; size = 4
_nSize$ = -32						; size = 4
_szName$ = -20						; size = 11
__$ArrayPad$ = -4					; size = 4
?LoadReadNameShield@@YAHXZ PROC				; LoadReadNameShield, COMDAT

; 325  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd d4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-300]
  00012	b9 4b 00 00 00	 mov	 ecx, 75			; 0000004bH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 326  : 	char szName[]="ShieldName";

  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ??_C@_0L@DMHAPCJA@ShieldName?$AA@
  0002d	89 45 ec	 mov	 DWORD PTR _szName$[ebp], eax
  00030	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ??_C@_0L@DMHAPCJA@ShieldName?$AA@+4
  00036	89 4d f0	 mov	 DWORD PTR _szName$[ebp+4], ecx
  00039	66 8b 15 08 00
	00 00		 mov	 dx, WORD PTR ??_C@_0L@DMHAPCJA@ShieldName?$AA@+8
  00040	66 89 55 f4	 mov	 WORD PTR _szName$[ebp+8], dx
  00044	a0 0a 00 00 00	 mov	 al, BYTE PTR ??_C@_0L@DMHAPCJA@ShieldName?$AA@+10
  00049	88 45 f6	 mov	 BYTE PTR _szName$[ebp+10], al

; 327  : 	unsigned int nSize;
; 328  : 	char* pBuffer =	(char*)EncryptFileName((char*)szName,nSize);

  0004c	8d 45 e0	 lea	 eax, DWORD PTR _nSize$[ebp]
  0004f	50		 push	 eax
  00050	8d 4d ec	 lea	 ecx, DWORD PTR _szName$[ebp]
  00053	51		 push	 ecx
  00054	e8 00 00 00 00	 call	 ?EncryptFileName@@YAPAXPBDAAI@Z ; EncryptFileName
  00059	83 c4 08	 add	 esp, 8
  0005c	89 45 d4	 mov	 DWORD PTR _pBuffer$[ebp], eax

; 329  : 	if( !pBuffer )

  0005f	83 7d d4 00	 cmp	 DWORD PTR _pBuffer$[ebp], 0
  00063	75 07		 jne	 SHORT $LN4@LoadReadNa

; 330  : 		return FALSE;

  00065	33 c0		 xor	 eax, eax
  00067	e9 c5 00 00 00	 jmp	 $LN1@LoadReadNa
$LN4@LoadReadNa:

; 331  : 
; 332  : 	unsigned int nRead = 0;		//å·²ç»è¯»äº†çš„

  0006c	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nRead$[ebp], 0

; 333  : 	BOOL bRead = FALSE;

  00073	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _bRead$[ebp], 0

; 334  : 	int i = 0;

  0007a	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
$LN2@LoadReadNa:

; 335  : 	static char szName_[20] = "";
; 336  : 
; 337  : 	while(nRead < nSize)

  00081	8b 45 c8	 mov	 eax, DWORD PTR _nRead$[ebp]
  00084	3b 45 e0	 cmp	 eax, DWORD PTR _nSize$[ebp]
  00087	0f 83 80 00 00
	00		 jae	 $LN3@LoadReadNa

; 338  : 	{
; 339  : 		
; 340  : 		int nResult = sscanf(pBuffer + nRead , "%s", &szName_);

  0008d	68 00 00 00 00	 push	 OFFSET ?szName_@?1??LoadReadNameShield@@YAHXZ@4PADA
  00092	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs?$AA@
  00097	8b 45 d4	 mov	 eax, DWORD PTR _pBuffer$[ebp]
  0009a	03 45 c8	 add	 eax, DWORD PTR _nRead$[ebp]
  0009d	50		 push	 eax
  0009e	e8 00 00 00 00	 call	 _sscanf
  000a3	83 c4 0c	 add	 esp, 12			; 0000000cH
  000a6	89 45 a4	 mov	 DWORD PTR _nResult$2[ebp], eax

; 341  : 		if ( !MoveFilePointInt(pBuffer,nSize,nRead,bRead,nResult))

  000a9	8b 45 a4	 mov	 eax, DWORD PTR _nResult$2[ebp]
  000ac	50		 push	 eax
  000ad	8d 4d bc	 lea	 ecx, DWORD PTR _bRead$[ebp]
  000b0	51		 push	 ecx
  000b1	8d 55 c8	 lea	 edx, DWORD PTR _nRead$[ebp]
  000b4	52		 push	 edx
  000b5	8b 45 e0	 mov	 eax, DWORD PTR _nSize$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d d4	 mov	 ecx, DWORD PTR _pBuffer$[ebp]
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?MoveFilePointInt@@YAHPBDIAAIAAHH@Z ; MoveFilePointInt
  000c2	83 c4 14	 add	 esp, 20			; 00000014H
  000c5	85 c0		 test	 eax, eax
  000c7	75 02		 jne	 SHORT $LN5@LoadReadNa

; 342  : 			break;

  000c9	eb 42		 jmp	 SHORT $LN3@LoadReadNa
$LN5@LoadReadNa:

; 343  : 		if ( bRead == FALSE )

  000cb	83 7d bc 00	 cmp	 DWORD PTR _bRead$[ebp], 0
  000cf	75 02		 jne	 SHORT $LN6@LoadReadNa

; 344  : 			continue;

  000d1	eb ae		 jmp	 SHORT $LN2@LoadReadNa
$LN6@LoadReadNa:

; 345  : 		if ( 1 == nResult )

  000d3	83 7d a4 01	 cmp	 DWORD PTR _nResult$2[ebp], 1
  000d7	75 2d		 jne	 SHORT $LN7@LoadReadNa

; 346  : 		{	
; 347  : 			if(i >= MAX_SHIELD_SIZE)

  000d9	81 7d b0 88 13
	00 00		 cmp	 DWORD PTR _i$[ebp], 5000 ; 00001388H
  000e0	7c 02		 jl	 SHORT $LN9@LoadReadNa

; 348  : 			{
; 349  : 				break;

  000e2	eb 29		 jmp	 SHORT $LN3@LoadReadNa
$LN9@LoadReadNa:

; 350  : 			}
; 351  : 			strcpy(NameShieldList[i], szName_ );

  000e4	68 00 00 00 00	 push	 OFFSET ?szName_@?1??LoadReadNameShield@@YAHXZ@4PADA
  000e9	6b 45 b0 18	 imul	 eax, DWORD PTR _i$[ebp], 24
  000ed	05 00 00 00 00	 add	 eax, OFFSET ?NameShieldList@@3PAY0BI@DA ; NameShieldList
  000f2	50		 push	 eax
  000f3	e8 00 00 00 00	 call	 _strcpy
  000f8	83 c4 08	 add	 esp, 8

; 352  : 			i++;

  000fb	8b 45 b0	 mov	 eax, DWORD PTR _i$[ebp]
  000fe	83 c0 01	 add	 eax, 1
  00101	89 45 b0	 mov	 DWORD PTR _i$[ebp], eax

; 353  : 		}
; 354  : 		else

  00104	eb 02		 jmp	 SHORT $LN8@LoadReadNa
$LN7@LoadReadNa:

; 355  : 			break;

  00106	eb 05		 jmp	 SHORT $LN3@LoadReadNa
$LN8@LoadReadNa:

; 356  : 	}

  00108	e9 74 ff ff ff	 jmp	 $LN2@LoadReadNa
$LN3@LoadReadNa:

; 357  : 	delete[] pBuffer;

  0010d	8b 45 d4	 mov	 eax, DWORD PTR _pBuffer$[ebp]
  00110	89 85 d8 fe ff
	ff		 mov	 DWORD PTR $T1[ebp], eax
  00116	8b 8d d8 fe ff
	ff		 mov	 ecx, DWORD PTR $T1[ebp]
  0011c	51		 push	 ecx
  0011d	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00122	83 c4 04	 add	 esp, 4

; 358  : 	pBuffer = NULL;

  00125	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _pBuffer$[ebp], 0

; 359  : 	return TRUE;

  0012c	b8 01 00 00 00	 mov	 eax, 1
$LN1@LoadReadNa:

; 360  : 
; 361  : }

  00131	52		 push	 edx
  00132	8b cd		 mov	 ecx, ebp
  00134	50		 push	 eax
  00135	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN17@LoadReadNa
  0013b	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00140	58		 pop	 eax
  00141	5a		 pop	 edx
  00142	5f		 pop	 edi
  00143	5e		 pop	 esi
  00144	5b		 pop	 ebx
  00145	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00148	33 cd		 xor	 ecx, ebp
  0014a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0014f	81 c4 2c 01 00
	00		 add	 esp, 300		; 0000012cH
  00155	3b ec		 cmp	 ebp, esp
  00157	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0015c	8b e5		 mov	 esp, ebp
  0015e	5d		 pop	 ebp
  0015f	c3		 ret	 0
$LN17@LoadReadNa:
  00160	04 00 00 00	 DD	 4
  00164	00 00 00 00	 DD	 $LN16@LoadReadNa
$LN16@LoadReadNa:
  00168	ec ff ff ff	 DD	 -20			; ffffffecH
  0016c	0b 00 00 00	 DD	 11			; 0000000bH
  00170	00 00 00 00	 DD	 $LN12@LoadReadNa
  00174	e0 ff ff ff	 DD	 -32			; ffffffe0H
  00178	04 00 00 00	 DD	 4
  0017c	00 00 00 00	 DD	 $LN13@LoadReadNa
  00180	c8 ff ff ff	 DD	 -56			; ffffffc8H
  00184	04 00 00 00	 DD	 4
  00188	00 00 00 00	 DD	 $LN14@LoadReadNa
  0018c	bc ff ff ff	 DD	 -68			; ffffffbcH
  00190	04 00 00 00	 DD	 4
  00194	00 00 00 00	 DD	 $LN15@LoadReadNa
$LN15@LoadReadNa:
  00198	62		 DB	 98			; 00000062H
  00199	52		 DB	 82			; 00000052H
  0019a	65		 DB	 101			; 00000065H
  0019b	61		 DB	 97			; 00000061H
  0019c	64		 DB	 100			; 00000064H
  0019d	00		 DB	 0
$LN14@LoadReadNa:
  0019e	6e		 DB	 110			; 0000006eH
  0019f	52		 DB	 82			; 00000052H
  001a0	65		 DB	 101			; 00000065H
  001a1	61		 DB	 97			; 00000061H
  001a2	64		 DB	 100			; 00000064H
  001a3	00		 DB	 0
$LN13@LoadReadNa:
  001a4	6e		 DB	 110			; 0000006eH
  001a5	53		 DB	 83			; 00000053H
  001a6	69		 DB	 105			; 00000069H
  001a7	7a		 DB	 122			; 0000007aH
  001a8	65		 DB	 101			; 00000065H
  001a9	00		 DB	 0
$LN12@LoadReadNa:
  001aa	73		 DB	 115			; 00000073H
  001ab	7a		 DB	 122			; 0000007aH
  001ac	4e		 DB	 78			; 0000004eH
  001ad	61		 DB	 97			; 00000061H
  001ae	6d		 DB	 109			; 0000006dH
  001af	65		 DB	 101			; 00000065H
  001b0	00		 DB	 0
?LoadReadNameShield@@YAHXZ ENDP				; LoadReadNameShield
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?LoadReadSayShield@@YAHXZ
_TEXT	SEGMENT
$T1 = -296						; size = 4
_nResult$2 = -92					; size = 4
_i$ = -80						; size = 4
_bRead$ = -68						; size = 4
_nRead$ = -56						; size = 4
_pBuffer$ = -44						; size = 4
_nSize$ = -32						; size = 4
_szName$ = -20						; size = 12
__$ArrayPad$ = -4					; size = 4
?LoadReadSayShield@@YAHXZ PROC				; LoadReadSayShield, COMDAT

; 289  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd d4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-300]
  00012	b9 4b 00 00 00	 mov	 ecx, 75			; 0000004bH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 290  : 	char szName[]="ShieldWorld";

  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ??_C@_0M@GNOANMGB@ShieldWorld?$AA@
  0002d	89 45 ec	 mov	 DWORD PTR _szName$[ebp], eax
  00030	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ??_C@_0M@GNOANMGB@ShieldWorld?$AA@+4
  00036	89 4d f0	 mov	 DWORD PTR _szName$[ebp+4], ecx
  00039	8b 15 08 00 00
	00		 mov	 edx, DWORD PTR ??_C@_0M@GNOANMGB@ShieldWorld?$AA@+8
  0003f	89 55 f4	 mov	 DWORD PTR _szName$[ebp+8], edx

; 291  : 	unsigned int nSize;
; 292  : 	char* pBuffer =	(char*)EncryptFileName((char*)szName,nSize);

  00042	8d 45 e0	 lea	 eax, DWORD PTR _nSize$[ebp]
  00045	50		 push	 eax
  00046	8d 4d ec	 lea	 ecx, DWORD PTR _szName$[ebp]
  00049	51		 push	 ecx
  0004a	e8 00 00 00 00	 call	 ?EncryptFileName@@YAPAXPBDAAI@Z ; EncryptFileName
  0004f	83 c4 08	 add	 esp, 8
  00052	89 45 d4	 mov	 DWORD PTR _pBuffer$[ebp], eax

; 293  : 	if( !pBuffer )

  00055	83 7d d4 00	 cmp	 DWORD PTR _pBuffer$[ebp], 0
  00059	75 07		 jne	 SHORT $LN4@LoadReadSa

; 294  : 		return FALSE;

  0005b	33 c0		 xor	 eax, eax
  0005d	e9 c5 00 00 00	 jmp	 $LN1@LoadReadSa
$LN4@LoadReadSa:

; 295  : 
; 296  : 	unsigned int nRead = 0;		//å·²ç»è¯»äº†çš„

  00062	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _nRead$[ebp], 0

; 297  : 	BOOL bRead = FALSE;

  00069	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _bRead$[ebp], 0

; 298  : 	int i = 0;

  00070	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
$LN2@LoadReadSa:

; 299  : 	static char szWord[20] = "";
; 300  : 	while(nRead < nSize)

  00077	8b 45 c8	 mov	 eax, DWORD PTR _nRead$[ebp]
  0007a	3b 45 e0	 cmp	 eax, DWORD PTR _nSize$[ebp]
  0007d	0f 83 80 00 00
	00		 jae	 $LN3@LoadReadSa

; 301  : 	{
; 302  : 			int nResult = sscanf(pBuffer + nRead , "%s", &szWord);

  00083	68 00 00 00 00	 push	 OFFSET ?szWord@?1??LoadReadSayShield@@YAHXZ@4PADA
  00088	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs?$AA@
  0008d	8b 45 d4	 mov	 eax, DWORD PTR _pBuffer$[ebp]
  00090	03 45 c8	 add	 eax, DWORD PTR _nRead$[ebp]
  00093	50		 push	 eax
  00094	e8 00 00 00 00	 call	 _sscanf
  00099	83 c4 0c	 add	 esp, 12			; 0000000cH
  0009c	89 45 a4	 mov	 DWORD PTR _nResult$2[ebp], eax

; 303  : 			if ( !MoveFilePointInt(pBuffer,nSize,nRead,bRead,nResult))

  0009f	8b 45 a4	 mov	 eax, DWORD PTR _nResult$2[ebp]
  000a2	50		 push	 eax
  000a3	8d 4d bc	 lea	 ecx, DWORD PTR _bRead$[ebp]
  000a6	51		 push	 ecx
  000a7	8d 55 c8	 lea	 edx, DWORD PTR _nRead$[ebp]
  000aa	52		 push	 edx
  000ab	8b 45 e0	 mov	 eax, DWORD PTR _nSize$[ebp]
  000ae	50		 push	 eax
  000af	8b 4d d4	 mov	 ecx, DWORD PTR _pBuffer$[ebp]
  000b2	51		 push	 ecx
  000b3	e8 00 00 00 00	 call	 ?MoveFilePointInt@@YAHPBDIAAIAAHH@Z ; MoveFilePointInt
  000b8	83 c4 14	 add	 esp, 20			; 00000014H
  000bb	85 c0		 test	 eax, eax
  000bd	75 02		 jne	 SHORT $LN5@LoadReadSa

; 304  : 				break;

  000bf	eb 42		 jmp	 SHORT $LN3@LoadReadSa
$LN5@LoadReadSa:

; 305  : 			if ( bRead == FALSE )

  000c1	83 7d bc 00	 cmp	 DWORD PTR _bRead$[ebp], 0
  000c5	75 02		 jne	 SHORT $LN6@LoadReadSa

; 306  : 				continue;

  000c7	eb ae		 jmp	 SHORT $LN2@LoadReadSa
$LN6@LoadReadSa:

; 307  : 			if ( 1 == nResult )

  000c9	83 7d a4 01	 cmp	 DWORD PTR _nResult$2[ebp], 1
  000cd	75 2d		 jne	 SHORT $LN7@LoadReadSa

; 308  : 			{	
; 309  : 				if(i >= MAX_SHIELD_SIZE)

  000cf	81 7d b0 88 13
	00 00		 cmp	 DWORD PTR _i$[ebp], 5000 ; 00001388H
  000d6	7c 02		 jl	 SHORT $LN9@LoadReadSa

; 310  : 				{
; 311  : 					break;

  000d8	eb 29		 jmp	 SHORT $LN3@LoadReadSa
$LN9@LoadReadSa:

; 312  : 				}
; 313  : 				strcpy(SayShieldList[i], szWord );

  000da	68 00 00 00 00	 push	 OFFSET ?szWord@?1??LoadReadSayShield@@YAHXZ@4PADA
  000df	6b 45 b0 18	 imul	 eax, DWORD PTR _i$[ebp], 24
  000e3	05 00 00 00 00	 add	 eax, OFFSET ?SayShieldList@@3PAY0BI@DA ; SayShieldList
  000e8	50		 push	 eax
  000e9	e8 00 00 00 00	 call	 _strcpy
  000ee	83 c4 08	 add	 esp, 8

; 314  : 				i++;

  000f1	8b 45 b0	 mov	 eax, DWORD PTR _i$[ebp]
  000f4	83 c0 01	 add	 eax, 1
  000f7	89 45 b0	 mov	 DWORD PTR _i$[ebp], eax

; 315  : 			}
; 316  : 			else

  000fa	eb 02		 jmp	 SHORT $LN8@LoadReadSa
$LN7@LoadReadSa:

; 317  : 				break;

  000fc	eb 05		 jmp	 SHORT $LN3@LoadReadSa
$LN8@LoadReadSa:

; 318  : 	}

  000fe	e9 74 ff ff ff	 jmp	 $LN2@LoadReadSa
$LN3@LoadReadSa:

; 319  : 	delete[] pBuffer;

  00103	8b 45 d4	 mov	 eax, DWORD PTR _pBuffer$[ebp]
  00106	89 85 d8 fe ff
	ff		 mov	 DWORD PTR $T1[ebp], eax
  0010c	8b 8d d8 fe ff
	ff		 mov	 ecx, DWORD PTR $T1[ebp]
  00112	51		 push	 ecx
  00113	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00118	83 c4 04	 add	 esp, 4

; 320  : 	pBuffer = NULL;

  0011b	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _pBuffer$[ebp], 0

; 321  : 	return TRUE;

  00122	b8 01 00 00 00	 mov	 eax, 1
$LN1@LoadReadSa:

; 322  : }

  00127	52		 push	 edx
  00128	8b cd		 mov	 ecx, ebp
  0012a	50		 push	 eax
  0012b	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN17@LoadReadSa
  00131	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00136	58		 pop	 eax
  00137	5a		 pop	 edx
  00138	5f		 pop	 edi
  00139	5e		 pop	 esi
  0013a	5b		 pop	 ebx
  0013b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0013e	33 cd		 xor	 ecx, ebp
  00140	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00145	81 c4 2c 01 00
	00		 add	 esp, 300		; 0000012cH
  0014b	3b ec		 cmp	 ebp, esp
  0014d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00152	8b e5		 mov	 esp, ebp
  00154	5d		 pop	 ebp
  00155	c3		 ret	 0
  00156	66 90		 npad	 2
$LN17@LoadReadSa:
  00158	04 00 00 00	 DD	 4
  0015c	00 00 00 00	 DD	 $LN16@LoadReadSa
$LN16@LoadReadSa:
  00160	ec ff ff ff	 DD	 -20			; ffffffecH
  00164	0c 00 00 00	 DD	 12			; 0000000cH
  00168	00 00 00 00	 DD	 $LN12@LoadReadSa
  0016c	e0 ff ff ff	 DD	 -32			; ffffffe0H
  00170	04 00 00 00	 DD	 4
  00174	00 00 00 00	 DD	 $LN13@LoadReadSa
  00178	c8 ff ff ff	 DD	 -56			; ffffffc8H
  0017c	04 00 00 00	 DD	 4
  00180	00 00 00 00	 DD	 $LN14@LoadReadSa
  00184	bc ff ff ff	 DD	 -68			; ffffffbcH
  00188	04 00 00 00	 DD	 4
  0018c	00 00 00 00	 DD	 $LN15@LoadReadSa
$LN15@LoadReadSa:
  00190	62		 DB	 98			; 00000062H
  00191	52		 DB	 82			; 00000052H
  00192	65		 DB	 101			; 00000065H
  00193	61		 DB	 97			; 00000061H
  00194	64		 DB	 100			; 00000064H
  00195	00		 DB	 0
$LN14@LoadReadSa:
  00196	6e		 DB	 110			; 0000006eH
  00197	52		 DB	 82			; 00000052H
  00198	65		 DB	 101			; 00000065H
  00199	61		 DB	 97			; 00000061H
  0019a	64		 DB	 100			; 00000064H
  0019b	00		 DB	 0
$LN13@LoadReadSa:
  0019c	6e		 DB	 110			; 0000006eH
  0019d	53		 DB	 83			; 00000053H
  0019e	69		 DB	 105			; 00000069H
  0019f	7a		 DB	 122			; 0000007aH
  001a0	65		 DB	 101			; 00000065H
  001a1	00		 DB	 0
$LN12@LoadReadSa:
  001a2	73		 DB	 115			; 00000073H
  001a3	7a		 DB	 122			; 0000007aH
  001a4	4e		 DB	 78			; 0000004eH
  001a5	61		 DB	 97			; 00000061H
  001a6	6d		 DB	 109			; 0000006dH
  001a7	65		 DB	 101			; 00000065H
  001a8	00		 DB	 0
?LoadReadSayShield@@YAHXZ ENDP				; LoadReadSayShield
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?LoadChatHistoryStr@@YAHXZ
_TEXT	SEGMENT
_fp$ = -8						; size = 4
?LoadChatHistoryStr@@YAHXZ PROC				; LoadChatHistoryStr, COMDAT

; 190  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 191  : 	FILE *fp;
; 192  : 
; 193  : 	// ?????????îœ±?????
; 194  : 	ChatHistory.nowNo = -1;

  0001e	c7 05 44 41 00
	00 ff ff ff ff	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, -1

; 195  : 
; 196  : 	// îš‡???????????
; 197  : 	if( ( fp = fopen( CAHT_HISTORY_STR_FILE_NAME, "rb" ) ) == NULL ){

  00028	8b f4		 mov	 esi, esp
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@NBMCCIBO@data?2chathis?4dat?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  0003a	83 c4 08	 add	 esp, 8
  0003d	3b f4		 cmp	 esi, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	89 45 f8	 mov	 DWORD PTR _fp$[ebp], eax
  00047	83 7d f8 00	 cmp	 DWORD PTR _fp$[ebp], 0
  0004b	75 6b		 jne	 SHORT $LN2@LoadChatHi

; 198  : 		// ?????î’î˜«??î’•
; 199  : 		if( ( fp = fopen( CAHT_HISTORY_STR_FILE_NAME, "wb" ) ) != NULL ){

  0004d	8b f4		 mov	 esi, esp
  0004f	68 00 00 00 00	 push	 OFFSET ??_C@_02GMLFBBN@wb?$AA@
  00054	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@NBMCCIBO@data?2chathis?4dat?$AA@
  00059	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  0005f	83 c4 08	 add	 esp, 8
  00062	3b f4		 cmp	 esi, esp
  00064	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00069	89 45 f8	 mov	 DWORD PTR _fp$[ebp], eax
  0006c	83 7d f8 00	 cmp	 DWORD PTR _fp$[ebp], 0
  00070	74 38		 je	 SHORT $LN3@LoadChatHi

; 200  : 			// ???????
; 201  : 			fwrite( &ChatHistory, sizeof( CHAT_HISTORY ) - sizeof( int ), 1, fp );

  00072	8b f4		 mov	 esi, esp
  00074	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  00077	50		 push	 eax
  00078	6a 01		 push	 1
  0007a	68 44 41 00 00	 push	 16708			; 00004144H
  0007f	68 00 00 00 00	 push	 OFFSET ?ChatHistory@@3UCHAT_HISTORY@@A ; ChatHistory
  00084	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  0008a	83 c4 10	 add	 esp, 16			; 00000010H
  0008d	3b f4		 cmp	 esi, esp
  0008f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 202  : 			fclose( fp );	// ????????

  00094	8b f4		 mov	 esi, esp
  00096	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  00099	50		 push	 eax
  0009a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  000a0	83 c4 04	 add	 esp, 4
  000a3	3b f4		 cmp	 esi, esp
  000a5	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN3@LoadChatHi:

; 203  : 		}
; 204  : 		
; 205  : 		// ?î‘¡???????îœ±?????
; 206  : 		ChatHistory.nowNo = MAX_CHAT_HISTORY - 1;

  000aa	c7 05 44 41 00
	00 3f 00 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 63 ; 0000003fH

; 207  : 		
; 208  : 		return FALSE;

  000b4	33 c0		 xor	 eax, eax
  000b6	eb 5c		 jmp	 SHORT $LN1@LoadChatHi
$LN2@LoadChatHi:

; 209  : 	}
; 210  : 	
; 211  : 	// ???îš‡???
; 212  : 	if( fread( &ChatHistory, sizeof( CHAT_HISTORY ) - sizeof( int ), 1, fp ) < 1 ){

  000b8	8b f4		 mov	 esi, esp
  000ba	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000bd	50		 push	 eax
  000be	6a 01		 push	 1
  000c0	68 44 41 00 00	 push	 16708			; 00004144H
  000c5	68 00 00 00 00	 push	 OFFSET ?ChatHistory@@3UCHAT_HISTORY@@A ; ChatHistory
  000ca	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  000d0	83 c4 10	 add	 esp, 16			; 00000010H
  000d3	3b f4		 cmp	 esi, esp
  000d5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000da	83 f8 01	 cmp	 eax, 1
  000dd	73 1a		 jae	 SHORT $LN4@LoadChatHi

; 213  : 		
; 214  : 		fclose( fp );	// ????????

  000df	8b f4		 mov	 esi, esp
  000e1	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000e4	50		 push	 eax
  000e5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  000eb	83 c4 04	 add	 esp, 4
  000ee	3b f4		 cmp	 esi, esp
  000f0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 215  : 		return FALSE;

  000f5	33 c0		 xor	 eax, eax
  000f7	eb 1b		 jmp	 SHORT $LN1@LoadChatHi
$LN4@LoadChatHi:

; 216  : 	}
; 217  : 	// ????????
; 218  : 	fclose( fp );

  000f9	8b f4		 mov	 esi, esp
  000fb	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000fe	50		 push	 eax
  000ff	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  00105	83 c4 04	 add	 esp, 4
  00108	3b f4		 cmp	 esi, esp
  0010a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 219  : 	
; 220  : 	return TRUE;

  0010f	b8 01 00 00 00	 mov	 eax, 1
$LN1@LoadChatHi:

; 221  : }

  00114	5f		 pop	 edi
  00115	5e		 pop	 esi
  00116	5b		 pop	 ebx
  00117	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0011d	3b ec		 cmp	 ebp, esp
  0011f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00124	8b e5		 mov	 esp, ebp
  00126	5d		 pop	 ebp
  00127	c3		 ret	 0
?LoadChatHistoryStr@@YAHXZ ENDP				; LoadChatHistoryStr
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?SaveChatHistoryStr@@YAHH@Z
_TEXT	SEGMENT
_fp$ = -8						; size = 4
_no$ = 8						; size = 4
?SaveChatHistoryStr@@YAHH@Z PROC			; SaveChatHistoryStr, COMDAT

; 159  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 160  : 	FILE *fp; 
; 161  : 	// ????????????
; 162  : 	if( ( fp = fopen( CAHT_HISTORY_STR_FILE_NAME, "r+b" ) ) == NULL )

  0001e	8b f4		 mov	 esi, esp
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_03HMFOOINA@r?$CLb?$AA@
  00025	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@NBMCCIBO@data?2chathis?4dat?$AA@
  0002a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00030	83 c4 08	 add	 esp, 8
  00033	3b f4		 cmp	 esi, esp
  00035	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0003a	89 45 f8	 mov	 DWORD PTR _fp$[ebp], eax
  0003d	83 7d f8 00	 cmp	 DWORD PTR _fp$[ebp], 0
  00041	75 07		 jne	 SHORT $LN2@SaveChatHi

; 163  : 		return FALSE;

  00043	33 c0		 xor	 eax, eax
  00045	e9 df 00 00 00	 jmp	 $LN1@SaveChatHi
$LN2@SaveChatHi:

; 164  : 	// ??????î¶????????????î‘´???
; 165  : 	fseek( fp, sizeof( ChatHistory.str[ 0 ] ) * no, SEEK_SET );

  0004a	8b f4		 mov	 esi, esp
  0004c	6a 00		 push	 0
  0004e	69 45 08 05 01
	00 00		 imul	 eax, DWORD PTR _no$[ebp], 261
  00055	50		 push	 eax
  00056	8b 4d f8	 mov	 ecx, DWORD PTR _fp$[ebp]
  00059	51		 push	 ecx
  0005a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  00060	83 c4 0c	 add	 esp, 12			; 0000000cH
  00063	3b f4		 cmp	 esi, esp
  00065	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 166  : 	// îž°?????????
; 167  : 	if( fwrite( &ChatHistory.str[ no ], sizeof( ChatHistory.str[ 0 ] ), 1, fp ) < 1 ){

  0006a	8b f4		 mov	 esi, esp
  0006c	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  0006f	50		 push	 eax
  00070	6a 01		 push	 1
  00072	68 05 01 00 00	 push	 261			; 00000105H
  00077	69 4d 08 05 01
	00 00		 imul	 ecx, DWORD PTR _no$[ebp], 261
  0007e	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?ChatHistory@@3UCHAT_HISTORY@@A ; ChatHistory
  00084	51		 push	 ecx
  00085	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  0008b	83 c4 10	 add	 esp, 16			; 00000010H
  0008e	3b f4		 cmp	 esi, esp
  00090	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00095	83 f8 01	 cmp	 eax, 1
  00098	73 1a		 jae	 SHORT $LN3@SaveChatHi

; 168  : 	
; 169  : 		fclose( fp );// ????????

  0009a	8b f4		 mov	 esi, esp
  0009c	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  0009f	50		 push	 eax
  000a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  000a6	83 c4 04	 add	 esp, 4
  000a9	3b f4		 cmp	 esi, esp
  000ab	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 170  : 		return FALSE;

  000b0	33 c0		 xor	 eax, eax
  000b2	eb 75		 jmp	 SHORT $LN1@SaveChatHi
$LN3@SaveChatHi:

; 171  : 	}
; 172  : 	
; 173  : 	// ?î‘¡???îœ±??î¶???????????î‘´???
; 174  : 	fseek( fp, sizeof( ChatHistory.str[ 0 ] ) * MAX_CHAT_HISTORY, SEEK_SET );

  000b4	8b f4		 mov	 esi, esp
  000b6	6a 00		 push	 0
  000b8	68 40 41 00 00	 push	 16704			; 00004140H
  000bd	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000c0	50		 push	 eax
  000c1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fseek
  000c7	83 c4 0c	 add	 esp, 12			; 0000000cH
  000ca	3b f4		 cmp	 esi, esp
  000cc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 175  : 	// ?î‘¡???îœ±??îŸ•î”¼
; 176  : 	if( fwrite( &no, sizeof( int ), 1, fp ) < 1 ){

  000d1	8b f4		 mov	 esi, esp
  000d3	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000d6	50		 push	 eax
  000d7	6a 01		 push	 1
  000d9	6a 04		 push	 4
  000db	8d 4d 08	 lea	 ecx, DWORD PTR _no$[ebp]
  000de	51		 push	 ecx
  000df	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  000e5	83 c4 10	 add	 esp, 16			; 00000010H
  000e8	3b f4		 cmp	 esi, esp
  000ea	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ef	83 f8 01	 cmp	 eax, 1
  000f2	73 1a		 jae	 SHORT $LN4@SaveChatHi

; 177  : 	
; 178  : 		fclose( fp );// ????????

  000f4	8b f4		 mov	 esi, esp
  000f6	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000f9	50		 push	 eax
  000fa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  00100	83 c4 04	 add	 esp, 4
  00103	3b f4		 cmp	 esi, esp
  00105	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 179  : 		return FALSE;

  0010a	33 c0		 xor	 eax, eax
  0010c	eb 1b		 jmp	 SHORT $LN1@SaveChatHi
$LN4@SaveChatHi:

; 180  : 	}
; 181  : 	
; 182  : 	// ????????
; 183  : 	fclose( fp );

  0010e	8b f4		 mov	 esi, esp
  00110	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  00113	50		 push	 eax
  00114	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  0011a	83 c4 04	 add	 esp, 4
  0011d	3b f4		 cmp	 esi, esp
  0011f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 184  : 	
; 185  : 	return TRUE;

  00124	b8 01 00 00 00	 mov	 eax, 1
$LN1@SaveChatHi:

; 186  : }

  00129	5f		 pop	 edi
  0012a	5e		 pop	 esi
  0012b	5b		 pop	 ebx
  0012c	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00132	3b ec		 cmp	 ebp, esp
  00134	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00139	8b e5		 mov	 esp, ebp
  0013b	5d		 pop	 ebp
  0013c	c3		 ret	 0
?SaveChatHistoryStr@@YAHH@Z ENDP			; SaveChatHistoryStr
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?KeyboardBackSpace@@YAXXZ
_TEXT	SEGMENT
_lpstr1$1 = -44						; size = 4
_lpstr$2 = -32						; size = 4
_cursor$ = -20						; size = 4
_byte$ = -8						; size = 4
?KeyboardBackSpace@@YAXXZ PROC				; KeyboardBackSpace, COMDAT

; 633  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 10 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-240]
  00012	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 634  : 	int byte,cursor;
; 635  : 	if(pNowStrBuffer==NULL) return;

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  00025	75 05		 jne	 SHORT $LN5@KeyboardBa
  00027	e9 b4 00 00 00	 jmp	 $LN1@KeyboardBa
$LN5@KeyboardBa:

; 636  : 
; 637  : 	if((cursor=pNowStrBuffer->cursor) > 0){

  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00031	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  00038	89 4d ec	 mov	 DWORD PTR _cursor$[ebp], ecx
  0003b	83 7d ec 00	 cmp	 DWORD PTR _cursor$[ebp], 0
  0003f	0f 8e 9b 00 00
	00		 jle	 $LN1@KeyboardBa

; 638  : 		char *lpstr=pNowStrBuffer->buffer;

  00045	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0004a	89 45 e0	 mov	 DWORD PTR _lpstr$2[ebp], eax

; 639  : 		char *lpstr1=lpstr+cursor;

  0004d	8b 45 e0	 mov	 eax, DWORD PTR _lpstr$2[ebp]
  00050	03 45 ec	 add	 eax, DWORD PTR _cursor$[ebp]
  00053	89 45 d4	 mov	 DWORD PTR _lpstr1$1[ebp], eax

; 640  : 		byte=lpstr1-GetCharPrev(lpstr,lpstr1);

  00056	8b 45 d4	 mov	 eax, DWORD PTR _lpstr1$1[ebp]
  00059	50		 push	 eax
  0005a	8b 4d e0	 mov	 ecx, DWORD PTR _lpstr$2[ebp]
  0005d	51		 push	 ecx
  0005e	e8 00 00 00 00	 call	 ?GetCharPrev@@YAPADPAD0@Z ; GetCharPrev
  00063	83 c4 08	 add	 esp, 8
  00066	8b 55 d4	 mov	 edx, DWORD PTR _lpstr1$1[ebp]
  00069	2b d0		 sub	 edx, eax
  0006b	89 55 f8	 mov	 DWORD PTR _byte$[ebp], edx

; 641  : 		for(;cursor<=pNowStrBuffer->cnt;cursor++){

  0006e	eb 09		 jmp	 SHORT $LN4@KeyboardBa
$LN2@KeyboardBa:
  00070	8b 45 ec	 mov	 eax, DWORD PTR _cursor$[ebp]
  00073	83 c0 01	 add	 eax, 1
  00076	89 45 ec	 mov	 DWORD PTR _cursor$[ebp], eax
$LN4@KeyboardBa:
  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0007e	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  00085	39 4d ec	 cmp	 DWORD PTR _cursor$[ebp], ecx
  00088	7f 16		 jg	 SHORT $LN3@KeyboardBa

; 642  : 			lpstr[cursor-byte]=lpstr[cursor];

  0008a	8b 45 ec	 mov	 eax, DWORD PTR _cursor$[ebp]
  0008d	2b 45 f8	 sub	 eax, DWORD PTR _byte$[ebp]
  00090	8b 4d e0	 mov	 ecx, DWORD PTR _lpstr$2[ebp]
  00093	03 4d ec	 add	 ecx, DWORD PTR _cursor$[ebp]
  00096	8b 55 e0	 mov	 edx, DWORD PTR _lpstr$2[ebp]
  00099	8a 09		 mov	 cl, BYTE PTR [ecx]
  0009b	88 0c 02	 mov	 BYTE PTR [edx+eax], cl

; 643  : 		}

  0009e	eb d0		 jmp	 SHORT $LN2@KeyboardBa
$LN3@KeyboardBa:

; 644  : 		pNowStrBuffer->cnt-=byte;

  000a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000a5	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  000ac	2b 4d f8	 sub	 ecx, DWORD PTR _byte$[ebp]
  000af	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000b5	88 8a 07 01 00
	00		 mov	 BYTE PTR [edx+263], cl

; 645  : 		pNowStrBuffer->cursor-=byte;

  000bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000c0	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  000c7	2b 4d f8	 sub	 ecx, DWORD PTR _byte$[ebp]
  000ca	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000d0	88 8a 09 01 00
	00		 mov	 BYTE PTR [edx+265], cl

; 646  : 		CursorFlashCnt=20;

  000d6	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H
$LN1@KeyboardBa:

; 647  : 	}
; 648  : }	

  000e0	5f		 pop	 edi
  000e1	5e		 pop	 esi
  000e2	5b		 pop	 ebx
  000e3	81 c4 f0 00 00
	00		 add	 esp, 240		; 000000f0H
  000e9	3b ec		 cmp	 ebp, esp
  000eb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000f0	8b e5		 mov	 esp, ebp
  000f2	5d		 pop	 ebp
  000f3	c3		 ret	 0
?KeyboardBackSpace@@YAXXZ ENDP				; KeyboardBackSpace
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?KeyboardReturn@@YAXXZ
_TEXT	SEGMENT
_temp$ = -316						; size = 260
_buffer$2 = -48						; size = 4
_bSave$3 = -36						; size = 4
_bakNo$ = -21						; size = 1
__$ArrayPad$ = -16					; size = 4
__$EHRec$ = -12						; size = 12
?KeyboardReturn@@YAXXZ PROC				; KeyboardReturn, COMDAT

; 823  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?KeyboardReturn@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec f4 01 00
	00		 sub	 esp, 500		; 000001f4H
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	8d bd 00 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-512]
  00020	b9 7d 00 00 00	 mov	 ecx, 125		; 0000007dH
  00025	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002a	f3 ab		 rep stosd
  0002c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00031	33 c5		 xor	 eax, ebp
  00033	89 45 f0	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00036	50		 push	 eax
  00037	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0003a	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 824  : 	//ttom
; 825  : 	static bool first_keydown=true;
; 826  : 	if(!first_keydown) {

  00040	0f b6 05 00 00
	00 00		 movzx	 eax, BYTE PTR ?first_keydown@?1??KeyboardReturn@@YAXXZ@4_NA
  00047	85 c0		 test	 eax, eax
  00049	0f 85 82 00 00
	00		 jne	 $LN7@KeyboardRe

; 827  : 		//cary åä¸ƒ
; 828  : 		static DWORD PreTime=TimeGetTime(),CurTime;

  0004f	a1 00 00 00 00	 mov	 eax, DWORD PTR __tls_index
  00054	64 8b 0d 00 00
	00 00		 mov	 ecx, DWORD PTR fs:__tls_array
  0005b	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  0005e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$TSS0@?4??KeyboardReturn@@YAXXZ@4HA
  00063	3b 82 00 00 00
	00		 cmp	 eax, DWORD PTR __Init_thread_epoch[edx]
  00069	7e 3b		 jle	 SHORT $LN2@KeyboardRe
  0006b	68 00 00 00 00	 push	 OFFSET ?$TSS0@?4??KeyboardReturn@@YAXXZ@4HA
  00070	e8 00 00 00 00	 call	 __Init_thread_header
  00075	83 c4 04	 add	 esp, 4
  00078	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?$TSS0@?4??KeyboardReturn@@YAXXZ@4HA, -1
  0007f	75 25		 jne	 SHORT $LN2@KeyboardRe
  00081	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00088	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  0008d	a3 00 00 00 00	 mov	 DWORD PTR ?PreTime@?4??KeyboardReturn@@YAXXZ@4KA, eax
  00092	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  00099	68 00 00 00 00	 push	 OFFSET ?$TSS0@?4??KeyboardReturn@@YAXXZ@4HA
  0009e	e8 00 00 00 00	 call	 __Init_thread_footer
  000a3	83 c4 04	 add	 esp, 4
$LN2@KeyboardRe:

; 829  : 		if(((CurTime=TimeGetTime())-PreTime)<500)

  000a6	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  000ab	a3 00 00 00 00	 mov	 DWORD PTR ?CurTime@?4??KeyboardReturn@@YAXXZ@4KA, eax
  000b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?CurTime@?4??KeyboardReturn@@YAXXZ@4KA
  000b5	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?PreTime@?4??KeyboardReturn@@YAXXZ@4KA
  000bb	3d f4 01 00 00	 cmp	 eax, 500		; 000001f4H
  000c0	73 05		 jae	 SHORT $LN8@KeyboardRe

; 830  : 		return;

  000c2	e9 7d 04 00 00	 jmp	 $LN1@KeyboardRe
$LN8@KeyboardRe:

; 831  : 		PreTime=CurTime;

  000c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?CurTime@?4??KeyboardReturn@@YAXXZ@4KA
  000cc	a3 00 00 00 00	 mov	 DWORD PTR ?PreTime@?4??KeyboardReturn@@YAXXZ@4KA, eax
$LN7@KeyboardRe:

; 832  : 	}
; 833  : 
; 834  : 	first_keydown=false;

  000d1	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?first_keydown@?1??KeyboardReturn@@YAXXZ@4_NA, 0

; 835  : 	//end
; 836  : 	//ttom
; 837  : 	char bakNo;
; 838  : 	// ?????????îž°????????
; 839  : 	if( GetImeString() != NULL )

  000d8	e8 00 00 00 00	 call	 ?GetImeString@@YAPADXZ	; GetImeString
  000dd	85 c0		 test	 eax, eax
  000df	74 05		 je	 SHORT $LN9@KeyboardRe

; 840  : 		return;

  000e1	e9 5e 04 00 00	 jmp	 $LN1@KeyboardRe
$LN9@KeyboardRe:

; 841  : 	// ????îš¼??? *******************************
; 842  : 	if( pNowStrBuffer == &MyChatBuffer ){

  000e6	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; pNowStrBuffer, MyChatBuffer
  000f0	0f 85 51 01 00
	00		 jne	 $LN10@KeyboardRe

; 843  : 		if( pNowStrBuffer->cnt == 0 )

  000f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000fb	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  00102	85 c9		 test	 ecx, ecx
  00104	75 05		 jne	 SHORT $LN12@KeyboardRe

; 844  : 			return;

  00106	e9 39 04 00 00	 jmp	 $LN1@KeyboardRe
$LN12@KeyboardRe:

; 845  : 		pNowStrBuffer->buffer[ pNowStrBuffer->cnt ] = '\0';

  0010b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00110	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  00117	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0011d	c6 04 0a 00	 mov	 BYTE PTR [edx+ecx], 0

; 846  : #ifdef  _STONDEBUG_
; 847  : 		// ????????
; 848  : 		if( strstr( pNowStrBuffer->buffer, "[battlein]" ) )
; 849  : 			EncountFlag = TRUE;
; 850  : 		if( strstr( pNowStrBuffer->buffer, "[battleout]" ) ){
; 851  : 			ChangeProc( PROC_GAME, 1 );
; 852  : 			DeathAllAction();	// ????????
; 853  : 		}
; 854  : 	
; 855  : 		if( strstr( pNowStrBuffer->buffer, "[cary encountoff]" ) ){
; 856  : 			EncountOffFlag = TRUE;
; 857  : 			pNowStrBuffer->cnt = 0;
; 858  : 			pNowStrBuffer->cursor=0;
; 859  : 			*( pNowStrBuffer->buffer )= '\0';
; 860  : 			return;
; 861  : 		}
; 862  : 		if( strstr( pNowStrBuffer->buffer, "[cary encounton]" ) ){
; 863  : 			EncountOffFlag = FALSE;
; 864  : 			pNowStrBuffer->cnt = 0;
; 865  : 			pNowStrBuffer->cursor=0;
; 866  : 			*( pNowStrBuffer->buffer )= '\0';
; 867  : 			return;
; 868  : 		}
; 869  : #endif
; 870  : 		// ??????
; 871  : 		bakNo = ChatHistory.newNo;

  00121	a0 40 41 00 00	 mov	 al, BYTE PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704
  00126	88 45 eb	 mov	 BYTE PTR _bakNo$[ebp], al

; 872  : 		// ??????îœ±??
; 873  : 		ChatHistory.newNo++;

  00129	a1 40 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704
  0012e	83 c0 01	 add	 eax, 1
  00131	a3 40 41 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704, eax

; 874  : 		// ????????
; 875  : 		if( ChatHistory.newNo >= MAX_CHAT_HISTORY )

  00136	83 3d 40 41 00
	00 40		 cmp	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704, 64 ; 00000040H
  0013d	7c 0a		 jl	 SHORT $LN13@KeyboardRe

; 876  : 			ChatHistory.newNo = 0;

  0013f	c7 05 40 41 00
	00 00 00 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704, 0
$LN13@KeyboardRe:

; 877  : //cary
; 878  : 		BOOL bSave=TRUE;

  00149	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _bSave$3[ebp], 1

; 879  : 		/*
; 880  : 		BOOL bH=FALSE;
; 881  : 		for(int i=0;i<pNowStrBuffer->cnt;i++){
; 882  : 			if(!bH){
; 883  : 				if('['==pNowStrBuffer->buffer[i])
; 884  : 					bH=TRUE;
; 885  : 			}else{
; 886  : 			}
; 887  : 		}
; 888  : 		*/
; 889  : 		/*
; 890  : 		for(int i=0;i<pNowStrBuffer->cnt;i++){
; 891  : 			if('['==pNowStrBuffer->buffer[i]){
; 892  : 				if(strstr( pNowStrBuffer->buffer+i, "debug on]" ) != 0){
; 893  : 					bSave=FALSE;
; 894  : 					break;
; 895  : 				}
; 896  : 			}
; 897  : 		}
; 898  : 		*/
; 899  : 		if(('['==pNowStrBuffer->buffer[0])&&(']'==pNowStrBuffer->buffer[pNowStrBuffer->cnt-1]))

  00150	b8 01 00 00 00	 mov	 eax, 1
  00155	6b c8 00	 imul	 ecx, eax, 0
  00158	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0015e	0f be 04 0a	 movsx	 eax, BYTE PTR [edx+ecx]
  00162	83 f8 5b	 cmp	 eax, 91			; 0000005bH
  00165	75 23		 jne	 SHORT $LN14@KeyboardRe
  00167	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0016c	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  00173	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00179	0f be 44 0a ff	 movsx	 eax, BYTE PTR [edx+ecx-1]
  0017e	83 f8 5d	 cmp	 eax, 93			; 0000005dH
  00181	75 07		 jne	 SHORT $LN14@KeyboardRe

; 900  : 			bSave=FALSE;

  00183	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _bSave$3[ebp], 0
$LN14@KeyboardRe:

; 901  : 		if(!bSave){

  0018a	83 7d dc 00	 cmp	 DWORD PTR _bSave$3[ebp], 0
  0018e	75 0b		 jne	 SHORT $LN15@KeyboardRe

; 902  : 			ChatHistory.newNo = bakNo;

  00190	0f be 45 eb	 movsx	 eax, BYTE PTR _bakNo$[ebp]
  00194	a3 40 41 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704, eax

; 903  : 		}else{

  00199	eb 5c		 jmp	 SHORT $LN16@KeyboardRe
$LN15@KeyboardRe:

; 904  : //end
; 905  : 			// î“·????îž°????
; 906  : 			if( strcmp( pNowStrBuffer->buffer, ChatHistory.str[ bakNo ] ) != 0 ){

  0019b	0f be 45 eb	 movsx	 eax, BYTE PTR _bakNo$[ebp]
  0019f	69 c8 05 01 00
	00		 imul	 ecx, eax, 261
  001a5	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?ChatHistory@@3UCHAT_HISTORY@@A ; ChatHistory
  001ab	51		 push	 ecx
  001ac	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  001b2	52		 push	 edx
  001b3	e8 00 00 00 00	 call	 _strcmp
  001b8	83 c4 08	 add	 esp, 8
  001bb	85 c0		 test	 eax, eax
  001bd	74 2f		 je	 SHORT $LN17@KeyboardRe

; 907  : 				// ???îž°??????
; 908  : 				strcpy( ChatHistory.str[ ChatHistory.newNo ], pNowStrBuffer->buffer );

  001bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  001c4	50		 push	 eax
  001c5	69 0d 40 41 00
	00 05 01 00 00	 imul	 ecx, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704, 261
  001cf	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?ChatHistory@@3UCHAT_HISTORY@@A ; ChatHistory
  001d5	51		 push	 ecx
  001d6	e8 00 00 00 00	 call	 _strcpy
  001db	83 c4 08	 add	 esp, 8

; 909  : 				// ???????îž°??îŸ•î”¼
; 910  : 				SaveChatHistoryStr( ChatHistory.newNo );

  001de	a1 40 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704
  001e3	50		 push	 eax
  001e4	e8 00 00 00 00	 call	 ?SaveChatHistoryStr@@YAHH@Z ; SaveChatHistoryStr
  001e9	83 c4 04	 add	 esp, 4

; 911  : 			}else{

  001ec	eb 09		 jmp	 SHORT $LN16@KeyboardRe
$LN17@KeyboardRe:

; 912  : 				// ??????????
; 913  : 				ChatHistory.newNo = bakNo;

  001ee	0f be 45 eb	 movsx	 eax, BYTE PTR _bakNo$[ebp]
  001f2	a3 40 41 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704, eax
$LN16@KeyboardRe:

; 914  : 			}
; 915  : //cary
; 916  : 		}
; 917  : //end
; 918  : 		// ?????îœ±????
; 919  : 		ChatHistory.nowNo = -1;

  001f7	c7 05 44 41 00
	00 ff ff ff ff	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, -1

; 920  : #ifdef  _STONDEBUG_
; 921  : 		if( offlineFlag == FALSE )
; 922  : #endif
; 923  : 
; 924  : 		/*if(!CheckSay(pNowStrBuffer->buffer))
; 925  : 		{
; 926  : 			#ifdef _FONT_SIZE
; 927  : 						StockChatBufferLineExt( "æ‚¨è¾“å…¥å†…å®¹æœ‰ä¸å…è®¸å­—ç¬¦", MyChatBuffer.color, 0 );
; 928  : 			#else
; 929  : 						StockChatBufferLine( "è¾“å…¥å†…å®¹æœ‰ä¸å…è®¸å­—ç¬¦", MyChatBuffer.color );
; 930  : 			#endif
; 931  : 
; 932  : 			return;
; 933  : 		}*/
; 934  : 		chatStrSendForServer( pNowStrBuffer->buffer, MyChatBuffer.color );

  00201	0f b6 05 08 01
	00 00		 movzx	 eax, BYTE PTR ?MyChatBuffer@@3USTR_BUFFER@@A+264
  00208	50		 push	 eax
  00209	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0020f	51		 push	 ecx
  00210	e8 00 00 00 00	 call	 ?chatStrSendForServer@@YAXPADH@Z ; chatStrSendForServer
  00215	83 c4 08	 add	 esp, 8

; 935  : 		pNowStrBuffer->cnt = 0;

  00218	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0021d	c6 80 07 01 00
	00 00		 mov	 BYTE PTR [eax+263], 0

; 936  : 		pNowStrBuffer->cursor=0;

  00224	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00229	c6 80 09 01 00
	00 00		 mov	 BYTE PTR [eax+265], 0

; 937  : 		*( pNowStrBuffer->buffer )= '\0';

  00230	b8 01 00 00 00	 mov	 eax, 1
  00235	6b c8 00	 imul	 ecx, eax, 0
  00238	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0023e	c6 04 0a 00	 mov	 BYTE PTR [edx+ecx], 0

; 938  : 	}else

  00242	e9 1d 02 00 00	 jmp	 $LN11@KeyboardRe
$LN10@KeyboardRe:

; 939  : 	
; 940  : 	// î˜?îŸ‰??? **********************************
; 941  : 	if( pNowStrBuffer == &shougouChange ){

  00247	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?shougouChange@@3USTR_BUFFER@@A ; pNowStrBuffer, shougouChange
  00251	75 72		 jne	 SHORT $LN19@KeyboardRe

; 942  : 		// ??????îŒ–
; 943  : 		DeathAction( pActMenuWnd3 );

  00253	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pActMenuWnd3@@3PAUaction@@A ; pActMenuWnd3
  00258	50		 push	 eax
  00259	e8 00 00 00 00	 call	 ?DeathAction@@YAXPAUaction@@@Z ; DeathAction
  0025e	83 c4 04	 add	 esp, 4

; 944  : 		pActMenuWnd3 = NULL;

  00261	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?pActMenuWnd3@@3PAUaction@@A, 0 ; pActMenuWnd3

; 945  : 		// îš¼????????
; 946  : 		GetKeyInputFocus( &MyChatBuffer );

  0026b	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  00270	e8 00 00 00 00	 call	 ?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z ; GetKeyInputFocus
  00275	83 c4 04	 add	 esp, 4

; 947  : 		// ?????îž¼???
; 948  : 		play_se( 203, 320, 240 );

  00278	68 f0 00 00 00	 push	 240			; 000000f0H
  0027d	68 40 01 00 00	 push	 320			; 00000140H
  00282	68 cb 00 00 00	 push	 203			; 000000cbH
  00287	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  0028c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 949  : 		// î¡“î“·îŸ‰??î‘˜
; 950  : 		if( bNewServer)

  0028f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00296	74 15		 je	 SHORT $LN21@KeyboardRe

; 951  : 			lssproto_FT_send( sockfd, shougouChange.buffer ) ; /* ../doc/lssproto.html line 1792 */

  00298	68 00 00 00 00	 push	 OFFSET ?shougouChange@@3USTR_BUFFER@@A ; shougouChange
  0029d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sockfd@@3IA ; sockfd
  002a2	50		 push	 eax
  002a3	e8 00 00 00 00	 call	 ?lssproto_FT_send@@YAXHPAD@Z ; lssproto_FT_send
  002a8	83 c4 08	 add	 esp, 8

; 952  : 		else

  002ab	eb 13		 jmp	 SHORT $LN22@KeyboardRe
$LN21@KeyboardRe:

; 953  : 			old_lssproto_FT_send( sockfd, shougouChange.buffer ) ; /* ../doc/lssproto.html line 1792 */

  002ad	68 00 00 00 00	 push	 OFFSET ?shougouChange@@3USTR_BUFFER@@A ; shougouChange
  002b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?sockfd@@3IA ; sockfd
  002b7	50		 push	 eax
  002b8	e8 00 00 00 00	 call	 ?old_lssproto_FT_send@@YAXHPAD@Z ; old_lssproto_FT_send
  002bd	83 c4 08	 add	 esp, 8
$LN22@KeyboardRe:

; 954  : 	}else

  002c0	e9 9f 01 00 00	 jmp	 $LN11@KeyboardRe
$LN19@KeyboardRe:

; 955  : 	
; 956  : 	// î¡“î“·îŸ‰??? **********************************
; 957  : 	if( pNowStrBuffer == &petNameChange ){

  002c5	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?petNameChange@@3USTR_BUFFER@@A ; pNowStrBuffer, petNameChange
  002cf	0f 85 80 00 00
	00		 jne	 $LN23@KeyboardRe

; 958  : 		// ??????îŒ–
; 959  : 		DeathAction( pActMenuWnd3 );

  002d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pActMenuWnd3@@3PAUaction@@A ; pActMenuWnd3
  002da	50		 push	 eax
  002db	e8 00 00 00 00	 call	 ?DeathAction@@YAXPAUaction@@@Z ; DeathAction
  002e0	83 c4 04	 add	 esp, 4

; 960  : 		pActMenuWnd3 = NULL;

  002e3	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?pActMenuWnd3@@3PAUaction@@A, 0 ; pActMenuWnd3

; 961  : 		// îš¼????????
; 962  : 		GetKeyInputFocus( &MyChatBuffer );

  002ed	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  002f2	e8 00 00 00 00	 call	 ?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z ; GetKeyInputFocus
  002f7	83 c4 04	 add	 esp, 4

; 963  : 		// ?????îž¼???
; 964  : 		play_se( 203, 320, 240 );

  002fa	68 f0 00 00 00	 push	 240			; 000000f0H
  002ff	68 40 01 00 00	 push	 320			; 00000140H
  00304	68 cb 00 00 00	 push	 203			; 000000cbH
  00309	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  0030e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 965  : 		// î¡“î“·îŸ‰??î‘˜
; 966  : 		if( bNewServer)

  00311	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  00318	74 1c		 je	 SHORT $LN25@KeyboardRe

; 967  : 			lssproto_KN_send( sockfd, petStatusNo, petNameChange.buffer ) ; /* ../doc/lssproto.html line 1792 */

  0031a	68 00 00 00 00	 push	 OFFSET ?petNameChange@@3USTR_BUFFER@@A ; petNameChange
  0031f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?petStatusNo@@3HA ; petStatusNo
  00324	50		 push	 eax
  00325	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  0032b	51		 push	 ecx
  0032c	e8 00 00 00 00	 call	 ?lssproto_KN_send@@YAXHHPAD@Z ; lssproto_KN_send
  00331	83 c4 0c	 add	 esp, 12			; 0000000cH

; 968  : 		else

  00334	eb 1a		 jmp	 SHORT $LN26@KeyboardRe
$LN25@KeyboardRe:

; 969  : 			old_lssproto_KN_send( sockfd, petStatusNo, petNameChange.buffer ) ; /* ../doc/lssproto.html line 1792 */

  00336	68 00 00 00 00	 push	 OFFSET ?petNameChange@@3USTR_BUFFER@@A ; petNameChange
  0033b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?petStatusNo@@3HA ; petStatusNo
  00340	50		 push	 eax
  00341	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  00347	51		 push	 ecx
  00348	e8 00 00 00 00	 call	 ?old_lssproto_KN_send@@YAXHHPAD@Z ; old_lssproto_KN_send
  0034d	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN26@KeyboardRe:

; 970  : 	}else

  00350	e9 0f 01 00 00	 jmp	 $LN11@KeyboardRe
$LN23@KeyboardRe:

; 971  : 	
; 972  : 	// ????? **********************************
; 973  : 	if( pNowStrBuffer == &MailStr
; 974  : #ifdef __EDEN_AUCTION
; 975  : 		|| pNowStrBuffer == &AuctionStr){

  00355	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?MailStr@@3USTR_BUFFER@@A ; pNowStrBuffer, MailStr
  0035f	74 10		 je	 SHORT $LN29@KeyboardRe
  00361	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?AuctionStr@@3USTR_BUFFER@@A ; pNowStrBuffer, AuctionStr
  0036b	0f 85 8c 00 00
	00		 jne	 $LN27@KeyboardRe
$LN29@KeyboardRe:

; 976  : #else
; 977  : 		){
; 978  : #endif
; 979  : 
; 980  : 		char *buffer=pNowStrBuffer->buffer;

  00371	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00376	89 45 d0	 mov	 DWORD PTR _buffer$2[ebp], eax

; 981  : 		//å°šå¯æ”¾å…¥æ–°è¡Œæ—¶
; 982  : 		if(pNowStrBuffer->cnt < pNowStrBuffer->len-pNowStrBuffer->lineLen){

  00379	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0037e	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  00385	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0038b	0f b6 82 04 01
	00 00		 movzx	 eax, BYTE PTR [edx+260]
  00392	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00398	0f b6 92 05 01
	00 00		 movzx	 edx, BYTE PTR [edx+261]
  0039f	2b c2		 sub	 eax, edx
  003a1	3b c8		 cmp	 ecx, eax
  003a3	7d 56		 jge	 SHORT $LN30@KeyboardRe

; 983  : 			//æ”¾å…¥ä¸€è¡Œå…¨éƒ¨ä¸ºspaceçš„æ–°è¡Œ
; 984  : 			if((pNowStrBuffer->cursor)%pNowStrBuffer->lineLen == 0)

  003a5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  003aa	0f b6 80 09 01
	00 00		 movzx	 eax, BYTE PTR [eax+265]
  003b1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  003b7	0f b6 89 05 01
	00 00		 movzx	 ecx, BYTE PTR [ecx+261]
  003be	99		 cdq
  003bf	f7 f9		 idiv	 ecx
  003c1	85 d2		 test	 edx, edx
  003c3	75 0a		 jne	 SHORT $LN3@KeyboardRe

; 985  : 				StockStrBufferChar(' ');

  003c5	6a 20		 push	 32			; 00000020H
  003c7	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  003cc	83 c4 04	 add	 esp, 4
$LN3@KeyboardRe:

; 986  : 			while((pNowStrBuffer->cursor)%pNowStrBuffer->lineLen)

  003cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  003d4	0f b6 80 09 01
	00 00		 movzx	 eax, BYTE PTR [eax+265]
  003db	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  003e1	0f b6 89 05 01
	00 00		 movzx	 ecx, BYTE PTR [ecx+261]
  003e8	99		 cdq
  003e9	f7 f9		 idiv	 ecx
  003eb	85 d2		 test	 edx, edx
  003ed	74 0c		 je	 SHORT $LN30@KeyboardRe

; 987  : 				StockStrBufferChar(' ');

  003ef	6a 20		 push	 32			; 00000020H
  003f1	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  003f6	83 c4 04	 add	 esp, 4
  003f9	eb d4		 jmp	 SHORT $LN3@KeyboardRe
$LN30@KeyboardRe:

; 988  : 		}
; 989  : 	}else

  003fb	eb 67		 jmp	 SHORT $LN11@KeyboardRe
$LN27@KeyboardRe:

; 990  : 	
; 991  : 	// ????? **********************************
; 992  : 	if( pNowStrBuffer == &MailStr ){

  003fd	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?MailStr@@3USTR_BUFFER@@A ; pNowStrBuffer, MailStr
  00407	75 5b		 jne	 SHORT $LN11@KeyboardRe

; 993  : 		// ????????????
; 994  : 		if( MailStr.cnt < MailStr.len - MailStr.lineLen ){

  00409	0f b6 05 07 01
	00 00		 movzx	 eax, BYTE PTR ?MailStr@@3USTR_BUFFER@@A+263
  00410	0f b6 0d 04 01
	00 00		 movzx	 ecx, BYTE PTR ?MailStr@@3USTR_BUFFER@@A+260
  00417	0f b6 15 05 01
	00 00		 movzx	 edx, BYTE PTR ?MailStr@@3USTR_BUFFER@@A+261
  0041e	2b ca		 sub	 ecx, edx
  00420	3b c1		 cmp	 eax, ecx
  00422	7d 40		 jge	 SHORT $LN11@KeyboardRe

; 995  : 			// ?î– ??
; 996  : 			if( MailStr.cnt % MailStr.lineLen == 0 )

  00424	0f b6 05 07 01
	00 00		 movzx	 eax, BYTE PTR ?MailStr@@3USTR_BUFFER@@A+263
  0042b	0f b6 0d 05 01
	00 00		 movzx	 ecx, BYTE PTR ?MailStr@@3USTR_BUFFER@@A+261
  00432	99		 cdq
  00433	f7 f9		 idiv	 ecx
  00435	85 d2		 test	 edx, edx
  00437	75 0a		 jne	 SHORT $LN5@KeyboardRe

; 997  : 				StockStrBufferChar( ' ' );

  00439	6a 20		 push	 32			; 00000020H
  0043b	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  00440	83 c4 04	 add	 esp, 4
$LN5@KeyboardRe:

; 998  : 			// ??î– ???????îš¼??
; 999  : 			while( MailStr.cnt % MailStr.lineLen )

  00443	0f b6 05 07 01
	00 00		 movzx	 eax, BYTE PTR ?MailStr@@3USTR_BUFFER@@A+263
  0044a	0f b6 0d 05 01
	00 00		 movzx	 ecx, BYTE PTR ?MailStr@@3USTR_BUFFER@@A+261
  00451	99		 cdq
  00452	f7 f9		 idiv	 ecx
  00454	85 d2		 test	 edx, edx
  00456	74 0c		 je	 SHORT $LN11@KeyboardRe

; 1000 : 				StockStrBufferChar( ' ' );

  00458	6a 20		 push	 32			; 00000020H
  0045a	e8 00 00 00 00	 call	 ?StockStrBufferChar@@YAXD@Z ; StockStrBufferChar
  0045f	83 c4 04	 add	 esp, 4
  00462	eb df		 jmp	 SHORT $LN5@KeyboardRe
$LN11@KeyboardRe:

; 1001 : 		}
; 1002 : 	}
; 1003 : 
; 1004 : 	// ????îš¼??? ****************************
; 1005 : #ifdef _FRIENDCHANNEL       //èŠå¤©å®¤å‘½å
; 1006 : 	char temp[STR_BUFFER_SIZE];
; 1007 : 	if( pNowStrBuffer == &chatRoomName ){

  00464	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?chatRoomName@@3USTR_BUFFER@@A ; pNowStrBuffer, chatRoomName
  0046e	75 72		 jne	 SHORT $LN35@KeyboardRe

; 1008 : 		GetKeyInputFocus( &MyChatBuffer );

  00470	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  00475	e8 00 00 00 00	 call	 ?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z ; GetKeyInputFocus
  0047a	83 c4 04	 add	 esp, 4

; 1009 : 		play_se( 203, 320, 240 );

  0047d	68 f0 00 00 00	 push	 240			; 000000f0H
  00482	68 40 01 00 00	 push	 320			; 00000140H
  00487	68 cb 00 00 00	 push	 203			; 000000cbH
  0048c	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  00491	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1010 : 		sprintf(temp,"C|%s",chatRoomName.buffer);

  00494	68 00 00 00 00	 push	 OFFSET ?chatRoomName@@3USTR_BUFFER@@A ; chatRoomName
  00499	68 00 00 00 00	 push	 OFFSET ??_C@_04DNPDJLGB@C?$HM?$CFs?$AA@
  0049e	8d 85 c4 fe ff
	ff		 lea	 eax, DWORD PTR _temp$[ebp]
  004a4	50		 push	 eax
  004a5	e8 00 00 00 00	 call	 _sprintf
  004aa	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1011 : 		lssproto_CHATROOM_send ( sockfd , temp ) ; 

  004ad	8d 85 c4 fe ff
	ff		 lea	 eax, DWORD PTR _temp$[ebp]
  004b3	50		 push	 eax
  004b4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  004ba	51		 push	 ecx
  004bb	e8 00 00 00 00	 call	 ?lssproto_CHATROOM_send@@YAXHPAD@Z ; lssproto_CHATROOM_send
  004c0	83 c4 08	 add	 esp, 8

; 1012 : 	 	DeathAction(pSetRoomWnd);

  004c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pSetRoomWnd@@3PAUaction@@A ; pSetRoomWnd
  004c8	50		 push	 eax
  004c9	e8 00 00 00 00	 call	 ?DeathAction@@YAXPAUaction@@@Z ; DeathAction
  004ce	83 c4 04	 add	 esp, 4

; 1013 : 		pSetRoomWnd = NULL;

  004d1	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?pSetRoomWnd@@3PAUaction@@A, 0 ; pSetRoomWnd

; 1014 : 		setRoomFlag = FALSE;

  004db	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?setRoomFlag@@3_NA, 0 ; setRoomFlag
$LN35@KeyboardRe:

; 1015 : 	}
; 1016 : #endif
; 1017 : 
; 1018 : #ifdef _TELLCHANNEL
; 1019 : 	if(TalkMode == 1){               //èŠå¤©å¯†è¯­æ˜¾ç¤ºäººå

  004e2	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?TalkMode@@3HA, 1 ; TalkMode
  004e9	75 37		 jne	 SHORT $LN36@KeyboardRe

; 1020 : 		pNowStrBuffer->buffer[ 0 ] = NULL;

  004eb	b8 01 00 00 00	 mov	 eax, 1
  004f0	6b c8 00	 imul	 ecx, eax, 0
  004f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  004f9	c6 04 0a 00	 mov	 BYTE PTR [edx+ecx], 0

; 1021 : 		pNowStrBuffer->cursor=0;

  004fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00502	c6 80 09 01 00
	00 00		 mov	 BYTE PTR [eax+265], 0

; 1022 : 		pNowStrBuffer->cnt = 0;

  00509	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0050e	c6 80 07 01 00
	00 00		 mov	 BYTE PTR [eax+263], 0

; 1023 : 		StrToNowStrBuffer(secretName);

  00515	68 00 00 00 00	 push	 OFFSET ?secretName@@3PADA ; secretName
  0051a	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  0051f	83 c4 04	 add	 esp, 4
$LN36@KeyboardRe:

; 1024 : 	}
; 1025 : #endif
; 1026 : 
; 1027 : 	extern STR_BUFFER *idPasswordStr;
; 1028 : 	extern short idKeyReturn;
; 1029 : 	if( pNowStrBuffer == idPasswordStr )

  00522	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00527	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?idPasswordStr@@3PAUSTR_BUFFER@@A ; idPasswordStr
  0052d	75 0b		 jne	 SHORT $LN37@KeyboardRe

; 1030 : 	{
; 1031 : 		idKeyReturn = 1;

  0052f	b8 01 00 00 00	 mov	 eax, 1
  00534	66 a3 00 00 00
	00		 mov	 WORD PTR ?idKeyReturn@@3FA, ax ; idKeyReturn
$LN37@KeyboardRe:

; 1032 : 	}
; 1033 : 	
; 1034 : 	// ?????????????î™??
; 1035 : 	CursorFlashCnt = 20;

  0053a	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H
$LN1@KeyboardRe:

; 1036 : 	
; 1037 : }

  00544	52		 push	 edx
  00545	8b cd		 mov	 ecx, ebp
  00547	50		 push	 eax
  00548	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN43@KeyboardRe
  0054e	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00553	58		 pop	 eax
  00554	5a		 pop	 edx
  00555	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00558	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0055f	59		 pop	 ecx
  00560	5f		 pop	 edi
  00561	5e		 pop	 esi
  00562	5b		 pop	 ebx
  00563	8b 4d f0	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00566	33 cd		 xor	 ecx, ebp
  00568	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0056d	81 c4 00 02 00
	00		 add	 esp, 512		; 00000200H
  00573	3b ec		 cmp	 ebp, esp
  00575	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0057a	8b e5		 mov	 esp, ebp
  0057c	5d		 pop	 ebp
  0057d	c3		 ret	 0
  0057e	66 90		 npad	 2
$LN43@KeyboardRe:
  00580	01 00 00 00	 DD	 1
  00584	00 00 00 00	 DD	 $LN42@KeyboardRe
$LN42@KeyboardRe:
  00588	c4 fe ff ff	 DD	 -316			; fffffec4H
  0058c	04 01 00 00	 DD	 260			; 00000104H
  00590	00 00 00 00	 DD	 $LN40@KeyboardRe
$LN40@KeyboardRe:
  00594	74		 DB	 116			; 00000074H
  00595	65		 DB	 101			; 00000065H
  00596	6d		 DB	 109			; 0000006dH
  00597	70		 DB	 112			; 00000070H
  00598	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?KeyboardReturn@@YAXXZ$0:
  00000	68 00 00 00 00	 push	 OFFSET ?$TSS0@?4??KeyboardReturn@@YAXXZ@4HA
  00005	e8 00 00 00 00	 call	 __Init_thread_abort
  0000a	59		 pop	 ecx
  0000b	c3		 ret	 0
__ehhandler$?KeyboardReturn@@YAXXZ:
  0000c	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00010	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00013	8b 8a fc fd ff
	ff		 mov	 ecx, DWORD PTR [edx-516]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	8b 4a fc	 mov	 ecx, DWORD PTR [edx-4]
  00023	33 c8		 xor	 ecx, eax
  00025	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002a	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?KeyboardReturn@@YAXXZ
  0002f	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?KeyboardReturn@@YAXXZ ENDP				; KeyboardReturn
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?KeyboardRight@@YAXXZ
_TEXT	SEGMENT
_lpstr$1 = -32						; size = 4
_cursor$ = -20						; size = 4
_byte$ = -8						; size = 4
?KeyboardRight@@YAXXZ PROC				; KeyboardRight, COMDAT

; 807  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 808  : 	int byte=1,cursor;

  0001e	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _byte$[ebp], 1

; 809  : 	if(pNowStrBuffer==NULL) return;

  00025	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  0002c	75 05		 jne	 SHORT $LN2@KeyboardRi
  0002e	e9 82 00 00 00	 jmp	 $LN1@KeyboardRi
$LN2@KeyboardRi:

; 810  : 	if((cursor=pNowStrBuffer->cursor) < (pNowStrBuffer->cnt)){

  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00038	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  0003f	89 4d ec	 mov	 DWORD PTR _cursor$[ebp], ecx
  00042	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00048	0f b6 82 07 01
	00 00		 movzx	 eax, BYTE PTR [edx+263]
  0004f	39 45 ec	 cmp	 DWORD PTR _cursor$[ebp], eax
  00052	7d 57		 jge	 SHORT $LN3@KeyboardRi

; 811  : 		char *lpstr=pNowStrBuffer->buffer;

  00054	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00059	89 45 e0	 mov	 DWORD PTR _lpstr$1[ebp], eax

; 812  : 		lpstr+=cursor;

  0005c	8b 45 e0	 mov	 eax, DWORD PTR _lpstr$1[ebp]
  0005f	03 45 ec	 add	 eax, DWORD PTR _cursor$[ebp]
  00062	89 45 e0	 mov	 DWORD PTR _lpstr$1[ebp], eax

; 813  : 		if(*lpstr && IsDBCSLeadByte(*lpstr))

  00065	8b 45 e0	 mov	 eax, DWORD PTR _lpstr$1[ebp]
  00068	0f be 08	 movsx	 ecx, BYTE PTR [eax]
  0006b	85 c9		 test	 ecx, ecx
  0006d	74 21		 je	 SHORT $LN4@KeyboardRi
  0006f	8b f4		 mov	 esi, esp
  00071	8b 45 e0	 mov	 eax, DWORD PTR _lpstr$1[ebp]
  00074	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00077	51		 push	 ecx
  00078	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  0007e	3b f4		 cmp	 esi, esp
  00080	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00085	85 c0		 test	 eax, eax
  00087	74 07		 je	 SHORT $LN4@KeyboardRi

; 814  : 			byte=2;

  00089	c7 45 f8 02 00
	00 00		 mov	 DWORD PTR _byte$[ebp], 2
$LN4@KeyboardRi:

; 815  : 		pNowStrBuffer->cursor+=byte;

  00090	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00095	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  0009c	03 4d f8	 add	 ecx, DWORD PTR _byte$[ebp]
  0009f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000a5	88 8a 09 01 00
	00		 mov	 BYTE PTR [edx+265], cl
$LN3@KeyboardRi:

; 816  : 	}
; 817  : 	CursorFlashCnt=20;

  000ab	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H
$LN1@KeyboardRi:

; 818  : }

  000b5	5f		 pop	 edi
  000b6	5e		 pop	 esi
  000b7	5b		 pop	 ebx
  000b8	81 c4 e4 00 00
	00		 add	 esp, 228		; 000000e4H
  000be	3b ec		 cmp	 ebp, esp
  000c0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c5	8b e5		 mov	 esp, ebp
  000c7	5d		 pop	 ebp
  000c8	c3		 ret	 0
?KeyboardRight@@YAXXZ ENDP				; KeyboardRight
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?KeyboardLeft@@YAXXZ
_TEXT	SEGMENT
_lpstr1$1 = -44						; size = 4
_lpstr$2 = -32						; size = 4
_cursor$ = -20						; size = 4
_byte$ = -8						; size = 4
?KeyboardLeft@@YAXXZ PROC				; KeyboardLeft, COMDAT

; 794  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 10 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-240]
  00012	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 795  : 	int byte,cursor;
; 796  : 	if(pNowStrBuffer==NULL) return;

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  00025	75 02		 jne	 SHORT $LN2@KeyboardLe
  00027	eb 63		 jmp	 SHORT $LN1@KeyboardLe
$LN2@KeyboardLe:

; 797  : 	if((cursor=pNowStrBuffer->cursor) > 0){

  00029	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0002e	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  00035	89 4d ec	 mov	 DWORD PTR _cursor$[ebp], ecx
  00038	83 7d ec 00	 cmp	 DWORD PTR _cursor$[ebp], 0
  0003c	7e 4e		 jle	 SHORT $LN1@KeyboardLe

; 798  : 		char *lpstr=pNowStrBuffer->buffer;

  0003e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00043	89 45 e0	 mov	 DWORD PTR _lpstr$2[ebp], eax

; 799  : 		char *lpstr1=lpstr+cursor;

  00046	8b 45 e0	 mov	 eax, DWORD PTR _lpstr$2[ebp]
  00049	03 45 ec	 add	 eax, DWORD PTR _cursor$[ebp]
  0004c	89 45 d4	 mov	 DWORD PTR _lpstr1$1[ebp], eax

; 800  : 		byte=lpstr1-GetCharPrev(lpstr,lpstr1);

  0004f	8b 45 d4	 mov	 eax, DWORD PTR _lpstr1$1[ebp]
  00052	50		 push	 eax
  00053	8b 4d e0	 mov	 ecx, DWORD PTR _lpstr$2[ebp]
  00056	51		 push	 ecx
  00057	e8 00 00 00 00	 call	 ?GetCharPrev@@YAPADPAD0@Z ; GetCharPrev
  0005c	83 c4 08	 add	 esp, 8
  0005f	8b 55 d4	 mov	 edx, DWORD PTR _lpstr1$1[ebp]
  00062	2b d0		 sub	 edx, eax
  00064	89 55 f8	 mov	 DWORD PTR _byte$[ebp], edx

; 801  : 		pNowStrBuffer->cursor-=byte;

  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0006c	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  00073	2b 4d f8	 sub	 ecx, DWORD PTR _byte$[ebp]
  00076	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0007c	88 8a 09 01 00
	00		 mov	 BYTE PTR [edx+265], cl

; 802  : 		CursorFlashCnt=20;

  00082	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H
$LN1@KeyboardLe:

; 803  : 	}
; 804  : }

  0008c	5f		 pop	 edi
  0008d	5e		 pop	 esi
  0008e	5b		 pop	 ebx
  0008f	81 c4 f0 00 00
	00		 add	 esp, 240		; 000000f0H
  00095	3b ec		 cmp	 ebp, esp
  00097	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0009c	8b e5		 mov	 esp, ebp
  0009e	5d		 pop	 ebp
  0009f	c3		 ret	 0
?KeyboardLeft@@YAXXZ ENDP				; KeyboardLeft
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?FlashKeyboardCursor@@YAXXZ
_TEXT	SEGMENT
?FlashKeyboardCursor@@YAXXZ PROC			; FlashKeyboardCursor, COMDAT

; 622  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 623  : 	if(pNowStrBuffer==NULL) return;

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  00025	75 02		 jne	 SHORT $LN2@FlashKeybo
  00027	eb 6c		 jmp	 SHORT $LN1@FlashKeybo
$LN2@FlashKeybo:

; 624  : 	if(CursorFlashCnt >= 20){

  00029	83 3d 00 00 00
	00 14		 cmp	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H
  00030	7c 43		 jl	 SHORT $LN3@FlashKeybo

; 625  : 		StockFontBuffer(pNowStrBuffer->imeX, pNowStrBuffer->imeY , pNowStrBuffer->fontPrio, pNowStrBuffer->color, "_" , 0 );

  00032	6a 00		 push	 0
  00034	68 00 00 00 00	 push	 OFFSET ??_C@_01IDAFKMJL@_?$AA@
  00039	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0003e	0f b6 88 08 01
	00 00		 movzx	 ecx, BYTE PTR [eax+264]
  00045	51		 push	 ecx
  00046	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0004c	0f b6 82 1c 01
	00 00		 movzx	 eax, BYTE PTR [edx+284]
  00053	50		 push	 eax
  00054	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0005a	8b 91 18 01 00
	00		 mov	 edx, DWORD PTR [ecx+280]
  00060	52		 push	 edx
  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00066	8b 88 14 01 00
	00		 mov	 ecx, DWORD PTR [eax+276]
  0006c	51		 push	 ecx
  0006d	e8 00 00 00 00	 call	 ?StockFontBuffer@@YAHHHDHPADH@Z ; StockFontBuffer
  00072	83 c4 18	 add	 esp, 24			; 00000018H
$LN3@FlashKeybo:

; 626  : 	}
; 627  : 	CursorFlashCnt++;

  00075	a1 00 00 00 00	 mov	 eax, DWORD PTR ?CursorFlashCnt@@3HA ; CursorFlashCnt
  0007a	83 c0 01	 add	 eax, 1
  0007d	a3 00 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, eax ; CursorFlashCnt

; 628  : 	if( CursorFlashCnt >= 40 ) CursorFlashCnt = 0;

  00082	83 3d 00 00 00
	00 28		 cmp	 DWORD PTR ?CursorFlashCnt@@3HA, 40 ; CursorFlashCnt, 00000028H
  00089	7c 0a		 jl	 SHORT $LN1@FlashKeybo
  0008b	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 0 ; CursorFlashCnt
$LN1@FlashKeybo:

; 629  : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0009e	3b ec		 cmp	 ebp, esp
  000a0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a5	8b e5		 mov	 esp, ebp
  000a7	5d		 pop	 ebp
  000a8	c3		 ret	 0
?FlashKeyboardCursor@@YAXXZ ENDP			; FlashKeyboardCursor
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?InitChat@@YAXXZ
_TEXT	SEGMENT
tv133 = -232						; size = 4
tv94 = -232						; size = 4
tv87 = -232						; size = 4
_buf$1 = -32						; size = 3
_buf$ = -17						; size = 1
_pf$ = -8						; size = 4
?InitChat@@YAXXZ PROC					; InitChat, COMDAT

; 75   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e8 00 00
	00		 sub	 esp, 232		; 000000e8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 18 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-232]
  00012	b9 3a 00 00 00	 mov	 ecx, 58			; 0000003aH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 76   : 	memset(ChatBuffer, 0, sizeof(CHAT_BUFFER) * MAX_CHAT_LINE);

  0001e	68 e8 26 00 00	 push	 9960			; 000026e8H
  00023	6a 00		 push	 0
  00025	68 00 00 00 00	 push	 OFFSET ?ChatBuffer@@3PAU_CHAT_BUFFER@@A ; ChatBuffer
  0002a	e8 00 00 00 00	 call	 _memset
  0002f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 77   : 	memset(&MyChatBuffer, 0, sizeof(STR_BUFFER));

  00032	68 28 01 00 00	 push	 296			; 00000128H
  00037	6a 00		 push	 0
  00039	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  0003e	e8 00 00 00 00	 call	 _memset
  00043	83 c4 0c	 add	 esp, 12			; 0000000cH

; 78   : 	MyChatBuffer.len = _FONTDATALEN_ - 10;

  00046	c6 05 04 01 00
	00 5a		 mov	 BYTE PTR ?MyChatBuffer@@3USTR_BUFFER@@A+260, 90 ; 0000005aH

; 79   : #ifndef _CHANNEL_MODIFY
; 80   : 	MyChatBuffer.fontPrio = FONT_PRIO_BACK;
; 81   : #else
; 82   : 	MyChatBuffer.fontPrio = FONT_PRIO_CHATBUFFER;

  0004d	c7 05 1c 01 00
	00 03 00 00 00	 mov	 DWORD PTR ?MyChatBuffer@@3USTR_BUFFER@@A+284, 3

; 83   : #endif
; 84   : #ifdef èŠå¤©è¡¨æƒ…
; 85   : 	MyChatBuffer.x = 24 + 26;	//ì´ëª¨í‹°ì½˜ ë²„íŠ¼ ì˜† ì±„íŒ… ì‹œìž‘ì§€ì 

  00057	c7 05 0c 01 00
	00 32 00 00 00	 mov	 DWORD PTR ?MyChatBuffer@@3USTR_BUFFER@@A+268, 50 ; 00000032H

; 86   : #else
; 87   : 	MyChatBuffer.x = 8;
; 88   : #endif
; 89   : 	MyChatBuffer.y = 434 + DISPLACEMENT_Y;

  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DISPLACEMENT_Y@@3HA ; DISPLACEMENT_Y
  00066	05 b2 01 00 00	 add	 eax, 434		; 000001b2H
  0006b	a3 10 01 00 00	 mov	 DWORD PTR ?MyChatBuffer@@3USTR_BUFFER@@A+272, eax

; 90   : 	getUserChatOption();

  00070	e8 00 00 00 00	 call	 ?getUserChatOption@@YAXXZ ; getUserChatOption

; 91   : 	//JL fix
; 92   : //	openChatLogFile();
; 93   : #ifdef _CHANNEL_MODIFY
; 94   : 	FILE *pf;
; 95   : 	char buf;
; 96   : 
; 97   : 	if ((pf = fopen("data\\channel.dat","r")) == NULL){

  00075	8b f4		 mov	 esi, esp
  00077	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  0007c	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@BLGDDDEM@data?2channel?4dat?$AA@
  00081	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00087	83 c4 08	 add	 esp, 8
  0008a	3b f4		 cmp	 esi, esp
  0008c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00091	89 45 f8	 mov	 DWORD PTR _pf$[ebp], eax
  00094	83 7d f8 00	 cmp	 DWORD PTR _pf$[ebp], 0
  00098	0f 85 17 01 00
	00		 jne	 $LN2@InitChat

; 98   : 		pc.etcFlag |= PC_ETCFLAG_CHAT_TELL;

  0009e	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  000a5	83 c8 40	 or	 eax, 64			; 00000040H
  000a8	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax

; 99   : 		if ((pf = fopen("data\\channel.dat", "w+")) == NULL)

  000ae	8b f4		 mov	 esi, esp
  000b0	68 00 00 00 00	 push	 OFFSET ??_C@_02CHHAKFFB@w?$CL?$AA@
  000b5	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@BLGDDDEM@data?2channel?4dat?$AA@
  000ba	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  000c0	83 c4 08	 add	 esp, 8
  000c3	3b f4		 cmp	 esi, esp
  000c5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ca	89 45 f8	 mov	 DWORD PTR _pf$[ebp], eax
  000cd	83 7d f8 00	 cmp	 DWORD PTR _pf$[ebp], 0
  000d1	75 0a		 jne	 SHORT $LN4@InitChat

; 100  : 			return;

  000d3	e9 1c 02 00 00	 jmp	 $LN1@InitChat

; 101  : 		else{

  000d8	e9 d3 00 00 00	 jmp	 $LN5@InitChat
$LN4@InitChat:

; 102  : 			char buf[3];
; 103  : 
; 104  : 			buf[0] = (pc.etcFlag & PC_ETCFLAG_CHAT_TELL) ? 1:0;

  000dd	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  000e4	83 e0 40	 and	 eax, 64			; 00000040H
  000e7	74 0c		 je	 SHORT $LN15@InitChat
  000e9	c7 85 18 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv87[ebp], 1
  000f3	eb 0a		 jmp	 SHORT $LN16@InitChat
$LN15@InitChat:
  000f5	c7 85 18 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv87[ebp], 0
$LN16@InitChat:
  000ff	b9 01 00 00 00	 mov	 ecx, 1
  00104	6b d1 00	 imul	 edx, ecx, 0
  00107	8a 85 18 ff ff
	ff		 mov	 al, BYTE PTR tv87[ebp]
  0010d	88 44 15 e0	 mov	 BYTE PTR _buf$1[ebp+edx], al

; 105  : 			buf[1] = (pc.etcFlag & PC_ETCFLAG_CHAT_SAVE) ? 1:0;

  00111	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00118	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0011d	74 0c		 je	 SHORT $LN17@InitChat
  0011f	c7 85 18 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv94[ebp], 1
  00129	eb 0a		 jmp	 SHORT $LN18@InitChat
$LN17@InitChat:
  0012b	c7 85 18 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv94[ebp], 0
$LN18@InitChat:
  00135	b9 01 00 00 00	 mov	 ecx, 1
  0013a	c1 e1 00	 shl	 ecx, 0
  0013d	8a 95 18 ff ff
	ff		 mov	 dl, BYTE PTR tv94[ebp]
  00143	88 54 0d e0	 mov	 BYTE PTR _buf$1[ebp+ecx], dl

; 106  : 			buf[2] = (pc.etcFlag & PC_ETCFLAG_CHAT_OCC) ? 1:0;

  00147	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  0014e	25 00 01 00 00	 and	 eax, 256		; 00000100H
  00153	74 0c		 je	 SHORT $LN19@InitChat
  00155	c7 85 18 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR tv133[ebp], 1
  0015f	eb 0a		 jmp	 SHORT $LN20@InitChat
$LN19@InitChat:
  00161	c7 85 18 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv133[ebp], 0
$LN20@InitChat:
  0016b	b9 01 00 00 00	 mov	 ecx, 1
  00170	d1 e1		 shl	 ecx, 1
  00172	8a 95 18 ff ff
	ff		 mov	 dl, BYTE PTR tv133[ebp]
  00178	88 54 0d e0	 mov	 BYTE PTR _buf$1[ebp+ecx], dl

; 107  : 			fwrite(buf, 1, sizeof(buf), pf);

  0017c	8b f4		 mov	 esi, esp
  0017e	8b 45 f8	 mov	 eax, DWORD PTR _pf$[ebp]
  00181	50		 push	 eax
  00182	6a 03		 push	 3
  00184	6a 01		 push	 1
  00186	8d 4d e0	 lea	 ecx, DWORD PTR _buf$1[ebp]
  00189	51		 push	 ecx
  0018a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fwrite
  00190	83 c4 10	 add	 esp, 16			; 00000010H
  00193	3b f4		 cmp	 esi, esp
  00195	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 108  : 			fclose(pf);

  0019a	8b f4		 mov	 esi, esp
  0019c	8b 45 f8	 mov	 eax, DWORD PTR _pf$[ebp]
  0019f	50		 push	 eax
  001a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  001a6	83 c4 04	 add	 esp, 4
  001a9	3b f4		 cmp	 esi, esp
  001ab	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN5@InitChat:

; 109  : 		}
; 110  : 	}else{

  001b0	e9 bc 00 00 00	 jmp	 $LN3@InitChat
$LN2@InitChat:

; 111  : 		fread(&buf,1,sizeof(char),pf);

  001b5	8b f4		 mov	 esi, esp
  001b7	8b 45 f8	 mov	 eax, DWORD PTR _pf$[ebp]
  001ba	50		 push	 eax
  001bb	6a 01		 push	 1
  001bd	6a 01		 push	 1
  001bf	8d 4d ef	 lea	 ecx, DWORD PTR _buf$[ebp]
  001c2	51		 push	 ecx
  001c3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  001c9	83 c4 10	 add	 esp, 16			; 00000010H
  001cc	3b f4		 cmp	 esi, esp
  001ce	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 112  : 		if (buf)

  001d3	0f be 45 ef	 movsx	 eax, BYTE PTR _buf$[ebp]
  001d7	85 c0		 test	 eax, eax
  001d9	74 10		 je	 SHORT $LN6@InitChat

; 113  : 			pc.etcFlag |= PC_ETCFLAG_CHAT_TELL;

  001db	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  001e2	83 c8 40	 or	 eax, 64			; 00000040H
  001e5	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax
$LN6@InitChat:

; 114  : 		fread(&buf,1,sizeof(char),pf);

  001eb	8b f4		 mov	 esi, esp
  001ed	8b 45 f8	 mov	 eax, DWORD PTR _pf$[ebp]
  001f0	50		 push	 eax
  001f1	6a 01		 push	 1
  001f3	6a 01		 push	 1
  001f5	8d 4d ef	 lea	 ecx, DWORD PTR _buf$[ebp]
  001f8	51		 push	 ecx
  001f9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  001ff	83 c4 10	 add	 esp, 16			; 00000010H
  00202	3b f4		 cmp	 esi, esp
  00204	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 115  : 		if (buf)

  00209	0f be 45 ef	 movsx	 eax, BYTE PTR _buf$[ebp]
  0020d	85 c0		 test	 eax, eax
  0020f	74 12		 je	 SHORT $LN7@InitChat

; 116  : 			pc.etcFlag |= PC_ETCFLAG_CHAT_SAVE;

  00211	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00218	0d 00 02 00 00	 or	 eax, 512		; 00000200H
  0021d	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax
$LN7@InitChat:

; 117  : 		fread(&buf,1,sizeof(char),pf);

  00223	8b f4		 mov	 esi, esp
  00225	8b 45 f8	 mov	 eax, DWORD PTR _pf$[ebp]
  00228	50		 push	 eax
  00229	6a 01		 push	 1
  0022b	6a 01		 push	 1
  0022d	8d 4d ef	 lea	 ecx, DWORD PTR _buf$[ebp]
  00230	51		 push	 ecx
  00231	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fread
  00237	83 c4 10	 add	 esp, 16			; 00000010H
  0023a	3b f4		 cmp	 esi, esp
  0023c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 118  : 		if (buf)

  00241	0f be 45 ef	 movsx	 eax, BYTE PTR _buf$[ebp]
  00245	85 c0		 test	 eax, eax
  00247	74 12		 je	 SHORT $LN8@InitChat

; 119  : 			pc.etcFlag |= PC_ETCFLAG_CHAT_OCC;

  00249	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00250	0d 00 01 00 00	 or	 eax, 256		; 00000100H
  00255	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax
$LN8@InitChat:

; 120  : 		fclose(pf);

  0025b	8b f4		 mov	 esi, esp
  0025d	8b 45 f8	 mov	 eax, DWORD PTR _pf$[ebp]
  00260	50		 push	 eax
  00261	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  00267	83 c4 04	 add	 esp, 4
  0026a	3b f4		 cmp	 esi, esp
  0026c	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN3@InitChat:

; 121  : 	}
; 122  : 
; 123  : 	if (pc.familyleader <= 0) pc.etcFlag &= ~PC_ETCFLAG_CHAT_FM;

  00271	83 3d 08 51 00
	00 00		 cmp	 DWORD PTR ?pc@@3UPC@@A+20744, 0
  00278	7f 14		 jg	 SHORT $LN9@InitChat
  0027a	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00281	25 7f ff ff ff	 and	 eax, -129		; ffffff7fH
  00286	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax
  0028c	eb 12		 jmp	 SHORT $LN10@InitChat
$LN9@InitChat:

; 124  : 	else pc.etcFlag |= PC_ETCFLAG_CHAT_FM;

  0028e	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  00295	0d 80 00 00 00	 or	 eax, 128		; 00000080H
  0029a	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax
$LN10@InitChat:

; 125  : 
; 126  : 	if (pc.profession_class == 0) pc.etcFlag &= ~PC_ETCFLAG_CHAT_OCC;

  002a0	83 3d 84 a1 00
	00 00		 cmp	 DWORD PTR ?pc@@3UPC@@A+41348, 0
  002a7	75 12		 jne	 SHORT $LN11@InitChat
  002a9	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  002b0	25 ff fe ff ff	 and	 eax, -257		; fffffeffH
  002b5	66 a3 a8 00 00
	00		 mov	 WORD PTR ?pc@@3UPC@@A+168, ax
$LN11@InitChat:

; 127  : 
; 128  : 	//else pc.etcFlag |= PC_ETCFLAG_CHAT_OCC;
; 129  : 
; 130  : 	if (bNewServer) lssproto_FS_send(sockfd,pc.etcFlag);

  002bb	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewServer@@3HA, 0 ; bNewServer
  002c2	74 19		 je	 SHORT $LN12@InitChat
  002c4	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  002cb	50		 push	 eax
  002cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  002d2	51		 push	 ecx
  002d3	e8 00 00 00 00	 call	 ?lssproto_FS_send@@YAXHH@Z ; lssproto_FS_send
  002d8	83 c4 08	 add	 esp, 8
  002db	eb 17		 jmp	 SHORT $LN1@InitChat
$LN12@InitChat:

; 131  : 	else old_lssproto_FS_send(sockfd,pc.etcFlag);

  002dd	0f b7 05 a8 00
	00 00		 movzx	 eax, WORD PTR ?pc@@3UPC@@A+168
  002e4	50		 push	 eax
  002e5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?sockfd@@3IA ; sockfd
  002eb	51		 push	 ecx
  002ec	e8 00 00 00 00	 call	 ?old_lssproto_FS_send@@YAXHH@Z ; old_lssproto_FS_send
  002f1	83 c4 08	 add	 esp, 8
$LN1@InitChat:

; 132  : #endif
; 133  : }

  002f4	52		 push	 edx
  002f5	8b cd		 mov	 ecx, ebp
  002f7	50		 push	 eax
  002f8	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN24@InitChat
  002fe	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00303	58		 pop	 eax
  00304	5a		 pop	 edx
  00305	5f		 pop	 edi
  00306	5e		 pop	 esi
  00307	5b		 pop	 ebx
  00308	81 c4 e8 00 00
	00		 add	 esp, 232		; 000000e8H
  0030e	3b ec		 cmp	 ebp, esp
  00310	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00315	8b e5		 mov	 esp, ebp
  00317	5d		 pop	 ebp
  00318	c3		 ret	 0
  00319	0f 1f 00	 npad	 3
$LN24@InitChat:
  0031c	02 00 00 00	 DD	 2
  00320	00 00 00 00	 DD	 $LN23@InitChat
$LN23@InitChat:
  00324	ef ff ff ff	 DD	 -17			; ffffffefH
  00328	01 00 00 00	 DD	 1
  0032c	00 00 00 00	 DD	 $LN21@InitChat
  00330	e0 ff ff ff	 DD	 -32			; ffffffe0H
  00334	03 00 00 00	 DD	 3
  00338	00 00 00 00	 DD	 $LN22@InitChat
$LN22@InitChat:
  0033c	62		 DB	 98			; 00000062H
  0033d	75		 DB	 117			; 00000075H
  0033e	66		 DB	 102			; 00000066H
  0033f	00		 DB	 0
$LN21@InitChat:
  00340	62		 DB	 98			; 00000062H
  00341	75		 DB	 117			; 00000075H
  00342	66		 DB	 102			; 00000066H
  00343	00		 DB	 0
?InitChat@@YAXXZ ENDP					; InitChat
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z
_TEXT	SEGMENT
_pStrBuffer$ = 8					; size = 4
?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z PROC		; GetKeyInputFocus, COMDAT

; 1507 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1508 : 	
; 1509 : 	// îš¼?î¶?????
; 1510 : 	//if( pNowStrBuffer != NULL ){
; 1511 : 		// ?????îŒ´?????
; 1512 : 	//	if(	pNowStrBuffer->buffer[ pNowStrBuffer->cnt ] != '\0' ){
; 1513 : 			// îŽ·î– ???îš¼??
; 1514 : 	//		pNowStrBuffer->buffer[ pNowStrBuffer->cnt ] = '\0';
; 1515 : 	//	}
; 1516 : 	//}
; 1517 : 	// ????????????
; 1518 : 	//*ImeBuffer = '\0';
; 1519 : 	// îš¼??????????îŸ‰?
; 1520 : 	pNowStrBuffer = pStrBuffer;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _pStrBuffer$[ebp]
  00021	a3 00 00 00 00	 mov	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, eax ; pNowStrBuffer

; 1521 : }

  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
?GetKeyInputFocus@@YAXPAUSTR_BUFFER@@@Z ENDP		; GetKeyInputFocus
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?GetStrWidth@@YAHPAD@Z
_TEXT	SEGMENT
_width$ = -8						; size = 4
_str$ = 8						; size = 4
?GetStrWidth@@YAHPAD@Z PROC				; GetStrWidth, COMDAT

; 1487 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1488 : 	int width = 0;

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _width$[ebp], 0
$LN2@GetStrWidt:

; 1489 : 	// îž°??????????
; 1490 : 	while(!( *str == '\0' ) ){

  00025	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00028	0f be 08	 movsx	 ecx, BYTE PTR [eax]
  0002b	85 c9		 test	 ecx, ecx
  0002d	74 42		 je	 SHORT $LN3@GetStrWidt

; 1491 : 		if(IsDBCSLeadByte(*str)){

  0002f	8b f4		 mov	 esi, esp
  00031	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00034	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00037	51		 push	 ecx
  00038	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  0003e	3b f4		 cmp	 esi, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	85 c0		 test	 eax, eax
  00047	74 14		 je	 SHORT $LN4@GetStrWidt

; 1492 : 			str += 2;

  00049	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  0004c	83 c0 02	 add	 eax, 2
  0004f	89 45 08	 mov	 DWORD PTR _str$[ebp], eax

; 1493 : 			width += FONT_SIZE; // å…¨å½¢çš„size

  00052	8b 45 f8	 mov	 eax, DWORD PTR _width$[ebp]
  00055	83 c0 0e	 add	 eax, 14			; 0000000eH
  00058	89 45 f8	 mov	 DWORD PTR _width$[ebp], eax

; 1494 : 		}else{

  0005b	eb 12		 jmp	 SHORT $LN5@GetStrWidt
$LN4@GetStrWidt:

; 1495 : 			str ++;

  0005d	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00060	83 c0 01	 add	 eax, 1
  00063	89 45 08	 mov	 DWORD PTR _str$[ebp], eax

; 1496 : 			width += FONT_SIZE>>1; // åŠå½¢çš„size

  00066	8b 45 f8	 mov	 eax, DWORD PTR _width$[ebp]
  00069	83 c0 07	 add	 eax, 7
  0006c	89 45 f8	 mov	 DWORD PTR _width$[ebp], eax
$LN5@GetStrWidt:

; 1497 : 		}
; 1498 : 	}

  0006f	eb b4		 jmp	 SHORT $LN2@GetStrWidt
$LN3@GetStrWidt:

; 1499 : 	return width;

  00071	8b 45 f8	 mov	 eax, DWORD PTR _width$[ebp]

; 1500 : }

  00074	5f		 pop	 edi
  00075	5e		 pop	 esi
  00076	5b		 pop	 ebx
  00077	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0007d	3b ec		 cmp	 ebp, esp
  0007f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c3		 ret	 0
?GetStrWidth@@YAHPAD@Z ENDP				; GetStrWidth
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?GetStrLastByte@@YAHPAD@Z
_TEXT	SEGMENT
_byte$ = -8						; size = 4
_str$ = 8						; size = 4
?GetStrLastByte@@YAHPAD@Z PROC				; GetStrLastByte, COMDAT

; 1440 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1441 : 	int byte = 0;

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _byte$[ebp], 0
$LN2@GetStrLast:

; 1442 : 	
; 1443 : 	// îž°??????????
; 1444 : 	while( !( *str == '\0' ) ){

  00025	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00028	0f be 08	 movsx	 ecx, BYTE PTR [eax]
  0002b	85 c9		 test	 ecx, ecx
  0002d	74 50		 je	 SHORT $LN3@GetStrLast

; 1445 : 	//		( *str == ( char )0x81 && *( str + 1 ) == ( char )0x51 ) ) ){
; 1446 : 	
; 1447 : 		// î“»????
; 1448 : 		if(IsDBCSLeadByte(*str)){

  0002f	8b f4		 mov	 esi, esp
  00031	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00034	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00037	51		 push	 ecx
  00038	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsDBCSLeadByte@4
  0003e	3b f4		 cmp	 esi, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	85 c0		 test	 eax, eax
  00047	74 24		 je	 SHORT $LN4@GetStrLast

; 1449 : 		
; 1450 : 			// î“»??îž°??îž¤???????
; 1451 : 			if( *( str + 1 ) == NULL ) return 3; // ??

  00049	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  0004c	0f be 48 01	 movsx	 ecx, BYTE PTR [eax+1]
  00050	85 c9		 test	 ecx, ecx
  00052	75 07		 jne	 SHORT $LN6@GetStrLast
  00054	b8 03 00 00 00	 mov	 eax, 3
  00059	eb 27		 jmp	 SHORT $LN1@GetStrLast
$LN6@GetStrLast:

; 1452 : 			
; 1453 : 			str += 2; 	// ????î??

  0005b	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  0005e	83 c0 02	 add	 eax, 2
  00061	89 45 08	 mov	 DWORD PTR _str$[ebp], eax

; 1454 : 			byte = 2;	// î“»???

  00064	c7 45 f8 02 00
	00 00		 mov	 DWORD PTR _byte$[ebp], 2

; 1455 : 			
; 1456 : 		}else{	// îœ™????

  0006b	eb 10		 jmp	 SHORT $LN5@GetStrLast
$LN4@GetStrLast:

; 1457 : 		
; 1458 : 			str ++; 	// ????î??

  0006d	8b 45 08	 mov	 eax, DWORD PTR _str$[ebp]
  00070	83 c0 01	 add	 eax, 1
  00073	89 45 08	 mov	 DWORD PTR _str$[ebp], eax

; 1459 : 			byte = 1;	// îœ™???

  00076	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _byte$[ebp], 1
$LN5@GetStrLast:

; 1460 : 		}
; 1461 : 	}

  0007d	eb a6		 jmp	 SHORT $LN2@GetStrLast
$LN3@GetStrLast:

; 1462 : 	return byte;

  0007f	8b 45 f8	 mov	 eax, DWORD PTR _byte$[ebp]
$LN1@GetStrLast:

; 1463 : }

  00082	5f		 pop	 edi
  00083	5e		 pop	 esi
  00084	5b		 pop	 ebx
  00085	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0008b	3b ec		 cmp	 ebp, esp
  0008d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00092	8b e5		 mov	 esp, ebp
  00094	5d		 pop	 ebp
  00095	c3		 ret	 0
?GetStrLastByte@@YAHPAD@Z ENDP				; GetStrLastByte
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?ClearChatBuffer@@YAXXZ
_TEXT	SEGMENT
_i$ = -8						; size = 4
?ClearChatBuffer@@YAXXZ PROC				; ClearChatBuffer, COMDAT

; 1258 : void ClearChatBuffer( void ){

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1259 : 	int i;
; 1260 : 	for( i = 0 ; i < MAX_CHAT_LINE ; i++ ){

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00025	eb 09		 jmp	 SHORT $LN4@ClearChatB
$LN2@ClearChatB:
  00027	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  0002a	83 c0 01	 add	 eax, 1
  0002d	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@ClearChatB:
  00030	83 7d f8 1e	 cmp	 DWORD PTR _i$[ebp], 30	; 0000001eH
  00034	7d 19		 jge	 SHORT $LN1@ClearChatB

; 1261 : 		ChatBuffer[ i ].buffer[ 0 ] = '\0';

  00036	69 45 f8 4c 01
	00 00		 imul	 eax, DWORD PTR _i$[ebp], 332
  0003d	b9 01 00 00 00	 mov	 ecx, 1
  00042	6b d1 00	 imul	 edx, ecx, 0
  00045	c6 84 10 00 00
	00 00 00	 mov	 BYTE PTR ?ChatBuffer@@3PAU_CHAT_BUFFER@@A[eax+edx], 0

; 1262 : 	}

  0004d	eb d8		 jmp	 SHORT $LN2@ClearChatB
$LN1@ClearChatB:

; 1263 : #ifdef _TALK_WINDOW
; 1264 : 	NowChatLine = 0;
; 1265 : #endif
; 1266 : #ifdef _NB_SA_LIAOTIAN
; 1267 : 	NowChatLine_Bak=0;
; 1268 : #endif
; 1269 : }

  0004f	5f		 pop	 edi
  00050	5e		 pop	 esi
  00051	5b		 pop	 ebx
  00052	8b e5		 mov	 esp, ebp
  00054	5d		 pop	 ebp
  00055	c3		 ret	 0
?ClearChatBuffer@@YAXXZ ENDP				; ClearChatBuffer
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?StockChatBufferLineExt@@YAXPADEHH@Z
_TEXT	SEGMENT
tv79 = -3364						; size = 4
$T1 = -3356						; size = 4
_pTemp$ = -2384						; size = 4
_MyChatBufferLen$ = -2372				; size = 4
_splitStr$ = -2360					; size = 261
_splitPoint$ = -2088					; size = 4
_strtemp$ = -2076					; size = 1024
_·±Ìå$2 = -1044						; size = 1024
_str$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_str_$ = 8						; size = 4
_color$ = 12						; size = 1
_fontsize$ = 16						; size = 4
_id$ = 20						; size = 4
?StockChatBufferLineExt@@YAXPADEHH@Z PROC		; StockChatBufferLineExt, COMDAT

; 1106 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 24 0d 00
	00		 sub	 esp, 3364		; 00000d24H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd dc f2 ff
	ff		 lea	 edi, DWORD PTR [ebp-3364]
  00012	b9 49 03 00 00	 mov	 ecx, 841		; 00000349H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 1107 : 	char *str = str_;

  00028	8b 45 08	 mov	 eax, DWORD PTR _str_$[ebp]
  0002b	89 45 f4	 mov	 DWORD PTR _str$[ebp], eax

; 1108 : 	extern int ç¼–ç ;
; 1109 : 	extern int ç¹ä½“å¼€å…³;
; 1110 : 	if (ç¹ä½“å¼€å…³) {

  0002e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?·±Ìå¿ª¹Ø@@3HA, 0 ; ·±Ìå¿ª¹Ø
  00035	74 5e		 je	 SHORT $LN4@StockChatB

; 1111 : 		char ç¹ä½“[1024] = { 0 };

  00037	c6 85 ec fb ff
	ff 00		 mov	 BYTE PTR _·±Ìå$2[ebp], 0
  0003e	68 ff 03 00 00	 push	 1023			; 000003ffH
  00043	6a 00		 push	 0
  00045	8d 85 ed fb ff
	ff		 lea	 eax, DWORD PTR _·±Ìå$2[ebp+1]
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 _memset
  00051	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1112 : 		LCMapString(0x804, 0x4000000, str_, strlen(str_), ç¹ä½“, 1024);

  00054	8b f4		 mov	 esi, esp
  00056	68 00 04 00 00	 push	 1024			; 00000400H
  0005b	8d 85 ec fb ff
	ff		 lea	 eax, DWORD PTR _·±Ìå$2[ebp]
  00061	50		 push	 eax
  00062	8b 4d 08	 mov	 ecx, DWORD PTR _str_$[ebp]
  00065	51		 push	 ecx
  00066	e8 00 00 00 00	 call	 _strlen
  0006b	83 c4 04	 add	 esp, 4
  0006e	50		 push	 eax
  0006f	8b 55 08	 mov	 edx, DWORD PTR _str_$[ebp]
  00072	52		 push	 edx
  00073	68 00 00 00 04	 push	 67108864		; 04000000H
  00078	68 04 08 00 00	 push	 2052			; 00000804H
  0007d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LCMapStringA@24
  00083	3b f4		 cmp	 esi, esp
  00085	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1113 : 		str = ç¹ä½“;

  0008a	8d 85 ec fb ff
	ff		 lea	 eax, DWORD PTR _·±Ìå$2[ebp]
  00090	89 45 f4	 mov	 DWORD PTR _str$[ebp], eax

; 1114 : 	}else {

  00093	eb 06		 jmp	 SHORT $LN5@StockChatB
$LN4@StockChatB:

; 1115 : 		str = str_;

  00095	8b 45 08	 mov	 eax, DWORD PTR _str_$[ebp]
  00098	89 45 f4	 mov	 DWORD PTR _str$[ebp], eax
$LN5@StockChatB:

; 1116 : 	}
; 1117 : #ifdef _NB_SA_LIAOTIAN
; 1118 : 	if (NowChatLine_Bak != NowChatLine) NowChatLine = NowChatLine_Bak;
; 1119 : #endif
; 1120 : #ifdef èŠå¤©è¡¨æƒ…
; 1121 : 	char strtemp[1024];
; 1122 : 	delFontBuffer(&ChatBuffer[NowChatLine]);

  0009b	69 05 00 00 00
	00 4c 01 00 00	 imul	 eax, DWORD PTR ?NowChatLine@@3HA, 332 ; NowChatLine
  000a5	05 00 00 00 00	 add	 eax, OFFSET ?ChatBuffer@@3PAU_CHAT_BUFFER@@A ; ChatBuffer
  000aa	50		 push	 eax
  000ab	e8 00 00 00 00	 call	 ?delFontBuffer@@YAXPAU_CHAT_BUFFER@@@Z ; delFontBuffer
  000b0	83 c4 04	 add	 esp, 4

; 1123 : 	int splitPoint = 0;

  000b3	c7 85 d8 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _splitPoint$[ebp], 0

; 1124 : 	char splitStr[STR_BUFFER_SIZE + 1];
; 1125 : 	//648*480  90
; 1126 : 	//800*600  112
; 1127 : 	//1024*768 144
; 1128 : 	unsigned int MyChatBufferLen = _FONTDATALEN_;

  000bd	c7 85 bc f6 ff
	ff 64 00 00 00	 mov	 DWORD PTR _MyChatBufferLen$[ebp], 100 ; 00000064H

; 1129 : 
; 1130 : 	switch (ResoMode)

  000c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ResoMode@@3HA ; ResoMode
  000cc	89 85 dc f2 ff
	ff		 mov	 DWORD PTR tv79[ebp], eax
  000d2	83 bd dc f2 ff
	ff 03		 cmp	 DWORD PTR tv79[ebp], 3
  000d9	74 17		 je	 SHORT $LN7@StockChatB
  000db	83 bd dc f2 ff
	ff 04		 cmp	 DWORD PTR tv79[ebp], 4
  000e2	74 02		 je	 SHORT $LN6@StockChatB
  000e4	eb 18		 jmp	 SHORT $LN8@StockChatB
$LN6@StockChatB:

; 1131 : 	{
; 1132 : 	case åˆ†è¾¨çŽ‡::mode1024:
; 1133 : 		MyChatBufferLen = 144;

  000e6	c7 85 bc f6 ff
	ff 90 00 00 00	 mov	 DWORD PTR _MyChatBufferLen$[ebp], 144 ; 00000090H

; 1134 : 		break;

  000f0	eb 16		 jmp	 SHORT $LN2@StockChatB
$LN7@StockChatB:

; 1135 : 	case  åˆ†è¾¨çŽ‡::mode800:
; 1136 : 		MyChatBufferLen = 112;

  000f2	c7 85 bc f6 ff
	ff 70 00 00 00	 mov	 DWORD PTR _MyChatBufferLen$[ebp], 112 ; 00000070H

; 1137 : 		break;

  000fc	eb 0a		 jmp	 SHORT $LN2@StockChatB
$LN8@StockChatB:

; 1138 : 	default:
; 1139 : 		MyChatBufferLen = 86; //640*480 åŽŸæ¥å¯èƒ½87?

  000fe	c7 85 bc f6 ff
	ff 56 00 00 00	 mov	 DWORD PTR _MyChatBufferLen$[ebp], 86 ; 00000056H
$LN2@StockChatB:

; 1140 : 		break;
; 1141 : 	}
; 1142 : 
; 1143 : 	//TODO åˆ†å‰²{}é‡æ–°è®¡ç®—åˆ†å‰²è¡Œ
; 1144 : 	char* è¯´è¯åˆ†è¡Œ(char* str, int curLen, int maxLen);
; 1145 : 	char* pTemp = è¯´è¯åˆ†è¡Œ(str,0, MyChatBufferLen);

  00108	8b 85 bc f6 ff
	ff		 mov	 eax, DWORD PTR _MyChatBufferLen$[ebp]
  0010e	50		 push	 eax
  0010f	6a 00		 push	 0
  00111	8b 4d f4	 mov	 ecx, DWORD PTR _str$[ebp]
  00114	51		 push	 ecx
  00115	e8 00 00 00 00	 call	 ?Ëµ»°·ÖÐÐ@@YAPADPADHH@Z	; Ëµ»°·ÖÐÐ
  0011a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0011d	89 85 b0 f6 ff
	ff		 mov	 DWORD PTR _pTemp$[ebp], eax

; 1146 : 	if (pTemp){

  00123	83 bd b0 f6 ff
	ff 00		 cmp	 DWORD PTR _pTemp$[ebp], 0
  0012a	0f 84 c5 00 00
	00		 je	 $LN9@StockChatB

; 1147 : 		splitPoint = pTemp - str;

  00130	8b 85 b0 f6 ff
	ff		 mov	 eax, DWORD PTR _pTemp$[ebp]
  00136	2b 45 f4	 sub	 eax, DWORD PTR _str$[ebp]
  00139	89 85 d8 f7 ff
	ff		 mov	 DWORD PTR _splitPoint$[ebp], eax

; 1148 : 		strncpy_s(splitStr, str, splitPoint);

  0013f	8b 85 d8 f7 ff
	ff		 mov	 eax, DWORD PTR _splitPoint$[ebp]
  00145	50		 push	 eax
  00146	8b 4d f4	 mov	 ecx, DWORD PTR _str$[ebp]
  00149	51		 push	 ecx
  0014a	8d 95 c8 f6 ff
	ff		 lea	 edx, DWORD PTR _splitStr$[ebp]
  00150	52		 push	 edx
  00151	e8 00 00 00 00	 call	 ??$strncpy_s@$0BAF@@@YAHAAY0BAF@DPBDI@Z ; strncpy_s<261>
  00156	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1149 : 		if (GetStrLastByte(splitStr) == 3){

  00159	8d 85 c8 f6 ff
	ff		 lea	 eax, DWORD PTR _splitStr$[ebp]
  0015f	50		 push	 eax
  00160	e8 00 00 00 00	 call	 ?GetStrLastByte@@YAHPAD@Z ; GetStrLastByte
  00165	83 c4 04	 add	 esp, 4
  00168	83 f8 03	 cmp	 eax, 3
  0016b	75 0f		 jne	 SHORT $LN11@StockChatB

; 1150 : 			splitPoint -= 1;

  0016d	8b 85 d8 f7 ff
	ff		 mov	 eax, DWORD PTR _splitPoint$[ebp]
  00173	83 e8 01	 sub	 eax, 1
  00176	89 85 d8 f7 ff
	ff		 mov	 DWORD PTR _splitPoint$[ebp], eax
$LN11@StockChatB:

; 1151 : 		}
; 1152 : 		strncpy_s(strtemp, str, splitPoint);

  0017c	8b 85 d8 f7 ff
	ff		 mov	 eax, DWORD PTR _splitPoint$[ebp]
  00182	50		 push	 eax
  00183	8b 4d f4	 mov	 ecx, DWORD PTR _str$[ebp]
  00186	51		 push	 ecx
  00187	8d 95 e4 f7 ff
	ff		 lea	 edx, DWORD PTR _strtemp$[ebp]
  0018d	52		 push	 edx
  0018e	e8 00 00 00 00	 call	 ??$strncpy_s@$0EAA@@@YAHAAY0EAA@DPBDI@Z ; strncpy_s<1024>
  00193	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1153 : 		strtemp[splitPoint] = 0;

  00196	8b 85 d8 f7 ff
	ff		 mov	 eax, DWORD PTR _splitPoint$[ebp]
  0019c	89 85 e4 f2 ff
	ff		 mov	 DWORD PTR $T1[ebp], eax
  001a2	81 bd e4 f2 ff
	ff 00 04 00 00	 cmp	 DWORD PTR $T1[ebp], 1024 ; 00000400H
  001ac	73 02		 jae	 SHORT $LN16@StockChatB
  001ae	eb 05		 jmp	 SHORT $LN17@StockChatB
$LN16@StockChatB:
  001b0	e8 00 00 00 00	 call	 ___report_rangecheckfailure
$LN17@StockChatB:
  001b5	8b 8d e4 f2 ff
	ff		 mov	 ecx, DWORD PTR $T1[ebp]
  001bb	c6 84 0d e4 f7
	ff ff 00	 mov	 BYTE PTR _strtemp$[ebp+ecx], 0

; 1154 : 		NewStockFontBuffer(&ChatBuffer[NowChatLine], 0, color, strtemp, fontsize, id);

  001c3	8b 45 14	 mov	 eax, DWORD PTR _id$[ebp]
  001c6	50		 push	 eax
  001c7	8b 4d 10	 mov	 ecx, DWORD PTR _fontsize$[ebp]
  001ca	51		 push	 ecx
  001cb	8d 95 e4 f7 ff
	ff		 lea	 edx, DWORD PTR _strtemp$[ebp]
  001d1	52		 push	 edx
  001d2	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  001d6	50		 push	 eax
  001d7	6a 00		 push	 0
  001d9	69 0d 00 00 00
	00 4c 01 00 00	 imul	 ecx, DWORD PTR ?NowChatLine@@3HA, 332 ; NowChatLine
  001e3	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?ChatBuffer@@3PAU_CHAT_BUFFER@@A ; ChatBuffer
  001e9	51		 push	 ecx
  001ea	e8 00 00 00 00	 call	 ?NewStockFontBuffer@@YAXPAU_CHAT_BUFFER@@HEPADHH@Z ; NewStockFontBuffer
  001ef	83 c4 18	 add	 esp, 24			; 00000018H

; 1155 : 		__asm nop;

  001f2	90		 npad	 1

; 1156 : 	}else{

  001f3	eb 2c		 jmp	 SHORT $LN10@StockChatB
$LN9@StockChatB:

; 1157 : 		NewStockFontBuffer(&ChatBuffer[NowChatLine], 0, color, str, fontsize, id);

  001f5	8b 45 14	 mov	 eax, DWORD PTR _id$[ebp]
  001f8	50		 push	 eax
  001f9	8b 4d 10	 mov	 ecx, DWORD PTR _fontsize$[ebp]
  001fc	51		 push	 ecx
  001fd	8b 55 f4	 mov	 edx, DWORD PTR _str$[ebp]
  00200	52		 push	 edx
  00201	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  00205	50		 push	 eax
  00206	6a 00		 push	 0
  00208	69 0d 00 00 00
	00 4c 01 00 00	 imul	 ecx, DWORD PTR ?NowChatLine@@3HA, 332 ; NowChatLine
  00212	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?ChatBuffer@@3PAU_CHAT_BUFFER@@A ; ChatBuffer
  00218	51		 push	 ecx
  00219	e8 00 00 00 00	 call	 ?NewStockFontBuffer@@YAXPAU_CHAT_BUFFER@@HEPADHH@Z ; NewStockFontBuffer
  0021e	83 c4 18	 add	 esp, 24			; 00000018H
$LN10@StockChatB:

; 1158 : 	}
; 1159 : 
; 1160 : 	//if (strlen(str) > MyChatBufferLen) {
; 1161 : 	//	strncpy_s(splitStr, str, MyChatBufferLen);
; 1162 : 	//	*(splitStr + MyChatBufferLen) = NULL;
; 1163 : 	//	if (GetStrLastByte(splitStr) == 3) {
; 1164 : 	//		splitPoint = MyChatBufferLen - 1;
; 1165 : 	//		*(splitStr + MyChatBufferLen - 1) = NULL;
; 1166 : 	//	}
; 1167 : 	//	else
; 1168 : 	//		splitPoint = MyChatBufferLen;
; 1169 : 	//	strncpy_s(strtemp, str, splitPoint);
; 1170 : 	//	strtemp[splitPoint] = 0;
; 1171 : 	//	NewStockFontBuffer(&ChatBuffer[NowChatLine], 0, color, strtemp, fontsize,id);
; 1172 : 	//}
; 1173 : 	//else NewStockFontBuffer(&ChatBuffer[NowChatLine], 0, color, str, fontsize,id);
; 1174 : #ifdef _NB_SA_LIAOTIAN
; 1175 : 	NowChatLine_Bak++;
; 1176 : #endif
; 1177 : 	NowChatLine++;

  00221	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NowChatLine@@3HA ; NowChatLine
  00226	83 c0 01	 add	 eax, 1
  00229	a3 00 00 00 00	 mov	 DWORD PTR ?NowChatLine@@3HA, eax ; NowChatLine

; 1178 : 	if (NowChatLine >= MAX_CHAT_LINE) {

  0022e	83 3d 00 00 00
	00 1e		 cmp	 DWORD PTR ?NowChatLine@@3HA, 30 ; NowChatLine, 0000001eH
  00235	7c 0a		 jl	 SHORT $LN12@StockChatB

; 1179 : 		NowChatLine = 0;

  00237	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?NowChatLine@@3HA, 0 ; NowChatLine
$LN12@StockChatB:

; 1180 : #ifdef _NB_SA_LIAOTIAN
; 1181 : 		NowChatLine_Bak = 0;
; 1182 : #endif
; 1183 : 	}
; 1184 : 	if (chatLogFile) {

  00241	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?chatLogFile@@3PAU_iobuf@@A, 0 ; chatLogFile
  00248	74 18		 je	 SHORT $LN13@StockChatB

; 1185 : 		fprintf(chatLogFile, "%s\n", str);

  0024a	8b 45 f4	 mov	 eax, DWORD PTR _str$[ebp]
  0024d	50		 push	 eax
  0024e	68 00 00 00 00	 push	 OFFSET ??_C@_03OFAPEBGM@?$CFs?6?$AA@
  00253	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?chatLogFile@@3PAU_iobuf@@A ; chatLogFile
  00259	51		 push	 ecx
  0025a	e8 00 00 00 00	 call	 _fprintf
  0025f	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN13@StockChatB:

; 1186 : }
; 1187 : 	ChatLineSmoothY = 20;

  00262	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?ChatLineSmoothY@@3HA, 20 ; ChatLineSmoothY, 00000014H

; 1188 : 	if (splitPoint != 0) {

  0026c	83 bd d8 f7 ff
	ff 00		 cmp	 DWORD PTR _splitPoint$[ebp], 0
  00273	74 1f		 je	 SHORT $LN15@StockChatB

; 1189 : #ifdef _FONT_SIZE
; 1190 : 		StockChatBufferLineExt(str + splitPoint, color, fontsize,id);

  00275	8b 45 14	 mov	 eax, DWORD PTR _id$[ebp]
  00278	50		 push	 eax
  00279	8b 4d 10	 mov	 ecx, DWORD PTR _fontsize$[ebp]
  0027c	51		 push	 ecx
  0027d	0f b6 55 0c	 movzx	 edx, BYTE PTR _color$[ebp]
  00281	52		 push	 edx
  00282	8b 45 f4	 mov	 eax, DWORD PTR _str$[ebp]
  00285	03 85 d8 f7 ff
	ff		 add	 eax, DWORD PTR _splitPoint$[ebp]
  0028b	50		 push	 eax
  0028c	e8 00 00 00 00	 call	 ?StockChatBufferLineExt@@YAXPADEHH@Z ; StockChatBufferLineExt
  00291	83 c4 10	 add	 esp, 16			; 00000010H
$LN15@StockChatB:

; 1191 : #else
; 1192 : 		StockChatBufferLine(str + splitPoint, color);
; 1193 : #endif
; 1194 : 	}
; 1195 : #else
; 1196 : 
; 1197 : 	int splitPoint = 0;
; 1198 : 	char splitStr[STR_BUFFER_SIZE + 1];
; 1199 : #ifdef _NEWFONT_
; 1200 : 	unsigned int MyChatBufferLen = 87;
; 1201 : #else
; 1202 : 	unsigned int MyChatBufferLen = 112;
; 1203 : #endif
; 1204 : #ifdef _FONT_SIZE
; 1205 : 	if (fontsize > 0) {
; 1206 : 		MyChatBufferLen = (int)(MyChatBufferLen*((float)FONT_SIZE / (float)fontsize));
; 1207 : 	}
; 1208 : #endif
; 1209 : 
; 1210 : 	if (strlen(str) > MyChatBufferLen) {
; 1211 : 		strncpy_s(splitStr, str, MyChatBufferLen);
; 1212 : 		*(splitStr + MyChatBufferLen) = NULL;
; 1213 : 		if (GetStrLastByte(splitStr) == 3) {
; 1214 : 			splitPoint = MyChatBufferLen - 1;
; 1215 : 			*(splitStr + MyChatBufferLen - 1) = NULL;
; 1216 : 		}
; 1217 : 		else
; 1218 : 			splitPoint = MyChatBufferLen;
; 1219 : 		strncpy_s(ChatBuffer[NowChatLine].buffer, str, splitPoint);
; 1220 : 
; 1221 : 		*(ChatBuffer[NowChatLine].buffer + splitPoint) = NULL;
; 1222 : #ifdef _TALK_WINDOW
; 1223 : 		TalkWindow.AddString(ChatBuffer[NowChatLine].buffer, color);
; 1224 : #endif	
; 1225 : 	}
; 1226 : 	else {
; 1227 : 		strcpy(ChatBuffer[NowChatLine].buffer, str);
; 1228 : #ifdef _TALK_WINDOW
; 1229 : 		TalkWindow.AddString(str, color);
; 1230 : #endif	
; 1231 : 	}
; 1232 : 	if (chatLogFile) {
; 1233 : 		fprintf(chatLogFile, "%s\n", ChatBuffer[NowChatLine].buffer);
; 1234 : 	}
; 1235 : 	ChatBuffer[NowChatLine].color = color;
; 1236 : #ifdef _FONT_SIZE
; 1237 : 	ChatBuffer[NowChatLine].fontsize = fontsize;
; 1238 : #endif
; 1239 : 	NowChatLine++;
; 1240 : 	if (NowChatLine >= MAX_CHAT_LINE) NowChatLine = 0;
; 1241 : 	if (splitPoint != 0) {
; 1242 : #ifdef _FONT_SIZE
; 1243 : 		StockChatBufferLineExt(str + splitPoint, color, fontsize);
; 1244 : #else
; 1245 : 		StockChatBufferLine(str + splitPoint, color);
; 1246 : #endif
; 1247 : 	}
; 1248 : 
; 1249 : 	ChatLineSmoothY = 20;
; 1250 : 	//ChatLineSmoothY = 20 - ChatBuffer[ NowChatLine-1 ].fontsize;
; 1251 : 
; 1252 : #ifdef _TALK_WINDOW
; 1253 : 	if (g_bTalkWindow) TalkWindow.Update();
; 1254 : #endif
; 1255 : #endif
; 1256 : }

  00294	52		 push	 edx
  00295	8b cd		 mov	 ecx, ebp
  00297	50		 push	 eax
  00298	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN22@StockChatB
  0029e	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  002a3	58		 pop	 eax
  002a4	5a		 pop	 edx
  002a5	5f		 pop	 edi
  002a6	5e		 pop	 esi
  002a7	5b		 pop	 ebx
  002a8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002ab	33 cd		 xor	 ecx, ebp
  002ad	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002b2	81 c4 24 0d 00
	00		 add	 esp, 3364		; 00000d24H
  002b8	3b ec		 cmp	 ebp, esp
  002ba	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002bf	8b e5		 mov	 esp, ebp
  002c1	5d		 pop	 ebp
  002c2	c3		 ret	 0
  002c3	90		 npad	 1
$LN22@StockChatB:
  002c4	03 00 00 00	 DD	 3
  002c8	00 00 00 00	 DD	 $LN21@StockChatB
$LN21@StockChatB:
  002cc	ec fb ff ff	 DD	 -1044			; fffffbecH
  002d0	00 04 00 00	 DD	 1024			; 00000400H
  002d4	00 00 00 00	 DD	 $LN18@StockChatB
  002d8	e4 f7 ff ff	 DD	 -2076			; fffff7e4H
  002dc	00 04 00 00	 DD	 1024			; 00000400H
  002e0	00 00 00 00	 DD	 $LN19@StockChatB
  002e4	c8 f6 ff ff	 DD	 -2360			; fffff6c8H
  002e8	05 01 00 00	 DD	 261			; 00000105H
  002ec	00 00 00 00	 DD	 $LN20@StockChatB
$LN20@StockChatB:
  002f0	73		 DB	 115			; 00000073H
  002f1	70		 DB	 112			; 00000070H
  002f2	6c		 DB	 108			; 0000006cH
  002f3	69		 DB	 105			; 00000069H
  002f4	74		 DB	 116			; 00000074H
  002f5	53		 DB	 83			; 00000053H
  002f6	74		 DB	 116			; 00000074H
  002f7	72		 DB	 114			; 00000072H
  002f8	00		 DB	 0
$LN19@StockChatB:
  002f9	73		 DB	 115			; 00000073H
  002fa	74		 DB	 116			; 00000074H
  002fb	72		 DB	 114			; 00000072H
  002fc	74		 DB	 116			; 00000074H
  002fd	65		 DB	 101			; 00000065H
  002fe	6d		 DB	 109			; 0000006dH
  002ff	70		 DB	 112			; 00000070H
  00300	00		 DB	 0
$LN18@StockChatB:
  00301	e7		 DB	 -25			; ffffffe7H
  00302	b9		 DB	 -71			; ffffffb9H
  00303	81		 DB	 -127			; ffffff81H
  00304	e4		 DB	 -28			; ffffffe4H
  00305	bd		 DB	 -67			; ffffffbdH
  00306	93		 DB	 -109			; ffffff93H
  00307	00		 DB	 0
?StockChatBufferLineExt@@YAXPADEHH@Z ENDP		; StockChatBufferLineExt
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?StockChatBufferLine@@YAXPADEH@Z
_TEXT	SEGMENT
_str$ = 8						; size = 4
_color$ = 12						; size = 1
_id$ = 16						; size = 4
?StockChatBufferLine@@YAXPADEH@Z PROC			; StockChatBufferLine, COMDAT

; 1099 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1100 : 	StockChatBufferLineExt(str, color, 0,id);

  0001e	8b 45 10	 mov	 eax, DWORD PTR _id$[ebp]
  00021	50		 push	 eax
  00022	6a 00		 push	 0
  00024	0f b6 4d 0c	 movzx	 ecx, BYTE PTR _color$[ebp]
  00028	51		 push	 ecx
  00029	8b 55 08	 mov	 edx, DWORD PTR _str$[ebp]
  0002c	52		 push	 edx
  0002d	e8 00 00 00 00	 call	 ?StockChatBufferLineExt@@YAXPADEHH@Z ; StockChatBufferLineExt
  00032	83 c4 10	 add	 esp, 16			; 00000010H

; 1101 : }

  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003e	3b ec		 cmp	 ebp, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
?StockChatBufferLine@@YAXPADEH@Z ENDP			; StockChatBufferLine
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?ChatProc@@YAXXZ
_TEXT	SEGMENT
_bak$1 = -8						; size = 4
?ChatProc@@YAXXZ PROC					; ChatProc, COMDAT

; 502  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 503  : 	// ???????????
; 504  : 	//if( joy_trg[ 1 ] & JOY_RETURN ) KeyboardReturn();
; 505  : 	
; 506  : 	// ??????????
; 507  : 	if (joy_trg[1] & JOY_TAB)

  0001e	b8 04 00 00 00	 mov	 eax, 4
  00023	c1 e0 00	 shl	 eax, 0
  00026	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  0002c	81 e1 00 00 00
	02		 and	 ecx, 33554432		; 02000000H
  00032	74 05		 je	 SHORT $LN2@ChatProc

; 508  : 	{
; 509  : 		KeyboardTab();

  00034	e8 00 00 00 00	 call	 ?KeyboardTab@@YAXXZ	; KeyboardTab
$LN2@ChatProc:

; 510  : 	}
; 511  : 	
; 512  : 	// ??????
; 513  : 	//if( joy_trg[ 0 ] & JOY_CTRL_C ){
; 514  : 		// ???????????
; 515  : 	//	SetClipboad();
; 516  : 	//}
; 517  : 	// ??????
; 518  : 	if( joy_trg[ 0 ] & JOY_CTRL_V ){

  00039	b8 04 00 00 00	 mov	 eax, 4
  0003e	6b c8 00	 imul	 ecx, eax, 0
  00041	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?joy_trg@@3PAKA[ecx]
  00047	81 e2 00 00 80
	00		 and	 edx, 8388608		; 00800000H
  0004d	74 05		 je	 SHORT $LN3@ChatProc

; 519  : 		// ?????????îš¼?????????
; 520  : 		GetClipboad();

  0004f	e8 00 00 00 00	 call	 ?GetClipboad@@YAXXZ	; GetClipboad
$LN3@ChatProc:

; 521  : 	}
; 522  : 
; 523  : 
; 524  : 	
; 525  : #ifdef _TELLCHANNEL				//ROG ADD å¯†è¯­é¢‘é“
; 526  : 	if( joy_trg[ 1 ] & JOY_CTRL_R )

  00054	b8 04 00 00 00	 mov	 eax, 4
  00059	c1 e0 00	 shl	 eax, 0
  0005c	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  00062	81 e1 00 00 00
	80		 and	 ecx, -2147483648	; 80000000H
  00068	74 41		 je	 SHORT $LN4@ChatProc

; 527  : 	{
; 528  : 		pNowStrBuffer->buffer[ 0 ] = NULL;

  0006a	b8 01 00 00 00	 mov	 eax, 1
  0006f	6b c8 00	 imul	 ecx, eax, 0
  00072	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00078	c6 04 0a 00	 mov	 BYTE PTR [edx+ecx], 0

; 529  : 		pNowStrBuffer->cursor=0;

  0007c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00081	c6 80 09 01 00
	00 00		 mov	 BYTE PTR [eax+265], 0

; 530  : 		pNowStrBuffer->cnt = 0;

  00088	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0008d	c6 80 07 01 00
	00 00		 mov	 BYTE PTR [eax+263], 0

; 531  : 		StrToNowStrBuffer(secretName);

  00094	68 00 00 00 00	 push	 OFFSET ?secretName@@3PADA ; secretName
  00099	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  0009e	83 c4 04	 add	 esp, 4

; 532  : 		TalkMode = 1;

  000a1	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?TalkMode@@3HA, 1 ; TalkMode
$LN4@ChatProc:

; 533  : 	}
; 534  : #else
; 535  : #ifdef _FRIENDCHANNEL
; 536  : 	StrToNowStrBuffer( secretName );
; 537  : #endif
; 538  : #endif	
; 539  : 	
; 540  : 	// îš¼??????????????????
; 541  : 	if( pNowStrBuffer == &MyChatBuffer || pNowStrBuffer == &MailStr ){

  000ab	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; pNowStrBuffer, MyChatBuffer
  000b5	74 10		 je	 SHORT $LN6@ChatProc
  000b7	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?MailStr@@3USTR_BUFFER@@A ; pNowStrBuffer, MailStr
  000c1	0f 85 4f 01 00
	00		 jne	 $LN5@ChatProc
$LN6@ChatProc:

; 542  : 	
; 543  : 		// î™‘?îž°???îŒ¸??????î™‘?îž°??????îš¼?îž°?????
; 544  : 		if(	joy_trg[ 1 ] & JOY_F1 ) StrToNowStrBuffer( chatRegistryStr[ 0 ].buffer );

  000c7	b8 04 00 00 00	 mov	 eax, 4
  000cc	c1 e0 00	 shl	 eax, 0
  000cf	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  000d5	83 e1 01	 and	 ecx, 1
  000d8	74 17		 je	 SHORT $LN7@ChatProc
  000da	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  000df	6b c8 00	 imul	 ecx, eax, 0
  000e2	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  000e8	51		 push	 ecx
  000e9	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  000ee	83 c4 04	 add	 esp, 4
$LN7@ChatProc:

; 545  : 		if( joy_trg[ 1 ] & JOY_F2 ) StrToNowStrBuffer( chatRegistryStr[ 1 ].buffer );

  000f1	b8 04 00 00 00	 mov	 eax, 4
  000f6	c1 e0 00	 shl	 eax, 0
  000f9	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  000ff	83 e1 02	 and	 ecx, 2
  00102	74 16		 je	 SHORT $LN8@ChatProc
  00104	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  00109	c1 e0 00	 shl	 eax, 0
  0010c	05 00 00 00 00	 add	 eax, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  00111	50		 push	 eax
  00112	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  00117	83 c4 04	 add	 esp, 4
$LN8@ChatProc:

; 546  : 		if( joy_trg[ 1 ] & JOY_F3 ) StrToNowStrBuffer( chatRegistryStr[ 2 ].buffer );

  0011a	b8 04 00 00 00	 mov	 eax, 4
  0011f	c1 e0 00	 shl	 eax, 0
  00122	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  00128	83 e1 04	 and	 ecx, 4
  0012b	74 15		 je	 SHORT $LN9@ChatProc
  0012d	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  00132	d1 e0		 shl	 eax, 1
  00134	05 00 00 00 00	 add	 eax, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  00139	50		 push	 eax
  0013a	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  0013f	83 c4 04	 add	 esp, 4
$LN9@ChatProc:

; 547  : 		if( joy_trg[ 1 ] & JOY_F4 ) StrToNowStrBuffer( chatRegistryStr[ 3 ].buffer );

  00142	b8 04 00 00 00	 mov	 eax, 4
  00147	c1 e0 00	 shl	 eax, 0
  0014a	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  00150	83 e1 08	 and	 ecx, 8
  00153	74 17		 je	 SHORT $LN10@ChatProc
  00155	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  0015a	6b c8 03	 imul	 ecx, eax, 3
  0015d	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  00163	51		 push	 ecx
  00164	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  00169	83 c4 04	 add	 esp, 4
$LN10@ChatProc:

; 548  : 	
; 549  : 		if( joy_trg[ 1 ] & JOY_F5 ) StrToNowStrBuffer( chatRegistryStr[ 4 ].buffer );

  0016c	b8 04 00 00 00	 mov	 eax, 4
  00171	c1 e0 00	 shl	 eax, 0
  00174	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  0017a	83 e1 10	 and	 ecx, 16			; 00000010H
  0017d	74 16		 je	 SHORT $LN11@ChatProc
  0017f	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  00184	c1 e0 02	 shl	 eax, 2
  00187	05 00 00 00 00	 add	 eax, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  0018c	50		 push	 eax
  0018d	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  00192	83 c4 04	 add	 esp, 4
$LN11@ChatProc:

; 550  : 		if( joy_trg[ 1 ] & JOY_F6 ) StrToNowStrBuffer( chatRegistryStr[ 5 ].buffer );

  00195	b8 04 00 00 00	 mov	 eax, 4
  0019a	c1 e0 00	 shl	 eax, 0
  0019d	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  001a3	83 e1 20	 and	 ecx, 32			; 00000020H
  001a6	74 17		 je	 SHORT $LN12@ChatProc
  001a8	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  001ad	6b c8 05	 imul	 ecx, eax, 5
  001b0	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  001b6	51		 push	 ecx
  001b7	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  001bc	83 c4 04	 add	 esp, 4
$LN12@ChatProc:

; 551  : 		if( joy_trg[ 1 ] & JOY_F7 ) StrToNowStrBuffer( chatRegistryStr[ 6 ].buffer );

  001bf	b8 04 00 00 00	 mov	 eax, 4
  001c4	c1 e0 00	 shl	 eax, 0
  001c7	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  001cd	83 e1 40	 and	 ecx, 64			; 00000040H
  001d0	74 17		 je	 SHORT $LN13@ChatProc
  001d2	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  001d7	6b c8 06	 imul	 ecx, eax, 6
  001da	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  001e0	51		 push	 ecx
  001e1	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  001e6	83 c4 04	 add	 esp, 4
$LN13@ChatProc:

; 552  : 		if( joy_trg[ 1 ] & JOY_F8 ) StrToNowStrBuffer( chatRegistryStr[ 7 ].buffer );

  001e9	b8 04 00 00 00	 mov	 eax, 4
  001ee	c1 e0 00	 shl	 eax, 0
  001f1	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?joy_trg@@3PAKA[eax]
  001f7	81 e1 80 00 00
	00		 and	 ecx, 128		; 00000080H
  001fd	74 17		 je	 SHORT $LN5@ChatProc
  001ff	b8 28 01 00 00	 mov	 eax, 296		; 00000128H
  00204	6b c8 07	 imul	 ecx, eax, 7
  00207	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?chatRegistryStr@@3PAUSTR_BUFFER@@A ; chatRegistryStr
  0020d	51		 push	 ecx
  0020e	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  00213	83 c4 04	 add	 esp, 4
$LN5@ChatProc:

; 553  : 	}
; 554  : 
; 555  : 	// îš¼??????????????????????îž°??î¡Š??
; 556  : 	if( pNowStrBuffer == &MyChatBuffer && GetImeString() == NULL ){

  00216	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; pNowStrBuffer, MyChatBuffer
  00220	0f 85 b2 01 00
	00		 jne	 $LN1@ChatProc
  00226	e8 00 00 00 00	 call	 ?GetImeString@@YAPADXZ	; GetImeString
  0022b	85 c0		 test	 eax, eax
  0022d	0f 85 a5 01 00
	00		 jne	 $LN1@ChatProc

; 557  : 		// î¯???????
; 558  : 		if( joy_auto[ 0 ] & JOY_UP ){

  00233	b8 04 00 00 00	 mov	 eax, 4
  00238	6b c8 00	 imul	 ecx, eax, 0
  0023b	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?joy_auto@@3PAKA[ecx]
  00241	81 e2 00 10 00
	00		 and	 edx, 4096		; 00001000H
  00247	0f 84 bf 00 00
	00		 je	 $LN16@ChatProc

; 559  : 			int bak = ChatHistory.nowNo;	// ??????

  0024d	a1 44 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708
  00252	89 45 f8	 mov	 DWORD PTR _bak$1[ebp], eax

; 560  : 			// ?????????îš¼?????
; 561  : 			if( ChatHistory.nowNo == -1 ) ChatHistory.nowNo = ChatHistory.newNo;

  00255	83 3d 44 41 00
	00 ff		 cmp	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, -1
  0025c	75 0c		 jne	 SHORT $LN18@ChatProc
  0025e	a1 40 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704
  00263	a3 44 41 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, eax
  00268	eb 0d		 jmp	 SHORT $LN19@ChatProc
$LN18@ChatProc:

; 562  : 			else ChatHistory.nowNo--;

  0026a	a1 44 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708
  0026f	83 e8 01	 sub	 eax, 1
  00272	a3 44 41 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, eax
$LN19@ChatProc:

; 563  : 			// ????????
; 564  : 			if( ChatHistory.nowNo < 0 ) ChatHistory.nowNo = MAX_CHAT_HISTORY - 1;

  00277	83 3d 44 41 00
	00 00		 cmp	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 0
  0027e	7d 0a		 jge	 SHORT $LN20@ChatProc
  00280	c7 05 44 41 00
	00 3f 00 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 63 ; 0000003fH
$LN20@ChatProc:

; 565  : 			// ????????????( ?îŽ«??????????????????îš¼???????? ?
; 566  : 			if( ChatHistory.str[ ChatHistory.nowNo ][ 0 ] != 0 && ( ChatHistory.nowNo != ChatHistory.newNo || bak == -1 ) ){

  0028a	69 05 44 41 00
	00 05 01 00 00	 imul	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 261
  00294	b9 01 00 00 00	 mov	 ecx, 1
  00299	6b d1 00	 imul	 edx, ecx, 0
  0029c	0f be 84 10 00
	00 00 00	 movsx	 eax, BYTE PTR ?ChatHistory@@3UCHAT_HISTORY@@A[eax+edx]
  002a4	85 c0		 test	 eax, eax
  002a6	74 57		 je	 SHORT $LN21@ChatProc
  002a8	a1 44 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708
  002ad	3b 05 40 41 00
	00		 cmp	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704
  002b3	75 06		 jne	 SHORT $LN23@ChatProc
  002b5	83 7d f8 ff	 cmp	 DWORD PTR _bak$1[ebp], -1
  002b9	75 44		 jne	 SHORT $LN21@ChatProc
$LN23@ChatProc:

; 567  : 				// îš¼?????îž°?????
; 568  : 				pNowStrBuffer->cnt = 0;

  002bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  002c0	c6 80 07 01 00
	00 00		 mov	 BYTE PTR [eax+263], 0

; 569  : 				pNowStrBuffer->buffer[ 0 ] = NULL;

  002c7	b8 01 00 00 00	 mov	 eax, 1
  002cc	6b c8 00	 imul	 ecx, eax, 0
  002cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  002d5	c6 04 0a 00	 mov	 BYTE PTR [edx+ecx], 0

; 570  : 				pNowStrBuffer->cursor=0;

  002d9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  002de	c6 80 09 01 00
	00 00		 mov	 BYTE PTR [eax+265], 0

; 571  : 				// ?????îž°???îš¼????????
; 572  : 				StrToNowStrBuffer( ChatHistory.str[ ChatHistory.nowNo ] );

  002e5	69 05 44 41 00
	00 05 01 00 00	 imul	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 261
  002ef	05 00 00 00 00	 add	 eax, OFFSET ?ChatHistory@@3UCHAT_HISTORY@@A ; ChatHistory
  002f4	50		 push	 eax
  002f5	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  002fa	83 c4 04	 add	 esp, 4

; 573  : 			}else{

  002fd	eb 08		 jmp	 SHORT $LN22@ChatProc
$LN21@ChatProc:

; 574  : 				// ??????????
; 575  : 				ChatHistory.nowNo = bak;

  002ff	8b 45 f8	 mov	 eax, DWORD PTR _bak$1[ebp]
  00302	a3 44 41 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, eax
$LN22@ChatProc:

; 576  : 			}
; 577  : #ifdef _TALK_WINDOW
; 578  : 			if(g_bTalkWindow) TalkWindow.Update();
; 579  : #endif
; 580  : 		}else

  00307	e9 cc 00 00 00	 jmp	 $LN1@ChatProc
$LN16@ChatProc:

; 581  : 		// ????????
; 582  : 		if( joy_auto[ 0 ] & JOY_DOWN ){

  0030c	b8 04 00 00 00	 mov	 eax, 4
  00311	6b c8 00	 imul	 ecx, eax, 0
  00314	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?joy_auto@@3PAKA[ecx]
  0031a	81 e2 00 20 00
	00		 and	 edx, 8192		; 00002000H
  00320	0f 84 b2 00 00
	00		 je	 $LN1@ChatProc

; 583  : 			// ?????????îš¼?????
; 584  : 			if( ChatHistory.nowNo != -1 ){

  00326	83 3d 44 41 00
	00 ff		 cmp	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, -1
  0032d	0f 84 a5 00 00
	00		 je	 $LN1@ChatProc

; 585  : 				// ?????????îœ???
; 586  : 				if( ChatHistory.nowNo == ChatHistory.newNo ){ 

  00333	a1 44 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708
  00338	3b 05 40 41 00
	00		 cmp	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16704
  0033e	75 36		 jne	 SHORT $LN26@ChatProc

; 587  : 					ChatHistory.nowNo = -1;

  00340	c7 05 44 41 00
	00 ff ff ff ff	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, -1

; 588  : 					// îš¼?????îž°?????
; 589  : 					pNowStrBuffer->cnt = 0;

  0034a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0034f	c6 80 07 01 00
	00 00		 mov	 BYTE PTR [eax+263], 0

; 590  : 					pNowStrBuffer->buffer[ 0 ] = NULL;

  00356	b8 01 00 00 00	 mov	 eax, 1
  0035b	6b c8 00	 imul	 ecx, eax, 0
  0035e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00364	c6 04 0a 00	 mov	 BYTE PTR [edx+ecx], 0

; 591  : 					pNowStrBuffer->cursor=0;

  00368	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0036d	c6 80 09 01 00
	00 00		 mov	 BYTE PTR [eax+265], 0

; 592  : 				}else{

  00374	eb 62		 jmp	 SHORT $LN1@ChatProc
$LN26@ChatProc:

; 593  : 					ChatHistory.nowNo++;

  00376	a1 44 41 00 00	 mov	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708
  0037b	83 c0 01	 add	 eax, 1
  0037e	a3 44 41 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, eax

; 594  : 					// ????????
; 595  : 					if( ChatHistory.nowNo >= MAX_CHAT_HISTORY ) ChatHistory.nowNo = 0;

  00383	83 3d 44 41 00
	00 40		 cmp	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 64 ; 00000040H
  0038a	7c 0a		 jl	 SHORT $LN28@ChatProc
  0038c	c7 05 44 41 00
	00 00 00 00 00	 mov	 DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 0
$LN28@ChatProc:

; 596  : 					// îš¼?????îž°?????
; 597  : 					pNowStrBuffer->cnt = 0;

  00396	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0039b	c6 80 07 01 00
	00 00		 mov	 BYTE PTR [eax+263], 0

; 598  : 					pNowStrBuffer->buffer[ 0 ] = NULL;

  003a2	b8 01 00 00 00	 mov	 eax, 1
  003a7	6b c8 00	 imul	 ecx, eax, 0
  003aa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  003b0	c6 04 0a 00	 mov	 BYTE PTR [edx+ecx], 0

; 599  : 					pNowStrBuffer->cursor=0;

  003b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  003b9	c6 80 09 01 00
	00 00		 mov	 BYTE PTR [eax+265], 0

; 600  : 					// ?????îž°???îš¼????????
; 601  : 					StrToNowStrBuffer( ChatHistory.str[ ChatHistory.nowNo ] );

  003c0	69 05 44 41 00
	00 05 01 00 00	 imul	 eax, DWORD PTR ?ChatHistory@@3UCHAT_HISTORY@@A+16708, 261
  003ca	05 00 00 00 00	 add	 eax, OFFSET ?ChatHistory@@3UCHAT_HISTORY@@A ; ChatHistory
  003cf	50		 push	 eax
  003d0	e8 00 00 00 00	 call	 ?StrToNowStrBuffer@@YAXPAD@Z ; StrToNowStrBuffer
  003d5	83 c4 04	 add	 esp, 4
$LN1@ChatProc:

; 602  : 				}
; 603  : #ifdef _TALK_WINDOW
; 604  : 				if(g_bTalkWindow) TalkWindow.Update();
; 605  : #endif
; 606  : 			}
; 607  : 		}
; 608  : 	}
; 609  : /*#ifdef _ON_OFF_ITEM
; 610  : 	EXP_ON_OFF_ITEM();
; 611  : #endif
; 612  : #ifdef _ON_OFF_NOENEMY
; 613  : 	NOENEMY_OF_OFF_ITEM();
; 614  : #endif
; 615  : #ifdef _CLICK_PARTYAUTO
; 616  : 	CLICK_PARTYAUTO();
; 617  : #endif*/
; 618  : }

  003d8	5f		 pop	 edi
  003d9	5e		 pop	 esi
  003da	5b		 pop	 ebx
  003db	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  003e1	3b ec		 cmp	 ebp, esp
  003e3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003e8	8b e5		 mov	 esp, ebp
  003ea	5d		 pop	 ebp
  003eb	c3		 ret	 0
?ChatProc@@YAXXZ ENDP					; ChatProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?ChatBufferToFontBuffer@@YAXXZ
_TEXT	SEGMENT
tv266 = -572						; size = 4
_±íÇéÄÚÈÝ$1 = -372					; size = 128
_y$2 = -236						; size = 4
_x$3 = -224						; size = 4
_end$4 = -212						; size = 4
_start$5 = -200						; size = 4
_°´ÏÂID$6 = -188					; size = 4
_·½Ïò°´Å¥ID$7 = -176					; size = 8
_±íÇéy$ = -160						; size = 4
_±íÇéx$ = -148						; size = 4
_±íÇé°´Å¥ID$ = -136					; size = 4
_g_szChannelDisp$ = -124				; size = 32
_ÆµµÀÍ¼±êY$ = -84					; size = 4
_temp$8 = -72						; size = 4
_y$ = -60						; size = 4
_x$ = -48						; size = 4
_k$ = -36						; size = 4
_j$ = -24						; size = 4
_i$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
?ChatBufferToFontBuffer@@YAXXZ PROC			; ChatBufferToFontBuffer, COMDAT

; 1273 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 3c 02 00
	00		 sub	 esp, 572		; 0000023cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd c4 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-572]
  00012	b9 8f 00 00 00	 mov	 ecx, 143		; 0000008fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 1274 : #ifdef _TALK_WINDOW
; 1275 : 	if(g_bTalkWindow) return;
; 1276 : #endif
; 1277 : 	#define CHAT_ZOUBUN_Y 22   //jl è¯´è¯æ˜¾ç¤ºåˆ—é—´è·,åŽŸæ¥ä¸º20ï¼Œå› åŠ å…¥è¡¨æƒ…ï¼Œç¨å¾®åŠ å¤§ç‚¹
; 1278 : 	int i, j, k = 0;

  00028	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _k$[ebp], 0

; 1279 : 	int x = 8;// î¸î•?î³

  0002f	c7 45 d0 08 00
	00 00		 mov	 DWORD PTR _x$[ebp], 8

; 1280 : 	int y = 400;

  00036	c7 45 c4 90 01
	00 00		 mov	 DWORD PTR _y$[ebp], 400	; 00000190H

; 1281 : //	int y = DEF_APPSIZEY - 80;î˜‹
; 1282 : 	j = NowChatLine - 1;

  0003d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NowChatLine@@3HA ; NowChatLine
  00042	83 e8 01	 sub	 eax, 1
  00045	89 45 e8	 mov	 DWORD PTR _j$[ebp], eax

; 1283 : 	if( j < 0 )

  00048	79 07		 jns	 SHORT $LN13@ChatBuffer

; 1284 : 		j = MAX_CHAT_LINE - 1;

  0004a	c7 45 e8 1d 00
	00 00		 mov	 DWORD PTR _j$[ebp], 29	; 0000001dH
$LN13@ChatBuffer:

; 1285 : 	if( ChatLineSmoothY > 0 )

  00051	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?ChatLineSmoothY@@3HA, 0 ; ChatLineSmoothY
  00058	7e 0d		 jle	 SHORT $LN14@ChatBuffer

; 1286 : 		k = NowMaxChatLine + 1;

  0005a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NowMaxChatLine@@3HA ; NowMaxChatLine
  0005f	83 c0 01	 add	 eax, 1
  00062	89 45 dc	 mov	 DWORD PTR _k$[ebp], eax

; 1287 : 	else

  00065	eb 08		 jmp	 SHORT $LN15@ChatBuffer
$LN14@ChatBuffer:

; 1288 : 		k = NowMaxChatLine;

  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NowMaxChatLine@@3HA ; NowMaxChatLine
  0006c	89 45 dc	 mov	 DWORD PTR _k$[ebp], eax
$LN15@ChatBuffer:

; 1289 : 	if( k > MAX_CHAT_LINE )

  0006f	83 7d dc 1e	 cmp	 DWORD PTR _k$[ebp], 30	; 0000001eH
  00073	7e 07		 jle	 SHORT $LN16@ChatBuffer

; 1290 : 		k = MAX_CHAT_LINE;

  00075	c7 45 dc 1e 00
	00 00		 mov	 DWORD PTR _k$[ebp], 30	; 0000001eH
$LN16@ChatBuffer:

; 1291 : 	for( i = 0 ; i < k; i++ ){

  0007c	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00083	eb 09		 jmp	 SHORT $LN4@ChatBuffer
$LN2@ChatBuffer:
  00085	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00088	83 c0 01	 add	 eax, 1
  0008b	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax
$LN4@ChatBuffer:
  0008e	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00091	3b 45 dc	 cmp	 eax, DWORD PTR _k$[ebp]
  00094	0f 8d 8d 01 00
	00		 jge	 $LN3@ChatBuffer

; 1292 : 		if( *ChatBuffer[ j ].buffer != NULL ){

  0009a	69 45 e8 4c 01
	00 00		 imul	 eax, DWORD PTR _j$[ebp], 332
  000a1	b9 01 00 00 00	 mov	 ecx, 1
  000a6	6b d1 00	 imul	 edx, ecx, 0
  000a9	0f be 84 10 00
	00 00 00	 movsx	 eax, BYTE PTR ?ChatBuffer@@3PAU_CHAT_BUFFER@@A[eax+edx]
  000b1	85 c0		 test	 eax, eax
  000b3	0f 84 24 01 00
	00		 je	 $LN6@ChatBuffer

; 1293 : #ifdef _FONT_SIZE
; 1294 : #ifdef èŠå¤©è¡¨æƒ…
; 1295 : 			CHAT_BUFFER * temp = &ChatBuffer[j];

  000b9	69 45 e8 4c 01
	00 00		 imul	 eax, DWORD PTR _j$[ebp], 332
  000c0	05 00 00 00 00	 add	 eax, OFFSET ?ChatBuffer@@3PAU_CHAT_BUFFER@@A ; ChatBuffer
  000c5	89 45 b8	 mov	 DWORD PTR _temp$8[ebp], eax
$LN5@ChatBuffer:

; 1296 : 			//printf("\n temp=%s",temp);
; 1297 : 			while (temp) {

  000c8	83 7d b8 00	 cmp	 DWORD PTR _temp$8[ebp], 0
  000cc	0f 84 0b 01 00
	00		 je	 $LN6@ChatBuffer

; 1298 : 				if (temp->x>760) break;

  000d2	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  000d5	81 b8 10 01 00
	00 f8 02 00 00	 cmp	 DWORD PTR [eax+272], 760 ; 000002f8H
  000df	7e 05		 jle	 SHORT $LN18@ChatBuffer
  000e1	e9 f7 00 00 00	 jmp	 $LN6@ChatBuffer
$LN18@ChatBuffer:

; 1299 : 				if (temp->image){

  000e6	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  000e9	83 b8 40 01 00
	00 00		 cmp	 DWORD PTR [eax+320], 0
  000f0	74 50		 je	 SHORT $LN19@ChatBuffer

; 1300 : 					temp->fontID = StockFontBufferExt(/*40+*/temp->x + x, y + ChatLineSmoothY + DISPLACEMENT_Y, FONT_PRIO_BACK, temp->color, (char *)temp->buffer, 2, temp->fontsize);

  000f2	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  000f5	8b 88 48 01 00
	00		 mov	 ecx, DWORD PTR [eax+328]
  000fb	51		 push	 ecx
  000fc	6a 02		 push	 2
  000fe	8b 55 b8	 mov	 edx, DWORD PTR _temp$8[ebp]
  00101	52		 push	 edx
  00102	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  00105	0f b6 88 05 01
	00 00		 movzx	 ecx, BYTE PTR [eax+261]
  0010c	51		 push	 ecx
  0010d	6a 00		 push	 0
  0010f	8b 55 c4	 mov	 edx, DWORD PTR _y$[ebp]
  00112	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?ChatLineSmoothY@@3HA ; ChatLineSmoothY
  00118	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?DISPLACEMENT_Y@@3HA ; DISPLACEMENT_Y
  0011e	52		 push	 edx
  0011f	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  00122	8b 88 10 01 00
	00		 mov	 ecx, DWORD PTR [eax+272]
  00128	03 4d d0	 add	 ecx, DWORD PTR _x$[ebp]
  0012b	51		 push	 ecx
  0012c	e8 00 00 00 00	 call	 ?StockFontBufferExt@@YAHHHDHPADHH@Z ; StockFontBufferExt
  00131	83 c4 1c	 add	 esp, 28			; 0000001cH
  00134	8b 55 b8	 mov	 edx, DWORD PTR _temp$8[ebp]
  00137	89 82 44 01 00
	00		 mov	 DWORD PTR [edx+324], eax
  0013d	e9 8a 00 00 00	 jmp	 $LN22@ChatBuffer
$LN19@ChatBuffer:

; 1301 : 				}else if (temp->BmpNo) {

  00142	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  00145	83 b8 0c 01 00
	00 00		 cmp	 DWORD PTR [eax+268], 0
  0014c	74 3c		 je	 SHORT $LN21@ChatBuffer

; 1302 : 					StockDispBuffer(/*40+*/temp->x + x + 14, y + ChatLineSmoothY + DISPLACEMENT_Y + 7, DISP_PRIO_IME1, temp->BmpNo, 0);

  0014e	6a 00		 push	 0
  00150	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  00153	8b 88 0c 01 00
	00		 mov	 ecx, DWORD PTR [eax+268]
  00159	51		 push	 ecx
  0015a	6a 66		 push	 102			; 00000066H
  0015c	8b 55 c4	 mov	 edx, DWORD PTR _y$[ebp]
  0015f	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?ChatLineSmoothY@@3HA ; ChatLineSmoothY
  00165	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DISPLACEMENT_Y@@3HA ; DISPLACEMENT_Y
  0016a	8d 4c 02 07	 lea	 ecx, DWORD PTR [edx+eax+7]
  0016e	51		 push	 ecx
  0016f	8b 55 b8	 mov	 edx, DWORD PTR _temp$8[ebp]
  00172	8b 82 10 01 00
	00		 mov	 eax, DWORD PTR [edx+272]
  00178	8b 4d d0	 mov	 ecx, DWORD PTR _x$[ebp]
  0017b	8d 54 08 0e	 lea	 edx, DWORD PTR [eax+ecx+14]
  0017f	52		 push	 edx
  00180	e8 00 00 00 00	 call	 ?StockDispBuffer@@YAHHHEHH@Z ; StockDispBuffer
  00185	83 c4 14	 add	 esp, 20			; 00000014H

; 1303 : 				}else {

  00188	eb 42		 jmp	 SHORT $LN22@ChatBuffer
$LN21@ChatBuffer:

; 1304 : 					StockFontBufferExt(/*40+*/temp->x + x, y + ChatLineSmoothY + DISPLACEMENT_Y, FONT_PRIO_BACK, temp->color, (char *)temp->buffer, 0, temp->fontsize);

  0018a	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  0018d	8b 88 48 01 00
	00		 mov	 ecx, DWORD PTR [eax+328]
  00193	51		 push	 ecx
  00194	6a 00		 push	 0
  00196	8b 55 b8	 mov	 edx, DWORD PTR _temp$8[ebp]
  00199	52		 push	 edx
  0019a	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  0019d	0f b6 88 05 01
	00 00		 movzx	 ecx, BYTE PTR [eax+261]
  001a4	51		 push	 ecx
  001a5	6a 00		 push	 0
  001a7	8b 55 c4	 mov	 edx, DWORD PTR _y$[ebp]
  001aa	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?ChatLineSmoothY@@3HA ; ChatLineSmoothY
  001b0	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?DISPLACEMENT_Y@@3HA ; DISPLACEMENT_Y
  001b6	52		 push	 edx
  001b7	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  001ba	8b 88 10 01 00
	00		 mov	 ecx, DWORD PTR [eax+272]
  001c0	03 4d d0	 add	 ecx, DWORD PTR _x$[ebp]
  001c3	51		 push	 ecx
  001c4	e8 00 00 00 00	 call	 ?StockFontBufferExt@@YAHHHDHPADHH@Z ; StockFontBufferExt
  001c9	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN22@ChatBuffer:

; 1305 : 				}
; 1306 : 				temp = temp->NextChatBuffer;

  001cc	8b 45 b8	 mov	 eax, DWORD PTR _temp$8[ebp]
  001cf	8b 88 14 01 00
	00		 mov	 ecx, DWORD PTR [eax+276]
  001d5	89 4d b8	 mov	 DWORD PTR _temp$8[ebp], ecx

; 1307 : 			}

  001d8	e9 eb fe ff ff	 jmp	 $LN5@ChatBuffer
$LN6@ChatBuffer:

; 1308 : 			//printf("\n temp=%s",temp);
; 1309 : #else
; 1310 : 			StockFontBufferExt(x, y + ChatLineSmoothY + DISPLACEMENT_Y - (int)((ChatBuffer[j].fontsize / 2)*1.4), FONT_PRIO_BACK, ChatBuffer[j].color, (char *)ChatBuffer[j].buffer, 0, ChatBuffer[j].fontsize);
; 1311 : #endif
; 1312 : 			//StockFontBufferExt( temp->x+x, y + ChatLineSmoothY + DISPLACEMENT_Y, FONT_PRIO_BACK, temp->color, ( char *)temp->buffer, 0, 0);
; 1313 : 
; 1314 : #else
; 1315 : 			StockFontBuffer(    x, y + ChatLineSmoothY + DISPLACEMENT_Y, FONT_PRIO_BACK, ChatBuffer[ j ].color, ( char *)ChatBuffer[ j ].buffer, 0 );
; 1316 : #endif
; 1317 : 		}
; 1318 : 		y -= CHAT_ZOUBUN_Y;

  001dd	8b 45 c4	 mov	 eax, DWORD PTR _y$[ebp]
  001e0	83 e8 16	 sub	 eax, 22			; 00000016H
  001e3	89 45 c4	 mov	 DWORD PTR _y$[ebp], eax

; 1319 : #ifdef _FONT_SIZE
; 1320 : 		y -= (int)((ChatBuffer[j].fontsize/2)*1.4);

  001e6	69 45 e8 4c 01
	00 00		 imul	 eax, DWORD PTR _j$[ebp], 332
  001ed	8b 80 48 01 00
	00		 mov	 eax, DWORD PTR ?ChatBuffer@@3PAU_CHAT_BUFFER@@A[eax+328]
  001f3	99		 cdq
  001f4	2b c2		 sub	 eax, edx
  001f6	d1 f8		 sar	 eax, 1
  001f8	f2 0f 2a c0	 cvtsi2sd xmm0, eax
  001fc	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3ff6666666666666
  00204	f2 0f 2c c8	 cvttsd2si ecx, xmm0
  00208	8b 55 c4	 mov	 edx, DWORD PTR _y$[ebp]
  0020b	2b d1		 sub	 edx, ecx
  0020d	89 55 c4	 mov	 DWORD PTR _y$[ebp], edx

; 1321 : #endif
; 1322 : 		j--;

  00210	8b 45 e8	 mov	 eax, DWORD PTR _j$[ebp]
  00213	83 e8 01	 sub	 eax, 1
  00216	89 45 e8	 mov	 DWORD PTR _j$[ebp], eax

; 1323 : 		if( j < 0 )

  00219	79 07		 jns	 SHORT $LN23@ChatBuffer

; 1324 : 			j = MAX_CHAT_LINE - 1;

  0021b	c7 45 e8 1d 00
	00 00		 mov	 DWORD PTR _j$[ebp], 29	; 0000001dH
$LN23@ChatBuffer:

; 1325 : 	}

  00222	e9 5e fe ff ff	 jmp	 $LN2@ChatBuffer
$LN3@ChatBuffer:

; 1326 : 	if( ChatLineSmoothY > 0 )

  00227	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?ChatLineSmoothY@@3HA, 0 ; ChatLineSmoothY
  0022e	7e 0d		 jle	 SHORT $LN24@ChatBuffer

; 1327 : 		ChatLineSmoothY--;

  00230	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ChatLineSmoothY@@3HA ; ChatLineSmoothY
  00235	83 e8 01	 sub	 eax, 1
  00238	a3 00 00 00 00	 mov	 DWORD PTR ?ChatLineSmoothY@@3HA, eax ; ChatLineSmoothY
$LN24@ChatBuffer:

; 1328 : #ifdef _NB_LABEL_DISP
; 1329 : 	int é¢‘é“å›¾æ ‡Y = 480 - 41;

  0023d	c7 45 ac b7 01
	00 00		 mov	 DWORD PTR _ÆµµÀÍ¼±êY$[ebp], 439 ; 000001b7H

; 1330 : 	if (ResoMode == åˆ†è¾¨çŽ‡::mode800){

  00244	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?ResoMode@@3HA, 3 ; ResoMode
  0024b	75 09		 jne	 SHORT $LN25@ChatBuffer

; 1331 : 		é¢‘é“å›¾æ ‡Y = 600 - 41;

  0024d	c7 45 ac 2f 02
	00 00		 mov	 DWORD PTR _ÆµµÀÍ¼±êY$[ebp], 559 ; 0000022fH
  00254	eb 22		 jmp	 SHORT $LN29@ChatBuffer
$LN25@ChatBuffer:

; 1332 : 	}else if (ResoMode == åˆ†è¾¨çŽ‡::mode640){

  00256	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?ResoMode@@3HA, 0 ; ResoMode
  0025d	75 09		 jne	 SHORT $LN27@ChatBuffer

; 1333 : 		é¢‘é“å›¾æ ‡Y = 480 - 41;

  0025f	c7 45 ac b7 01
	00 00		 mov	 DWORD PTR _ÆµµÀÍ¼±êY$[ebp], 439 ; 000001b7H
  00266	eb 10		 jmp	 SHORT $LN29@ChatBuffer
$LN27@ChatBuffer:

; 1334 : 	}else if (ResoMode == åˆ†è¾¨çŽ‡::mode1024){

  00268	83 3d 00 00 00
	00 04		 cmp	 DWORD PTR ?ResoMode@@3HA, 4 ; ResoMode
  0026f	75 07		 jne	 SHORT $LN29@ChatBuffer

; 1335 : 		é¢‘é“å›¾æ ‡Y = 768 - 41;

  00271	c7 45 ac d7 02
	00 00		 mov	 DWORD PTR _ÆµµÀÍ¼±êY$[ebp], 727 ; 000002d7H
$LN29@ChatBuffer:

; 1336 : 	}
; 1337 : 	int g_szChannelDisp[] = { 55400, 55401, 56003, 56004

  00278	c7 45 84 68 d8
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp], 55400 ; 0000d868H
  0027f	c7 45 88 69 d8
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp+4], 55401 ; 0000d869H
  00286	c7 45 8c c3 da
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp+8], 56003 ; 0000dac3H
  0028d	c7 45 90 c4 da
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp+12], 56004 ; 0000dac4H

; 1338 : #ifdef _CHAR_PROFESSION//èŒä¸šé¢‘é“
; 1339 : 								,56005

  00294	c7 45 94 c5 da
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp+16], 56005 ; 0000dac5H

; 1340 : #endif
; 1341 : #ifdef _CHATROOMPROTOCOL//èŠå¤©å®¤
; 1342 : 								,56006

  0029b	c7 45 98 c6 da
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp+20], 56006 ; 0000dac6H

; 1343 : #endif
; 1344 : #ifdef _CHATWORLDWIDEPROTOCOL//ä¸–ç•Œé¢‘é“
; 1345 : 								,56007

  002a2	c7 45 9c c7 da
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp+24], 56007 ; 0000dac7H

; 1346 : #endif
; 1347 : #ifdef _NB_CHANNEL_ALLSERV//æ˜Ÿçƒé¢‘é“
; 1348 : 								,56008

  002a9	c7 45 a0 c8 da
	00 00		 mov	 DWORD PTR _g_szChannelDisp$[ebp+28], 56008 ; 0000dac8H

; 1349 : #endif
; 1350 : 								};
; 1351 : 	StockDispBuffer(25, é¢‘é“å›¾æ ‡Y, DISP_PRIO_IME3, g_szChannelDisp[TalkMode], 1);

  002b0	6a 01		 push	 1
  002b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TalkMode@@3HA ; TalkMode
  002b7	8b 4c 85 84	 mov	 ecx, DWORD PTR _g_szChannelDisp$[ebp+eax*4]
  002bb	51		 push	 ecx
  002bc	6a 69		 push	 105			; 00000069H
  002be	8b 55 ac	 mov	 edx, DWORD PTR _ÆµµÀÍ¼±êY$[ebp]
  002c1	52		 push	 edx
  002c2	6a 19		 push	 25			; 00000019H
  002c4	e8 00 00 00 00	 call	 ?StockDispBuffer@@YAHHHEHH@Z ; StockDispBuffer
  002c9	83 c4 14	 add	 esp, 20			; 00000014H

; 1352 : #endif
; 1353 : 
; 1354 : #ifdef èŠå¤©è¡¨æƒ…
; 1355 : 	extern void ShowBottomLineString(int iColor, LPSTR lpstr);
; 1356 : 	extern int focusGraId(int *id, int cnt);
; 1357 : 	extern int pushGraId(int *id, int cnt);
; 1358 : 	extern int selGraId(int *id, int cnt);
; 1359 : 	int è¡¨æƒ…æŒ‰é’®ID = -1;

  002cc	c7 85 78 ff ff
	ff ff ff ff ff	 mov	 DWORD PTR _±íÇé°´Å¥ID$[ebp], -1

; 1360 : 	static int è¡¨æƒ…å›¾ç‰‡ç´¢å¼• = 0;
; 1361 : 	static int è¡¨æƒ…çª—å£çŠ¶æ€ = FALSE;
; 1362 : 	static int è¡¨æƒ…å½“å‰é¡µ = 0;
; 1363 : 	static int è¡¨æƒ…æ€»é¡µ = (EXPRESSION_NOID_NUM) % 48 ? (EXPRESSION_NOID_NUM) / 48 + 1 : (EXPRESSION_NOID_NUM) / 48;
; 1364 : 	//30 549 
; 1365 : 	int è¡¨æƒ…x = 47;

  002d6	c7 85 6c ff ff
	ff 2f 00 00 00	 mov	 DWORD PTR _±íÇéx$[ebp], 47 ; 0000002fH

; 1366 : 	int è¡¨æƒ…y = 549;

  002e0	c7 85 60 ff ff
	ff 25 02 00 00	 mov	 DWORD PTR _±íÇéy$[ebp], 549 ; 00000225H

; 1367 : 	if (ResoMode == åˆ†è¾¨çŽ‡::mode800){

  002ea	83 3d 00 00 00
	00 03		 cmp	 DWORD PTR ?ResoMode@@3HA, 3 ; ResoMode
  002f1	75 0c		 jne	 SHORT $LN30@ChatBuffer

; 1368 : 		è¡¨æƒ…y = 600 - 51;

  002f3	c7 85 60 ff ff
	ff 25 02 00 00	 mov	 DWORD PTR _±íÇéy$[ebp], 549 ; 00000225H
  002fd	eb 28		 jmp	 SHORT $LN34@ChatBuffer
$LN30@ChatBuffer:

; 1369 : 	}else if (ResoMode == åˆ†è¾¨çŽ‡::mode640){

  002ff	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?ResoMode@@3HA, 0 ; ResoMode
  00306	75 0c		 jne	 SHORT $LN32@ChatBuffer

; 1370 : 		è¡¨æƒ…y = 480 - 51;

  00308	c7 85 60 ff ff
	ff ad 01 00 00	 mov	 DWORD PTR _±íÇéy$[ebp], 429 ; 000001adH
  00312	eb 13		 jmp	 SHORT $LN34@ChatBuffer
$LN32@ChatBuffer:

; 1371 : 	}else if (ResoMode == åˆ†è¾¨çŽ‡::mode1024){

  00314	83 3d 00 00 00
	00 04		 cmp	 DWORD PTR ?ResoMode@@3HA, 4 ; ResoMode
  0031b	75 0a		 jne	 SHORT $LN34@ChatBuffer

; 1372 : 		è¡¨æƒ…y = 768 - 51;

  0031d	c7 85 60 ff ff
	ff cd 02 00 00	 mov	 DWORD PTR _±íÇéy$[ebp], 717 ; 000002cdH
$LN34@ChatBuffer:

; 1373 : 	}
; 1374 : 	if(è¡¨æƒ…çª—å£çŠ¶æ€){

  00327	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 0
  0032e	74 21		 je	 SHORT $LN35@ChatBuffer

; 1375 : 		StockDispBufferç»å¯¹ä½ç½®(è¡¨æƒ…x, è¡¨æƒ…y, DISP_PRIO_IME3, CG_FIELD_CHAT_BTN_OFF, 1);

  00330	6a 01		 push	 1
  00332	68 4c d7 00 00	 push	 55116			; 0000d74cH
  00337	6a 69		 push	 105			; 00000069H
  00339	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _±íÇéy$[ebp]
  0033f	50		 push	 eax
  00340	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _±íÇéx$[ebp]
  00346	51		 push	 ecx
  00347	e8 00 00 00 00	 call	 ?StockDispBuffer¾ø¶ÔÎ»ÖÃ@@YAHHHEHH@Z ; StockDispBuffer¾ø¶ÔÎ»ÖÃ
  0034c	83 c4 14	 add	 esp, 20			; 00000014H

; 1376 : 	}else{

  0034f	eb 1f		 jmp	 SHORT $LN36@ChatBuffer
$LN35@ChatBuffer:

; 1377 : 		StockDispBufferç»å¯¹ä½ç½®(è¡¨æƒ…x, è¡¨æƒ…y, DISP_PRIO_IME3, CG_FIELD_CHAT_BTN_ON, 1);

  00351	6a 01		 push	 1
  00353	68 3e d7 00 00	 push	 55102			; 0000d73eH
  00358	6a 69		 push	 105			; 00000069H
  0035a	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _±íÇéy$[ebp]
  00360	50		 push	 eax
  00361	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _±íÇéx$[ebp]
  00367	51		 push	 ecx
  00368	e8 00 00 00 00	 call	 ?StockDispBuffer¾ø¶ÔÎ»ÖÃ@@YAHHHEHH@Z ; StockDispBuffer¾ø¶ÔÎ»ÖÃ
  0036d	83 c4 14	 add	 esp, 20			; 00000014H
$LN36@ChatBuffer:

; 1378 : 	}
; 1379 : 	if (MakeHitBox(è¡¨æƒ…x, è¡¨æƒ…y, è¡¨æƒ…x + 20, è¡¨æƒ…y + 20, DISP_PRIO_IME3) == TRUE){

  00370	6a 69		 push	 105			; 00000069H
  00372	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _±íÇéy$[ebp]
  00378	83 c0 14	 add	 eax, 20			; 00000014H
  0037b	50		 push	 eax
  0037c	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _±íÇéx$[ebp]
  00382	83 c1 14	 add	 ecx, 20			; 00000014H
  00385	51		 push	 ecx
  00386	8b 95 60 ff ff
	ff		 mov	 edx, DWORD PTR _±íÇéy$[ebp]
  0038c	52		 push	 edx
  0038d	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _±íÇéx$[ebp]
  00393	50		 push	 eax
  00394	e8 00 00 00 00	 call	 ?MakeHitBox@@YAHHHHHH@Z	; MakeHitBox
  00399	83 c4 14	 add	 esp, 20			; 00000014H
  0039c	83 f8 01	 cmp	 eax, 1
  0039f	75 6f		 jne	 SHORT $LN39@ChatBuffer

; 1380 : 		ShowBottomLineString(FONT_PAL_WHITE, "ìƒëŒ€ë°©ì—ê²Œ ì „ì†¡í•  ì´ëª¨í‹°ì½˜ì„ ì„ íƒí•©ë‹ˆë‹¤.");

  003a1	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@PPAMOMEI@?$LL?s?$LE?k?$LJ?f?$LP?$KB?$LA?T?5?$MA?$PM?$LM?$NL?G?R?5?$MA?L?$LI?p?F?$LM?D?$NM?$MA?$LL?5?$LM?$LB?E@
  003a6	6a 00		 push	 0
  003a8	e8 00 00 00 00	 call	 ?ShowBottomLineString@@YAXHPAD@Z ; ShowBottomLineString
  003ad	83 c4 08	 add	 esp, 8

; 1381 : 		if (mouse.onceState & MOUSE_LEFT_CRICK) {

  003b0	a1 2c 00 00 00	 mov	 eax, DWORD PTR ?mouse@@3UMOUSE@@A+44
  003b5	83 e0 01	 and	 eax, 1
  003b8	74 4c		 je	 SHORT $LN38@ChatBuffer

; 1382 : 			è¡¨æƒ…å½“å‰é¡µ = 1;

  003ba	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 1

; 1383 : 			è¡¨æƒ…å›¾ç‰‡ç´¢å¼• = 1;

  003c4	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?±íÇéÍ¼Æ¬Ë÷Òý@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 1

; 1384 : 			if (è¡¨æƒ…çª—å£çŠ¶æ€) è¡¨æƒ…çª—å£çŠ¶æ€ = FALSE;

  003ce	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 0
  003d5	74 0c		 je	 SHORT $LN40@ChatBuffer
  003d7	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 0
  003e1	eb 0a		 jmp	 SHORT $LN41@ChatBuffer
$LN40@ChatBuffer:

; 1385 : 			else è¡¨æƒ…çª—å£çŠ¶æ€ = TRUE;

  003e3	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 1
$LN41@ChatBuffer:

; 1386 : 			play_se(203, 320, 240);

  003ed	68 f0 00 00 00	 push	 240			; 000000f0H
  003f2	68 40 01 00 00	 push	 320			; 00000140H
  003f7	68 cb 00 00 00	 push	 203			; 000000cbH
  003fc	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  00401	83 c4 0c	 add	 esp, 12			; 0000000cH
  00404	eb 0a		 jmp	 SHORT $LN39@ChatBuffer
$LN38@ChatBuffer:

; 1387 : 		}
; 1388 : 		else è¡¨æƒ…å›¾ç‰‡ç´¢å¼• = 0;

  00406	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?±íÇéÍ¼Æ¬Ë÷Òý@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 0
$LN39@ChatBuffer:

; 1389 : 	}
; 1390 : 	if (è¡¨æƒ…çª—å£çŠ¶æ€) {

  00410	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 0
  00417	0f 84 a7 02 00
	00		 je	 $LN8@ChatBuffer

; 1391 : 		if (joy_trg[0] & JOY_ESC) {

  0041d	b8 04 00 00 00	 mov	 eax, 4
  00422	6b c8 00	 imul	 ecx, eax, 0
  00425	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?joy_trg@@3PAKA[ecx]
  0042b	81 e2 00 00 00
	80		 and	 edx, -2147483648	; 80000000H
  00431	74 30		 je	 SHORT $LN43@ChatBuffer

; 1392 : 			MenuToggleFlag |= JOY_ESC;

  00433	a1 00 00 00 00	 mov	 eax, DWORD PTR ?MenuToggleFlag@@3IA ; MenuToggleFlag
  00438	0d 00 00 00 80	 or	 eax, -2147483648	; 80000000H
  0043d	a3 00 00 00 00	 mov	 DWORD PTR ?MenuToggleFlag@@3IA, eax ; MenuToggleFlag

; 1393 : 			play_se(203, 320, 240);

  00442	68 f0 00 00 00	 push	 240			; 000000f0H
  00447	68 40 01 00 00	 push	 320			; 00000140H
  0044c	68 cb 00 00 00	 push	 203			; 000000cbH
  00451	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  00456	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1394 : 			è¡¨æƒ…çª—å£çŠ¶æ€ = FALSE;

  00459	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 0
$LN43@ChatBuffer:

; 1395 : 		}
; 1396 : 		int æ–¹å‘æŒ‰é’®ID[2];
; 1397 : 		StockDispBufferç»å¯¹ä½ç½®(2, è¡¨æƒ…y - 204, DISP_PRIO_IME3, 55103, 1);

  00463	6a 01		 push	 1
  00465	68 3f d7 00 00	 push	 55103			; 0000d73fH
  0046a	6a 69		 push	 105			; 00000069H
  0046c	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _±íÇéy$[ebp]
  00472	2d cc 00 00 00	 sub	 eax, 204		; 000000ccH
  00477	50		 push	 eax
  00478	6a 02		 push	 2
  0047a	e8 00 00 00 00	 call	 ?StockDispBuffer¾ø¶ÔÎ»ÖÃ@@YAHHHEHH@Z ; StockDispBuffer¾ø¶ÔÎ»ÖÃ
  0047f	83 c4 14	 add	 esp, 20			; 00000014H

; 1398 : 		æ–¹å‘æŒ‰é’®ID[0] = StockDispBufferç»å¯¹ä½ç½®(77, è¡¨æƒ…y - 26, DISP_PRIO_IME4, 55104, 2);

  00482	6a 02		 push	 2
  00484	68 40 d7 00 00	 push	 55104			; 0000d740H
  00489	6a 6a		 push	 106			; 0000006aH
  0048b	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _±íÇéy$[ebp]
  00491	83 e8 1a	 sub	 eax, 26			; 0000001aH
  00494	50		 push	 eax
  00495	6a 4d		 push	 77			; 0000004dH
  00497	e8 00 00 00 00	 call	 ?StockDispBuffer¾ø¶ÔÎ»ÖÃ@@YAHHHEHH@Z ; StockDispBuffer¾ø¶ÔÎ»ÖÃ
  0049c	83 c4 14	 add	 esp, 20			; 00000014H
  0049f	b9 04 00 00 00	 mov	 ecx, 4
  004a4	6b d1 00	 imul	 edx, ecx, 0
  004a7	89 84 15 50 ff
	ff ff		 mov	 DWORD PTR _·½Ïò°´Å¥ID$7[ebp+edx], eax

; 1399 : 		æ–¹å‘æŒ‰é’®ID[1] = StockDispBufferç»å¯¹ä½ç½®(140, è¡¨æƒ…y - 26, DISP_PRIO_IME4, 55105, 2);

  004ae	6a 02		 push	 2
  004b0	68 41 d7 00 00	 push	 55105			; 0000d741H
  004b5	6a 6a		 push	 106			; 0000006aH
  004b7	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _±íÇéy$[ebp]
  004bd	83 e8 1a	 sub	 eax, 26			; 0000001aH
  004c0	50		 push	 eax
  004c1	68 8c 00 00 00	 push	 140			; 0000008cH
  004c6	e8 00 00 00 00	 call	 ?StockDispBuffer¾ø¶ÔÎ»ÖÃ@@YAHHHEHH@Z ; StockDispBuffer¾ø¶ÔÎ»ÖÃ
  004cb	83 c4 14	 add	 esp, 20			; 00000014H
  004ce	b9 04 00 00 00	 mov	 ecx, 4
  004d3	c1 e1 00	 shl	 ecx, 0
  004d6	89 84 0d 50 ff
	ff ff		 mov	 DWORD PTR _·½Ïò°´Å¥ID$7[ebp+ecx], eax

; 1400 : 		int æŒ‰ä¸‹ID = selGraId(æ–¹å‘æŒ‰é’®ID, 2);

  004dd	6a 02		 push	 2
  004df	8d 85 50 ff ff
	ff		 lea	 eax, DWORD PTR _·½Ïò°´Å¥ID$7[ebp]
  004e5	50		 push	 eax
  004e6	e8 00 00 00 00	 call	 ?selGraId@@YAHPAHH@Z	; selGraId
  004eb	83 c4 08	 add	 esp, 8
  004ee	89 85 44 ff ff
	ff		 mov	 DWORD PTR _°´ÏÂID$6[ebp], eax

; 1401 : 		if (æŒ‰ä¸‹ID == 0) {//æŒ‰æ–¹å‘å·¦

  004f4	83 bd 44 ff ff
	ff 00		 cmp	 DWORD PTR _°´ÏÂID$6[ebp], 0
  004fb	75 18		 jne	 SHORT $LN44@ChatBuffer

; 1402 : 			if (è¡¨æƒ…å½“å‰é¡µ>1) è¡¨æƒ…å½“å‰é¡µ--;

  004fd	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 1
  00504	7e 0d		 jle	 SHORT $LN46@ChatBuffer
  00506	a1 00 00 00 00	 mov	 eax, DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA
  0050b	83 e8 01	 sub	 eax, 1
  0050e	a3 00 00 00 00	 mov	 DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, eax
$LN46@ChatBuffer:

; 1403 : 		}

  00513	eb 23		 jmp	 SHORT $LN48@ChatBuffer
$LN44@ChatBuffer:

; 1404 : 		else if (æŒ‰ä¸‹ID == 1) {//æŒ‰æ–¹å‘å³

  00515	83 bd 44 ff ff
	ff 01		 cmp	 DWORD PTR _°´ÏÂID$6[ebp], 1
  0051c	75 1a		 jne	 SHORT $LN48@ChatBuffer

; 1405 : 			if (è¡¨æƒ…å½“å‰é¡µ < è¡¨æƒ…æ€»é¡µ) è¡¨æƒ…å½“å‰é¡µ++;

  0051e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA
  00523	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?±íÇé×ÜÒ³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA
  00529	7d 0d		 jge	 SHORT $LN48@ChatBuffer
  0052b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA
  00530	83 c0 01	 add	 eax, 1
  00533	a3 00 00 00 00	 mov	 DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, eax
$LN48@ChatBuffer:

; 1406 : 		}
; 1407 : 		int start = (è¡¨æƒ…å½“å‰é¡µ - 1) * 48;

  00538	a1 00 00 00 00	 mov	 eax, DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA
  0053d	83 e8 01	 sub	 eax, 1
  00540	6b c8 30	 imul	 ecx, eax, 48
  00543	89 8d 38 ff ff
	ff		 mov	 DWORD PTR _start$5[ebp], ecx

; 1408 : 		int end = (è¡¨æƒ…å½“å‰é¡µ * 48 < EXPRESSION_NOID_NUM ? è¡¨æƒ…å½“å‰é¡µ * 48 : EXPRESSION_NOID_NUM);

  00549	6b 05 00 00 00
	00 30		 imul	 eax, DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 48
  00550	83 f8 62	 cmp	 eax, 98			; 00000062H
  00553	7d 0f		 jge	 SHORT $LN53@ChatBuffer
  00555	6b 0d 00 00 00
	00 30		 imul	 ecx, DWORD PTR ?±íÇéµ±Ç°Ò³@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 48
  0055c	89 8d c4 fd ff
	ff		 mov	 DWORD PTR tv266[ebp], ecx
  00562	eb 0a		 jmp	 SHORT $LN54@ChatBuffer
$LN53@ChatBuffer:
  00564	c7 85 c4 fd ff
	ff 62 00 00 00	 mov	 DWORD PTR tv266[ebp], 98 ; 00000062H
$LN54@ChatBuffer:
  0056e	8b 95 c4 fd ff
	ff		 mov	 edx, DWORD PTR tv266[ebp]
  00574	89 95 2c ff ff
	ff		 mov	 DWORD PTR _end$4[ebp], edx

; 1409 : 		int x, y;
; 1410 : 		for (y = 0; y<6; y++) {

  0057a	c7 85 14 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _y$2[ebp], 0
  00584	eb 0f		 jmp	 SHORT $LN9@ChatBuffer
$LN7@ChatBuffer:
  00586	8b 85 14 ff ff
	ff		 mov	 eax, DWORD PTR _y$2[ebp]
  0058c	83 c0 01	 add	 eax, 1
  0058f	89 85 14 ff ff
	ff		 mov	 DWORD PTR _y$2[ebp], eax
$LN9@ChatBuffer:
  00595	83 bd 14 ff ff
	ff 06		 cmp	 DWORD PTR _y$2[ebp], 6
  0059c	0f 8d 22 01 00
	00		 jge	 $LN8@ChatBuffer

; 1411 : 			for (x = 0; x<8; x++) {

  005a2	c7 85 20 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _x$3[ebp], 0
  005ac	eb 0f		 jmp	 SHORT $LN12@ChatBuffer
$LN10@ChatBuffer:
  005ae	8b 85 20 ff ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  005b4	83 c0 01	 add	 eax, 1
  005b7	89 85 20 ff ff
	ff		 mov	 DWORD PTR _x$3[ebp], eax
$LN12@ChatBuffer:
  005bd	83 bd 20 ff ff
	ff 08		 cmp	 DWORD PTR _x$3[ebp], 8
  005c4	0f 8d ea 00 00
	00		 jge	 $LN11@ChatBuffer

; 1412 : 				è¡¨æƒ…æŒ‰é’®ID = StockDispBufferç»å¯¹ä½ç½®(7 + x * 29, è¡¨æƒ…y -200 + y * 29, DISP_PRIO_IME4, EXPRESSION_NOID_START + start, 2);

  005ca	6a 02		 push	 2
  005cc	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _start$5[ebp]
  005d2	05 4d d7 00 00	 add	 eax, 55117		; 0000d74dH
  005d7	50		 push	 eax
  005d8	6a 6a		 push	 106			; 0000006aH
  005da	6b 8d 14 ff ff
	ff 1d		 imul	 ecx, DWORD PTR _y$2[ebp], 29
  005e1	8b 95 60 ff ff
	ff		 mov	 edx, DWORD PTR _±íÇéy$[ebp]
  005e7	8d 84 0a 38 ff
	ff ff		 lea	 eax, DWORD PTR [edx+ecx-200]
  005ee	50		 push	 eax
  005ef	6b 8d 20 ff ff
	ff 1d		 imul	 ecx, DWORD PTR _x$3[ebp], 29
  005f6	83 c1 07	 add	 ecx, 7
  005f9	51		 push	 ecx
  005fa	e8 00 00 00 00	 call	 ?StockDispBuffer¾ø¶ÔÎ»ÖÃ@@YAHHHEHH@Z ; StockDispBuffer¾ø¶ÔÎ»ÖÃ
  005ff	83 c4 14	 add	 esp, 20			; 00000014H
  00602	89 85 78 ff ff
	ff		 mov	 DWORD PTR _±íÇé°´Å¥ID$[ebp], eax

; 1413 : 				if (selGraId(&è¡¨æƒ…æŒ‰é’®ID, 1) != -1) {

  00608	6a 01		 push	 1
  0060a	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _±íÇé°´Å¥ID$[ebp]
  00610	50		 push	 eax
  00611	e8 00 00 00 00	 call	 ?selGraId@@YAHPAHH@Z	; selGraId
  00616	83 c4 08	 add	 esp, 8
  00619	83 f8 ff	 cmp	 eax, -1
  0061c	74 77		 je	 SHORT $LN49@ChatBuffer

; 1414 : 					è¡¨æƒ…çª—å£çŠ¶æ€ = FALSE;

  0061e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?±íÇé´°¿Ú×´Ì¬@?1??ChatBufferToFontBuffer@@YAXXZ@4HA, 0

; 1415 : 					play_se(203, 320, 240);

  00628	68 f0 00 00 00	 push	 240			; 000000f0H
  0062d	68 40 01 00 00	 push	 320			; 00000140H
  00632	68 cb 00 00 00	 push	 203			; 000000cbH
  00637	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  0063c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1416 : 					char è¡¨æƒ…å†…å®¹[128];
; 1417 : 					sprintf_s(è¡¨æƒ…å†…å®¹, "{#%d}", start + 1);

  0063f	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _start$5[ebp]
  00645	83 c0 01	 add	 eax, 1
  00648	50		 push	 eax
  00649	68 00 00 00 00	 push	 OFFSET ??_C@_05OLBKMNMB@?$HL?$CD?$CFd?$HN?$AA@
  0064e	8d 8d 8c fe ff
	ff		 lea	 ecx, DWORD PTR _±íÇéÄÚÈÝ$1[ebp]
  00654	51		 push	 ecx
  00655	e8 00 00 00 00	 call	 ??$sprintf_s@$0IA@@@YAHAAY0IA@DPBDZZ ; sprintf_s<128>
  0065a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1418 : 					strcat_s(MyChatBuffer.buffer, è¡¨æƒ…å†…å®¹);

  0065d	8d 85 8c fe ff
	ff		 lea	 eax, DWORD PTR _±íÇéÄÚÈÝ$1[ebp]
  00663	50		 push	 eax
  00664	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  00669	e8 00 00 00 00	 call	 ??$strcat_s@$0BAE@@@YAHAAY0BAE@DPBD@Z ; strcat_s<260>
  0066e	83 c4 08	 add	 esp, 8

; 1419 : 					MyChatBuffer.cursor = strlen(MyChatBuffer.buffer);

  00671	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  00676	e8 00 00 00 00	 call	 _strlen
  0067b	83 c4 04	 add	 esp, 4
  0067e	a2 09 01 00 00	 mov	 BYTE PTR ?MyChatBuffer@@3USTR_BUFFER@@A+265, al

; 1420 : 					MyChatBuffer.cnt = strlen(MyChatBuffer.buffer);

  00683	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  00688	e8 00 00 00 00	 call	 _strlen
  0068d	83 c4 04	 add	 esp, 4
  00690	a2 07 01 00 00	 mov	 BYTE PTR ?MyChatBuffer@@3USTR_BUFFER@@A+263, al
$LN49@ChatBuffer:

; 1421 : 				}
; 1422 : 				start++;

  00695	8b 85 38 ff ff
	ff		 mov	 eax, DWORD PTR _start$5[ebp]
  0069b	83 c0 01	 add	 eax, 1
  0069e	89 85 38 ff ff
	ff		 mov	 DWORD PTR _start$5[ebp], eax

; 1423 : 				if (EXPRESSION_NOID_NUM < start) break;

  006a4	83 bd 38 ff ff
	ff 62		 cmp	 DWORD PTR _start$5[ebp], 98 ; 00000062H
  006ab	7e 02		 jle	 SHORT $LN50@ChatBuffer
  006ad	eb 05		 jmp	 SHORT $LN11@ChatBuffer
$LN50@ChatBuffer:

; 1424 : 			}

  006af	e9 fa fe ff ff	 jmp	 $LN10@ChatBuffer
$LN11@ChatBuffer:

; 1425 : 			if (EXPRESSION_NOID_NUM < start) break;

  006b4	83 bd 38 ff ff
	ff 62		 cmp	 DWORD PTR _start$5[ebp], 98 ; 00000062H
  006bb	7e 02		 jle	 SHORT $LN51@ChatBuffer
  006bd	eb 05		 jmp	 SHORT $LN8@ChatBuffer
$LN51@ChatBuffer:

; 1426 : 		}

  006bf	e9 c2 fe ff ff	 jmp	 $LN7@ChatBuffer
$LN8@ChatBuffer:

; 1427 : 	}
; 1428 : #endif
; 1429 : 
; 1430 : 	StockFontBuffer2( &MyChatBuffer );

  006c4	68 00 00 00 00	 push	 OFFSET ?MyChatBuffer@@3USTR_BUFFER@@A ; MyChatBuffer
  006c9	e8 00 00 00 00	 call	 ?StockFontBuffer2@@YAXPAUSTR_BUFFER@@@Z ; StockFontBuffer2
  006ce	83 c4 04	 add	 esp, 4

; 1431 : }

  006d1	52		 push	 edx
  006d2	8b cd		 mov	 ecx, ebp
  006d4	50		 push	 eax
  006d5	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN60@ChatBuffer
  006db	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  006e0	58		 pop	 eax
  006e1	5a		 pop	 edx
  006e2	5f		 pop	 edi
  006e3	5e		 pop	 esi
  006e4	5b		 pop	 ebx
  006e5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  006e8	33 cd		 xor	 ecx, ebp
  006ea	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006ef	81 c4 3c 02 00
	00		 add	 esp, 572		; 0000023cH
  006f5	3b ec		 cmp	 ebp, esp
  006f7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006fc	8b e5		 mov	 esp, ebp
  006fe	5d		 pop	 ebp
  006ff	c3		 ret	 0
$LN60@ChatBuffer:
  00700	04 00 00 00	 DD	 4
  00704	00 00 00 00	 DD	 $LN59@ChatBuffer
$LN59@ChatBuffer:
  00708	84 ff ff ff	 DD	 -124			; ffffff84H
  0070c	20 00 00 00	 DD	 32			; 00000020H
  00710	00 00 00 00	 DD	 $LN55@ChatBuffer
  00714	78 ff ff ff	 DD	 -136			; ffffff78H
  00718	04 00 00 00	 DD	 4
  0071c	00 00 00 00	 DD	 $LN56@ChatBuffer
  00720	50 ff ff ff	 DD	 -176			; ffffff50H
  00724	08 00 00 00	 DD	 8
  00728	00 00 00 00	 DD	 $LN57@ChatBuffer
  0072c	8c fe ff ff	 DD	 -372			; fffffe8cH
  00730	80 00 00 00	 DD	 128			; 00000080H
  00734	00 00 00 00	 DD	 $LN58@ChatBuffer
$LN58@ChatBuffer:
  00738	e8		 DB	 -24			; ffffffe8H
  00739	a1		 DB	 -95			; ffffffa1H
  0073a	a8		 DB	 -88			; ffffffa8H
  0073b	e6		 DB	 -26			; ffffffe6H
  0073c	83		 DB	 -125			; ffffff83H
  0073d	85		 DB	 -123			; ffffff85H
  0073e	e5		 DB	 -27			; ffffffe5H
  0073f	86		 DB	 -122			; ffffff86H
  00740	85		 DB	 -123			; ffffff85H
  00741	e5		 DB	 -27			; ffffffe5H
  00742	ae		 DB	 -82			; ffffffaeH
  00743	b9		 DB	 -71			; ffffffb9H
  00744	00		 DB	 0
$LN57@ChatBuffer:
  00745	e6		 DB	 -26			; ffffffe6H
  00746	96		 DB	 -106			; ffffff96H
  00747	b9		 DB	 -71			; ffffffb9H
  00748	e5		 DB	 -27			; ffffffe5H
  00749	90		 DB	 -112			; ffffff90H
  0074a	91		 DB	 -111			; ffffff91H
  0074b	e6		 DB	 -26			; ffffffe6H
  0074c	8c		 DB	 -116			; ffffff8cH
  0074d	89		 DB	 -119			; ffffff89H
  0074e	e9		 DB	 -23			; ffffffe9H
  0074f	92		 DB	 -110			; ffffff92H
  00750	ae		 DB	 -82			; ffffffaeH
  00751	49		 DB	 73			; 00000049H
  00752	44		 DB	 68			; 00000044H
  00753	00		 DB	 0
$LN56@ChatBuffer:
  00754	e8		 DB	 -24			; ffffffe8H
  00755	a1		 DB	 -95			; ffffffa1H
  00756	a8		 DB	 -88			; ffffffa8H
  00757	e6		 DB	 -26			; ffffffe6H
  00758	83		 DB	 -125			; ffffff83H
  00759	85		 DB	 -123			; ffffff85H
  0075a	e6		 DB	 -26			; ffffffe6H
  0075b	8c		 DB	 -116			; ffffff8cH
  0075c	89		 DB	 -119			; ffffff89H
  0075d	e9		 DB	 -23			; ffffffe9H
  0075e	92		 DB	 -110			; ffffff92H
  0075f	ae		 DB	 -82			; ffffffaeH
  00760	49		 DB	 73			; 00000049H
  00761	44		 DB	 68			; 00000044H
  00762	00		 DB	 0
$LN55@ChatBuffer:
  00763	67		 DB	 103			; 00000067H
  00764	5f		 DB	 95			; 0000005fH
  00765	73		 DB	 115			; 00000073H
  00766	7a		 DB	 122			; 0000007aH
  00767	43		 DB	 67			; 00000043H
  00768	68		 DB	 104			; 00000068H
  00769	61		 DB	 97			; 00000061H
  0076a	6e		 DB	 110			; 0000006eH
  0076b	6e		 DB	 110			; 0000006eH
  0076c	65		 DB	 101			; 00000065H
  0076d	6c		 DB	 108			; 0000006cH
  0076e	44		 DB	 68			; 00000044H
  0076f	69		 DB	 105			; 00000069H
  00770	73		 DB	 115			; 00000073H
  00771	70		 DB	 112			; 00000070H
  00772	00		 DB	 0
?ChatBufferToFontBuffer@@YAXXZ ENDP			; ChatBufferToFontBuffer
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?StockStrBufferDBChar@@YAXPAD@Z
_TEXT	SEGMENT
_buffer$ = -32						; size = 4
_cursor$ = -20						; size = 4
_cnt$ = -8						; size = 4
_lpc$ = 8						; size = 4
?StockStrBufferDBChar@@YAXPAD@Z PROC			; StockStrBufferDBChar, COMDAT

; 1074 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1075 : 	int cnt,cursor;
; 1076 : 	if(pNowStrBuffer==NULL || (cnt=pNowStrBuffer->cnt) >= pNowStrBuffer->len-1)

  0001e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  00025	74 24		 je	 SHORT $LN6@StockStrBu
  00027	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0002c	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  00033	89 4d f8	 mov	 DWORD PTR _cnt$[ebp], ecx
  00036	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0003c	0f b6 82 04 01
	00 00		 movzx	 eax, BYTE PTR [edx+260]
  00043	83 e8 01	 sub	 eax, 1
  00046	39 45 f8	 cmp	 DWORD PTR _cnt$[ebp], eax
  00049	7c 05		 jl	 SHORT $LN5@StockStrBu
$LN6@StockStrBu:

; 1077 : 		return;

  0004b	e9 d4 00 00 00	 jmp	 $LN1@StockStrBu
$LN5@StockStrBu:

; 1078 : 	char *buffer=pNowStrBuffer->buffer;

  00050	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00055	89 45 e0	 mov	 DWORD PTR _buffer$[ebp], eax

; 1079 : 	if(pNowStrBuffer==&idKey || pNowStrBuffer==&passwd)

  00058	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?idKey@@3USTR_BUFFER@@A ; pNowStrBuffer, idKey
  00062	74 0c		 je	 SHORT $LN9@StockStrBu
  00064	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?passwd@@3USTR_BUFFER@@A ; pNowStrBuffer, passwd
  0006e	75 0a		 jne	 SHORT $LN7@StockStrBu
$LN9@StockStrBu:

; 1080 : 		return;

  00070	e9 af 00 00 00	 jmp	 $LN1@StockStrBu

; 1081 : 	else{

  00075	e9 aa 00 00 00	 jmp	 $LN1@StockStrBu
$LN7@StockStrBu:

; 1082 : 		for(cursor=pNowStrBuffer->cursor;cursor<=cnt;cnt--)

  0007a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0007f	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  00086	89 4d ec	 mov	 DWORD PTR _cursor$[ebp], ecx
  00089	eb 09		 jmp	 SHORT $LN4@StockStrBu
$LN2@StockStrBu:
  0008b	8b 45 f8	 mov	 eax, DWORD PTR _cnt$[ebp]
  0008e	83 e8 01	 sub	 eax, 1
  00091	89 45 f8	 mov	 DWORD PTR _cnt$[ebp], eax
$LN4@StockStrBu:
  00094	8b 45 ec	 mov	 eax, DWORD PTR _cursor$[ebp]
  00097	3b 45 f8	 cmp	 eax, DWORD PTR _cnt$[ebp]
  0009a	7f 13		 jg	 SHORT $LN3@StockStrBu

; 1083 : 			buffer[cnt+2]=buffer[cnt];

  0009c	8b 45 e0	 mov	 eax, DWORD PTR _buffer$[ebp]
  0009f	03 45 f8	 add	 eax, DWORD PTR _cnt$[ebp]
  000a2	8b 4d e0	 mov	 ecx, DWORD PTR _buffer$[ebp]
  000a5	03 4d f8	 add	 ecx, DWORD PTR _cnt$[ebp]
  000a8	8a 11		 mov	 dl, BYTE PTR [ecx]
  000aa	88 50 02	 mov	 BYTE PTR [eax+2], dl
  000ad	eb dc		 jmp	 SHORT $LN2@StockStrBu
$LN3@StockStrBu:

; 1084 : 		buffer[cursor++]=*lpc++;

  000af	8b 45 e0	 mov	 eax, DWORD PTR _buffer$[ebp]
  000b2	03 45 ec	 add	 eax, DWORD PTR _cursor$[ebp]
  000b5	8b 4d 08	 mov	 ecx, DWORD PTR _lpc$[ebp]
  000b8	8a 11		 mov	 dl, BYTE PTR [ecx]
  000ba	88 10		 mov	 BYTE PTR [eax], dl
  000bc	8b 45 ec	 mov	 eax, DWORD PTR _cursor$[ebp]
  000bf	83 c0 01	 add	 eax, 1
  000c2	89 45 ec	 mov	 DWORD PTR _cursor$[ebp], eax
  000c5	8b 4d 08	 mov	 ecx, DWORD PTR _lpc$[ebp]
  000c8	83 c1 01	 add	 ecx, 1
  000cb	89 4d 08	 mov	 DWORD PTR _lpc$[ebp], ecx

; 1085 : 		buffer[cursor++]=*lpc;

  000ce	8b 45 e0	 mov	 eax, DWORD PTR _buffer$[ebp]
  000d1	03 45 ec	 add	 eax, DWORD PTR _cursor$[ebp]
  000d4	8b 4d 08	 mov	 ecx, DWORD PTR _lpc$[ebp]
  000d7	8a 11		 mov	 dl, BYTE PTR [ecx]
  000d9	88 10		 mov	 BYTE PTR [eax], dl
  000db	8b 45 ec	 mov	 eax, DWORD PTR _cursor$[ebp]
  000de	83 c0 01	 add	 eax, 1
  000e1	89 45 ec	 mov	 DWORD PTR _cursor$[ebp], eax

; 1086 : 		pNowStrBuffer->cnt+=2;

  000e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000e9	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  000f0	83 c1 02	 add	 ecx, 2
  000f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000f9	88 8a 07 01 00
	00		 mov	 BYTE PTR [edx+263], cl

; 1087 : 		pNowStrBuffer->cursor+=2;

  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00104	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  0010b	83 c1 02	 add	 ecx, 2
  0010e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00114	88 8a 09 01 00
	00		 mov	 BYTE PTR [edx+265], cl

; 1088 : 		CursorFlashCnt=20;

  0011a	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H
$LN1@StockStrBu:

; 1089 : 	}
; 1090 : }

  00124	5f		 pop	 edi
  00125	5e		 pop	 esi
  00126	5b		 pop	 ebx
  00127	8b e5		 mov	 esp, ebp
  00129	5d		 pop	 ebp
  0012a	c3		 ret	 0
?StockStrBufferDBChar@@YAXPAD@Z ENDP			; StockStrBufferDBChar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\chat.cpp
;	COMDAT ?StockStrBufferChar@@YAXD@Z
_TEXT	SEGMENT
_buffer$1 = -32						; size = 4
_cursor$2 = -20						; size = 4
_cnt$3 = -8						; size = 4
_c$ = 8							; size = 1
?StockStrBufferChar@@YAXD@Z PROC			; StockStrBufferChar, COMDAT

; 1044 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1045 : 	if(BYTE(c)>0x1f){

  0001e	0f b6 45 08	 movzx	 eax, BYTE PTR _c$[ebp]
  00022	83 f8 1f	 cmp	 eax, 31			; 0000001fH
  00025	0f 8e 3d 01 00
	00		 jle	 $LN1@StockStrBu

; 1046 : 		int cnt,cursor;
; 1047 : 		if(pNowStrBuffer==NULL || (cnt=pNowStrBuffer->cnt) >= pNowStrBuffer->len)

  0002b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, 0 ; pNowStrBuffer
  00032	74 21		 je	 SHORT $LN7@StockStrBu
  00034	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00039	0f b6 88 07 01
	00 00		 movzx	 ecx, BYTE PTR [eax+263]
  00040	89 4d f8	 mov	 DWORD PTR _cnt$3[ebp], ecx
  00043	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00049	0f b6 82 04 01
	00 00		 movzx	 eax, BYTE PTR [edx+260]
  00050	39 45 f8	 cmp	 DWORD PTR _cnt$3[ebp], eax
  00053	7c 05		 jl	 SHORT $LN6@StockStrBu
$LN7@StockStrBu:

; 1048 : 			return;

  00055	e9 0e 01 00 00	 jmp	 $LN1@StockStrBu
$LN6@StockStrBu:

; 1049 : 		char *buffer=pNowStrBuffer->buffer;

  0005a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  0005f	89 45 e0	 mov	 DWORD PTR _buffer$1[ebp], eax

; 1050 :  		if(pNowStrBuffer==&idKey || pNowStrBuffer==&passwd){

  00062	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?idKey@@3USTR_BUFFER@@A ; pNowStrBuffer, idKey
  0006c	74 0c		 je	 SHORT $LN10@StockStrBu
  0006e	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?passwd@@3USTR_BUFFER@@A ; pNowStrBuffer, passwd
  00078	75 02		 jne	 SHORT $LN8@StockStrBu
$LN10@StockStrBu:

; 1051 : 			/*if(!(('0'<=c && c<='9') || ('A'<=c && c<='Z') || ('a'<=c && c<='z')))
; 1052 : 				return;*/
; 1053 : 		}else if(pNowStrBuffer==&selCharName){

  0007a	eb 65		 jmp	 SHORT $LN9@StockStrBu
$LN8@StockStrBu:
  0007c	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?selCharName@@3USTR_BUFFER@@A ; pNowStrBuffer, selCharName
  00086	75 36		 jne	 SHORT $LN11@StockStrBu

; 1054 : 			if(' '==c || 'ã€€'==c|| ','==c || '|'==c || '\\'==c)

  00088	0f be 45 08	 movsx	 eax, BYTE PTR _c$[ebp]
  0008c	83 f8 20	 cmp	 eax, 32			; 00000020H
  0008f	74 26		 je	 SHORT $LN14@StockStrBu
  00091	0f be 45 08	 movsx	 eax, BYTE PTR _c$[ebp]
  00095	3d a1 a1 00 00	 cmp	 eax, 41377		; 0000a1a1H
  0009a	74 1b		 je	 SHORT $LN14@StockStrBu
  0009c	0f be 45 08	 movsx	 eax, BYTE PTR _c$[ebp]
  000a0	83 f8 2c	 cmp	 eax, 44			; 0000002cH
  000a3	74 12		 je	 SHORT $LN14@StockStrBu
  000a5	0f be 45 08	 movsx	 eax, BYTE PTR _c$[ebp]
  000a9	83 f8 7c	 cmp	 eax, 124		; 0000007cH
  000ac	74 09		 je	 SHORT $LN14@StockStrBu
  000ae	0f be 45 08	 movsx	 eax, BYTE PTR _c$[ebp]
  000b2	83 f8 5c	 cmp	 eax, 92			; 0000005cH
  000b5	75 05		 jne	 SHORT $LN13@StockStrBu
$LN14@StockStrBu:

; 1055 : 				return;

  000b7	e9 ac 00 00 00	 jmp	 $LN1@StockStrBu
$LN13@StockStrBu:

; 1056 : 		}else if(pNowStrBuffer==&SubBuffer){

  000bc	eb 23		 jmp	 SHORT $LN9@StockStrBu
$LN11@StockStrBu:
  000be	81 3d 00 00 00
	00 00 00 00 00	 cmp	 DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A, OFFSET ?SubBuffer@@3USTR_BUFFER@@A ; pNowStrBuffer, SubBuffer
  000c8	75 17		 jne	 SHORT $LN9@StockStrBu

; 1057 : 			if('&'==c || '|'==c )

  000ca	0f be 45 08	 movsx	 eax, BYTE PTR _c$[ebp]
  000ce	83 f8 26	 cmp	 eax, 38			; 00000026H
  000d1	74 09		 je	 SHORT $LN17@StockStrBu
  000d3	0f be 45 08	 movsx	 eax, BYTE PTR _c$[ebp]
  000d7	83 f8 7c	 cmp	 eax, 124		; 0000007cH
  000da	75 05		 jne	 SHORT $LN9@StockStrBu
$LN17@StockStrBu:

; 1058 : 				return;

  000dc	e9 87 00 00 00	 jmp	 $LN1@StockStrBu
$LN9@StockStrBu:

; 1059 : 		}
; 1060 : 		for(cursor=pNowStrBuffer->cursor++;cursor<=cnt;cnt--)

  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000e6	0f b6 88 09 01
	00 00		 movzx	 ecx, BYTE PTR [eax+265]
  000ed	89 4d ec	 mov	 DWORD PTR _cursor$2[ebp], ecx
  000f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  000f6	8a 82 09 01 00
	00		 mov	 al, BYTE PTR [edx+265]
  000fc	04 01		 add	 al, 1
  000fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00104	88 81 09 01 00
	00		 mov	 BYTE PTR [ecx+265], al
  0010a	eb 09		 jmp	 SHORT $LN4@StockStrBu
$LN2@StockStrBu:
  0010c	8b 45 f8	 mov	 eax, DWORD PTR _cnt$3[ebp]
  0010f	83 e8 01	 sub	 eax, 1
  00112	89 45 f8	 mov	 DWORD PTR _cnt$3[ebp], eax
$LN4@StockStrBu:
  00115	8b 45 ec	 mov	 eax, DWORD PTR _cursor$2[ebp]
  00118	3b 45 f8	 cmp	 eax, DWORD PTR _cnt$3[ebp]
  0011b	7f 13		 jg	 SHORT $LN3@StockStrBu

; 1061 : 			buffer[cnt+1]=buffer[cnt];

  0011d	8b 45 e0	 mov	 eax, DWORD PTR _buffer$1[ebp]
  00120	03 45 f8	 add	 eax, DWORD PTR _cnt$3[ebp]
  00123	8b 4d e0	 mov	 ecx, DWORD PTR _buffer$1[ebp]
  00126	03 4d f8	 add	 ecx, DWORD PTR _cnt$3[ebp]
  00129	8a 11		 mov	 dl, BYTE PTR [ecx]
  0012b	88 50 01	 mov	 BYTE PTR [eax+1], dl
  0012e	eb dc		 jmp	 SHORT $LN2@StockStrBu
$LN3@StockStrBu:

; 1062 : 		buffer[cursor++]=c;

  00130	8b 45 e0	 mov	 eax, DWORD PTR _buffer$1[ebp]
  00133	03 45 ec	 add	 eax, DWORD PTR _cursor$2[ebp]
  00136	8a 4d 08	 mov	 cl, BYTE PTR _c$[ebp]
  00139	88 08		 mov	 BYTE PTR [eax], cl
  0013b	8b 55 ec	 mov	 edx, DWORD PTR _cursor$2[ebp]
  0013e	83 c2 01	 add	 edx, 1
  00141	89 55 ec	 mov	 DWORD PTR _cursor$2[ebp], edx

; 1063 : 		pNowStrBuffer->cnt++;

  00144	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00149	8a 88 07 01 00
	00		 mov	 cl, BYTE PTR [eax+263]
  0014f	80 c1 01	 add	 cl, 1
  00152	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pNowStrBuffer@@3PAUSTR_BUFFER@@A ; pNowStrBuffer
  00158	88 8a 07 01 00
	00		 mov	 BYTE PTR [edx+263], cl

; 1064 : 		CursorFlashCnt=20;

  0015e	c7 05 00 00 00
	00 14 00 00 00	 mov	 DWORD PTR ?CursorFlashCnt@@3HA, 20 ; CursorFlashCnt, 00000014H
$LN1@StockStrBu:

; 1065 : #ifdef _TALK_WINDOW
; 1066 : 		if(g_bTalkWindow) TalkWindow.Update();
; 1067 : #endif
; 1068 : 	}
; 1069 : }

  00168	5f		 pop	 edi
  00169	5e		 pop	 esi
  0016a	5b		 pop	 ebx
  0016b	8b e5		 mov	 esp, ebp
  0016d	5d		 pop	 ebp
  0016e	c3		 ret	 0
?StockStrBufferChar@@YAXD@Z ENDP			; StockStrBufferChar
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT _sscanf
_TEXT	SEGMENT
__ArgList$ = -20					; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
_sscanf	PROC						; COMDAT

; 2261 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2262 :     int _Result;
; 2263 :     va_list _ArgList;
; 2264 :     __crt_va_start(_ArgList, _Format);

  0001e	e8 00 00 00 00	 call	 ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
  00023	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  00026	89 45 ec	 mov	 DWORD PTR __ArgList$[ebp], eax

; 2265 :     _Result = _vsscanf_l(_Buffer, _Format, NULL, _ArgList);

  00029	8b 45 ec	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0002c	50		 push	 eax
  0002d	6a 00		 push	 0
  0002f	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00032	51		 push	 ecx
  00033	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  00036	52		 push	 edx
  00037	e8 00 00 00 00	 call	 __vsscanf_l
  0003c	83 c4 10	 add	 esp, 16			; 00000010H
  0003f	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 2266 :     __crt_va_end(_ArgList);

  00042	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 2267 :     return _Result;

  00049	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]

; 2268 : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00055	3b ec		 cmp	 ebp, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
_sscanf	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsscanf_l
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
__Locale$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vsscanf_l PROC					; COMDAT

; 2166 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2167 :     return __stdio_common_vsscanf(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 10	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 0c	 mov	 edx, DWORD PTR __Format$[ebp]
  0002b	52		 push	 edx
  0002c	6a ff		 push	 -1
  0002e	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ___local_stdio_scanf_options
  00037	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0003a	51		 push	 ecx
  0003b	8b 10		 mov	 edx, DWORD PTR [eax]
  0003d	52		 push	 edx
  0003e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsscanf
  00044	83 c4 1c	 add	 esp, 28			; 0000001cH
  00047	3b f4		 cmp	 esi, esp
  00049	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 2168 :         _CRT_INTERNAL_LOCAL_SCANF_OPTIONS,
; 2169 :         _Buffer, (size_t)-1, _Format, _Locale, _ArgList);
; 2170 : }

  0004e	5f		 pop	 edi
  0004f	5e		 pop	 esi
  00050	5b		 pop	 ebx
  00051	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00057	3b ec		 cmp	 ebp, esp
  00059	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005e	8b e5		 mov	 esp, ebp
  00060	5d		 pop	 ebp
  00061	c3		 ret	 0
__vsscanf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT _sprintf
_TEXT	SEGMENT
__ArgList$ = -20					; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
_sprintf PROC						; COMDAT

; 1776 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1777 :     int _Result;
; 1778 :     va_list _ArgList;
; 1779 :     __crt_va_start(_ArgList, _Format);

  0001e	e8 00 00 00 00	 call	 ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
  00023	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  00026	89 45 ec	 mov	 DWORD PTR __ArgList$[ebp], eax

; 1780 : 
; 1781 :     #pragma warning(push)
; 1782 :     #pragma warning(disable: 4996) // Deprecation
; 1783 :     _Result = _vsprintf_l(_Buffer, _Format, NULL, _ArgList);

  00029	8b 45 ec	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0002c	50		 push	 eax
  0002d	6a 00		 push	 0
  0002f	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00032	51		 push	 ecx
  00033	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  00036	52		 push	 edx
  00037	e8 00 00 00 00	 call	 __vsprintf_l
  0003c	83 c4 10	 add	 esp, 16			; 00000010H
  0003f	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1784 :     #pragma warning(pop)
; 1785 : 
; 1786 :     __crt_va_end(_ArgList);

  00042	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 1787 :     return _Result;

  00049	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]

; 1788 : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00055	3b ec		 cmp	 ebp, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
_sprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT _vsprintf_s
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__ArgList$ = 20						; size = 4
_vsprintf_s PROC					; COMDAT

; 1515 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1516 :         return _vsprintf_s_l(_Buffer, _BufferCount, _Format, NULL, _ArgList);

  0001e	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00021	50		 push	 eax
  00022	6a 00		 push	 0
  00024	8b 4d 10	 mov	 ecx, DWORD PTR __Format$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 0c	 mov	 edx, DWORD PTR __BufferCount$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 __vsprintf_s_l
  00035	83 c4 14	 add	 esp, 20			; 00000014H

; 1517 :     }

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	5b		 pop	 ebx
  0003b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00041	3b ec		 cmp	 ebp, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
_vsprintf_s ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsprintf_s_l
_TEXT	SEGMENT
tv73 = -208						; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__Locale$ = 20						; size = 4
__ArgList$ = 24						; size = 4
__vsprintf_s_l PROC					; COMDAT

; 1493 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 30 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-208]
  00012	b9 34 00 00 00	 mov	 ecx, 52			; 00000034H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1494 :     int const _Result = __stdio_common_vsprintf_s(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 18	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 14	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 10	 mov	 edx, DWORD PTR __Format$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 0c	 mov	 eax, DWORD PTR __BufferCount$[ebp]
  0002f	50		 push	 eax
  00030	8b 4d 08	 mov	 ecx, DWORD PTR __Buffer$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00039	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0003c	52		 push	 edx
  0003d	8b 00		 mov	 eax, DWORD PTR [eax]
  0003f	50		 push	 eax
  00040	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf_s
  00046	83 c4 1c	 add	 esp, 28			; 0000001cH
  00049	3b f4		 cmp	 esi, esp
  0004b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00050	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1495 :         _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS,
; 1496 :         _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1497 : 
; 1498 :     return _Result < 0 ? -1 : _Result;

  00053	83 7d f8 00	 cmp	 DWORD PTR __Result$[ebp], 0
  00057	7d 0c		 jge	 SHORT $LN3@vsprintf_s
  00059	c7 85 30 ff ff
	ff ff ff ff ff	 mov	 DWORD PTR tv73[ebp], -1
  00063	eb 09		 jmp	 SHORT $LN4@vsprintf_s
$LN3@vsprintf_s:
  00065	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]
  00068	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv73[ebp], eax
$LN4@vsprintf_s:
  0006e	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv73[ebp]

; 1499 : }

  00074	5f		 pop	 edi
  00075	5e		 pop	 esi
  00076	5b		 pop	 ebx
  00077	81 c4 d0 00 00
	00		 add	 esp, 208		; 000000d0H
  0007d	3b ec		 cmp	 ebp, esp
  0007f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c3		 ret	 0
__vsprintf_s_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsprintf_l
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
__Locale$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vsprintf_l PROC					; COMDAT

; 1455 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1456 :     #pragma warning(push)
; 1457 :     #pragma warning(disable: 4996) // Deprecation
; 1458 :     return _vsnprintf_l(_Buffer, (size_t)-1, _Format, _Locale, _ArgList);

  0001e	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00021	50		 push	 eax
  00022	8b 4d 10	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00025	51		 push	 ecx
  00026	8b 55 0c	 mov	 edx, DWORD PTR __Format$[ebp]
  00029	52		 push	 edx
  0002a	6a ff		 push	 -1
  0002c	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 __vsnprintf_l
  00035	83 c4 14	 add	 esp, 20			; 00000014H

; 1459 :     #pragma warning(pop)
; 1460 : }

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	5b		 pop	 ebx
  0003b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00041	3b ec		 cmp	 ebp, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
__vsprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsnprintf_l
_TEXT	SEGMENT
tv74 = -208						; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__Locale$ = 20						; size = 4
__ArgList$ = 24						; size = 4
__vsnprintf_l PROC					; COMDAT

; 1385 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 30 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-208]
  00012	b9 34 00 00 00	 mov	 ecx, 52			; 00000034H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1386 :     int const _Result = __stdio_common_vsprintf(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 18	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 14	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 10	 mov	 edx, DWORD PTR __Format$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 0c	 mov	 eax, DWORD PTR __BufferCount$[ebp]
  0002f	50		 push	 eax
  00030	8b 4d 08	 mov	 ecx, DWORD PTR __Buffer$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00039	8b 10		 mov	 edx, DWORD PTR [eax]
  0003b	83 ca 01	 or	 edx, 1
  0003e	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00041	50		 push	 eax
  00042	52		 push	 edx
  00043	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf
  00049	83 c4 1c	 add	 esp, 28			; 0000001cH
  0004c	3b f4		 cmp	 esi, esp
  0004e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00053	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1387 :         _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS | _CRT_INTERNAL_PRINTF_LEGACY_VSPRINTF_NULL_TERMINATION,
; 1388 :         _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1389 : 
; 1390 :     return _Result < 0 ? -1 : _Result;

  00056	83 7d f8 00	 cmp	 DWORD PTR __Result$[ebp], 0
  0005a	7d 0c		 jge	 SHORT $LN3@vsnprintf_
  0005c	c7 85 30 ff ff
	ff ff ff ff ff	 mov	 DWORD PTR tv74[ebp], -1
  00066	eb 09		 jmp	 SHORT $LN4@vsnprintf_
$LN3@vsnprintf_:
  00068	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]
  0006b	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], eax
$LN4@vsnprintf_:
  00071	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv74[ebp]

; 1391 : }

  00077	5f		 pop	 edi
  00078	5e		 pop	 esi
  00079	5b		 pop	 ebx
  0007a	81 c4 d0 00 00
	00		 add	 esp, 208		; 000000d0H
  00080	3b ec		 cmp	 ebp, esp
  00082	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00087	8b e5		 mov	 esp, ebp
  00089	5d		 pop	 ebp
  0008a	c3		 ret	 0
__vsnprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\microsoft visual studio 14.0\vc\include\vadefs.h
;	COMDAT ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ
_TEXT	SEGMENT
??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ PROC	; __vcrt_va_start_verify_argument_type<char const * const>, COMDAT

; 144  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 145  :             static_assert(!__vcrt_va_list_is_reference<_Ty>::__the_value, "va_start argument must not have reference type and must not be parenthesized");
; 146  :         }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ENDP	; __vcrt_va_start_verify_argument_type<char const * const>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT _fprintf
_TEXT	SEGMENT
__ArgList$ = -20					; size = 4
__Result$ = -8						; size = 4
__Stream$ = 8						; size = 4
__Format$ = 12						; size = 4
_fprintf PROC						; COMDAT

; 831  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 832  :     int _Result;
; 833  :     va_list _ArgList;
; 834  :     __crt_va_start(_ArgList, _Format);

  0001e	e8 00 00 00 00	 call	 ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
  00023	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  00026	89 45 ec	 mov	 DWORD PTR __ArgList$[ebp], eax

; 835  :     _Result = _vfprintf_l(_Stream, _Format, NULL, _ArgList);

  00029	8b 45 ec	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0002c	50		 push	 eax
  0002d	6a 00		 push	 0
  0002f	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00032	51		 push	 ecx
  00033	8b 55 08	 mov	 edx, DWORD PTR __Stream$[ebp]
  00036	52		 push	 edx
  00037	e8 00 00 00 00	 call	 __vfprintf_l
  0003c	83 c4 10	 add	 esp, 16			; 00000010H
  0003f	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 836  :     __crt_va_end(_ArgList);

  00042	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 837  :     return _Result;

  00049	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]

; 838  : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00055	3b ec		 cmp	 ebp, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
_fprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vfprintf_l
_TEXT	SEGMENT
__Stream$ = 8						; size = 4
__Format$ = 12						; size = 4
__Locale$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vfprintf_l PROC					; COMDAT

; 638  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 639  :     return __stdio_common_vfprintf(_CRT_INTERNAL_LOCAL_PRINTF_OPTIONS, _Stream, _Format, _Locale, _ArgList);

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 10	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 0c	 mov	 edx, DWORD PTR __Format$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 08	 mov	 eax, DWORD PTR __Stream$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00035	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00038	51		 push	 ecx
  00039	8b 10		 mov	 edx, DWORD PTR [eax]
  0003b	52		 push	 edx
  0003c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vfprintf
  00042	83 c4 18	 add	 esp, 24			; 00000018H
  00045	3b f4		 cmp	 esi, esp
  00047	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 640  : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00055	3b ec		 cmp	 ebp, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
__vfprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\corecrt_stdio_config.h
;	COMDAT ___local_stdio_scanf_options
_TEXT	SEGMENT
___local_stdio_scanf_options PROC			; COMDAT

; 82   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 83   :     static unsigned __int64 _OptionsStorage;
; 84   :     return &_OptionsStorage;

  0001e	b8 00 00 00 00	 mov	 eax, OFFSET ?_OptionsStorage@?1??__local_stdio_scanf_options@@9@4_KA ; `__local_stdio_scanf_options'::`2'::_OptionsStorage

; 85   : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
___local_stdio_scanf_options ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\corecrt_stdio_config.h
;	COMDAT ___local_stdio_printf_options
_TEXT	SEGMENT
___local_stdio_printf_options PROC			; COMDAT

; 73   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 74   :     static unsigned __int64 _OptionsStorage;
; 75   :     return &_OptionsStorage;

  0001e	b8 00 00 00 00	 mov	 eax, OFFSET ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage

; 76   : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
___local_stdio_printf_options ENDP
_TEXT	ENDS
END
