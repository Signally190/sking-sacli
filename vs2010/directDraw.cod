; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.24215.1 

	TITLE	C:\Users\Administrator\Desktop\????? ??\????? ??\Client Source Code\system\directDraw.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	?MAX_PAL@@3HB					; MAX_PAL
PUBLIC	?Palette@@3PAUtagPALETTEENTRY@@A		; Palette
PUBLIC	?lpDraw@@3PAUDIRECT_DRAW@@A			; lpDraw
PUBLIC	?DDinitFlag@@3HA				; DDinitFlag
PUBLIC	?hFont@@3PAUHFONT__@@A				; hFont
PUBLIC	?PalState@@3UPALETTE_STATE@@A			; PalState
PUBLIC	?PalChangeFlag@@3HA				; PalChangeFlag
PUBLIC	?framesToShow@@3HA				; framesToShow
PUBLIC	?skipFramesToShow@@3HA				; skipFramesToShow
PUBLIC	?BmpOffBits@@3HA				; BmpOffBits
PUBLIC	?CG_PKSERVER_PANEL@@3HA				; CG_PKSERVER_PANEL
PUBLIC	?CG_BATTTLE_SKILLCHOICE@@3HA			; CG_BATTTLE_SKILLCHOICE
PUBLIC	?CG_FIELD_SKILL_PANEL@@3HA			; CG_FIELD_SKILL_PANEL
PUBLIC	?CG_FIELD_CHATROOM_PANEL@@3HA			; CG_FIELD_CHATROOM_PANEL
PUBLIC	?CG_FIELD_SV_SELL_PANEL@@3HA			; CG_FIELD_SV_SELL_PANEL
PUBLIC	?CG_FIELD_SV_SELL_PRICE_PANEL@@3HA		; CG_FIELD_SV_SELL_PRICE_PANEL
PUBLIC	?CG_NEW_STATUS_WND@@3HA				; CG_NEW_STATUS_WND
PUBLIC	?CG_NEWITEM_WND@@3HA				; CG_NEWITEM_WND
PUBLIC	?CG_TRADE_WND@@3HA				; CG_TRADE_WND
PUBLIC	?CG_TRADE_VIEWWND@@3HA				; CG_TRADE_VIEWWND
PUBLIC	?CG_WND_G_0@@3HA				; CG_WND_G_0
PUBLIC	?CG_WND_G_1@@3HA				; CG_WND_G_1
PUBLIC	?CG_WND_G_2@@3HA				; CG_WND_G_2
PUBLIC	?CG_WND_G_3@@3HA				; CG_WND_G_3
PUBLIC	?CG_WND_G_4@@3HA				; CG_WND_G_4
PUBLIC	?CG_WND_G_5@@3HA				; CG_WND_G_5
PUBLIC	?CG_WND_G_6@@3HA				; CG_WND_G_6
PUBLIC	?CG_WND_G_7@@3HA				; CG_WND_G_7
PUBLIC	?CG_WND_G_8@@3HA				; CG_WND_G_8
PUBLIC	?CG_WND2_G_0@@3HA				; CG_WND2_G_0
PUBLIC	?CG_WND2_G_1@@3HA				; CG_WND2_G_1
PUBLIC	?CG_WND2_G_2@@3HA				; CG_WND2_G_2
PUBLIC	?CG_WND2_G_3@@3HA				; CG_WND2_G_3
PUBLIC	?CG_WND2_G_4@@3HA				; CG_WND2_G_4
PUBLIC	?CG_WND2_G_5@@3HA				; CG_WND2_G_5
PUBLIC	?CG_WND2_G_6@@3HA				; CG_WND2_G_6
PUBLIC	?CG_WND2_G_7@@3HA				; CG_WND2_G_7
PUBLIC	?CG_WND2_G_8@@3HA				; CG_WND2_G_8
PUBLIC	?CG_WND3_G_7@@3HA				; CG_WND3_G_7
PUBLIC	?CG_WND3_G_8@@3HA				; CG_WND3_G_8
PUBLIC	?CG_WND3_G_9@@3HA				; CG_WND3_G_9
PUBLIC	?CG_BTL_PET_CHANGE_WND@@3HA			; CG_BTL_PET_CHANGE_WND
PUBLIC	?CG_PET_WND_VIEW@@3HA				; CG_PET_WND_VIEW
PUBLIC	?CG_PET_WND_DETAIL@@3HA				; CG_PET_WND_DETAIL
PUBLIC	?CG_NAME_CHANGE_WND@@3HA			; CG_NAME_CHANGE_WND
PUBLIC	?CG_ITEM_WND_1@@3HA				; CG_ITEM_WND_1
PUBLIC	?CG_JUJUTU_WND@@3HA				; CG_JUJUTU_WND
PUBLIC	?CG_ITEM_WND_SELECT_WND@@3HA			; CG_ITEM_WND_SELECT_WND
PUBLIC	?CG_STATUS_WND_GROUP_WND@@3HA			; CG_STATUS_WND_GROUP_WND
PUBLIC	?CG_MAP_WND@@3HA				; CG_MAP_WND
PUBLIC	?CG_STATUS_WND@@3HA				; CG_STATUS_WND
PUBLIC	?CG_MAIL_WND@@3HA				; CG_MAIL_WND
PUBLIC	?CG_MAIL_WND_SEND_WND@@3HA			; CG_MAIL_WND_SEND_WND
PUBLIC	?CG_MAIL_WND_PET_SEND_WND@@3HA			; CG_MAIL_WND_PET_SEND_WND
PUBLIC	?CG_MAIL_WND_HISTORY_WND@@3HA			; CG_MAIL_WND_HISTORY_WND
PUBLIC	?CG_ALBUM_WND@@3HA				; CG_ALBUM_WND
PUBLIC	?CG_CHAT_REGISTY_WND@@3HA			; CG_CHAT_REGISTY_WND
PUBLIC	?CG_COMMON_WIN_YORO@@3HA			; CG_COMMON_WIN_YORO
PUBLIC	?CG_FIELD_HELP_WND@@3HA				; CG_FIELD_HELP_WND
PUBLIC	?CG_MSG_WND@@3HA				; CG_MSG_WND
PUBLIC	?CG_PET_WAZA_WND@@3HA				; CG_PET_WAZA_WND
PUBLIC	?CG_ITEMSHOP_WIN@@3HA				; CG_ITEMSHOP_WIN
PUBLIC	?CG_SKILLSHOP_WIN@@3HA				; CG_SKILLSHOP_WIN
PUBLIC	?CG_ITEMSHOP_KOSU_WIN@@3HA			; CG_ITEMSHOP_KOSU_WIN
PUBLIC	?CG_FAMILY_DETAIL_WIN@@3HA			; CG_FAMILY_DETAIL_WIN
PUBLIC	?CG_FAMILY_BANK_WIN@@3HA			; CG_FAMILY_BANK_WIN
PUBLIC	?CG_BM_WND@@3HA					; CG_BM_WND
PUBLIC	?displayBpp@@3HA				; displayBpp
PUBLIC	?rBitLShift@@3HA				; rBitLShift
PUBLIC	?gBitLShift@@3HA				; gBitLShift
PUBLIC	?bBitLShift@@3HA				; bBitLShift
PUBLIC	?rBitRShift@@3HA				; rBitRShift
PUBLIC	?gBitRShift@@3HA				; gBitRShift
PUBLIC	?bBitRShift@@3HA				; bBitRShift
PUBLIC	?highColor32Palette@@3PAIA			; highColor32Palette
PUBLIC	?highColorPalette@@3PAGA			; highColorPalette
PUBLIC	?g_bUseAlpha@@3HA				; g_bUseAlpha
PUBLIC	?palFileName@@3PAPADA				; palFileName
PUBLIC	??_C@_0BF@PBDNMBLH@data?2pal?2Palet_1?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@HHKJLDBJ@data?2pal?2Palet_2?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@LMPFGALM@data?2pal?2Palet_3?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@KBPAFAAE@data?2pal?2Palet_4?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@GKKMIDKB@data?2pal?2Palet_5?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@OMDIPBAP@data?2pal?2Palet_6?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@CHGECCKK@data?2pal?2Palet_7?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@NGDCJAHP@data?2pal?2Palet_8?4sap?$AA@	; `string'
PUBLIC	??_C@_0BF@BNGOEDNK@data?2pal?2Palet_9?4sap?$AA@	; `string'
PUBLIC	??_C@_0BG@GEGAFMNK@data?2pal?2Palet_10?4sap?$AA@ ; `string'
PUBLIC	??_C@_0BG@KPDMIPHP@data?2pal?2Palet_11?4sap?$AA@ ; `string'
PUBLIC	??_C@_0BG@CJKIPNNB@data?2pal?2Palet_12?4sap?$AA@ ; `string'
PUBLIC	??_C@_0BG@OCPECOHE@data?2pal?2Palet_13?4sap?$AA@ ; `string'
PUBLIC	??_C@_0BG@PPPBBOMM@data?2pal?2Palet_14?4sap?$AA@ ; `string'
PUBLIC	??_C@_0BG@DEKNMNGJ@data?2pal?2Palet_15?4sap?$AA@ ; `string'
PUBLIC	??_C@_0BF@DKGBBCBC@data?2pal?2Palet_0?4sap?$AA@	; `string'
PUBLIC	??_C@_09BLALNGD@white?4sap?$AA@			; `string'
PUBLIC	??_C@_09NGENHOEG@black?4sap?$AA@		; `string'
PUBLIC	?g_szChannelTitle@@3PAY0N@DA			; g_szChannelTitle
_BSS	SEGMENT
?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A DD 01H DUP (?) ; `PutText'::`59'::newFont
?oldFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A DD 01H DUP (?) ; `PutText'::`59'::oldFont
?Palette@@3PAUtagPALETTEENTRY@@A DD 0100H DUP (?)	; Palette
?bChanged@?1??PaletteChange@@YAXHH@Z@4_NA DB 01H DUP (?) ; `PaletteChange'::`2'::bChanged
	ALIGN	4

?lpDraw@@3PAUDIRECT_DRAW@@A DD 01H DUP (?)		; lpDraw
?DDinitFlag@@3HA DD 01H DUP (?)				; DDinitFlag
?hFont@@3PAUHFONT__@@A DD 01H DUP (?)			; hFont
?PalState@@3UPALETTE_STATE@@A DB 0cH DUP (?)		; PalState
?PalChangeFlag@@3HA DD 01H DUP (?)			; PalChangeFlag
?palNoBak@?1??PaletteProc@@YAXXZ@4HA DD 01H DUP (?)	; `PaletteProc'::`2'::palNoBak
?openFlag@?1??PaletteProc@@YAXXZ@4HA DD 01H DUP (?)	; `PaletteProc'::`2'::openFlag
?framesToShow@@3HA DD 01H DUP (?)			; framesToShow
?skipFramesToShow@@3HA DD 01H DUP (?)			; skipFramesToShow
?framesSkipPerSecond@?1??CalculateFrameRate@@YAXXZ@4HA DD 01H DUP (?) ; `CalculateFrameRate'::`2'::framesSkipPerSecond
?framesPerSecond@?1??CalculateFrameRate@@YAXXZ@4MA DD 01H DUP (?) ; `CalculateFrameRate'::`2'::framesPerSecond
?lastTime@?1??CalculateFrameRate@@YAXXZ@4MA DD 01H DUP (?) ; `CalculateFrameRate'::`2'::lastTime
?BmpOffBits@@3HA DD 01H DUP (?)				; BmpOffBits
?CG_PKSERVER_PANEL@@3HA DD 01H DUP (?)			; CG_PKSERVER_PANEL
?CG_BATTTLE_SKILLCHOICE@@3HA DD 01H DUP (?)		; CG_BATTTLE_SKILLCHOICE
?CG_FIELD_SKILL_PANEL@@3HA DD 01H DUP (?)		; CG_FIELD_SKILL_PANEL
?CG_FIELD_CHATROOM_PANEL@@3HA DD 01H DUP (?)		; CG_FIELD_CHATROOM_PANEL
?CG_FIELD_SV_SELL_PANEL@@3HA DD 01H DUP (?)		; CG_FIELD_SV_SELL_PANEL
?CG_FIELD_SV_SELL_PRICE_PANEL@@3HA DD 01H DUP (?)	; CG_FIELD_SV_SELL_PRICE_PANEL
?CG_NEW_STATUS_WND@@3HA DD 01H DUP (?)			; CG_NEW_STATUS_WND
?CG_NEWITEM_WND@@3HA DD 01H DUP (?)			; CG_NEWITEM_WND
?CG_TRADE_WND@@3HA DD 01H DUP (?)			; CG_TRADE_WND
?CG_TRADE_VIEWWND@@3HA DD 01H DUP (?)			; CG_TRADE_VIEWWND
?CG_WND_G_0@@3HA DD 01H DUP (?)				; CG_WND_G_0
?CG_WND_G_1@@3HA DD 01H DUP (?)				; CG_WND_G_1
?CG_WND_G_2@@3HA DD 01H DUP (?)				; CG_WND_G_2
?CG_WND_G_3@@3HA DD 01H DUP (?)				; CG_WND_G_3
?CG_WND_G_4@@3HA DD 01H DUP (?)				; CG_WND_G_4
?CG_WND_G_5@@3HA DD 01H DUP (?)				; CG_WND_G_5
?CG_WND_G_6@@3HA DD 01H DUP (?)				; CG_WND_G_6
?CG_WND_G_7@@3HA DD 01H DUP (?)				; CG_WND_G_7
?CG_WND_G_8@@3HA DD 01H DUP (?)				; CG_WND_G_8
?CG_WND2_G_0@@3HA DD 01H DUP (?)			; CG_WND2_G_0
?CG_WND2_G_1@@3HA DD 01H DUP (?)			; CG_WND2_G_1
?CG_WND2_G_2@@3HA DD 01H DUP (?)			; CG_WND2_G_2
?CG_WND2_G_3@@3HA DD 01H DUP (?)			; CG_WND2_G_3
?CG_WND2_G_4@@3HA DD 01H DUP (?)			; CG_WND2_G_4
?CG_WND2_G_5@@3HA DD 01H DUP (?)			; CG_WND2_G_5
?CG_WND2_G_6@@3HA DD 01H DUP (?)			; CG_WND2_G_6
?CG_WND2_G_7@@3HA DD 01H DUP (?)			; CG_WND2_G_7
?CG_WND2_G_8@@3HA DD 01H DUP (?)			; CG_WND2_G_8
?CG_WND3_G_7@@3HA DD 01H DUP (?)			; CG_WND3_G_7
?CG_WND3_G_8@@3HA DD 01H DUP (?)			; CG_WND3_G_8
?CG_WND3_G_9@@3HA DD 01H DUP (?)			; CG_WND3_G_9
?CG_BTL_PET_CHANGE_WND@@3HA DD 01H DUP (?)		; CG_BTL_PET_CHANGE_WND
?CG_PET_WND_VIEW@@3HA DD 01H DUP (?)			; CG_PET_WND_VIEW
?CG_PET_WND_DETAIL@@3HA DD 01H DUP (?)			; CG_PET_WND_DETAIL
?CG_NAME_CHANGE_WND@@3HA DD 01H DUP (?)			; CG_NAME_CHANGE_WND
?CG_ITEM_WND_1@@3HA DD 01H DUP (?)			; CG_ITEM_WND_1
?CG_JUJUTU_WND@@3HA DD 01H DUP (?)			; CG_JUJUTU_WND
?CG_ITEM_WND_SELECT_WND@@3HA DD 01H DUP (?)		; CG_ITEM_WND_SELECT_WND
?CG_STATUS_WND_GROUP_WND@@3HA DD 01H DUP (?)		; CG_STATUS_WND_GROUP_WND
?CG_MAP_WND@@3HA DD 01H DUP (?)				; CG_MAP_WND
?CG_STATUS_WND@@3HA DD 01H DUP (?)			; CG_STATUS_WND
?CG_MAIL_WND@@3HA DD 01H DUP (?)			; CG_MAIL_WND
?CG_MAIL_WND_SEND_WND@@3HA DD 01H DUP (?)		; CG_MAIL_WND_SEND_WND
?CG_MAIL_WND_PET_SEND_WND@@3HA DD 01H DUP (?)		; CG_MAIL_WND_PET_SEND_WND
?CG_MAIL_WND_HISTORY_WND@@3HA DD 01H DUP (?)		; CG_MAIL_WND_HISTORY_WND
?CG_ALBUM_WND@@3HA DD 01H DUP (?)			; CG_ALBUM_WND
?CG_CHAT_REGISTY_WND@@3HA DD 01H DUP (?)		; CG_CHAT_REGISTY_WND
?CG_COMMON_WIN_YORO@@3HA DD 01H DUP (?)			; CG_COMMON_WIN_YORO
?CG_FIELD_HELP_WND@@3HA DD 01H DUP (?)			; CG_FIELD_HELP_WND
?CG_MSG_WND@@3HA DD 01H DUP (?)				; CG_MSG_WND
?CG_PET_WAZA_WND@@3HA DD 01H DUP (?)			; CG_PET_WAZA_WND
?CG_ITEMSHOP_WIN@@3HA DD 01H DUP (?)			; CG_ITEMSHOP_WIN
?CG_SKILLSHOP_WIN@@3HA DD 01H DUP (?)			; CG_SKILLSHOP_WIN
?CG_ITEMSHOP_KOSU_WIN@@3HA DD 01H DUP (?)		; CG_ITEMSHOP_KOSU_WIN
?CG_FAMILY_DETAIL_WIN@@3HA DD 01H DUP (?)		; CG_FAMILY_DETAIL_WIN
?CG_FAMILY_BANK_WIN@@3HA DD 01H DUP (?)			; CG_FAMILY_BANK_WIN
?CG_BM_WND@@3HA DD 01H DUP (?)				; CG_BM_WND
?pcFlush@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4FA DW 01H DUP (?) ; `DrawAutoMapping'::`2'::pcFlush
	ALIGN	4

?pcFlushTime@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4IA DD 01H DUP (?) ; `DrawAutoMapping'::`2'::pcFlushTime
?displayBpp@@3HA DD 01H DUP (?)				; displayBpp
?rBitLShift@@3HA DD 01H DUP (?)				; rBitLShift
?gBitLShift@@3HA DD 01H DUP (?)				; gBitLShift
?bBitLShift@@3HA DD 01H DUP (?)				; bBitLShift
?rBitRShift@@3HA DD 01H DUP (?)				; rBitRShift
?gBitRShift@@3HA DD 01H DUP (?)				; gBitRShift
?bBitRShift@@3HA DD 01H DUP (?)				; bBitRShift
?highColor32Palette@@3PAIA DD 0100H DUP (?)		; highColor32Palette
?highColorPalette@@3PAGA DW 0100H DUP (?)		; highColorPalette
?g_bUseAlpha@@3HA DD 01H DUP (?)			; g_bUseAlpha
?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A DD 01H DUP (?) ; `PutText'::`19'::newFont
?oldFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A DD 01H DUP (?) ; `PutText'::`19'::oldFont
_BSS	ENDS
;	COMDAT ??_C@_09NGENHOEG@black?4sap?$AA@
CONST	SEGMENT
??_C@_09NGENHOEG@black?4sap?$AA@ DB 'black.sap', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_09BLALNGD@white?4sap?$AA@
CONST	SEGMENT
??_C@_09BLALNGD@white?4sap?$AA@ DB 'white.sap', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@DKGBBCBC@data?2pal?2Palet_0?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@DKGBBCBC@data?2pal?2Palet_0?4sap?$AA@ DB 'data\pal\Palet_0.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@DEKNMNGJ@data?2pal?2Palet_15?4sap?$AA@
CONST	SEGMENT
??_C@_0BG@DEKNMNGJ@data?2pal?2Palet_15?4sap?$AA@ DB 'data\pal\Palet_15.sa'
	DB	'p', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@PPPBBOMM@data?2pal?2Palet_14?4sap?$AA@
CONST	SEGMENT
??_C@_0BG@PPPBBOMM@data?2pal?2Palet_14?4sap?$AA@ DB 'data\pal\Palet_14.sa'
	DB	'p', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@OCPECOHE@data?2pal?2Palet_13?4sap?$AA@
CONST	SEGMENT
??_C@_0BG@OCPECOHE@data?2pal?2Palet_13?4sap?$AA@ DB 'data\pal\Palet_13.sa'
	DB	'p', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@CJKIPNNB@data?2pal?2Palet_12?4sap?$AA@
CONST	SEGMENT
??_C@_0BG@CJKIPNNB@data?2pal?2Palet_12?4sap?$AA@ DB 'data\pal\Palet_12.sa'
	DB	'p', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@KPDMIPHP@data?2pal?2Palet_11?4sap?$AA@
CONST	SEGMENT
??_C@_0BG@KPDMIPHP@data?2pal?2Palet_11?4sap?$AA@ DB 'data\pal\Palet_11.sa'
	DB	'p', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@GEGAFMNK@data?2pal?2Palet_10?4sap?$AA@
CONST	SEGMENT
??_C@_0BG@GEGAFMNK@data?2pal?2Palet_10?4sap?$AA@ DB 'data\pal\Palet_10.sa'
	DB	'p', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@BNGOEDNK@data?2pal?2Palet_9?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@BNGOEDNK@data?2pal?2Palet_9?4sap?$AA@ DB 'data\pal\Palet_9.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@NGDCJAHP@data?2pal?2Palet_8?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@NGDCJAHP@data?2pal?2Palet_8?4sap?$AA@ DB 'data\pal\Palet_8.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@CHGECCKK@data?2pal?2Palet_7?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@CHGECCKK@data?2pal?2Palet_7?4sap?$AA@ DB 'data\pal\Palet_7.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@OMDIPBAP@data?2pal?2Palet_6?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@OMDIPBAP@data?2pal?2Palet_6?4sap?$AA@ DB 'data\pal\Palet_6.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@GKKMIDKB@data?2pal?2Palet_5?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@GKKMIDKB@data?2pal?2Palet_5?4sap?$AA@ DB 'data\pal\Palet_5.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@KBPAFAAE@data?2pal?2Palet_4?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@KBPAFAAE@data?2pal?2Palet_4?4sap?$AA@ DB 'data\pal\Palet_4.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@LMPFGALM@data?2pal?2Palet_3?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@LMPFGALM@data?2pal?2Palet_3?4sap?$AA@ DB 'data\pal\Palet_3.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@HHKJLDBJ@data?2pal?2Palet_2?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@HHKJLDBJ@data?2pal?2Palet_2?4sap?$AA@ DB 'data\pal\Palet_2.sap', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@PBDNMBLH@data?2pal?2Palet_1?4sap?$AA@
CONST	SEGMENT
??_C@_0BF@PBDNMBLH@data?2pal?2Palet_1?4sap?$AA@ DB 'data\pal\Palet_1.sap', 00H ; `string'
CONST	ENDS
_DATA	SEGMENT
?FontPal@@3PAKA DD 0ffffffH				; FontPal
	DD	0ffff00H
	DD	0ff00ffH
	DD	0ff0000H
	DD	0ffffH
	DD	0ff00H
	DD	0ffH
	DD	0a4a0a0H
	DD	0f0caa6H
	DD	0c0dcc0H
	DD	08cffH
	DD	0247fffH
?ridePetTable@@3PAUtagRidePetTable@@A DD 018a88H	; ridePetTable
	DD	0186a0H
	DD	018800H
	DD	00H
	DD	018a89H
	DD	0186a5H
	DD	018800H
	DD	00H
	DD	018a8aH
	DD	0186aaH
	DD	018800H
	DD	00H
	DD	018a8bH
	DD	0186afH
	DD	018800H
	DD	00H
	DD	018a8cH
	DD	0186a0H
	DD	0187e9H
	DD	00H
	DD	018a8dH
	DD	0186a5H
	DD	0187e7H
	DD	00H
	DD	018a8eH
	DD	0186aaH
	DD	0187eaH
	DD	00H
	DD	018a8fH
	DD	0186afH
	DD	0187e8H
	DD	00H
	DD	018a90H
	DD	01895cH
	DD	018814H
	DD	00H
	DD	018a91H
	DD	018961H
	DD	018815H
	DD	00H
	DD	018e65H
	DD	018961H
	DD	018cc8H
	DD	00H
	DD	018e5aH
	DD	018961H
	DD	018c9cH
	DD	00H
	DD	018a92H
	DD	0186b4H
	DD	01882cH
	DD	00H
	DD	018a93H
	DD	0186b9H
	DD	01882cH
	DD	00H
	DD	018a94H
	DD	0186beH
	DD	01882cH
	DD	00H
	DD	018a95H
	DD	0186c3H
	DD	01882cH
	DD	00H
	DD	018a96H
	DD	0186b4H
	DD	0187e8H
	DD	00H
	DD	018a97H
	DD	0186b9H
	DD	0187e9H
	DD	00H
	DD	018a98H
	DD	0186beH
	DD	0187e7H
	DD	00H
	DD	018a99H
	DD	0186c3H
	DD	0187eaH
	DD	00H
	DD	018a9aH
	DD	018966H
	DD	018814H
	DD	00H
	DD	018a9bH
	DD	01896bH
	DD	018815H
	DD	00H
	DD	018e64H
	DD	01896bH
	DD	018cc8H
	DD	00H
	DD	018e62H
	DD	01896bH
	DD	018c9cH
	DD	00H
	DD	018a9cH
	DD	0186c8H
	DD	0187ffH
	DD	00H
	DD	018a9dH
	DD	0186cdH
	DD	0187ffH
	DD	00H
	DD	018a9eH
	DD	0186d2H
	DD	0187ffH
	DD	00H
	DD	018a9fH
	DD	0186d7H
	DD	0187ffH
	DD	00H
	DD	018aa0H
	DD	0186c8H
	DD	0187e8H
	DD	00H
	DD	018aa1H
	DD	0186cdH
	DD	0187eaH
	DD	00H
	DD	018aa2H
	DD	0186d2H
	DD	0187e7H
	DD	00H
	DD	018aa3H
	DD	0186d7H
	DD	0187e9H
	DD	00H
	DD	018aa4H
	DD	018970H
	DD	018814H
	DD	00H
	DD	018aa5H
	DD	018975H
	DD	018815H
	DD	00H
	DD	018e4dH
	DD	018975H
	DD	018cc8H
	DD	00H
	DD	018e57H
	DD	018975H
	DD	018c9cH
	DD	00H
	DD	018aa6H
	DD	0186dcH
	DD	018801H
	DD	00H
	DD	018aa7H
	DD	0186e1H
	DD	018801H
	DD	00H
	DD	018aa8H
	DD	0186e6H
	DD	018801H
	DD	00H
	DD	018aa9H
	DD	0186ebH
	DD	018801H
	DD	00H
	DD	018aaaH
	DD	0186dcH
	DD	0187e9H
	DD	00H
	DD	018aabH
	DD	0186e1H
	DD	0187e7H
	DD	00H
	DD	018aacH
	DD	0186e6H
	DD	0187eaH
	DD	00H
	DD	018aadH
	DD	0186ebH
	DD	0187e8H
	DD	00H
	DD	018aaeH
	DD	01897aH
	DD	018814H
	DD	00H
	DD	018aafH
	DD	01897fH
	DD	018815H
	DD	00H
	DD	018e4eH
	DD	01897fH
	DD	018cc8H
	DD	00H
	DD	018e58H
	DD	01897fH
	DD	018c9cH
	DD	00H
	DD	018ab0H
	DD	0186f0H
	DD	01882cH
	DD	00H
	DD	018ab1H
	DD	0186f5H
	DD	01882cH
	DD	00H
	DD	018ab2H
	DD	0186faH
	DD	01882cH
	DD	00H
	DD	018ab3H
	DD	0186ffH
	DD	01882cH
	DD	00H
	DD	018ab4H
	DD	0186f0H
	DD	0187e8H
	DD	00H
	DD	018ab5H
	DD	0186f5H
	DD	0187e7H
	DD	00H
	DD	018ab6H
	DD	0186faH
	DD	0187eaH
	DD	00H
	DD	018ab7H
	DD	0186ffH
	DD	0187e9H
	DD	00H
	DD	018ab8H
	DD	018984H
	DD	018814H
	DD	00H
	DD	018ab9H
	DD	018989H
	DD	018815H
	DD	00H
	DD	018e55H
	DD	018989H
	DD	018cc8H
	DD	00H
	DD	018e60H
	DD	018989H
	DD	018c9cH
	DD	00H
	DD	018abaH
	DD	018704H
	DD	018801H
	DD	00H
	DD	018abbH
	DD	018709H
	DD	018801H
	DD	00H
	DD	018abcH
	DD	01870eH
	DD	018801H
	DD	00H
	DD	018abdH
	DD	018713H
	DD	018801H
	DD	00H
	DD	018abeH
	DD	018704H
	DD	0187e9H
	DD	00H
	DD	018abfH
	DD	018709H
	DD	0187e8H
	DD	00H
	DD	018ac0H
	DD	01870eH
	DD	0187eaH
	DD	00H
	DD	018ac1H
	DD	018713H
	DD	0187e7H
	DD	00H
	DD	018ac2H
	DD	01898eH
	DD	018814H
	DD	00H
	DD	018ac3H
	DD	018993H
	DD	018815H
	DD	00H
	DD	018e56H
	DD	018993H
	DD	018cc8H
	DD	00H
	DD	018e61H
	DD	018993H
	DD	018c9cH
	DD	00H
	DD	018ac4H
	DD	018718H
	DD	018802H
	DD	00H
	DD	018ac5H
	DD	01871dH
	DD	018802H
	DD	00H
	DD	018ac6H
	DD	018722H
	DD	018802H
	DD	00H
	DD	018ac7H
	DD	018727H
	DD	018802H
	DD	00H
	DD	018ac8H
	DD	018718H
	DD	0187e7H
	DD	00H
	DD	018ac9H
	DD	01871dH
	DD	0187eaH
	DD	00H
	DD	018acaH
	DD	018722H
	DD	0187e8H
	DD	00H
	DD	018acbH
	DD	018727H
	DD	0187e9H
	DD	00H
	DD	018accH
	DD	018998H
	DD	018814H
	DD	00H
	DD	018acdH
	DD	01899dH
	DD	018815H
	DD	00H
	DD	018e4fH
	DD	01899dH
	DD	018cc8H
	DD	00H
	DD	018e59H
	DD	01899dH
	DD	018c9cH
	DD	00H
	DD	018aceH
	DD	01872cH
	DD	018802H
	DD	00H
	DD	018acfH
	DD	018731H
	DD	018802H
	DD	00H
	DD	018ad0H
	DD	018736H
	DD	018802H
	DD	00H
	DD	018ad1H
	DD	01873bH
	DD	018802H
	DD	00H
	DD	018ad2H
	DD	01872cH
	DD	0187e7H
	DD	00H
	DD	018ad3H
	DD	018731H
	DD	0187e9H
	DD	00H
	DD	018ad4H
	DD	018736H
	DD	0187eaH
	DD	00H
	DD	018ad5H
	DD	01873bH
	DD	0187e8H
	DD	00H
	DD	018ad6H
	DD	0189a2H
	DD	018814H
	DD	00H
	DD	018ad7H
	DD	0189a7H
	DD	018815H
	DD	00H
	DD	018e50H
	DD	0189a7H
	DD	018cc8H
	DD	00H
	DD	018e5bH
	DD	0189a7H
	DD	018c9cH
	DD	00H
	DD	018ad8H
	DD	018740H
	DD	018800H
	DD	00H
	DD	018ad9H
	DD	018745H
	DD	018800H
	DD	00H
	DD	018adaH
	DD	01874aH
	DD	018800H
	DD	00H
	DD	018adbH
	DD	01874fH
	DD	018800H
	DD	00H
	DD	018adcH
	DD	018740H
	DD	0187eaH
	DD	00H
	DD	018addH
	DD	018745H
	DD	0187e9H
	DD	00H
	DD	018adeH
	DD	01874aH
	DD	0187e7H
	DD	00H
	DD	018adfH
	DD	01874fH
	DD	0187e8H
	DD	00H
	DD	018ae0H
	DD	0189acH
	DD	018814H
	DD	00H
	DD	018ae1H
	DD	0189b1H
	DD	018815H
	DD	00H
	DD	018e52H
	DD	0189b1H
	DD	018cc8H
	DD	00H
	DD	018e5dH
	DD	0189b1H
	DD	018c9cH
	DD	00H
	DD	018ae2H
	DD	018754H
	DD	0187ffH
	DD	00H
	DD	018ae3H
	DD	018759H
	DD	0187ffH
	DD	00H
	DD	018ae4H
	DD	01875eH
	DD	0187ffH
	DD	00H
	DD	018ae5H
	DD	018763H
	DD	0187ffH
	DD	00H
	DD	018ae6H
	DD	018754H
	DD	0187e8H
	DD	00H
	DD	018ae7H
	DD	018759H
	DD	0187eaH
	DD	00H
	DD	018ae8H
	DD	01875eH
	DD	0187e9H
	DD	00H
	DD	018ae9H
	DD	018763H
	DD	0187e7H
	DD	00H
	DD	018aeaH
	DD	0189b6H
	DD	018814H
	DD	00H
	DD	018aebH
	DD	0189bbH
	DD	018815H
	DD	00H
	DD	018e51H
	DD	0189bbH
	DD	018cc8H
	DD	00H
	DD	018e5cH
	DD	0189bbH
	DD	018c9cH
	DD	00H
	DD	018aecH
	DD	018768H
	DD	018801H
	DD	00H
	DD	018aedH
	DD	01876dH
	DD	018801H
	DD	00H
	DD	018aeeH
	DD	018772H
	DD	018801H
	DD	00H
	DD	018aefH
	DD	018777H
	DD	018801H
	DD	00H
	DD	018af0H
	DD	018768H
	DD	0187e9H
	DD	00H
	DD	018af1H
	DD	01876dH
	DD	0187e8H
	DD	00H
	DD	018af2H
	DD	018772H
	DD	0187e7H
	DD	00H
	DD	018af3H
	DD	018777H
	DD	0187eaH
	DD	00H
	DD	018af4H
	DD	0189c0H
	DD	018814H
	DD	00H
	DD	018af5H
	DD	0189c5H
	DD	018815H
	DD	00H
	DD	018e54H
	DD	0189c5H
	DD	018cc8H
	DD	00H
	DD	018e5fH
	DD	0189c5H
	DD	018c9cH
	DD	00H
	DD	018af6H
	DD	01877cH
	DD	01882cH
	DD	00H
	DD	018af7H
	DD	018781H
	DD	01882cH
	DD	00H
	DD	018af8H
	DD	018786H
	DD	01882cH
	DD	00H
	DD	018af9H
	DD	01878bH
	DD	01882cH
	DD	00H
	DD	018afaH
	DD	01877cH
	DD	0187eaH
	DD	00H
	DD	018afbH
	DD	018781H
	DD	0187e7H
	DD	00H
	DD	018afcH
	DD	018786H
	DD	0187e9H
	DD	00H
	DD	018afdH
	DD	01878bH
	DD	0187e8H
	DD	00H
	DD	018afeH
	DD	0189caH
	DD	018814H
	DD	00H
	DD	018affH
	DD	0189cfH
	DD	018815H
	DD	00H
	DD	018e53H
	DD	0189cfH
	DD	018cc8H
	DD	00H
	DD	018e5eH
	DD	0189cfH
	DD	018c9cH
	DD	00H
	DD	018b3bH
	DD	018b39H
	DD	018b3aH
	DD	00H
	DD	018b3bH
	DD	018b3aH
	DD	018b39H
	DD	00H
?RideCodeMode@@3PAUtagRideCodeMode@@A DD 018816H	; RideCodeMode
	DD	01H
	DD	018806H
	DD	02H
	DD	01880aH
	DD	04H
	DD	0187b7H
	DD	08H
	DD	0187c0H
	DD	010H
	DD	0187bbH
	DD	020H
	DD	0187faH
	DD	040H
	DD	0187d6H
	DD	080H
	DD	018814H
	DD	0100H
	DD	018815H
	DD	0200H
	DD	018c9cH
	DD	0800H
	DD	018cc8H
	DD	0400H
	DD	018812H
	DD	01000H
	DD	018811H
	DD	02000H
	DD	018a28H
	DD	04000H
	DD	018a2bH
	DD	08000H
	DD	018f30H
	DD	010000H
	DD	018f31H
	DD	020000H
	DD	018f68H
	DD	040000H
	DD	0187fcH
	DD	080000H
	DD	0187d3H
	DD	0100000H
	DD	018fa9H
	DD	0200000H
	DD	018faaH
	DD	0400000H
	DD	018a09H
	DD	0800000H
	DD	018a0aH
	DD	01000000H
	DD	019394H
	DD	02000000H
	DD	0187b2H
	DD	04000000H
?RideNoList@@3PAUtagRideNoList@@A DD 018bb9H		; RideNoList
	DD	018bbaH
	DD	018bbbH
	DD	018bbcH
	DD	018bbdH
	DD	018bbeH
	DD	018bbfH
	DD	018bc0H
	DD	018a90H
	DD	018a91H
	DD	018e5aH
	DD	018e65H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee5H
	DD	018f0dH
	DD	018f19H
	DD	018f76H
	ORG $+32
	DD	018bc1H
	DD	018bc2H
	DD	018bc3H
	DD	018bc4H
	DD	018bc5H
	DD	018bc6H
	DD	018bc7H
	DD	018bc8H
	DD	018a9aH
	DD	018a9bH
	DD	018e62H
	DD	018e64H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee6H
	DD	018f0eH
	DD	018f1aH
	DD	018f77H
	ORG $+32
	DD	018bc9H
	DD	018bcaH
	DD	018bcbH
	DD	018bccH
	DD	018bcdH
	DD	018bceH
	DD	018bcfH
	DD	018bd0H
	DD	018aa4H
	DD	018aa5H
	DD	018e57H
	DD	018e4dH
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee7H
	DD	018f0fH
	DD	018f1bH
	DD	018f78H
	ORG $+32
	DD	018bd1H
	DD	018bd2H
	DD	018bd3H
	DD	018bd4H
	DD	018bd5H
	DD	018bd6H
	DD	018bd7H
	DD	018bd8H
	DD	018aaeH
	DD	018aafH
	DD	018e58H
	DD	018e4eH
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee8H
	DD	018f10H
	DD	018f1cH
	DD	018f79H
	ORG $+32
	DD	018bd9H
	DD	018bdaH
	DD	018bdbH
	DD	018bdcH
	DD	018bddH
	DD	018bdeH
	DD	018bdfH
	DD	018be0H
	DD	018ab8H
	DD	018ab9H
	DD	018e60H
	DD	018e55H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ee9H
	DD	018f11H
	DD	018f1dH
	DD	018f7aH
	ORG $+32
	DD	018be1H
	DD	018be2H
	DD	018be3H
	DD	018be4H
	DD	018be5H
	DD	018be6H
	DD	018be7H
	DD	018be8H
	DD	018ac2H
	DD	018ac3H
	DD	018e61H
	DD	018e56H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eeaH
	DD	018f12H
	DD	018f1eH
	DD	018f7bH
	ORG $+32
	DD	018be9H
	DD	018beaH
	DD	018bebH
	DD	018becH
	DD	018bedH
	DD	018beeH
	DD	018befH
	DD	018bf0H
	DD	018accH
	DD	018acdH
	DD	018e59H
	DD	018e4fH
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eebH
	DD	018f13H
	DD	018f1fH
	DD	018f7cH
	ORG $+32
	DD	018bf1H
	DD	018bf2H
	DD	018bf3H
	DD	018bf4H
	DD	018bf5H
	DD	018bf6H
	DD	018bf7H
	DD	018bf8H
	DD	018ad6H
	DD	018ad7H
	DD	018e5bH
	DD	018e50H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eecH
	DD	018f14H
	DD	018f20H
	DD	018f7dH
	ORG $+32
	DD	018bf9H
	DD	018bfaH
	DD	018bfbH
	DD	018bfcH
	DD	018bfdH
	DD	018bfeH
	DD	018bffH
	DD	018c00H
	DD	018ae0H
	DD	018ae1H
	DD	018e5dH
	DD	018e52H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eedH
	DD	018f15H
	DD	018f21H
	DD	018f7eH
	ORG $+32
	DD	018c01H
	DD	018c02H
	DD	018c03H
	DD	018c04H
	DD	018c05H
	DD	018c06H
	DD	018c07H
	DD	018c08H
	DD	018aeaH
	DD	018aebH
	DD	018e5cH
	DD	018e51H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eeeH
	DD	018f16H
	DD	018f22H
	DD	018f7fH
	ORG $+32
	DD	018c09H
	DD	018c0aH
	DD	018c0bH
	DD	018c0cH
	DD	018c0dH
	DD	018c0eH
	DD	018c0fH
	DD	018c10H
	DD	018af4H
	DD	018af5H
	DD	018e5fH
	DD	018e54H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018eefH
	DD	018f17H
	DD	018f23H
	DD	018f80H
	ORG $+32
	DD	018c11H
	DD	018c12H
	DD	018c13H
	DD	018c14H
	DD	018c15H
	DD	018c16H
	DD	018c17H
	DD	018c18H
	DD	018afeH
	DD	018affH
	DD	018e5eH
	DD	018e53H
	DD	018849H
	DD	018844H
	DD	01885dH
	DD	018ef0H
	DD	018f18H
	DD	018f24H
	DD	018f81H
	ORG $+32
?RPlistMode@@3PAUtagRidePetList@@A DD 0186a0H		; RPlistMode
	DD	00H
	DD	0186a5H
	DD	00H
	DD	0186aaH
	DD	00H
	DD	0186afH
	DD	00H
	DD	0186b4H
	DD	01H
	DD	0186b9H
	DD	01H
	DD	0186beH
	DD	01H
	DD	0186c3H
	DD	01H
	DD	0186c8H
	DD	02H
	DD	0186cdH
	DD	02H
	DD	0186d2H
	DD	02H
	DD	0186d7H
	DD	02H
	DD	0186dcH
	DD	03H
	DD	0186e1H
	DD	03H
	DD	0186e6H
	DD	03H
	DD	0186ebH
	DD	03H
	DD	0186f0H
	DD	04H
	DD	0186f5H
	DD	04H
	DD	0186faH
	DD	04H
	DD	0186ffH
	DD	04H
	DD	018704H
	DD	05H
	DD	018709H
	DD	05H
	DD	01870eH
	DD	05H
	DD	018713H
	DD	05H
	DD	018718H
	DD	06H
	DD	01871dH
	DD	06H
	DD	018722H
	DD	06H
	DD	018727H
	DD	06H
	DD	01872cH
	DD	07H
	DD	018731H
	DD	07H
	DD	018736H
	DD	07H
	DD	01873bH
	DD	07H
	DD	018740H
	DD	08H
	DD	018745H
	DD	08H
	DD	01874aH
	DD	08H
	DD	01874fH
	DD	08H
	DD	018754H
	DD	09H
	DD	018759H
	DD	09H
	DD	01875eH
	DD	09H
	DD	018763H
	DD	09H
	DD	018768H
	DD	0aH
	DD	01876dH
	DD	0aH
	DD	018772H
	DD	0aH
	DD	018777H
	DD	0aH
	DD	01877cH
	DD	0bH
	DD	018781H
	DD	0bH
	DD	018786H
	DD	0bH
	DD	01878bH
	DD	0bH
?palFileName@@3PAPADA DD FLAT:??_C@_0BF@PBDNMBLH@data?2pal?2Palet_1?4sap?$AA@ ; palFileName
	DD	FLAT:??_C@_0BF@HHKJLDBJ@data?2pal?2Palet_2?4sap?$AA@
	DD	FLAT:??_C@_0BF@LMPFGALM@data?2pal?2Palet_3?4sap?$AA@
	DD	FLAT:??_C@_0BF@KBPAFAAE@data?2pal?2Palet_4?4sap?$AA@
	DD	FLAT:??_C@_0BF@GKKMIDKB@data?2pal?2Palet_5?4sap?$AA@
	DD	FLAT:??_C@_0BF@OMDIPBAP@data?2pal?2Palet_6?4sap?$AA@
	DD	FLAT:??_C@_0BF@CHGECCKK@data?2pal?2Palet_7?4sap?$AA@
	DD	FLAT:??_C@_0BF@NGDCJAHP@data?2pal?2Palet_8?4sap?$AA@
	DD	FLAT:??_C@_0BF@BNGOEDNK@data?2pal?2Palet_9?4sap?$AA@
	DD	FLAT:??_C@_0BG@GEGAFMNK@data?2pal?2Palet_10?4sap?$AA@
	DD	FLAT:??_C@_0BG@KPDMIPHP@data?2pal?2Palet_11?4sap?$AA@
	DD	FLAT:??_C@_0BG@CJKIPNNB@data?2pal?2Palet_12?4sap?$AA@
	DD	FLAT:??_C@_0BG@OCPECOHE@data?2pal?2Palet_13?4sap?$AA@
	DD	FLAT:??_C@_0BG@PPPBBOMM@data?2pal?2Palet_14?4sap?$AA@
	DD	FLAT:??_C@_0BG@DEKNMNGJ@data?2pal?2Palet_15?4sap?$AA@
	DD	FLAT:??_C@_0BF@DKGBBCBC@data?2pal?2Palet_0?4sap?$AA@
	DD	FLAT:??_C@_09BLALNGD@white?4sap?$AA@
	DD	FLAT:??_C@_09NGENHOEG@black?4sap?$AA@
?g_szChannelTitle@@3PAY0N@DA DB '[', 0dcH, 0c5H, ']', 00H ; g_szChannelTitle
	ORG $+8
	DB	'[', 0daH, 0cbH, ']', 00H
	ORG $+8
	DB	'[?]', 00H
	ORG $+9
	DB	'[', 0f0H, 0e9H, ']', 00H
	ORG $+8
	DB	'[?]', 00H
	ORG $+9
	DB	'[', 0d6H, 0fdH, ']', 00H
	ORG $+8
	DB	'[', 0e1H, 0a6H, ']', 00H
	ORG $+8
	DB	'[', 0e0H, 0f8H, ']', 00H
	ORG $+8
_DATA	ENDS
CONST	SEGMENT
?MAX_PAL@@3HB DD 012H					; MAX_PAL
CONST	ENDS
PUBLIC	___local_stdio_printf_options
PUBLIC	??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
PUBLIC	__vsnprintf_l
PUBLIC	__vsprintf_l
PUBLIC	__vsprintf_s_l
PUBLIC	_vsprintf_s
PUBLIC	_sprintf
PUBLIC	?InitDirectDraw@@YAHXZ				; InitDirectDraw
PUBLIC	?InitPalette@@YAHXZ				; InitPalette
PUBLIC	?ClearBackSurface@@YAXXZ			; ClearBackSurface
PUBLIC	?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z	; ClearSurface
PUBLIC	?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z ; LoadDirectDrawBitmap
PUBLIC	?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z	; CreateSurface
PUBLIC	?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z ; DrawSurfaceFast
PUBLIC	?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z ; DrawBitmapToSurface2
PUBLIC	?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z ; DrawSurfaceFast2
PUBLIC	?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z ; DrawBitmapToSurface
PUBLIC	?Flip@@YAXXZ					; Flip
PUBLIC	?CheckSurfaceLost@@YAHXZ			; CheckSurfaceLost
PUBLIC	?ReleaseDirectDraw@@YAXXZ			; ReleaseDirectDraw
PUBLIC	?DrawDebugLine@@YAXE@Z				; DrawDebugLine
PUBLIC	?DrawBox@@YAXPAUtagRECT@@EH@Z			; DrawBox
PUBLIC	?InitFont@@YAXH@Z				; InitFont
PUBLIC	?PutText@@YAXD@Z				; PutText
PUBLIC	?PaletteProc@@YAXXZ				; PaletteProc
PUBLIC	?PaletteChange@@YAXHH@Z				; PaletteChange
PUBLIC	?DrawAutoMapping@@YAXHHPAEHH@Z			; DrawAutoMapping
PUBLIC	?getAutoMapColor@@YAHI@Z			; getAutoMapColor
PUBLIC	?getNearestColorIndex@@YAHKPAUtagPALETTEENTRY@@H@Z ; getNearestColorIndex
PUBLIC	?snapShot@@YAXXZ				; snapShot
PUBLIC	?saveBmpFile@@YAHPBDPAEHHHHHPAUtagRGBQUAD@@H@Z	; saveBmpFile
PUBLIC	?saveBmpFile16@@YAHPBDPAEHH@Z			; saveBmpFile16
PUBLIC	?DrawMapEffect@@YAXXZ				; DrawMapEffect
PUBLIC	?CreateNewFont@@YAPAUHFONT__@@H@Z		; CreateNewFont
PUBLIC	?SetAnimTbl@@YAXXZ				; SetAnimTbl
PUBLIC	?getBitCount@@YAHH@Z				; getBitCount
PUBLIC	??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ		; sprintf_s<256>
PUBLIC	?CalculateFrameRate@@YAXXZ			; CalculateFrameRate
PUBLIC	??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const *>
PUBLIC	?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage
PUBLIC	??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@		; `string'
PUBLIC	??_C@_0CM@HMMIJENE@DirectDrawCreate?5error?$CI1?$CJ?3error?5@ ; `string'
PUBLIC	??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@		; `string'
PUBLIC	??_C@_0BH@MKFLKCNM@DirectDrawCreate?5Error?$AA@	; `string'
PUBLIC	??_C@_0CM@HNGBGDH@DirectDrawCreate?5error?$CI2?$CJ?3error?5@ ; `string'
PUBLIC	??_C@_0BF@GFNNOOOA@QueryInterface?5Error?$AA@	; `string'
PUBLIC	??_C@_0CH@HAIHOBCK@QueryInterface?5error?3error?5resul@ ; `string'
PUBLIC	??_C@_0BK@PLBEKNJA@SetCooperativeLevel?5Error?$AA@ ; `string'
PUBLIC	??_C@_0BD@MODJDGBN@?$LI?$NO?$MA?N?H?$KN?$LI?i?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@ ; `string'
PUBLIC	??_C@_0CO@JBEGDDIO@Create?5frontbuffer?5error?$CI1?$CJ?3erro@ ; `string'
PUBLIC	??_C@_0BC@OBNPBHMK@clipper?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@ ; `string'
PUBLIC	??_C@_0BF@NIDKJJHH@?$LH?$LJ?A?v?$LN?$LK?F?$KO?$LI?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@ ; `string'
PUBLIC	??_C@_0CK@MMFDMNJJ@Create?5backbuffer?5error?3error?5re@ ; `string'
PUBLIC	??_C@_0BI@CJPGPEBL@?$LI?$NO?$MA?N?5?H?$KN?$LI?i?5?C?$LD?$LI?$KO?5?$LN?G?F?P?52?$KB?$KD?$AA@ ; `string'
PUBLIC	??_C@_0CO@OKFILBGN@Create?5frontbuffer?5error?$CI2?$CJ?3erro@ ; `string'
PUBLIC	??_C@_0BK@COBJPLEN@BattleSurface?5?$LB?$LI?$LM?$LK?5?$LN?G?F?P?$KD?$KB?$AA@ ; `string'
PUBLIC	??_C@_02JDPG@rb?$AA@				; `string'
PUBLIC	??_C@_05NAOIJFC@Error?$AA@			; `string'
PUBLIC	??_C@_0BB@MMJDDNEI@?$MA?N?$LF?$KG?$LN?$LK?5?F?D?$MA?O?5?$MA?P?$LB?b?$AA@ ; `string'
PUBLIC	??_C@_0BB@KCGIAGNL@?F?H?$LH?$LJ?F?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@ ; `string'
PUBLIC	??_C@_0DN@ECLMIGIM@16?$LK?q?F?$KO?5?G?O?$MA?L?5?D?C?$LH?$KP?5?$LG?G?$LE?B?532?$LK?q?F?$KO?5?G?O?$MA@ ; `string'
PUBLIC	??_C@_0BD@KMOPGAB@Heap?n?$NM?$NL?U?v?G?$DP?$DP?$DP?c?w?$DP?$KD?$KB?$AA@ ; `string'
PUBLIC	??_C@_0BF@IOHJJJNA@Surface?n?$NMUnlock?c?w?$DP?$KD?$KB?$AA@ ; `string'
PUBLIC	??_C@_0BD@HLAEMJFN@Microsoft?5JhengHei?$AA@	; `string'
PUBLIC	??_C@_03EGENFEPO@?a?d?$DP?$AA@			; `string'
PUBLIC	??_C@_0L@DGEPCCC@?z?$KM?$DP_GB2312?$AA@		; `string'
PUBLIC	??_C@_07JKCEOBKO@?Z?$LA?$DP?d?$LK?$PN?Y?$AA@	; `string'
PUBLIC	??_C@_04FOGALLPG@?$LB?$LM?$LI?$LC?$AA@		; `string'
PUBLIC	?__LINE__Var@?0??snapShot@@YAXXZ@4JA		; `snapShot'::`1'::__LINE__Var
PUBLIC	??_C@_0L@CMHOPIGK@screenshot?$AA@		; `string'
PUBLIC	??_C@_0CD@EDDPAJGO@screenshot?2sa?$CF02d?$CF02d?$CF02d_?$CF03d?4b@ ; `string'
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_0GI@CBLCFHMF@c?3?2users?2administrator?2desktop?2?$LN@ ; `string'
PUBLIC	__real@3a83126f
PUBLIC	__real@3f800000
PUBLIC	__xmm@41f00000000000000000000000000000
EXTRN	??_V@YAXPAX@Z:PROC				; operator delete[]
EXTRN	___report_rangecheckfailure:PROC
EXTRN	__imp__free:PROC
EXTRN	__imp__malloc:PROC
EXTRN	__imp___errno:PROC
EXTRN	__imp__fclose:PROC
EXTRN	__imp__fgetc:PROC
EXTRN	__imp__fopen:PROC
EXTRN	__imp____stdio_common_vsprintf:PROC
EXTRN	__imp____stdio_common_vsprintf_s:PROC
EXTRN	__imp___localtime64:PROC
EXTRN	__imp___time64:PROC
EXTRN	__imp___mkdir:PROC
EXTRN	??_U@YAPAXIHPBDH@Z:PROC				; operator new[]
EXTRN	?TimeGetTime@@YAIXZ:PROC			; TimeGetTime
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	_strlen:PROC
EXTRN	__imp__CreateFileA@28:PROC
EXTRN	__imp__WriteFile@20:PROC
EXTRN	__imp__CloseHandle@4:PROC
EXTRN	__imp__HeapAlloc@12:PROC
EXTRN	__imp__HeapFree@12:PROC
EXTRN	__imp__GetProcessHeap@0:PROC
EXTRN	__imp__OpenFile@12:PROC
EXTRN	__imp___hread@12:PROC
EXTRN	__imp___lclose@4:PROC
EXTRN	__imp__CreateFontA@56:PROC
EXTRN	__imp__DeleteObject@4:PROC
EXTRN	__imp__GetDeviceCaps@8:PROC
EXTRN	__imp__SelectObject@8:PROC
EXTRN	__imp__SetBkMode@8:PROC
EXTRN	__imp__StretchDIBits@52:PROC
EXTRN	__imp__SetTextColor@8:PROC
EXTRN	__imp__TextOutA@20:PROC
EXTRN	__imp__GetDC@4:PROC
EXTRN	__imp__ReleaseDC@8:PROC
EXTRN	__imp__ClientToScreen@8:PROC
EXTRN	_DirectDrawCreate@12:PROC
EXTRN	?realGetImage@@YAHHPAPAEPAH1@Z:PROC		; realGetImage
EXTRN	?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z:PROC	; MessageBoxNew
EXTRN	?SkyIslandLoadBmp@@YAXXZ:PROC			; SkyIslandLoadBmp
EXTRN	?SkyIslandRelease@@YAXXZ:PROC			; SkyIslandRelease
EXTRN	?SkyIslandCheckSurface@@YAHXZ:PROC		; SkyIslandCheckSurface
EXTRN	@_RTC_CheckStackVars@8:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_InitBase:PROC
EXTRN	__RTC_Shutdown:PROC
EXTRN	__RTC_UninitUse:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	_IID_IDirectDraw2:BYTE
EXTRN	?lpBattleSurface@@3PAUIDirectDrawSurface@@A:DWORD ; lpBattleSurface
EXTRN	?SurfaceSizeX@@3HA:DWORD			; SurfaceSizeX
EXTRN	?SurfaceSizeY@@3HA:DWORD			; SurfaceSizeY
EXTRN	?SurfaceInfo@@3PAUsurfaceInfo@@A:BYTE		; SurfaceInfo
EXTRN	?SurfaceCnt@@3HA:DWORD				; SurfaceCnt
EXTRN	?DEF_APPSIZEX@@3HA:DWORD			; DEF_APPSIZEX
EXTRN	?DEF_APPSIZEY@@3HA:DWORD			; DEF_APPSIZEY
EXTRN	?hWnd@@3PAUHWND__@@A:DWORD			; hWnd
EXTRN	?WindowMode@@3HA:DWORD				; WindowMode
EXTRN	?ResoMode@@3HA:DWORD				; ResoMode
EXTRN	?pRealBinBits@@3PADA:DWORD			; pRealBinBits
EXTRN	?RealBinWidth@@3HA:DWORD			; RealBinWidth
EXTRN	?FontBuffer@@3PAUFONT_BUFFER@@A:BYTE		; FontBuffer
EXTRN	?FontCnt@@3HA:DWORD				; FontCnt
EXTRN	?transmigrationEffectFlag@@3HA:DWORD		; transmigrationEffectFlag
EXTRN	?transEffectPaletteStatus@@3HA:DWORD		; transEffectPaletteStatus
EXTRN	?useBufMapEffect@@3PAU_MAP_EFFECT@@A:DWORD	; useBufMapEffect
EXTRN	?NewColor16Flg@@3HA:DWORD			; NewColor16Flg
EXTRN	?g_clientRect@@3UtagRECT@@A:BYTE		; g_clientRect
EXTRN	?g_clientPoint@@3UtagPOINT@@A:QWORD		; g_clientPoint
EXTRN	?g_moveRect@@3UtagRECT@@A:BYTE			; g_moveRect
EXTRN	?g_hideSA@@3HA:DWORD				; g_hideSA
EXTRN	?NoDrawCnt@@3HA:DWORD				; NoDrawCnt
EXTRN	?±àÂë@@3HA:DWORD				; ±àÂë
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
;	COMDAT ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA
_BSS	SEGMENT
?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA DQ 01H DUP (?) ; `__local_stdio_printf_options'::`2'::_OptionsStorage
_BSS	ENDS
_BSS	SEGMENT
?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A DD 0100H DUP (?) ; `PaletteProc'::`2'::pal
?dRed@?1??PaletteProc@@YAXXZ@4PAMA DD 0100H DUP (?)	; `PaletteProc'::`2'::dRed
?dGreen@?1??PaletteProc@@YAXXZ@4PAMA DD 0100H DUP (?)	; `PaletteProc'::`2'::dGreen
?dBlue@?1??PaletteProc@@YAXXZ@4PAMA DD 0100H DUP (?)	; `PaletteProc'::`2'::dBlue
?dRedBak@?1??PaletteProc@@YAXXZ@4PAMA DD 0100H DUP (?)	; `PaletteProc'::`2'::dRedBak
?dGreenBak@?1??PaletteProc@@YAXXZ@4PAMA DD 0100H DUP (?) ; `PaletteProc'::`2'::dGreenBak
?dBlueBak@?1??PaletteProc@@YAXXZ@4PAMA DD 0100H DUP (?)	; `PaletteProc'::`2'::dBlueBak
?timeCnt@?1??PaletteProc@@YAXXZ@4HA DD 01H DUP (?)	; `PaletteProc'::`2'::timeCnt
?changeCnt@?1??PaletteProc@@YAXXZ@4HA DD 01H DUP (?)	; `PaletteProc'::`2'::changeCnt
?width@?1??getAutoMapColor@@YAHI@Z@4HA DD 01H DUP (?)	; `getAutoMapColor'::`2'::width
?height@?1??getAutoMapColor@@YAHI@Z@4HA DD 01H DUP (?)	; `getAutoMapColor'::`2'::height
?graBuf@?1??getAutoMapColor@@YAHI@Z@4PAEA DD 01H DUP (?) ; `getAutoMapColor'::`2'::graBuf
_BSS	ENDS
;	COMDAT __xmm@41f00000000000000000000000000000
CONST	SEGMENT
__xmm@41f00000000000000000000000000000 DB 00H, 00H, 00H, 00H, 00H, 00H, 00H
	DB	00H, 00H, 00H, 00H, 00H, 00H, 00H, 0f0H, 'A'
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3a83126f
CONST	SEGMENT
__real@3a83126f DD 03a83126fr			; 0.001
CONST	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT ??_C@_0GI@CBLCFHMF@c?3?2users?2administrator?2desktop?2?$LN@
CONST	SEGMENT
??_C@_0GI@CBLCFHMF@c?3?2users?2administrator?2desktop?2?$LN@ DB 'c:\users'
	DB	'\administrator\desktop\', 0bdH, 0baH, 0c5H, 0e6H, 0bfH, 0a1H, 0c0H
	DB	0ccH, 0c1H, 0f6H, ' ', 0c0H, 0daH, 0b7H, 0e1H, '\', 0c5H, 0acH
	DB	0b6H, 0f3H, 0c0H, 0ccH, 0beH, 0f0H, 0c6H, 0aeH, ' ', 0c0H, 0daH
	DB	0b7H, 0e1H, '\client source code\system\directdraw.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@EDDPAJGO@screenshot?2sa?$CF02d?$CF02d?$CF02d_?$CF03d?4b@
CONST	SEGMENT
??_C@_0CD@EDDPAJGO@screenshot?2sa?$CF02d?$CF02d?$CF02d_?$CF03d?4b@ DB 'sc'
	DB	'reenshot\sa%02d%02d%02d_%03d.bmp', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@CMHOPIGK@screenshot?$AA@
CONST	SEGMENT
??_C@_0L@CMHOPIGK@screenshot?$AA@ DB 'screenshot', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??snapShot@@YAXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0??snapShot@@YAXXZ@4JA DD 0e3dH		; `snapShot'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_04FOGALLPG@?$LB?$LM?$LI?$LC?$AA@
CONST	SEGMENT
??_C@_04FOGALLPG@?$LB?$LM?$LI?$LC?$AA@ DB 0b1H, 0bcH, 0b8H, 0b2H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_07JKCEOBKO@?Z?$LA?$DP?d?$LK?$PN?Y?$AA@
CONST	SEGMENT
??_C@_07JKCEOBKO@?Z?$LA?$DP?d?$LK?$PN?Y?$AA@ DB 0daH, 0b0H, '?', 0e4H, 0baH
	DB	0fdH, 0d9H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@DGEPCCC@?z?$KM?$DP_GB2312?$AA@
CONST	SEGMENT
??_C@_0L@DGEPCCC@?z?$KM?$DP_GB2312?$AA@ DB 0faH, 0acH, '?_GB2312', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_03EGENFEPO@?a?d?$DP?$AA@
CONST	SEGMENT
??_C@_03EGENFEPO@?a?d?$DP?$AA@ DB 0e1H, 0e4H, '?', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@HLAEMJFN@Microsoft?5JhengHei?$AA@
CONST	SEGMENT
??_C@_0BD@HLAEMJFN@Microsoft?5JhengHei?$AA@ DB 'Microsoft JhengHei', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@IOHJJJNA@Surface?n?$NMUnlock?c?w?$DP?$KD?$KB?$AA@
CONST	SEGMENT
??_C@_0BF@IOHJJJNA@Surface?n?$NMUnlock?c?w?$DP?$KD?$KB?$AA@ DB 'Surface', 0eeH
	DB	0dcH, 'Unlock', 0e3H, 0f7H, '?', 0a3H, 0a1H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@KMOPGAB@Heap?n?$NM?$NL?U?v?G?$DP?$DP?$DP?c?w?$DP?$KD?$KB?$AA@
CONST	SEGMENT
??_C@_0BD@KMOPGAB@Heap?n?$NM?$NL?U?v?G?$DP?$DP?$DP?c?w?$DP?$KD?$KB?$AA@ DB 'H'
	DB	'eap', 0eeH, 0dcH, 0dbH, 0d5H, 0f6H, 0c7H, '???', 0e3H, 0f7H, '?'
	DB	0a3H, 0a1H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DN@ECLMIGIM@16?$LK?q?F?$KO?5?G?O?$MA?L?5?D?C?$LH?$KP?5?$LG?G?$LE?B?532?$LK?q?F?$KO?5?G?O?$MA@
CONST	SEGMENT
??_C@_0DN@ECLMIGIM@16?$LK?q?F?$KO?5?G?O?$MA?L?5?D?C?$LH?$KP?5?$LG?G?$LE?B?532?$LK?q?F?$KO?5?G?O?$MA@ DB '1'
	DB	'6', 0baH, 0f1H, 0c6H, 0aeH, ' ', 0c7H, 0cfH, 0c0H, 0ccH, ' ', 0c4H
	DB	0c3H, 0b7H, 0afH, ' ', 0b6H, 0c7H, 0b4H, 0c2H, ' 32', 0baH, 0f1H
	DB	0c6H, 0aeH, ' ', 0c7H, 0cfH, 0c0H, 0ccH, ' ', 0c4H, 0c3H, 0b7H
	DB	0afH, ' ', 0c7H, 0c1H, 0b7H, 0b9H, 0c0H, 0d3H, 0c0H, 0bbH, ' ', 0bbH
	DB	0e7H, 0bfH, 0ebH, 0c7H, 0d8H, 0c1H, 0d6H, 0bcH, 0bcH, 0bfH, 0e4H
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@KCGIAGNL@?F?H?$LH?$LJ?F?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@
CONST	SEGMENT
??_C@_0BB@KCGIAGNL@?F?H?$LH?$LJ?F?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@ DB 0c6H
	DB	0c8H, 0b7H, 0b9H, 0c6H, 0aeH, ' ', 0c3H, 0b3H, 0b8H, 0aeH, ' ', 0bdH
	DB	0c7H, 0c6H, 0d0H, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@MMJDDNEI@?$MA?N?$LF?$KG?$LN?$LK?5?F?D?$MA?O?5?$MA?P?$LB?b?$AA@
CONST	SEGMENT
??_C@_0BB@MMJDDNEI@?$MA?N?$LF?$KG?$LN?$LK?5?F?D?$MA?O?5?$MA?P?$LB?b?$AA@ DB 0c0H
	DB	0ceH, 0b5H, 0a6H, 0bdH, 0baH, ' ', 0c6H, 0c4H, 0c0H, 0cfH, ' ', 0c0H
	DB	0d0H, 0b1H, 0e2H, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_05NAOIJFC@Error?$AA@
CONST	SEGMENT
??_C@_05NAOIJFC@Error?$AA@ DB 'Error', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_02JDPG@rb?$AA@
CONST	SEGMENT
??_C@_02JDPG@rb?$AA@ DB 'rb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BK@COBJPLEN@BattleSurface?5?$LB?$LI?$LM?$LK?5?$LN?G?F?P?$KD?$KB?$AA@
CONST	SEGMENT
??_C@_0BK@COBJPLEN@BattleSurface?5?$LB?$LI?$LM?$LK?5?$LN?G?F?P?$KD?$KB?$AA@ DB 'B'
	DB	'attleSurface ', 0b1H, 0b8H, 0bcH, 0baH, ' ', 0bdH, 0c7H, 0c6H
	DB	0d0H, 0a3H, 0a1H, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@OKFILBGN@Create?5frontbuffer?5error?$CI2?$CJ?3erro@
CONST	SEGMENT
??_C@_0CO@OKFILBGN@Create?5frontbuffer?5error?$CI2?$CJ?3erro@ DB 'Create '
	DB	'frontbuffer error(2):error result (%x)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@CJPGPEBL@?$LI?$NO?$MA?N?5?H?$KN?$LI?i?5?C?$LD?$LI?$KO?5?$LN?G?F?P?52?$KB?$KD?$AA@
CONST	SEGMENT
??_C@_0BI@CJPGPEBL@?$LI?$NO?$MA?N?5?H?$KN?$LI?i?5?C?$LD?$LI?$KO?5?$LN?G?F?P?52?$KB?$KD?$AA@ DB 0b8H
	DB	0deH, 0c0H, 0ceH, ' ', 0c8H, 0adH, 0b8H, 0e9H, ' ', 0c3H, 0b3H
	DB	0b8H, 0aeH, ' ', 0bdH, 0c7H, 0c6H, 0d0H, ' 2', 0a1H, 0a3H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@MMFDMNJJ@Create?5backbuffer?5error?3error?5re@
CONST	SEGMENT
??_C@_0CK@MMFDMNJJ@Create?5backbuffer?5error?3error?5re@ DB 'Create backb'
	DB	'uffer error:error result (%x)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@NIDKJJHH@?$LH?$LJ?A?v?$LN?$LK?F?$KO?$LI?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@
CONST	SEGMENT
??_C@_0BF@NIDKJJHH@?$LH?$LJ?A?v?$LN?$LK?F?$KO?$LI?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@ DB 0b7H
	DB	0b9H, 0c1H, 0f6H, 0bdH, 0baH, 0c6H, 0aeH, 0b8H, 0aeH, ' ', 0c3H
	DB	0b3H, 0b8H, 0aeH, ' ', 0bdH, 0c7H, 0c6H, 0d0H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@OBNPBHMK@clipper?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@
CONST	SEGMENT
??_C@_0BC@OBNPBHMK@clipper?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@ DB 'clipp'
	DB	'er', 0c3H, 0b3H, 0b8H, 0aeH, 0bdH, 0c7H, 0c6H, 0d0H, 0a1H, 0a3H
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@JBEGDDIO@Create?5frontbuffer?5error?$CI1?$CJ?3erro@
CONST	SEGMENT
??_C@_0CO@JBEGDDIO@Create?5frontbuffer?5error?$CI1?$CJ?3erro@ DB 'Create '
	DB	'frontbuffer error(1):error result (%x)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@MODJDGBN@?$LI?$NO?$MA?N?H?$KN?$LI?i?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@
CONST	SEGMENT
??_C@_0BD@MODJDGBN@?$LI?$NO?$MA?N?H?$KN?$LI?i?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@ DB 0b8H
	DB	0deH, 0c0H, 0ceH, 0c8H, 0adH, 0b8H, 0e9H, 0c3H, 0b3H, 0b8H, 0aeH
	DB	0bdH, 0c7H, 0c6H, 0d0H, 0a1H, 0a3H, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BK@PLBEKNJA@SetCooperativeLevel?5Error?$AA@
CONST	SEGMENT
??_C@_0BK@PLBEKNJA@SetCooperativeLevel?5Error?$AA@ DB 'SetCooperativeLeve'
	DB	'l Error', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CH@HAIHOBCK@QueryInterface?5error?3error?5resul@
CONST	SEGMENT
??_C@_0CH@HAIHOBCK@QueryInterface?5error?3error?5resul@ DB 'QueryInterfac'
	DB	'e error:error result (%x)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@GFNNOOOA@QueryInterface?5Error?$AA@
CONST	SEGMENT
??_C@_0BF@GFNNOOOA@QueryInterface?5Error?$AA@ DB 'QueryInterface Error', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@HNGBGDH@DirectDrawCreate?5error?$CI2?$CJ?3error?5@
CONST	SEGMENT
??_C@_0CM@HNGBGDH@DirectDrawCreate?5error?$CI2?$CJ?3error?5@ DB 'DirectDr'
	DB	'awCreate error(2):error result (%x)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@MKFLKCNM@DirectDrawCreate?5Error?$AA@
CONST	SEGMENT
??_C@_0BH@MKFLKCNM@DirectDrawCreate?5Error?$AA@ DB 'DirectDrawCreate Erro'
	DB	'r', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
CONST	SEGMENT
??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@ DB 0c8H, 0aeH, 0c0H, 0ceH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@HMMIJENE@DirectDrawCreate?5error?$CI1?$CJ?3error?5@
CONST	SEGMENT
??_C@_0CM@HMMIJENE@DirectDrawCreate?5error?$CI1?$CJ?3error?5@ DB 'DirectD'
	DB	'rawCreate error(1):error result (%x)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@
CONST	SEGMENT
??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@ DB 'ErrorLog.txt', 00H ; `string'
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawMapEffect@@YAXXZ$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawMapEffect@@YAXXZ$0
__unwindtable$?DrawMapEffect@@YAXXZ DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawMapEffect@@YAXXZ DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawMapEffect@@YAXXZ$2
__ehfuncinfo$?DrawMapEffect@@YAXXZ DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawMapEffect@@YAXXZ
	DD	01H
	DD	FLAT:__tryblocktable$?DrawMapEffect@@YAXXZ
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawAutoMapping@@YAXHHPAEHH@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawAutoMapping@@YAXHHPAEHH@Z$0
__unwindtable$?DrawAutoMapping@@YAXHHPAEHH@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawAutoMapping@@YAXHHPAEHH@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawAutoMapping@@YAXHHPAEHH@Z$2
__ehfuncinfo$?DrawAutoMapping@@YAXHHPAEHH@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawAutoMapping@@YAXHHPAEHH@Z
	DD	01H
	DD	FLAT:__tryblocktable$?DrawAutoMapping@@YAXHHPAEHH@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?PutText@@YAXD@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?PutText@@YAXD@Z$0
__unwindtable$?PutText@@YAXD@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?PutText@@YAXD@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?PutText@@YAXD@Z$2
__ehfuncinfo$?PutText@@YAXD@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?PutText@@YAXD@Z
	DD	01H
	DD	FLAT:__tryblocktable$?PutText@@YAXD@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawBox@@YAXPAUtagRECT@@EH@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawBox@@YAXPAUtagRECT@@EH@Z$0
__unwindtable$?DrawBox@@YAXPAUtagRECT@@EH@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawBox@@YAXPAUtagRECT@@EH@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawBox@@YAXPAUtagRECT@@EH@Z$2
__ehfuncinfo$?DrawBox@@YAXPAUtagRECT@@EH@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawBox@@YAXPAUtagRECT@@EH@Z
	DD	01H
	DD	FLAT:__tryblocktable$?DrawBox@@YAXPAUtagRECT@@EH@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawDebugLine@@YAXE@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawDebugLine@@YAXE@Z$0
__unwindtable$?DrawDebugLine@@YAXE@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawDebugLine@@YAXE@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawDebugLine@@YAXE@Z$2
__ehfuncinfo$?DrawDebugLine@@YAXE@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawDebugLine@@YAXE@Z
	DD	01H
	DD	FLAT:__tryblocktable$?DrawDebugLine@@YAXE@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?ReleaseDirectDraw@@YAXXZ$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?ReleaseDirectDraw@@YAXXZ$0
__unwindtable$?ReleaseDirectDraw@@YAXXZ DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?ReleaseDirectDraw@@YAXXZ DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?ReleaseDirectDraw@@YAXXZ$2
__ehfuncinfo$?ReleaseDirectDraw@@YAXXZ DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?ReleaseDirectDraw@@YAXXZ
	DD	01H
	DD	FLAT:__tryblocktable$?ReleaseDirectDraw@@YAXXZ
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?CheckSurfaceLost@@YAHXZ$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?CheckSurfaceLost@@YAHXZ$0
__unwindtable$?CheckSurfaceLost@@YAHXZ DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?CheckSurfaceLost@@YAHXZ DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?CheckSurfaceLost@@YAHXZ$2
__ehfuncinfo$?CheckSurfaceLost@@YAHXZ DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?CheckSurfaceLost@@YAHXZ
	DD	01H
	DD	FLAT:__tryblocktable$?CheckSurfaceLost@@YAHXZ
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?Flip@@YAXXZ$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?Flip@@YAXXZ$0
__unwindtable$?Flip@@YAXXZ DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?Flip@@YAXXZ DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?Flip@@YAXXZ$2
__ehfuncinfo$?Flip@@YAXXZ DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?Flip@@YAXXZ
	DD	01H
	DD	FLAT:__tryblocktable$?Flip@@YAXXZ
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z$0
__unwindtable$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z$2
__ehfuncinfo$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z
	DD	01H
	DD	FLAT:__tryblocktable$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z$0
__unwindtable$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z$2
__ehfuncinfo$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z
	DD	01H
	DD	FLAT:__tryblocktable$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z$0
__unwindtable$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z$2
__ehfuncinfo$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z
	DD	01H
	DD	FLAT:__tryblocktable$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z$0
__unwindtable$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z$2
__ehfuncinfo$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z
	DD	01H
	DD	FLAT:__tryblocktable$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z$0
__unwindtable$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z$2
__ehfuncinfo$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z
	DD	01H
	DD	FLAT:__tryblocktable$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z$0
__unwindtable$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z$2
__ehfuncinfo$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z
	DD	01H
	DD	FLAT:__tryblocktable$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z$0
__unwindtable$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z$2
__ehfuncinfo$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z
	DD	01H
	DD	FLAT:__tryblocktable$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?ClearBackSurface@@YAXXZ$2 DD 00H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?ClearBackSurface@@YAXXZ$0
__unwindtable$?ClearBackSurface@@YAXXZ DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?ClearBackSurface@@YAXXZ DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?ClearBackSurface@@YAXXZ$2
__ehfuncinfo$?ClearBackSurface@@YAXXZ DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?ClearBackSurface@@YAXXZ
	DD	01H
	DD	FLAT:__tryblocktable$?ClearBackSurface@@YAXXZ
	DD	2 DUP(00H)
	DD	00H
	DD	00H
xdata$x	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\microsoft visual studio 14.0\vc\include\vadefs.h
;	COMDAT ??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ
_TEXT	SEGMENT
??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ PROC	; __vcrt_va_start_verify_argument_type<char const *>, COMDAT

; 144  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 145  :             static_assert(!__vcrt_va_list_is_reference<_Ty>::__the_value, "va_start argument must not have reference type and must not be parenthesized");
; 146  :         }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ ENDP	; __vcrt_va_start_verify_argument_type<char const *>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?CalculateFrameRate@@YAXXZ
_TEXT	SEGMENT
tv77 = -216						; size = 8
tv74 = -208						; size = 4
_currentTime$ = -8					; size = 4
?CalculateFrameRate@@YAXXZ PROC				; CalculateFrameRate, COMDAT

; 664  : void CalculateFrameRate(){

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 665  : 	static int framesSkipPerSecond = 0;
; 666  : 	static float framesPerSecond = 0.0f;       // This will store our fps
; 667  : 	static float lastTime = 0.0f;       // This will hold the time from the last frame
; 668  : 	float currentTime = TimeGetTime() * 0.001f;

  0001e	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00023	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], eax
  00029	f2 0f 2a 85 30
	ff ff ff	 cvtsi2sd xmm0, DWORD PTR tv74[ebp]
  00031	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv74[ebp]
  00037	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0003a	f2 0f 58 04 c5
	00 00 00 00	 addsd	 xmm0, QWORD PTR __xmm@41f00000000000000000000000000000[eax*8]
  00043	f2 0f 11 85 28
	ff ff ff	 movsd	 QWORD PTR tv77[ebp], xmm0
  0004b	f2 0f 5a 85 28
	ff ff ff	 cvtsd2ss xmm0, QWORD PTR tv77[ebp]
  00053	f3 0f 59 05 00
	00 00 00	 mulss	 xmm0, DWORD PTR __real@3a83126f
  0005b	f3 0f 11 45 f8	 movss	 DWORD PTR _currentTime$[ebp], xmm0

; 669  : 	++framesPerSecond;

  00060	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR ?framesPerSecond@?1??CalculateFrameRate@@YAXXZ@4MA
  00068	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@3f800000
  00070	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?framesPerSecond@?1??CalculateFrameRate@@YAXXZ@4MA, xmm0

; 670  : 	framesSkipPerSecond += NoDrawCnt - 1;

  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NoDrawCnt@@3HA ; NoDrawCnt
  0007d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?framesSkipPerSecond@?1??CalculateFrameRate@@YAXXZ@4HA
  00083	8d 54 01 ff	 lea	 edx, DWORD PTR [ecx+eax-1]
  00087	89 15 00 00 00
	00		 mov	 DWORD PTR ?framesSkipPerSecond@?1??CalculateFrameRate@@YAXXZ@4HA, edx

; 671  : 
; 672  : 	if (currentTime - lastTime > 1.0f)

  0008d	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _currentTime$[ebp]
  00092	f3 0f 5c 05 00
	00 00 00	 subss	 xmm0, DWORD PTR ?lastTime@?1??CalculateFrameRate@@YAXXZ@4MA
  0009a	0f 2f 05 00 00
	00 00		 comiss	 xmm0, DWORD PTR __real@3f800000
  000a1	76 39		 jbe	 SHORT $LN2@CalculateF

; 673  : 	{
; 674  : 		lastTime = currentTime;

  000a3	f3 0f 10 45 f8	 movss	 xmm0, DWORD PTR _currentTime$[ebp]
  000a8	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?lastTime@?1??CalculateFrameRate@@YAXXZ@4MA, xmm0

; 675  : 		framesToShow= int(framesPerSecond);

  000b0	f3 0f 2c 05 00
	00 00 00	 cvttss2si eax, DWORD PTR ?framesPerSecond@?1??CalculateFrameRate@@YAXXZ@4MA
  000b8	a3 00 00 00 00	 mov	 DWORD PTR ?framesToShow@@3HA, eax ; framesToShow

; 676  : 		framesPerSecond = 0;

  000bd	0f 57 c0	 xorps	 xmm0, xmm0
  000c0	f3 0f 11 05 00
	00 00 00	 movss	 DWORD PTR ?framesPerSecond@?1??CalculateFrameRate@@YAXXZ@4MA, xmm0

; 677  : 		skipFramesToShow = framesSkipPerSecond;

  000c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?framesSkipPerSecond@?1??CalculateFrameRate@@YAXXZ@4HA
  000cd	a3 00 00 00 00	 mov	 DWORD PTR ?skipFramesToShow@@3HA, eax ; skipFramesToShow

; 678  : 		framesSkipPerSecond = 0;

  000d2	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?framesSkipPerSecond@?1??CalculateFrameRate@@YAXXZ@4HA, 0
$LN2@CalculateF:

; 679  : 	}
; 680  : }

  000dc	5f		 pop	 edi
  000dd	5e		 pop	 esi
  000de	5b		 pop	 ebx
  000df	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000e5	3b ec		 cmp	 ebp, esp
  000e7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ec	8b e5		 mov	 esp, ebp
  000ee	5d		 pop	 ebp
  000ef	c3		 ret	 0
?CalculateFrameRate@@YAXXZ ENDP				; CalculateFrameRate
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT ??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ
_TEXT	SEGMENT
__ArgList$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ PROC		; sprintf_s<256>, COMDAT

; 1850 :     )

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1846 : __DEFINE_CPP_OVERLOAD_SECURE_FUNC_0_1_ARGLIST(

  0001e	e8 00 00 00 00	 call	 ??$__vcrt_va_start_verify_argument_type@PBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const *>
  00023	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  00026	89 45 f8	 mov	 DWORD PTR __ArgList$[ebp], eax
  00029	8b 45 f8	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0002c	50		 push	 eax
  0002d	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00030	51		 push	 ecx
  00031	68 00 01 00 00	 push	 256			; 00000100H
  00036	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  00039	52		 push	 edx
  0003a	e8 00 00 00 00	 call	 _vsprintf_s
  0003f	83 c4 10	 add	 esp, 16			; 00000010H
  00042	5f		 pop	 edi
  00043	5e		 pop	 esi
  00044	5b		 pop	 ebx
  00045	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0004b	3b ec		 cmp	 ebp, esp
  0004d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00052	8b e5		 mov	 esp, ebp
  00054	5d		 pop	 ebp
  00055	c3		 ret	 0
??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ ENDP		; sprintf_s<256>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?getBitCount@@YAHH@Z
_TEXT	SEGMENT
_k$ = -32						; size = 4
_j$ = -20						; size = 4
_i$ = -8						; size = 4
_bit$ = 8						; size = 4
?getBitCount@@YAHH@Z PROC				; getBitCount, COMDAT

; 77   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00012	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 78   : 	int i, j, k;
; 79   : 	j = 1;

  0001e	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _j$[ebp], 1

; 80   : 	k = 0;

  00025	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _k$[ebp], 0

; 81   : 	for (i = 0; i < sizeof(int) * 8; i++) {

  0002c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00033	eb 09		 jmp	 SHORT $LN4@getBitCoun
$LN2@getBitCoun:
  00035	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  00038	83 c0 01	 add	 eax, 1
  0003b	89 45 f8	 mov	 DWORD PTR _i$[ebp], eax
$LN4@getBitCoun:
  0003e	83 7d f8 20	 cmp	 DWORD PTR _i$[ebp], 32	; 00000020H
  00042	73 1b		 jae	 SHORT $LN3@getBitCoun

; 82   : 		if ((bit & j))

  00044	8b 45 08	 mov	 eax, DWORD PTR _bit$[ebp]
  00047	23 45 ec	 and	 eax, DWORD PTR _j$[ebp]
  0004a	74 09		 je	 SHORT $LN5@getBitCoun

; 83   : 			k++;

  0004c	8b 45 e0	 mov	 eax, DWORD PTR _k$[ebp]
  0004f	83 c0 01	 add	 eax, 1
  00052	89 45 e0	 mov	 DWORD PTR _k$[ebp], eax
$LN5@getBitCoun:

; 84   : 		j <<= 1;

  00055	8b 45 ec	 mov	 eax, DWORD PTR _j$[ebp]
  00058	d1 e0		 shl	 eax, 1
  0005a	89 45 ec	 mov	 DWORD PTR _j$[ebp], eax

; 85   : 	}

  0005d	eb d6		 jmp	 SHORT $LN2@getBitCoun
$LN3@getBitCoun:

; 86   : 	return k;

  0005f	8b 45 e0	 mov	 eax, DWORD PTR _k$[ebp]

; 87   : }

  00062	5f		 pop	 edi
  00063	5e		 pop	 esi
  00064	5b		 pop	 ebx
  00065	8b e5		 mov	 esp, ebp
  00067	5d		 pop	 ebp
  00068	c3		 ret	 0
?getBitCount@@YAHH@Z ENDP				; getBitCount
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?SetAnimTbl@@YAXXZ
_TEXT	SEGMENT
?SetAnimTbl@@YAXXZ PROC					; SetAnimTbl, COMDAT

; 4044 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4045 : #ifdef _READ16BITBMP
; 4046 : 	if(g_bUseAlpha){
; 4047 : 		CG_PKSERVER_PANEL = OLD_GRAPHICS_START+37;
; 4048 : 		CG_BATTTLE_SKILLCHOICE = OLD_GRAPHICS_START+53;
; 4049 : 		CG_FIELD_SKILL_PANEL = OLD_GRAPHICS_START+50;
; 4050 : 		CG_FIELD_CHATROOM_PANEL = OLD_GRAPHICS_START+54;
; 4051 : 		CG_FIELD_SV_SELL_PANEL = OLD_GRAPHICS_START+55;
; 4052 : 		CG_FIELD_SV_SELL_PRICE_PANEL = OLD_GRAPHICS_START+56;
; 4053 : 		CG_NEW_STATUS_WND = OLD_GRAPHICS_START+51;
; 4054 : 		CG_NEWITEM_WND = OLD_GRAPHICS_START+52;
; 4055 : 		CG_TRADE_WND = OLD_GRAPHICS_START+48;
; 4056 : 		CG_TRADE_VIEWWND = OLD_GRAPHICS_START+49;
; 4057 : 		CG_WND_G_0 = OLD_GRAPHICS_START;
; 4058 : 		CG_WND_G_1 = OLD_GRAPHICS_START+1;
; 4059 : 		CG_WND_G_2 = OLD_GRAPHICS_START+2;
; 4060 : 		CG_WND_G_3 = OLD_GRAPHICS_START+3;
; 4061 : 		CG_WND_G_4 = OLD_GRAPHICS_START+4;
; 4062 : 		CG_WND_G_5 = OLD_GRAPHICS_START+5;
; 4063 : 		CG_WND_G_6 = OLD_GRAPHICS_START+6;
; 4064 : 		CG_WND_G_7 = OLD_GRAPHICS_START+7;
; 4065 : 		CG_WND_G_8 = OLD_GRAPHICS_START+8;
; 4066 : 		CG_WND2_G_0 = OLD_GRAPHICS_START+9;
; 4067 : 		CG_WND2_G_1 = OLD_GRAPHICS_START+10;
; 4068 : 		CG_WND2_G_2 = OLD_GRAPHICS_START+11;
; 4069 : 		CG_WND2_G_3 = OLD_GRAPHICS_START+12;
; 4070 : 		CG_WND2_G_4 = OLD_GRAPHICS_START+13;
; 4071 : 		CG_WND2_G_5 = OLD_GRAPHICS_START+14;
; 4072 : 		CG_WND2_G_6 = OLD_GRAPHICS_START+15;
; 4073 : 		CG_WND2_G_7 = OLD_GRAPHICS_START+16;
; 4074 : 		CG_WND2_G_8 = OLD_GRAPHICS_START+17;
; 4075 : 		CG_WND3_G_7 = OLD_GRAPHICS_START+18;
; 4076 : 		CG_WND3_G_8 = OLD_GRAPHICS_START+19;
; 4077 : 		CG_WND3_G_9 = OLD_GRAPHICS_START+20;
; 4078 : 		CG_BTL_PET_CHANGE_WND = OLD_GRAPHICS_START+21;
; 4079 : 		CG_PET_WND_VIEW = OLD_GRAPHICS_START+22;
; 4080 : 		CG_PET_WND_DETAIL	= OLD_GRAPHICS_START+23;
; 4081 : 		CG_NAME_CHANGE_WND = OLD_GRAPHICS_START+24;
; 4082 : 		CG_ITEM_WND_1 = OLD_GRAPHICS_START+25;
; 4083 : 		CG_JUJUTU_WND = OLD_GRAPHICS_START+26;
; 4084 : 		CG_ITEM_WND_SELECT_WND = OLD_GRAPHICS_START+27;
; 4085 : 		CG_STATUS_WND_GROUP_WND = OLD_GRAPHICS_START+28;
; 4086 : 		CG_MAP_WND = OLD_GRAPHICS_START+29;
; 4087 : 		CG_STATUS_WND = OLD_GRAPHICS_START+452;
; 4088 : 		CG_MAIL_WND = OLD_GRAPHICS_START+30;
; 4089 : 		CG_MAIL_WND_SEND_WND = OLD_GRAPHICS_START+38;
; 4090 : 		CG_MAIL_WND_PET_SEND_WND = OLD_GRAPHICS_START+39;
; 4091 : 		CG_MAIL_WND_HISTORY_WND = OLD_GRAPHICS_START+40;
; 4092 : 		CG_ALBUM_WND = OLD_GRAPHICS_START+41;
; 4093 : 		CG_CHAT_REGISTY_WND = OLD_GRAPHICS_START+42;
; 4094 : 		CG_COMMON_WIN_YORO = OLD_GRAPHICS_START+31;
; 4095 : 		CG_FIELD_HELP_WND = OLD_GRAPHICS_START+45;
; 4096 : 		CG_MSG_WND = OLD_GRAPHICS_START+47;
; 4097 : 		CG_PET_WAZA_WND = OLD_GRAPHICS_START+32;
; 4098 : 		CG_ITEMSHOP_WIN = OLD_GRAPHICS_START+33;
; 4099 : 		CG_SKILLSHOP_WIN = OLD_GRAPHICS_START+34;
; 4100 : 		CG_ITEMSHOP_KOSU_WIN = OLD_GRAPHICS_START+35;
; 4101 : 		CG_FAMILY_DETAIL_WIN = OLD_GRAPHICS_START+43;
; 4102 : 		CG_FAMILY_BANK_WIN = OLD_GRAPHICS_START+44;
; 4103 : 		CG_BM_WND = OLD_GRAPHICS_START+36;
; 4104 : 	}
; 4105 : 	else
; 4106 : #endif
; 4107 : 	{
; 4108 : 		CG_PKSERVER_PANEL = 26192;							// éåæç³»äººç©æ¡

  0001e	c7 05 00 00 00
	00 50 66 00 00	 mov	 DWORD PTR ?CG_PKSERVER_PANEL@@3HA, 26192 ; CG_PKSERVER_PANEL, 00006650H

; 4109 : 		CG_BATTTLE_SKILLCHOICE = 26389;					// ææä¸­éæ©æè½

  00028	c7 05 00 00 00
	00 15 67 00 00	 mov	 DWORD PTR ?CG_BATTTLE_SKILLCHOICE@@3HA, 26389 ; CG_BATTTLE_SKILLCHOICE, 00006715H

; 4110 : 		CG_FIELD_SKILL_PANEL = 26352;						// èä¸æè½ä»é¢

  00032	c7 05 00 00 00
	00 f0 66 00 00	 mov	 DWORD PTR ?CG_FIELD_SKILL_PANEL@@3HA, 26352 ; CG_FIELD_SKILL_PANEL, 000066f0H

; 4111 : 		CG_FIELD_CHATROOM_PANEL = 26427;				// èå¤©å®¤ä»é¢

  0003c	c7 05 00 00 00
	00 3b 67 00 00	 mov	 DWORD PTR ?CG_FIELD_CHATROOM_PANEL@@3HA, 26427 ; CG_FIELD_CHATROOM_PANEL, 0000673bH

; 4112 : 		CG_FIELD_SV_SELL_PANEL = 35221;					// ææä»é¢(åæ¹)

  00046	c7 05 00 00 00
	00 95 89 00 00	 mov	 DWORD PTR ?CG_FIELD_SV_SELL_PANEL@@3HA, 35221 ; CG_FIELD_SV_SELL_PANEL, 00008995H

; 4113 : 		CG_FIELD_SV_SELL_PRICE_PANEL = 35223;		// è¾å¥å®ä»·è§çª

  00050	c7 05 00 00 00
	00 97 89 00 00	 mov	 DWORD PTR ?CG_FIELD_SV_SELL_PRICE_PANEL@@3HA, 35223 ; CG_FIELD_SV_SELL_PRICE_PANEL, 00008997H

; 4114 : 		CG_NEW_STATUS_WND = 26386;

  0005a	c7 05 00 00 00
	00 12 67 00 00	 mov	 DWORD PTR ?CG_NEW_STATUS_WND@@3HA, 26386 ; CG_NEW_STATUS_WND, 00006712H

; 4115 : #ifdef _PET_ITEM
; 4116 : 		CG_NEWITEM_WND = 26455;									// äººç©è£å¤æ ä½è§çª(ææ ç­¾)

  00064	c7 05 00 00 00
	00 57 67 00 00	 mov	 DWORD PTR ?CG_NEWITEM_WND@@3HA, 26455 ; CG_NEWITEM_WND, 00006757H

; 4117 : #else
; 4118 : 		CG_NEWITEM_WND = 26388;									// äººç©è£å¤æ ä½è§çª(å·¦æãèãæå¥)
; 4119 : #endif
; 4120 : 
; 4121 : 		CG_TRADE_WND = 26328;										// äº¤æä¸»è§çª

  0006e	c7 05 00 00 00
	00 d8 66 00 00	 mov	 DWORD PTR ?CG_TRADE_WND@@3HA, 26328 ; CG_TRADE_WND, 000066d8H

; 4122 : 
; 4123 : 		CG_TRADE_VIEWWND = 26329;								// äº¤ææ£è§è§çª

  00078	c7 05 00 00 00
	00 d9 66 00 00	 mov	 DWORD PTR ?CG_TRADE_VIEWWND@@3HA, 26329 ; CG_TRADE_VIEWWND, 000066d9H

; 4124 : 		CG_WND_G_0 = 26001;

  00082	c7 05 00 00 00
	00 91 65 00 00	 mov	 DWORD PTR ?CG_WND_G_0@@3HA, 26001 ; CG_WND_G_0, 00006591H

; 4125 : 		CG_WND_G_1 = 26002;

  0008c	c7 05 00 00 00
	00 92 65 00 00	 mov	 DWORD PTR ?CG_WND_G_1@@3HA, 26002 ; CG_WND_G_1, 00006592H

; 4126 : 		CG_WND_G_2 = 26003;

  00096	c7 05 00 00 00
	00 93 65 00 00	 mov	 DWORD PTR ?CG_WND_G_2@@3HA, 26003 ; CG_WND_G_2, 00006593H

; 4127 : 		CG_WND_G_3 = 26004;

  000a0	c7 05 00 00 00
	00 94 65 00 00	 mov	 DWORD PTR ?CG_WND_G_3@@3HA, 26004 ; CG_WND_G_3, 00006594H

; 4128 : 		CG_WND_G_4 = 26005;

  000aa	c7 05 00 00 00
	00 95 65 00 00	 mov	 DWORD PTR ?CG_WND_G_4@@3HA, 26005 ; CG_WND_G_4, 00006595H

; 4129 : 		CG_WND_G_5 = 26006;

  000b4	c7 05 00 00 00
	00 96 65 00 00	 mov	 DWORD PTR ?CG_WND_G_5@@3HA, 26006 ; CG_WND_G_5, 00006596H

; 4130 : 		CG_WND_G_6 = 26007;

  000be	c7 05 00 00 00
	00 97 65 00 00	 mov	 DWORD PTR ?CG_WND_G_6@@3HA, 26007 ; CG_WND_G_6, 00006597H

; 4131 : 		CG_WND_G_7 = 26008;

  000c8	c7 05 00 00 00
	00 98 65 00 00	 mov	 DWORD PTR ?CG_WND_G_7@@3HA, 26008 ; CG_WND_G_7, 00006598H

; 4132 : 		CG_WND_G_8 = 26009;

  000d2	c7 05 00 00 00
	00 99 65 00 00	 mov	 DWORD PTR ?CG_WND_G_8@@3HA, 26009 ; CG_WND_G_8, 00006599H

; 4133 : 		CG_WND2_G_0 = 26021;

  000dc	c7 05 00 00 00
	00 a5 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_0@@3HA, 26021 ; CG_WND2_G_0, 000065a5H

; 4134 : 		CG_WND2_G_1 = 26022;

  000e6	c7 05 00 00 00
	00 a6 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_1@@3HA, 26022 ; CG_WND2_G_1, 000065a6H

; 4135 : 		CG_WND2_G_2 = 26023;

  000f0	c7 05 00 00 00
	00 a7 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_2@@3HA, 26023 ; CG_WND2_G_2, 000065a7H

; 4136 : 		CG_WND2_G_3 = 26024;

  000fa	c7 05 00 00 00
	00 a8 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_3@@3HA, 26024 ; CG_WND2_G_3, 000065a8H

; 4137 : 		CG_WND2_G_4 = 26025;

  00104	c7 05 00 00 00
	00 a9 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_4@@3HA, 26025 ; CG_WND2_G_4, 000065a9H

; 4138 : 		CG_WND2_G_5 = 26026;

  0010e	c7 05 00 00 00
	00 aa 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_5@@3HA, 26026 ; CG_WND2_G_5, 000065aaH

; 4139 : 		CG_WND2_G_6 = 26027;

  00118	c7 05 00 00 00
	00 ab 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_6@@3HA, 26027 ; CG_WND2_G_6, 000065abH

; 4140 : 		CG_WND2_G_7 = 26028;

  00122	c7 05 00 00 00
	00 ac 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_7@@3HA, 26028 ; CG_WND2_G_7, 000065acH

; 4141 : 		CG_WND2_G_8 = 26029;

  0012c	c7 05 00 00 00
	00 ad 65 00 00	 mov	 DWORD PTR ?CG_WND2_G_8@@3HA, 26029 ; CG_WND2_G_8, 000065adH

; 4142 : 		CG_WND3_G_7 = 26037;

  00136	c7 05 00 00 00
	00 b5 65 00 00	 mov	 DWORD PTR ?CG_WND3_G_7@@3HA, 26037 ; CG_WND3_G_7, 000065b5H

; 4143 : 		CG_WND3_G_8 = 26038;

  00140	c7 05 00 00 00
	00 b6 65 00 00	 mov	 DWORD PTR ?CG_WND3_G_8@@3HA, 26038 ; CG_WND3_G_8, 000065b6H

; 4144 : 		CG_WND3_G_9 = 26039;

  0014a	c7 05 00 00 00
	00 b7 65 00 00	 mov	 DWORD PTR ?CG_WND3_G_9@@3HA, 26039 ; CG_WND3_G_9, 000065b7H

; 4145 : 		CG_BTL_PET_CHANGE_WND = 26040;					// îî¬?????î¼?î??????

  00154	c7 05 00 00 00
	00 b8 65 00 00	 mov	 DWORD PTR ?CG_BTL_PET_CHANGE_WND@@3HA, 26040 ; CG_BTL_PET_CHANGE_WND, 000065b8H

; 4146 : 		CG_PET_WND_VIEW = 26044;								// ???????????????

  0015e	c7 05 00 00 00
	00 bc 65 00 00	 mov	 DWORD PTR ?CG_PET_WND_VIEW@@3HA, 26044 ; CG_PET_WND_VIEW, 000065bcH

; 4147 : 		CG_PET_WND_DETAIL = 26045;							// ????î¦??????

  00168	c7 05 00 00 00
	00 bd 65 00 00	 mov	 DWORD PTR ?CG_PET_WND_DETAIL@@3HA, 26045 ; CG_PET_WND_DETAIL, 000065bdH

; 4148 : 		CG_NAME_CHANGE_WND = 26049;							// ?î·î??????

  00172	c7 05 00 00 00
	00 c1 65 00 00	 mov	 DWORD PTR ?CG_NAME_CHANGE_WND@@3HA, 26049 ; CG_NAME_CHANGE_WND, 000065c1H

; 4149 : 		CG_ITEM_WND_1 = 26061;									// ??????????

  0017c	c7 05 00 00 00
	00 cd 65 00 00	 mov	 DWORD PTR ?CG_ITEM_WND_1@@3HA, 26061 ; CG_ITEM_WND_1, 000065cdH

; 4150 : 		CG_JUJUTU_WND = 26068;									// î£î?????

  00186	c7 05 00 00 00
	00 d4 65 00 00	 mov	 DWORD PTR ?CG_JUJUTU_WND@@3HA, 26068 ; CG_JUJUTU_WND, 000065d4H

; 4151 : 		CG_ITEM_WND_SELECT_WND = 26070;					// î±î¶?????

  00190	c7 05 00 00 00
	00 d6 65 00 00	 mov	 DWORD PTR ?CG_ITEM_WND_SELECT_WND@@3HA, 26070 ; CG_ITEM_WND_SELECT_WND, 000065d6H

; 4152 : 		CG_STATUS_WND_GROUP_WND = 26071;				// ????????????

  0019a	c7 05 00 00 00
	00 d7 65 00 00	 mov	 DWORD PTR ?CG_STATUS_WND_GROUP_WND@@3HA, 26071 ; CG_STATUS_WND_GROUP_WND, 000065d7H

; 4153 : 		CG_MAP_WND = 26081;											// ????????

  001a4	c7 05 00 00 00
	00 e1 65 00 00	 mov	 DWORD PTR ?CG_MAP_WND@@3HA, 26081 ; CG_MAP_WND, 000065e1H

; 4154 : 		CG_STATUS_WND = 26073;									// ???????????????

  001ae	c7 05 00 00 00
	00 d9 65 00 00	 mov	 DWORD PTR ?CG_STATUS_WND@@3HA, 26073 ; CG_STATUS_WND, 000065d9H

; 4155 : 		CG_MAIL_WND = 26082;										// ????????

  001b8	c7 05 00 00 00
	00 e2 65 00 00	 mov	 DWORD PTR ?CG_MAIL_WND@@3HA, 26082 ; CG_MAIL_WND, 000065e2H

; 4156 : 		CG_MAIL_WND_SEND_WND = 26200;						// ????î?????

  001c2	c7 05 00 00 00
	00 58 66 00 00	 mov	 DWORD PTR ?CG_MAIL_WND_SEND_WND@@3HA, 26200 ; CG_MAIL_WND_SEND_WND, 00006658H

; 4157 : 		CG_MAIL_WND_PET_SEND_WND = 26201;				// ????????î?????

  001cc	c7 05 00 00 00
	00 59 66 00 00	 mov	 DWORD PTR ?CG_MAIL_WND_PET_SEND_WND@@3HA, 26201 ; CG_MAIL_WND_PET_SEND_WND, 00006659H

; 4158 : 		CG_MAIL_WND_HISTORY_WND = 26203;				// ??????????

  001d6	c7 05 00 00 00
	00 5b 66 00 00	 mov	 DWORD PTR ?CG_MAIL_WND_HISTORY_WND@@3HA, 26203 ; CG_MAIL_WND_HISTORY_WND, 0000665bH

; 4159 : 		CG_ALBUM_WND = 26230;										// ?????????

  001e0	c7 05 00 00 00
	00 76 66 00 00	 mov	 DWORD PTR ?CG_ALBUM_WND@@3HA, 26230 ; CG_ALBUM_WND, 00006676H

; 4160 : 		CG_CHAT_REGISTY_WND = 26232;

  001ea	c7 05 00 00 00
	00 78 66 00 00	 mov	 DWORD PTR ?CG_CHAT_REGISTY_WND@@3HA, 26232 ; CG_CHAT_REGISTY_WND, 00006678H

; 4161 : 		CG_COMMON_WIN_YORO = 26090;							// "???????"??????????

  001f4	c7 05 00 00 00
	00 ea 65 00 00	 mov	 DWORD PTR ?CG_COMMON_WIN_YORO@@3HA, 26090 ; CG_COMMON_WIN_YORO, 000065eaH

; 4162 : 		CG_FIELD_HELP_WND = 26258;

  001fe	c7 05 00 00 00
	00 92 66 00 00	 mov	 DWORD PTR ?CG_FIELD_HELP_WND@@3HA, 26258 ; CG_FIELD_HELP_WND, 00006692H

; 4163 : 		CG_MSG_WND = 26296;											// Message's Main Window ,added by LeiBoy

  00208	c7 05 00 00 00
	00 b8 66 00 00	 mov	 DWORD PTR ?CG_MSG_WND@@3HA, 26296 ; CG_MSG_WND, 000066b8H

; 4164 : 		CG_PET_WAZA_WND = 26130;

  00212	c7 05 00 00 00
	00 12 66 00 00	 mov	 DWORD PTR ?CG_PET_WAZA_WND@@3HA, 26130 ; CG_PET_WAZA_WND, 00006612H

; 4165 : 		CG_ITEMSHOP_WIN = 26138;

  0021c	c7 05 00 00 00
	00 1a 66 00 00	 mov	 DWORD PTR ?CG_ITEMSHOP_WIN@@3HA, 26138 ; CG_ITEMSHOP_WIN, 0000661aH

; 4166 : 		CG_SKILLSHOP_WIN = 26139;

  00226	c7 05 00 00 00
	00 1b 66 00 00	 mov	 DWORD PTR ?CG_SKILLSHOP_WIN@@3HA, 26139 ; CG_SKILLSHOP_WIN, 0000661bH

; 4167 : 		CG_ITEMSHOP_KOSU_WIN = 26140;

  00230	c7 05 00 00 00
	00 1c 66 00 00	 mov	 DWORD PTR ?CG_ITEMSHOP_KOSU_WIN@@3HA, 26140 ; CG_ITEMSHOP_KOSU_WIN, 0000661cH

; 4168 : 		CG_FAMILY_DETAIL_WIN = 26239;

  0023a	c7 05 00 00 00
	00 7f 66 00 00	 mov	 DWORD PTR ?CG_FAMILY_DETAIL_WIN@@3HA, 26239 ; CG_FAMILY_DETAIL_WIN, 0000667fH

; 4169 : 		CG_FAMILY_BANK_WIN = 26240;

  00244	c7 05 00 00 00
	00 80 66 00 00	 mov	 DWORD PTR ?CG_FAMILY_BANK_WIN@@3HA, 26240 ; CG_FAMILY_BANK_WIN, 00006680H

; 4170 : 		CG_BM_WND = 26141;

  0024e	c7 05 00 00 00
	00 1d 66 00 00	 mov	 DWORD PTR ?CG_BM_WND@@3HA, 26141 ; CG_BM_WND, 0000661dH

; 4171 : 	}
; 4172 : }

  00258	5f		 pop	 edi
  00259	5e		 pop	 esi
  0025a	5b		 pop	 ebx
  0025b	8b e5		 mov	 esp, ebp
  0025d	5d		 pop	 ebp
  0025e	c3		 ret	 0
?SetAnimTbl@@YAXXZ ENDP					; SetAnimTbl
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?CreateNewFont@@YAPAUHFONT__@@H@Z
_TEXT	SEGMENT
_size$ = 8						; size = 4
?CreateNewFont@@YAPAUHFONT__@@H@Z PROC			; CreateNewFont, COMDAT

; 4175 : HFONT CreateNewFont( int size) {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 4176 : 
; 4177 : #ifdef å è½½æ°å­ä½
; 4178 : //	HFONT JL_FONT();
; 4179 : 	//return JL_FONT();
; 4180 : #endif // 
; 4181 : 
; 4182 : 	
; 4183 : 
; 4184 : 	return CreateFont(  // ìëì°ì°½ í°í¸

  0001e	8b f4		 mov	 esi, esp
  00020	68 00 00 00 00	 push	 OFFSET ??_C@_04FOGALLPG@?$LB?$LM?$LI?$LC?$AA@
  00025	6a 11		 push	 17			; 00000011H
  00027	6a 00		 push	 0
  00029	6a 00		 push	 0
  0002b	6a 00		 push	 0
  0002d	68 81 00 00 00	 push	 129			; 00000081H
  00032	6a 00		 push	 0
  00034	6a 00		 push	 0
  00036	6a 00		 push	 0
  00038	68 90 01 00 00	 push	 400			; 00000190H
  0003d	6a 00		 push	 0
  0003f	6a 00		 push	 0
  00041	6a 00		 push	 0
  00043	8b 45 08	 mov	 eax, DWORD PTR _size$[ebp]
  00046	50		 push	 eax
  00047	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFontA@56
  0004d	3b f4		 cmp	 esi, esp
  0004f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 4185 : 		size, 	/* ????????	*/ 
; 4186 : 		0, 		/* ????????	*/ 
; 4187 : 		0, 		/* ???????î	*/ 
; 4188 : 		0,		/* ??? ????xî¡??î	*/ 
; 4189 : 		
; 4190 : 		/* ???????	*/ 
; 4191 : 		FW_NORMAL,			// 400 
; 4192 : 		
; 4193 : 		/* ?????îî´î????	*/ 
; 4194 : 		FALSE, 					
; 4195 : 		
; 4196 : 		/* ??î?î´î????	*/ 
; 4197 : 		FALSE,					
; 4198 : 		
; 4199 : 		/* î?î??î?î´î????	*/ 
; 4200 : 		FALSE,					
; 4201 : 		
; 4202 : 		/* ?????îîî	*/ 
; 4203 : 		HANGUL_CHARSET/*CHINESEBIG5_CHARSET*/,// ?î­???
; 4204 : 		
; 4205 : 		/* î?î¡î	*/ 
; 4206 : 		OUT_DEFAULT_PRECIS, 
; 4207 : 		
; 4208 : 		/* ??????î¡î	*/ 
; 4209 : 		CLIP_DEFAULT_PRECIS,
; 4210 : 		
; 4211 : 		/* î?îî®	*/ 
; 4212 : 		DEFAULT_QUALITY,	// ????????î????????
; 4213 : 		
; 4214 : 		/* ??? */ 
; 4215 : 		FIXED_PITCH |
; 4216 : 		
; 4217 : 		/* ????	*/ 
; 4218 : 		FF_ROMAN,			// ??î?????????????î????????MS(R) Serif????????
; 4219 : 		
; 4220 : 		/* ????????????????	*/ 				
; 4221 : 		TEXT("êµ´ë¦¼") /*"æ¥·ä½_GB2312"*/ );
; 4222 : 
; 4223 : }

  00054	5f		 pop	 edi
  00055	5e		 pop	 esi
  00056	5b		 pop	 ebx
  00057	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0005d	3b ec		 cmp	 ebp, esp
  0005f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00064	8b e5		 mov	 esp, ebp
  00066	5d		 pop	 ebp
  00067	c3		 ret	 0
?CreateNewFont@@YAPAUHFONT__@@H@Z ENDP			; CreateNewFont
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawMapEffect@@YAXXZ
_TEXT	SEGMENT
$T2 = -489						; size = 1
$T3 = -477						; size = 1
$T4 = -465						; size = 1
$T5 = -453						; size = 1
_j$6 = -252						; size = 4
_i$7 = -240						; size = 4
_color$8 = -225						; size = 1
_buf$9 = -216						; size = 4
_hh$10 = -204						; size = 4
_ww$11 = -192						; size = 4
_surfacePitch$12 = -180					; size = 4
_ptDest32$13 = -168					; size = 4
_ptDest2$14 = -156					; size = 4
_ptDest$15 = -144					; size = 4
_ddsd$16 = -132						; size = 108
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
?DrawMapEffect@@YAXXZ PROC				; DrawMapEffect, COMDAT

; 2261 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawMapEffect@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec e0 01 00
	00		 sub	 esp, 480		; 000001e0H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 10 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-496]
  00021	b9 78 00 00 00	 mov	 ecx, 120		; 00000078H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00037	50		 push	 eax
  00038	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  0003b	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00041	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 2262 : 	try

  00044	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0
  0004b	c6 85 2f fe ff
	ff 00		 mov	 BYTE PTR $T4[ebp], 0
  00052	c6 85 23 fe ff
	ff 00		 mov	 BYTE PTR $T3[ebp], 0
  00059	c6 85 17 fe ff
	ff 00		 mov	 BYTE PTR $T2[ebp], 0
  00060	c6 85 3b fe ff
	ff 00		 mov	 BYTE PTR $T5[ebp], 0

; 2263 : 	{
; 2264 : 		DDSURFACEDESC ddsd;
; 2265 : 		char *ptDest;
; 2266 : 		short *ptDest2;
; 2267 : #ifdef _HI_COLOR_32
; 2268 : 		int *ptDest32;
; 2269 : #endif
; 2270 : 		int surfacePitch;
; 2271 : 		int ww, hh;
; 2272 : 		MAP_EFFECT *buf;
; 2273 : 		char color;
; 2274 : 		int i, j;
; 2275 : 
; 2276 : 		ww = DEF_APPSIZEX;

  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEX@@3HA ; DEF_APPSIZEX
  0006c	89 85 40 ff ff
	ff		 mov	 DWORD PTR _ww$11[ebp], eax

; 2277 : 		hh = DEF_APPSIZEY;

  00072	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DEF_APPSIZEY@@3HA ; DEF_APPSIZEY
  00077	89 85 34 ff ff
	ff		 mov	 DWORD PTR _hh$10[ebp], eax

; 2278 : 		//???????????????
; 2279 : 		if (ResoMode == 1) {

  0007d	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00084	75 1c		 jne	 SHORT $LN11@DrawMapEff

; 2280 : 			ww >>= 1;

  00086	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _ww$11[ebp]
  0008c	d1 f8		 sar	 eax, 1
  0008e	89 85 40 ff ff
	ff		 mov	 DWORD PTR _ww$11[ebp], eax

; 2281 : 			hh >>= 1;

  00094	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _hh$10[ebp]
  0009a	d1 f8		 sar	 eax, 1
  0009c	89 85 34 ff ff
	ff		 mov	 DWORD PTR _hh$10[ebp], eax
$LN11@DrawMapEff:

; 2282 : 		}
; 2283 : 		ZeroMemory(&ddsd, sizeof(DDSURFACEDESC));

  000a2	6a 6c		 push	 108			; 0000006cH
  000a4	6a 00		 push	 0
  000a6	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$16[ebp]
  000ac	50		 push	 eax
  000ad	e8 00 00 00 00	 call	 _memset
  000b2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2284 : 		ddsd.dwSize = sizeof(DDSURFACEDESC);

  000b5	c7 85 7c ff ff
	ff 6c 00 00 00	 mov	 DWORD PTR _ddsd$16[ebp], 108 ; 0000006cH

; 2285 : 		if (lpDraw->lpBACKBUFFER->Lock(NULL, &ddsd, DDLOCK_WAIT, NULL) != DD_OK)

  000bf	8b f4		 mov	 esi, esp
  000c1	6a 00		 push	 0
  000c3	6a 01		 push	 1
  000c5	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$16[ebp]
  000cb	50		 push	 eax
  000cc	6a 00		 push	 0
  000ce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000d4	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  000d7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000dc	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  000df	8b 12		 mov	 edx, DWORD PTR [edx]
  000e1	51		 push	 ecx
  000e2	8b 42 64	 mov	 eax, DWORD PTR [edx+100]
  000e5	ff d0		 call	 eax
  000e7	3b f4		 cmp	 esi, esp
  000e9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ee	85 c0		 test	 eax, eax
  000f0	0f 85 7e 31 00
	00		 jne	 $LN1@DrawMapEff

; 2286 : 			return;
; 2287 : #ifdef _HI_COLOR_32
; 2288 : 		if (displayBpp == 32)

  000f6	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  000fd	75 13		 jne	 SHORT $LN13@DrawMapEff

; 2289 : 			surfacePitch = ddsd.lPitch >> 2;

  000ff	8b 45 8c	 mov	 eax, DWORD PTR _ddsd$16[ebp+16]
  00102	c1 f8 02	 sar	 eax, 2
  00105	c6 85 3b fe ff
	ff 01		 mov	 BYTE PTR $T5[ebp], 1
  0010c	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$12[ebp], eax
$LN13@DrawMapEff:

; 2290 : #endif
; 2291 : 		if (displayBpp == 16)

  00112	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  00119	75 12		 jne	 SHORT $LN14@DrawMapEff

; 2292 : 			surfacePitch = ddsd.lPitch >> 1;

  0011b	8b 45 8c	 mov	 eax, DWORD PTR _ddsd$16[ebp+16]
  0011e	d1 f8		 sar	 eax, 1
  00120	c6 85 3b fe ff
	ff 01		 mov	 BYTE PTR $T5[ebp], 1
  00127	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$12[ebp], eax
$LN14@DrawMapEff:

; 2293 : 		buf = useBufMapEffect;

  0012d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?useBufMapEffect@@3PAU_MAP_EFFECT@@A ; useBufMapEffect
  00132	89 85 28 ff ff
	ff		 mov	 DWORD PTR _buf$9[ebp], eax
$LN2@DrawMapEff:

; 2294 : 		while (buf != (MAP_EFFECT *)NULL) {

  00138	83 bd 28 ff ff
	ff 00		 cmp	 DWORD PTR _buf$9[ebp], 0
  0013f	0f 84 ec 30 00
	00		 je	 $LN3@DrawMapEff

; 2295 : 			if (0 < buf->x && buf->x < ww - 4 && 0 < buf->y && buf->y < hh - 12) {

  00145	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  0014b	83 38 00	 cmp	 DWORD PTR [eax], 0
  0014e	0f 8e c9 30 00
	00		 jle	 $LN15@DrawMapEff
  00154	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _ww$11[ebp]
  0015a	83 e8 04	 sub	 eax, 4
  0015d	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  00163	39 01		 cmp	 DWORD PTR [ecx], eax
  00165	0f 8d b2 30 00
	00		 jge	 $LN15@DrawMapEff
  0016b	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  00171	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  00175	0f 8e a2 30 00
	00		 jle	 $LN15@DrawMapEff
  0017b	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _hh$10[ebp]
  00181	83 e8 0c	 sub	 eax, 12			; 0000000cH
  00184	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  0018a	39 41 04	 cmp	 DWORD PTR [ecx+4], eax
  0018d	0f 8d 8a 30 00
	00		 jge	 $LN15@DrawMapEff

; 2296 : #ifdef _HI_COLOR_32
; 2297 : 				if (displayBpp == 32) {

  00193	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  0019a	75 49		 jne	 SHORT $LN16@DrawMapEff

; 2298 : 					ptDest32 = (int *)(ddsd.lpSurface) + buf->y * surfacePitch + buf->x;

  0019c	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  001a3	75 0d		 jne	 SHORT $LN130@DrawMapEff
  001a5	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  001aa	e8 00 00 00 00	 call	 __RTC_UninitUse
  001af	83 c4 04	 add	 esp, 4
$LN130@DrawMapEff:
  001b2	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  001b8	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001bb	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$12[ebp]
  001c2	8b 55 a0	 mov	 edx, DWORD PTR _ddsd$16[ebp+36]
  001c5	8d 04 8a	 lea	 eax, DWORD PTR [edx+ecx*4]
  001c8	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  001ce	8b 11		 mov	 edx, DWORD PTR [ecx]
  001d0	8d 04 90	 lea	 eax, DWORD PTR [eax+edx*4]
  001d3	c6 85 2f fe ff
	ff 01		 mov	 BYTE PTR $T4[ebp], 1
  001da	89 85 58 ff ff
	ff		 mov	 DWORD PTR _ptDest32$13[ebp], eax

; 2299 : 				}
; 2300 : 				else

  001e0	e9 8d 00 00 00	 jmp	 $LN17@DrawMapEff
$LN16@DrawMapEff:

; 2301 : #endif
; 2302 : 					if (displayBpp == 16)

  001e5	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  001ec	75 46		 jne	 SHORT $LN18@DrawMapEff

; 2303 : 						ptDest2 = (short *)(ddsd.lpSurface) + buf->y * surfacePitch + buf->x;

  001ee	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  001f5	75 0d		 jne	 SHORT $LN132@DrawMapEff
  001f7	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  001fc	e8 00 00 00 00	 call	 __RTC_UninitUse
  00201	83 c4 04	 add	 esp, 4
$LN132@DrawMapEff:
  00204	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  0020a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0020d	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$12[ebp]
  00214	8b 55 a0	 mov	 edx, DWORD PTR _ddsd$16[ebp+36]
  00217	8d 04 4a	 lea	 eax, DWORD PTR [edx+ecx*2]
  0021a	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  00220	8b 11		 mov	 edx, DWORD PTR [ecx]
  00222	8d 04 50	 lea	 eax, DWORD PTR [eax+edx*2]
  00225	c6 85 23 fe ff
	ff 01		 mov	 BYTE PTR $T3[ebp], 1
  0022c	89 85 64 ff ff
	ff		 mov	 DWORD PTR _ptDest2$14[ebp], eax

; 2304 : 					else

  00232	eb 3e		 jmp	 SHORT $LN17@DrawMapEff
$LN18@DrawMapEff:

; 2305 : 						ptDest = (char *)(ddsd.lpSurface) + buf->y * surfacePitch + buf->x;

  00234	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0023b	75 0d		 jne	 SHORT $LN133@DrawMapEff
  0023d	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00242	e8 00 00 00 00	 call	 __RTC_UninitUse
  00247	83 c4 04	 add	 esp, 4
$LN133@DrawMapEff:
  0024a	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  00250	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00253	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$12[ebp]
  0025a	03 4d a0	 add	 ecx, DWORD PTR _ddsd$16[ebp+36]
  0025d	8b 95 28 ff ff
	ff		 mov	 edx, DWORD PTR _buf$9[ebp]
  00263	03 0a		 add	 ecx, DWORD PTR [edx]
  00265	c6 85 17 fe ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  0026c	89 8d 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$15[ebp], ecx
$LN17@DrawMapEff:

; 2306 : 				if (buf->type == MAP_EFFECT_TYPE_RAIN) {

  00272	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  00278	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  0027c	83 f9 01	 cmp	 ecx, 1
  0027f	0f 85 36 03 00
	00		 jne	 $LN20@DrawMapEff

; 2307 : #ifdef _HI_COLOR_32
; 2308 : 					if (displayBpp == 32) {

  00285	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  0028c	0f 85 1d 01 00
	00		 jne	 $LN22@DrawMapEff

; 2309 : 						*(ptDest32) = highColor32Palette[143];

  00292	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00299	75 0d		 jne	 SHORT $LN134@DrawMapEff
  0029b	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  002a0	e8 00 00 00 00	 call	 __RTC_UninitUse
  002a5	83 c4 04	 add	 esp, 4
$LN134@DrawMapEff:
  002a8	b8 04 00 00 00	 mov	 eax, 4
  002ad	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  002b3	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  002b9	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  002bf	89 02		 mov	 DWORD PTR [edx], eax

; 2310 : 						*(ptDest32 + surfacePitch) = highColor32Palette[143];

  002c1	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  002c8	75 0d		 jne	 SHORT $LN136@DrawMapEff
  002ca	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  002cf	e8 00 00 00 00	 call	 __RTC_UninitUse
  002d4	83 c4 04	 add	 esp, 4
$LN136@DrawMapEff:
  002d7	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  002de	75 0d		 jne	 SHORT $LN137@DrawMapEff
  002e0	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  002e5	e8 00 00 00 00	 call	 __RTC_UninitUse
  002ea	83 c4 04	 add	 esp, 4
$LN137@DrawMapEff:
  002ed	b8 04 00 00 00	 mov	 eax, 4
  002f2	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  002f8	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  002fe	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00304	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0030a	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2311 : 						*(ptDest32 + surfacePitch * 2 + 1) = highColor32Palette[143];

  0030d	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00314	75 0d		 jne	 SHORT $LN138@DrawMapEff
  00316	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0031b	e8 00 00 00 00	 call	 __RTC_UninitUse
  00320	83 c4 04	 add	 esp, 4
$LN138@DrawMapEff:
  00323	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  0032a	75 0d		 jne	 SHORT $LN139@DrawMapEff
  0032c	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00331	e8 00 00 00 00	 call	 __RTC_UninitUse
  00336	83 c4 04	 add	 esp, 4
$LN139@DrawMapEff:
  00339	b8 04 00 00 00	 mov	 eax, 4
  0033e	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  00344	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0034a	d1 e2		 shl	 edx, 1
  0034c	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00352	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00358	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2312 : 						*(ptDest32 + surfacePitch * 3 + 1) = highColor32Palette[143];

  0035c	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00363	75 0d		 jne	 SHORT $LN140@DrawMapEff
  00365	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0036a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0036f	83 c4 04	 add	 esp, 4
$LN140@DrawMapEff:
  00372	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00379	75 0d		 jne	 SHORT $LN141@DrawMapEff
  0037b	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00380	e8 00 00 00 00	 call	 __RTC_UninitUse
  00385	83 c4 04	 add	 esp, 4
$LN141@DrawMapEff:
  00388	b8 04 00 00 00	 mov	 eax, 4
  0038d	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  00393	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  0039a	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  003a0	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  003a6	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2313 : 					}
; 2314 : 					else

  003aa	e9 07 02 00 00	 jmp	 $LN23@DrawMapEff
$LN22@DrawMapEff:

; 2315 : #endif
; 2316 : 						if (displayBpp == 16) {

  003af	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  003b6	0f 85 25 01 00
	00		 jne	 $LN24@DrawMapEff

; 2317 : 							*(ptDest2) = highColorPalette[143];

  003bc	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  003c3	75 0d		 jne	 SHORT $LN142@DrawMapEff
  003c5	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  003ca	e8 00 00 00 00	 call	 __RTC_UninitUse
  003cf	83 c4 04	 add	 esp, 4
$LN142@DrawMapEff:
  003d2	b8 02 00 00 00	 mov	 eax, 2
  003d7	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  003dd	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  003e3	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  003ea	66 89 02	 mov	 WORD PTR [edx], ax

; 2318 : 							*(ptDest2 + surfacePitch) = highColorPalette[143];

  003ed	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  003f4	75 0d		 jne	 SHORT $LN144@DrawMapEff
  003f6	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  003fb	e8 00 00 00 00	 call	 __RTC_UninitUse
  00400	83 c4 04	 add	 esp, 4
$LN144@DrawMapEff:
  00403	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0040a	75 0d		 jne	 SHORT $LN145@DrawMapEff
  0040c	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  00411	e8 00 00 00 00	 call	 __RTC_UninitUse
  00416	83 c4 04	 add	 esp, 4
$LN145@DrawMapEff:
  00419	b8 02 00 00 00	 mov	 eax, 2
  0041e	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  00424	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0042a	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  00430	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  00437	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2319 : 							*(ptDest2 + surfacePitch * 2 + 1) = highColorPalette[143];

  0043b	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00442	75 0d		 jne	 SHORT $LN146@DrawMapEff
  00444	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00449	e8 00 00 00 00	 call	 __RTC_UninitUse
  0044e	83 c4 04	 add	 esp, 4
$LN146@DrawMapEff:
  00451	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00458	75 0d		 jne	 SHORT $LN147@DrawMapEff
  0045a	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  0045f	e8 00 00 00 00	 call	 __RTC_UninitUse
  00464	83 c4 04	 add	 esp, 4
$LN147@DrawMapEff:
  00467	b8 02 00 00 00	 mov	 eax, 2
  0046c	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  00472	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00478	d1 e2		 shl	 edx, 1
  0047a	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  00480	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  00487	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2320 : 							*(ptDest2 + surfacePitch * 3 + 1) = highColorPalette[143];

  0048c	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00493	75 0d		 jne	 SHORT $LN148@DrawMapEff
  00495	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0049a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0049f	83 c4 04	 add	 esp, 4
$LN148@DrawMapEff:
  004a2	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  004a9	75 0d		 jne	 SHORT $LN149@DrawMapEff
  004ab	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  004b0	e8 00 00 00 00	 call	 __RTC_UninitUse
  004b5	83 c4 04	 add	 esp, 4
$LN149@DrawMapEff:
  004b8	b8 02 00 00 00	 mov	 eax, 2
  004bd	69 c8 8f 00 00
	00		 imul	 ecx, eax, 143
  004c3	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  004ca	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  004d0	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  004d7	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2321 : 						}
; 2322 : 						else {

  004dc	e9 d5 00 00 00	 jmp	 $LN23@DrawMapEff
$LN24@DrawMapEff:

; 2323 : 							*(ptDest) = (char)143;

  004e1	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  004e8	75 0d		 jne	 SHORT $LN150@DrawMapEff
  004ea	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  004ef	e8 00 00 00 00	 call	 __RTC_UninitUse
  004f4	83 c4 04	 add	 esp, 4
$LN150@DrawMapEff:
  004f7	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  004fd	c6 00 8f	 mov	 BYTE PTR [eax], -113	; ffffff8fH

; 2324 : 							*(ptDest + surfacePitch) = (char)143;

  00500	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00507	75 0d		 jne	 SHORT $LN152@DrawMapEff
  00509	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  0050e	e8 00 00 00 00	 call	 __RTC_UninitUse
  00513	83 c4 04	 add	 esp, 4
$LN152@DrawMapEff:
  00516	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0051d	75 0d		 jne	 SHORT $LN153@DrawMapEff
  0051f	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00524	e8 00 00 00 00	 call	 __RTC_UninitUse
  00529	83 c4 04	 add	 esp, 4
$LN153@DrawMapEff:
  0052c	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  00532	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  00538	c6 00 8f	 mov	 BYTE PTR [eax], -113	; ffffff8fH

; 2325 : 							*(ptDest + surfacePitch * 2 + 1) = (char)143;

  0053b	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00542	75 0d		 jne	 SHORT $LN154@DrawMapEff
  00544	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00549	e8 00 00 00 00	 call	 __RTC_UninitUse
  0054e	83 c4 04	 add	 esp, 4
$LN154@DrawMapEff:
  00551	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00558	75 0d		 jne	 SHORT $LN155@DrawMapEff
  0055a	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  0055f	e8 00 00 00 00	 call	 __RTC_UninitUse
  00564	83 c4 04	 add	 esp, 4
$LN155@DrawMapEff:
  00567	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  0056d	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  00573	c6 44 41 01 8f	 mov	 BYTE PTR [ecx+eax*2+1], -113 ; ffffff8fH

; 2326 : 							*(ptDest + surfacePitch * 3 + 1) = (char)143;

  00578	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0057f	75 0d		 jne	 SHORT $LN156@DrawMapEff
  00581	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00586	e8 00 00 00 00	 call	 __RTC_UninitUse
  0058b	83 c4 04	 add	 esp, 4
$LN156@DrawMapEff:
  0058e	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00595	75 0d		 jne	 SHORT $LN157@DrawMapEff
  00597	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  0059c	e8 00 00 00 00	 call	 __RTC_UninitUse
  005a1	83 c4 04	 add	 esp, 4
$LN157@DrawMapEff:
  005a4	6b 85 4c ff ff
	ff 03		 imul	 eax, DWORD PTR _surfacePitch$12[ebp], 3
  005ab	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  005b1	c6 44 01 01 8f	 mov	 BYTE PTR [ecx+eax+1], -113 ; ffffff8fH
$LN23@DrawMapEff:

; 2327 : 						}

  005b6	e9 62 2c 00 00	 jmp	 $LN15@DrawMapEff
$LN20@DrawMapEff:

; 2328 : 				}
; 2329 : 				else if (buf->type == MAP_EFFECT_TYPE_SNOW) {

  005bb	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  005c1	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  005c5	83 f9 02	 cmp	 ecx, 2
  005c8	0f 85 53 13 00
	00		 jne	 $LN26@DrawMapEff

; 2330 : 					if (buf->mode == 0) {

  005ce	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  005d4	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  005d8	85 c9		 test	 ecx, ecx
  005da	0f 85 c5 06 00
	00		 jne	 $LN28@DrawMapEff

; 2331 : #ifdef _HI_COLOR_32
; 2332 : 						if (displayBpp == 32) {

  005e0	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  005e7	0f 85 66 02 00
	00		 jne	 $LN30@DrawMapEff

; 2333 : 							*(ptDest32) = highColor32Palette[161];

  005ed	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  005f4	75 0d		 jne	 SHORT $LN158@DrawMapEff
  005f6	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  005fb	e8 00 00 00 00	 call	 __RTC_UninitUse
  00600	83 c4 04	 add	 esp, 4
$LN158@DrawMapEff:
  00603	b8 04 00 00 00	 mov	 eax, 4
  00608	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  0060e	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  00614	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0061a	89 02		 mov	 DWORD PTR [edx], eax

; 2334 : 							*(ptDest32 + 1) = highColor32Palette[159];

  0061c	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00623	75 0d		 jne	 SHORT $LN159@DrawMapEff
  00625	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  0062a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0062f	83 c4 04	 add	 esp, 4
$LN159@DrawMapEff:
  00632	b8 04 00 00 00	 mov	 eax, 4
  00637	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  0063d	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  00643	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00649	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 2335 : 							*(ptDest32 + 2) = highColor32Palette[161];

  0064c	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00653	75 0d		 jne	 SHORT $LN160@DrawMapEff
  00655	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  0065a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0065f	83 c4 04	 add	 esp, 4
$LN160@DrawMapEff:
  00662	b8 04 00 00 00	 mov	 eax, 4
  00667	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  0066d	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  00673	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00679	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 2336 : 							*(ptDest32 + surfacePitch) = highColor32Palette[159];

  0067c	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00683	75 0d		 jne	 SHORT $LN161@DrawMapEff
  00685	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0068a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0068f	83 c4 04	 add	 esp, 4
$LN161@DrawMapEff:
  00692	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00699	75 0d		 jne	 SHORT $LN162@DrawMapEff
  0069b	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  006a0	e8 00 00 00 00	 call	 __RTC_UninitUse
  006a5	83 c4 04	 add	 esp, 4
$LN162@DrawMapEff:
  006a8	b8 04 00 00 00	 mov	 eax, 4
  006ad	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  006b3	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  006b9	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  006bf	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  006c5	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2337 : 							*(ptDest32 + surfacePitch + 1) = highColor32Palette[159];

  006c8	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  006cf	75 0d		 jne	 SHORT $LN163@DrawMapEff
  006d1	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  006d6	e8 00 00 00 00	 call	 __RTC_UninitUse
  006db	83 c4 04	 add	 esp, 4
$LN163@DrawMapEff:
  006de	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  006e5	75 0d		 jne	 SHORT $LN164@DrawMapEff
  006e7	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  006ec	e8 00 00 00 00	 call	 __RTC_UninitUse
  006f1	83 c4 04	 add	 esp, 4
$LN164@DrawMapEff:
  006f4	b8 04 00 00 00	 mov	 eax, 4
  006f9	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  006ff	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00705	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  0070b	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00711	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2338 : 							*(ptDest32 + surfacePitch + 2) = highColor32Palette[159];

  00715	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0071c	75 0d		 jne	 SHORT $LN165@DrawMapEff
  0071e	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00723	e8 00 00 00 00	 call	 __RTC_UninitUse
  00728	83 c4 04	 add	 esp, 4
$LN165@DrawMapEff:
  0072b	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00732	75 0d		 jne	 SHORT $LN166@DrawMapEff
  00734	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00739	e8 00 00 00 00	 call	 __RTC_UninitUse
  0073e	83 c4 04	 add	 esp, 4
$LN166@DrawMapEff:
  00741	b8 04 00 00 00	 mov	 eax, 4
  00746	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  0074c	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00752	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00758	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0075e	89 4c 90 08	 mov	 DWORD PTR [eax+edx*4+8], ecx

; 2339 : 							*(ptDest32 + surfacePitch * 2) = highColor32Palette[161];

  00762	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00769	75 0d		 jne	 SHORT $LN167@DrawMapEff
  0076b	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00770	e8 00 00 00 00	 call	 __RTC_UninitUse
  00775	83 c4 04	 add	 esp, 4
$LN167@DrawMapEff:
  00778	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  0077f	75 0d		 jne	 SHORT $LN168@DrawMapEff
  00781	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00786	e8 00 00 00 00	 call	 __RTC_UninitUse
  0078b	83 c4 04	 add	 esp, 4
$LN168@DrawMapEff:
  0078e	b8 04 00 00 00	 mov	 eax, 4
  00793	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  00799	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0079f	d1 e2		 shl	 edx, 1
  007a1	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  007a7	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  007ad	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2340 : 							*(ptDest32 + surfacePitch * 2 + 1) = highColor32Palette[159];

  007b0	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  007b7	75 0d		 jne	 SHORT $LN169@DrawMapEff
  007b9	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  007be	e8 00 00 00 00	 call	 __RTC_UninitUse
  007c3	83 c4 04	 add	 esp, 4
$LN169@DrawMapEff:
  007c6	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  007cd	75 0d		 jne	 SHORT $LN170@DrawMapEff
  007cf	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  007d4	e8 00 00 00 00	 call	 __RTC_UninitUse
  007d9	83 c4 04	 add	 esp, 4
$LN170@DrawMapEff:
  007dc	b8 04 00 00 00	 mov	 eax, 4
  007e1	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  007e7	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  007ed	d1 e2		 shl	 edx, 1
  007ef	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  007f5	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  007fb	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2341 : 							*(ptDest32 + surfacePitch * 2 + 2) = highColor32Palette[161];

  007ff	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00806	75 0d		 jne	 SHORT $LN171@DrawMapEff
  00808	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0080d	e8 00 00 00 00	 call	 __RTC_UninitUse
  00812	83 c4 04	 add	 esp, 4
$LN171@DrawMapEff:
  00815	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  0081c	75 0d		 jne	 SHORT $LN172@DrawMapEff
  0081e	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00823	e8 00 00 00 00	 call	 __RTC_UninitUse
  00828	83 c4 04	 add	 esp, 4
$LN172@DrawMapEff:
  0082b	b8 04 00 00 00	 mov	 eax, 4
  00830	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  00836	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0083c	d1 e2		 shl	 edx, 1
  0083e	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00844	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0084a	89 4c 90 08	 mov	 DWORD PTR [eax+edx*4+8], ecx

; 2342 : 						}
; 2343 : 						else

  0084e	e9 4d 04 00 00	 jmp	 $LN31@DrawMapEff
$LN30@DrawMapEff:

; 2344 : #endif
; 2345 : 							if (displayBpp == 16) {

  00853	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  0085a	0f 85 78 02 00
	00		 jne	 $LN32@DrawMapEff

; 2346 : 								*(ptDest2) = highColorPalette[161];

  00860	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00867	75 0d		 jne	 SHORT $LN173@DrawMapEff
  00869	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  0086e	e8 00 00 00 00	 call	 __RTC_UninitUse
  00873	83 c4 04	 add	 esp, 4
$LN173@DrawMapEff:
  00876	b8 02 00 00 00	 mov	 eax, 2
  0087b	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  00881	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  00887	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0088e	66 89 02	 mov	 WORD PTR [edx], ax

; 2347 : 								*(ptDest2 + 1) = highColorPalette[159];

  00891	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00898	75 0d		 jne	 SHORT $LN174@DrawMapEff
  0089a	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  0089f	e8 00 00 00 00	 call	 __RTC_UninitUse
  008a4	83 c4 04	 add	 esp, 4
$LN174@DrawMapEff:
  008a7	b8 02 00 00 00	 mov	 eax, 2
  008ac	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  008b2	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  008b8	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  008bf	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2348 : 								*(ptDest2 + 2) = highColorPalette[161];

  008c3	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  008ca	75 0d		 jne	 SHORT $LN175@DrawMapEff
  008cc	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  008d1	e8 00 00 00 00	 call	 __RTC_UninitUse
  008d6	83 c4 04	 add	 esp, 4
$LN175@DrawMapEff:
  008d9	b8 02 00 00 00	 mov	 eax, 2
  008de	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  008e4	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  008ea	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  008f1	66 89 42 04	 mov	 WORD PTR [edx+4], ax

; 2349 : 								*(ptDest2 + surfacePitch) = highColorPalette[159];

  008f5	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  008fc	75 0d		 jne	 SHORT $LN176@DrawMapEff
  008fe	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00903	e8 00 00 00 00	 call	 __RTC_UninitUse
  00908	83 c4 04	 add	 esp, 4
$LN176@DrawMapEff:
  0090b	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00912	75 0d		 jne	 SHORT $LN177@DrawMapEff
  00914	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  00919	e8 00 00 00 00	 call	 __RTC_UninitUse
  0091e	83 c4 04	 add	 esp, 4
$LN177@DrawMapEff:
  00921	b8 02 00 00 00	 mov	 eax, 2
  00926	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  0092c	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00932	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  00938	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0093f	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2350 : 								*(ptDest2 + surfacePitch + 1) = highColorPalette[159];

  00943	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0094a	75 0d		 jne	 SHORT $LN178@DrawMapEff
  0094c	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00951	e8 00 00 00 00	 call	 __RTC_UninitUse
  00956	83 c4 04	 add	 esp, 4
$LN178@DrawMapEff:
  00959	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00960	75 0d		 jne	 SHORT $LN179@DrawMapEff
  00962	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  00967	e8 00 00 00 00	 call	 __RTC_UninitUse
  0096c	83 c4 04	 add	 esp, 4
$LN179@DrawMapEff:
  0096f	b8 02 00 00 00	 mov	 eax, 2
  00974	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  0097a	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00980	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  00986	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0098d	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2351 : 								*(ptDest2 + surfacePitch + 2) = highColorPalette[159];

  00992	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00999	75 0d		 jne	 SHORT $LN180@DrawMapEff
  0099b	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  009a0	e8 00 00 00 00	 call	 __RTC_UninitUse
  009a5	83 c4 04	 add	 esp, 4
$LN180@DrawMapEff:
  009a8	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  009af	75 0d		 jne	 SHORT $LN181@DrawMapEff
  009b1	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  009b6	e8 00 00 00 00	 call	 __RTC_UninitUse
  009bb	83 c4 04	 add	 esp, 4
$LN181@DrawMapEff:
  009be	b8 02 00 00 00	 mov	 eax, 2
  009c3	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  009c9	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  009cf	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  009d5	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  009dc	66 89 4c 50 04	 mov	 WORD PTR [eax+edx*2+4], cx

; 2352 : 								*(ptDest2 + surfacePitch * 2) = highColorPalette[161];

  009e1	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  009e8	75 0d		 jne	 SHORT $LN182@DrawMapEff
  009ea	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  009ef	e8 00 00 00 00	 call	 __RTC_UninitUse
  009f4	83 c4 04	 add	 esp, 4
$LN182@DrawMapEff:
  009f7	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  009fe	75 0d		 jne	 SHORT $LN183@DrawMapEff
  00a00	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  00a05	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a0a	83 c4 04	 add	 esp, 4
$LN183@DrawMapEff:
  00a0d	b8 02 00 00 00	 mov	 eax, 2
  00a12	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  00a18	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00a1e	d1 e2		 shl	 edx, 1
  00a20	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  00a26	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  00a2d	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2353 : 								*(ptDest2 + surfacePitch * 2 + 1) = highColorPalette[159];

  00a31	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00a38	75 0d		 jne	 SHORT $LN184@DrawMapEff
  00a3a	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00a3f	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a44	83 c4 04	 add	 esp, 4
$LN184@DrawMapEff:
  00a47	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00a4e	75 0d		 jne	 SHORT $LN185@DrawMapEff
  00a50	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  00a55	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a5a	83 c4 04	 add	 esp, 4
$LN185@DrawMapEff:
  00a5d	b8 02 00 00 00	 mov	 eax, 2
  00a62	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00a68	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00a6e	d1 e2		 shl	 edx, 1
  00a70	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  00a76	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  00a7d	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2354 : 								*(ptDest2 + surfacePitch * 2 + 2) = highColorPalette[161];

  00a82	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00a89	75 0d		 jne	 SHORT $LN186@DrawMapEff
  00a8b	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00a90	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a95	83 c4 04	 add	 esp, 4
$LN186@DrawMapEff:
  00a98	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00a9f	75 0d		 jne	 SHORT $LN187@DrawMapEff
  00aa1	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  00aa6	e8 00 00 00 00	 call	 __RTC_UninitUse
  00aab	83 c4 04	 add	 esp, 4
$LN187@DrawMapEff:
  00aae	b8 02 00 00 00	 mov	 eax, 2
  00ab3	69 c8 a1 00 00
	00		 imul	 ecx, eax, 161
  00ab9	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00abf	d1 e2		 shl	 edx, 1
  00ac1	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  00ac7	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  00ace	66 89 4c 50 04	 mov	 WORD PTR [eax+edx*2+4], cx

; 2355 : 							}
; 2356 : 							else {

  00ad3	e9 c8 01 00 00	 jmp	 $LN31@DrawMapEff
$LN32@DrawMapEff:

; 2357 : 								*(ptDest) = (char)161;

  00ad8	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00adf	75 0d		 jne	 SHORT $LN188@DrawMapEff
  00ae1	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00ae6	e8 00 00 00 00	 call	 __RTC_UninitUse
  00aeb	83 c4 04	 add	 esp, 4
$LN188@DrawMapEff:
  00aee	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  00af4	c6 00 a1	 mov	 BYTE PTR [eax], -95	; ffffffa1H

; 2358 : 								*(ptDest + 1) = (char)159;

  00af7	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00afe	75 0d		 jne	 SHORT $LN189@DrawMapEff
  00b00	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00b05	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b0a	83 c4 04	 add	 esp, 4
$LN189@DrawMapEff:
  00b0d	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  00b13	c6 40 01 9f	 mov	 BYTE PTR [eax+1], -97	; ffffff9fH

; 2359 : 								*(ptDest + 2) = (char)161;

  00b17	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00b1e	75 0d		 jne	 SHORT $LN190@DrawMapEff
  00b20	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00b25	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b2a	83 c4 04	 add	 esp, 4
$LN190@DrawMapEff:
  00b2d	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  00b33	c6 40 02 a1	 mov	 BYTE PTR [eax+2], -95	; ffffffa1H

; 2360 : 								*(ptDest + surfacePitch) = (char)159;

  00b37	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00b3e	75 0d		 jne	 SHORT $LN191@DrawMapEff
  00b40	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00b45	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b4a	83 c4 04	 add	 esp, 4
$LN191@DrawMapEff:
  00b4d	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00b54	75 0d		 jne	 SHORT $LN192@DrawMapEff
  00b56	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00b5b	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b60	83 c4 04	 add	 esp, 4
$LN192@DrawMapEff:
  00b63	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  00b69	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  00b6f	c6 00 9f	 mov	 BYTE PTR [eax], -97	; ffffff9fH

; 2361 : 								*(ptDest + surfacePitch + 1) = (char)159;

  00b72	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00b79	75 0d		 jne	 SHORT $LN193@DrawMapEff
  00b7b	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00b80	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b85	83 c4 04	 add	 esp, 4
$LN193@DrawMapEff:
  00b88	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00b8f	75 0d		 jne	 SHORT $LN194@DrawMapEff
  00b91	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00b96	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b9b	83 c4 04	 add	 esp, 4
$LN194@DrawMapEff:
  00b9e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  00ba4	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  00baa	c6 40 01 9f	 mov	 BYTE PTR [eax+1], -97	; ffffff9fH

; 2362 : 								*(ptDest + surfacePitch + 2) = (char)159;

  00bae	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00bb5	75 0d		 jne	 SHORT $LN195@DrawMapEff
  00bb7	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00bbc	e8 00 00 00 00	 call	 __RTC_UninitUse
  00bc1	83 c4 04	 add	 esp, 4
$LN195@DrawMapEff:
  00bc4	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00bcb	75 0d		 jne	 SHORT $LN196@DrawMapEff
  00bcd	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00bd2	e8 00 00 00 00	 call	 __RTC_UninitUse
  00bd7	83 c4 04	 add	 esp, 4
$LN196@DrawMapEff:
  00bda	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  00be0	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  00be6	c6 40 02 9f	 mov	 BYTE PTR [eax+2], -97	; ffffff9fH

; 2363 : 								*(ptDest + surfacePitch * 2) = (char)161;

  00bea	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00bf1	75 0d		 jne	 SHORT $LN197@DrawMapEff
  00bf3	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00bf8	e8 00 00 00 00	 call	 __RTC_UninitUse
  00bfd	83 c4 04	 add	 esp, 4
$LN197@DrawMapEff:
  00c00	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00c07	75 0d		 jne	 SHORT $LN198@DrawMapEff
  00c09	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00c0e	e8 00 00 00 00	 call	 __RTC_UninitUse
  00c13	83 c4 04	 add	 esp, 4
$LN198@DrawMapEff:
  00c16	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  00c1c	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  00c22	c6 04 41 a1	 mov	 BYTE PTR [ecx+eax*2], -95 ; ffffffa1H

; 2364 : 								*(ptDest + surfacePitch * 2 + 1) = (char)159;

  00c26	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00c2d	75 0d		 jne	 SHORT $LN199@DrawMapEff
  00c2f	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00c34	e8 00 00 00 00	 call	 __RTC_UninitUse
  00c39	83 c4 04	 add	 esp, 4
$LN199@DrawMapEff:
  00c3c	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00c43	75 0d		 jne	 SHORT $LN200@DrawMapEff
  00c45	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00c4a	e8 00 00 00 00	 call	 __RTC_UninitUse
  00c4f	83 c4 04	 add	 esp, 4
$LN200@DrawMapEff:
  00c52	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  00c58	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  00c5e	c6 44 41 01 9f	 mov	 BYTE PTR [ecx+eax*2+1], -97 ; ffffff9fH

; 2365 : 								*(ptDest + surfacePitch * 2 + 2) = (char)161;

  00c63	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00c6a	75 0d		 jne	 SHORT $LN201@DrawMapEff
  00c6c	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00c71	e8 00 00 00 00	 call	 __RTC_UninitUse
  00c76	83 c4 04	 add	 esp, 4
$LN201@DrawMapEff:
  00c79	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00c80	75 0d		 jne	 SHORT $LN202@DrawMapEff
  00c82	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  00c87	e8 00 00 00 00	 call	 __RTC_UninitUse
  00c8c	83 c4 04	 add	 esp, 4
$LN202@DrawMapEff:
  00c8f	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  00c95	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  00c9b	c6 44 41 02 a1	 mov	 BYTE PTR [ecx+eax*2+2], -95 ; ffffffa1H
$LN31@DrawMapEff:

; 2366 : 							}

  00ca0	e9 77 0c 00 00	 jmp	 $LN29@DrawMapEff
$LN28@DrawMapEff:

; 2367 : 					}
; 2368 : 					else if (buf->mode == 1) {

  00ca5	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  00cab	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  00caf	83 f9 01	 cmp	 ecx, 1
  00cb2	0f 85 64 0c 00
	00		 jne	 $LN29@DrawMapEff

; 2369 : #ifdef _HI_COLOR_32
; 2370 : 						if (displayBpp == 32) {

  00cb8	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  00cbf	0f 85 69 04 00
	00		 jne	 $LN35@DrawMapEff

; 2371 : 							*(ptDest32) = highColor32Palette[162];

  00cc5	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00ccc	75 0d		 jne	 SHORT $LN203@DrawMapEff
  00cce	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00cd3	e8 00 00 00 00	 call	 __RTC_UninitUse
  00cd8	83 c4 04	 add	 esp, 4
$LN203@DrawMapEff:
  00cdb	b8 04 00 00 00	 mov	 eax, 4
  00ce0	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  00ce6	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  00cec	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00cf2	89 02		 mov	 DWORD PTR [edx], eax

; 2372 : 							*(ptDest32 + 1) = highColor32Palette[159];

  00cf4	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00cfb	75 0d		 jne	 SHORT $LN204@DrawMapEff
  00cfd	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00d02	e8 00 00 00 00	 call	 __RTC_UninitUse
  00d07	83 c4 04	 add	 esp, 4
$LN204@DrawMapEff:
  00d0a	b8 04 00 00 00	 mov	 eax, 4
  00d0f	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00d15	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  00d1b	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00d21	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 2373 : 							*(ptDest32 + 2) = highColor32Palette[159];

  00d24	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00d2b	75 0d		 jne	 SHORT $LN205@DrawMapEff
  00d2d	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00d32	e8 00 00 00 00	 call	 __RTC_UninitUse
  00d37	83 c4 04	 add	 esp, 4
$LN205@DrawMapEff:
  00d3a	b8 04 00 00 00	 mov	 eax, 4
  00d3f	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00d45	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  00d4b	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00d51	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 2374 : 							*(ptDest32 + 3) = highColor32Palette[162];

  00d54	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00d5b	75 0d		 jne	 SHORT $LN206@DrawMapEff
  00d5d	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00d62	e8 00 00 00 00	 call	 __RTC_UninitUse
  00d67	83 c4 04	 add	 esp, 4
$LN206@DrawMapEff:
  00d6a	b8 04 00 00 00	 mov	 eax, 4
  00d6f	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  00d75	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  00d7b	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00d81	89 42 0c	 mov	 DWORD PTR [edx+12], eax

; 2375 : 							*(ptDest32 + surfacePitch) = highColor32Palette[159];

  00d84	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00d8b	75 0d		 jne	 SHORT $LN207@DrawMapEff
  00d8d	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00d92	e8 00 00 00 00	 call	 __RTC_UninitUse
  00d97	83 c4 04	 add	 esp, 4
$LN207@DrawMapEff:
  00d9a	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00da1	75 0d		 jne	 SHORT $LN208@DrawMapEff
  00da3	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00da8	e8 00 00 00 00	 call	 __RTC_UninitUse
  00dad	83 c4 04	 add	 esp, 4
$LN208@DrawMapEff:
  00db0	b8 04 00 00 00	 mov	 eax, 4
  00db5	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00dbb	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00dc1	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00dc7	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00dcd	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2376 : 							*(ptDest32 + surfacePitch + 1) = highColor32Palette[159];

  00dd0	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00dd7	75 0d		 jne	 SHORT $LN209@DrawMapEff
  00dd9	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00dde	e8 00 00 00 00	 call	 __RTC_UninitUse
  00de3	83 c4 04	 add	 esp, 4
$LN209@DrawMapEff:
  00de6	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00ded	75 0d		 jne	 SHORT $LN210@DrawMapEff
  00def	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00df4	e8 00 00 00 00	 call	 __RTC_UninitUse
  00df9	83 c4 04	 add	 esp, 4
$LN210@DrawMapEff:
  00dfc	b8 04 00 00 00	 mov	 eax, 4
  00e01	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00e07	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00e0d	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00e13	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00e19	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2377 : 							*(ptDest32 + surfacePitch + 2) = highColor32Palette[159];

  00e1d	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00e24	75 0d		 jne	 SHORT $LN211@DrawMapEff
  00e26	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00e2b	e8 00 00 00 00	 call	 __RTC_UninitUse
  00e30	83 c4 04	 add	 esp, 4
$LN211@DrawMapEff:
  00e33	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00e3a	75 0d		 jne	 SHORT $LN212@DrawMapEff
  00e3c	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00e41	e8 00 00 00 00	 call	 __RTC_UninitUse
  00e46	83 c4 04	 add	 esp, 4
$LN212@DrawMapEff:
  00e49	b8 04 00 00 00	 mov	 eax, 4
  00e4e	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00e54	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00e5a	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00e60	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00e66	89 4c 90 08	 mov	 DWORD PTR [eax+edx*4+8], ecx

; 2378 : 							*(ptDest32 + surfacePitch + 3) = highColor32Palette[159];

  00e6a	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00e71	75 0d		 jne	 SHORT $LN213@DrawMapEff
  00e73	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00e78	e8 00 00 00 00	 call	 __RTC_UninitUse
  00e7d	83 c4 04	 add	 esp, 4
$LN213@DrawMapEff:
  00e80	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00e87	75 0d		 jne	 SHORT $LN214@DrawMapEff
  00e89	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00e8e	e8 00 00 00 00	 call	 __RTC_UninitUse
  00e93	83 c4 04	 add	 esp, 4
$LN214@DrawMapEff:
  00e96	b8 04 00 00 00	 mov	 eax, 4
  00e9b	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00ea1	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00ea7	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00ead	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00eb3	89 4c 90 0c	 mov	 DWORD PTR [eax+edx*4+12], ecx

; 2379 : 							*(ptDest32 + surfacePitch * 2) = highColor32Palette[159];

  00eb7	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00ebe	75 0d		 jne	 SHORT $LN215@DrawMapEff
  00ec0	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00ec5	e8 00 00 00 00	 call	 __RTC_UninitUse
  00eca	83 c4 04	 add	 esp, 4
$LN215@DrawMapEff:
  00ecd	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00ed4	75 0d		 jne	 SHORT $LN216@DrawMapEff
  00ed6	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00edb	e8 00 00 00 00	 call	 __RTC_UninitUse
  00ee0	83 c4 04	 add	 esp, 4
$LN216@DrawMapEff:
  00ee3	b8 04 00 00 00	 mov	 eax, 4
  00ee8	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00eee	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00ef4	d1 e2		 shl	 edx, 1
  00ef6	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00efc	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00f02	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2380 : 							*(ptDest32 + surfacePitch * 2 + 1) = highColor32Palette[159];

  00f05	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00f0c	75 0d		 jne	 SHORT $LN217@DrawMapEff
  00f0e	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00f13	e8 00 00 00 00	 call	 __RTC_UninitUse
  00f18	83 c4 04	 add	 esp, 4
$LN217@DrawMapEff:
  00f1b	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00f22	75 0d		 jne	 SHORT $LN218@DrawMapEff
  00f24	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00f29	e8 00 00 00 00	 call	 __RTC_UninitUse
  00f2e	83 c4 04	 add	 esp, 4
$LN218@DrawMapEff:
  00f31	b8 04 00 00 00	 mov	 eax, 4
  00f36	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00f3c	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00f42	d1 e2		 shl	 edx, 1
  00f44	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00f4a	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00f50	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2381 : 							*(ptDest32 + surfacePitch * 2 + 2) = highColor32Palette[159];

  00f54	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00f5b	75 0d		 jne	 SHORT $LN219@DrawMapEff
  00f5d	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00f62	e8 00 00 00 00	 call	 __RTC_UninitUse
  00f67	83 c4 04	 add	 esp, 4
$LN219@DrawMapEff:
  00f6a	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00f71	75 0d		 jne	 SHORT $LN220@DrawMapEff
  00f73	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00f78	e8 00 00 00 00	 call	 __RTC_UninitUse
  00f7d	83 c4 04	 add	 esp, 4
$LN220@DrawMapEff:
  00f80	b8 04 00 00 00	 mov	 eax, 4
  00f85	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00f8b	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00f91	d1 e2		 shl	 edx, 1
  00f93	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00f99	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00f9f	89 4c 90 08	 mov	 DWORD PTR [eax+edx*4+8], ecx

; 2382 : 							*(ptDest32 + surfacePitch * 2 + 3) = highColor32Palette[159];

  00fa3	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00faa	75 0d		 jne	 SHORT $LN221@DrawMapEff
  00fac	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  00fb1	e8 00 00 00 00	 call	 __RTC_UninitUse
  00fb6	83 c4 04	 add	 esp, 4
$LN221@DrawMapEff:
  00fb9	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  00fc0	75 0d		 jne	 SHORT $LN222@DrawMapEff
  00fc2	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  00fc7	e8 00 00 00 00	 call	 __RTC_UninitUse
  00fcc	83 c4 04	 add	 esp, 4
$LN222@DrawMapEff:
  00fcf	b8 04 00 00 00	 mov	 eax, 4
  00fd4	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  00fda	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  00fe0	d1 e2		 shl	 edx, 1
  00fe2	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  00fe8	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  00fee	89 4c 90 0c	 mov	 DWORD PTR [eax+edx*4+12], ecx

; 2383 : 							*(ptDest32 + surfacePitch * 3) = highColor32Palette[162];

  00ff2	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  00ff9	75 0d		 jne	 SHORT $LN223@DrawMapEff
  00ffb	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01000	e8 00 00 00 00	 call	 __RTC_UninitUse
  01005	83 c4 04	 add	 esp, 4
$LN223@DrawMapEff:
  01008	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  0100f	75 0d		 jne	 SHORT $LN224@DrawMapEff
  01011	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01016	e8 00 00 00 00	 call	 __RTC_UninitUse
  0101b	83 c4 04	 add	 esp, 4
$LN224@DrawMapEff:
  0101e	b8 04 00 00 00	 mov	 eax, 4
  01023	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  01029	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  01030	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  01036	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0103c	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2384 : 							*(ptDest32 + surfacePitch * 3 + 1) = highColor32Palette[159];

  0103f	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01046	75 0d		 jne	 SHORT $LN225@DrawMapEff
  01048	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0104d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01052	83 c4 04	 add	 esp, 4
$LN225@DrawMapEff:
  01055	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  0105c	75 0d		 jne	 SHORT $LN226@DrawMapEff
  0105e	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01063	e8 00 00 00 00	 call	 __RTC_UninitUse
  01068	83 c4 04	 add	 esp, 4
$LN226@DrawMapEff:
  0106b	b8 04 00 00 00	 mov	 eax, 4
  01070	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01076	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  0107d	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  01083	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  01089	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2385 : 							*(ptDest32 + surfacePitch * 3 + 2) = highColor32Palette[159];

  0108d	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01094	75 0d		 jne	 SHORT $LN227@DrawMapEff
  01096	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0109b	e8 00 00 00 00	 call	 __RTC_UninitUse
  010a0	83 c4 04	 add	 esp, 4
$LN227@DrawMapEff:
  010a3	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  010aa	75 0d		 jne	 SHORT $LN228@DrawMapEff
  010ac	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  010b1	e8 00 00 00 00	 call	 __RTC_UninitUse
  010b6	83 c4 04	 add	 esp, 4
$LN228@DrawMapEff:
  010b9	b8 04 00 00 00	 mov	 eax, 4
  010be	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  010c4	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  010cb	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  010d1	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  010d7	89 4c 90 08	 mov	 DWORD PTR [eax+edx*4+8], ecx

; 2386 : 							*(ptDest32 + surfacePitch * 3 + 3) = highColor32Palette[162];

  010db	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  010e2	75 0d		 jne	 SHORT $LN229@DrawMapEff
  010e4	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  010e9	e8 00 00 00 00	 call	 __RTC_UninitUse
  010ee	83 c4 04	 add	 esp, 4
$LN229@DrawMapEff:
  010f1	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  010f8	75 0d		 jne	 SHORT $LN230@DrawMapEff
  010fa	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  010ff	e8 00 00 00 00	 call	 __RTC_UninitUse
  01104	83 c4 04	 add	 esp, 4
$LN230@DrawMapEff:
  01107	b8 04 00 00 00	 mov	 eax, 4
  0110c	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  01112	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  01119	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  0111f	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  01125	89 4c 90 0c	 mov	 DWORD PTR [eax+edx*4+12], ecx

; 2387 : 						}
; 2388 : 						else

  01129	e9 ee 07 00 00	 jmp	 $LN29@DrawMapEff
$LN35@DrawMapEff:

; 2389 : #endif
; 2390 : 							if (displayBpp == 16) {

  0112e	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  01135	0f 85 89 04 00
	00		 jne	 $LN37@DrawMapEff

; 2391 : 								*(ptDest2) = highColorPalette[162];

  0113b	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01142	75 0d		 jne	 SHORT $LN231@DrawMapEff
  01144	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01149	e8 00 00 00 00	 call	 __RTC_UninitUse
  0114e	83 c4 04	 add	 esp, 4
$LN231@DrawMapEff:
  01151	b8 02 00 00 00	 mov	 eax, 2
  01156	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  0115c	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01162	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01169	66 89 02	 mov	 WORD PTR [edx], ax

; 2392 : 								*(ptDest2 + 1) = highColorPalette[159];

  0116c	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01173	75 0d		 jne	 SHORT $LN232@DrawMapEff
  01175	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  0117a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0117f	83 c4 04	 add	 esp, 4
$LN232@DrawMapEff:
  01182	b8 02 00 00 00	 mov	 eax, 2
  01187	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  0118d	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01193	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0119a	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2393 : 								*(ptDest2 + 2) = highColorPalette[159];

  0119e	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  011a5	75 0d		 jne	 SHORT $LN233@DrawMapEff
  011a7	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  011ac	e8 00 00 00 00	 call	 __RTC_UninitUse
  011b1	83 c4 04	 add	 esp, 4
$LN233@DrawMapEff:
  011b4	b8 02 00 00 00	 mov	 eax, 2
  011b9	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  011bf	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  011c5	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  011cc	66 89 42 04	 mov	 WORD PTR [edx+4], ax

; 2394 : 								*(ptDest2 + 3) = highColorPalette[162];

  011d0	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  011d7	75 0d		 jne	 SHORT $LN234@DrawMapEff
  011d9	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  011de	e8 00 00 00 00	 call	 __RTC_UninitUse
  011e3	83 c4 04	 add	 esp, 4
$LN234@DrawMapEff:
  011e6	b8 02 00 00 00	 mov	 eax, 2
  011eb	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  011f1	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  011f7	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  011fe	66 89 42 06	 mov	 WORD PTR [edx+6], ax

; 2395 : 								*(ptDest2 + surfacePitch) = highColorPalette[159];

  01202	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01209	75 0d		 jne	 SHORT $LN235@DrawMapEff
  0120b	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01210	e8 00 00 00 00	 call	 __RTC_UninitUse
  01215	83 c4 04	 add	 esp, 4
$LN235@DrawMapEff:
  01218	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0121f	75 0d		 jne	 SHORT $LN236@DrawMapEff
  01221	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01226	e8 00 00 00 00	 call	 __RTC_UninitUse
  0122b	83 c4 04	 add	 esp, 4
$LN236@DrawMapEff:
  0122e	b8 02 00 00 00	 mov	 eax, 2
  01233	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01239	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0123f	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01245	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0124c	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2396 : 								*(ptDest2 + surfacePitch + 1) = highColorPalette[159];

  01250	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01257	75 0d		 jne	 SHORT $LN237@DrawMapEff
  01259	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0125e	e8 00 00 00 00	 call	 __RTC_UninitUse
  01263	83 c4 04	 add	 esp, 4
$LN237@DrawMapEff:
  01266	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0126d	75 0d		 jne	 SHORT $LN238@DrawMapEff
  0126f	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01274	e8 00 00 00 00	 call	 __RTC_UninitUse
  01279	83 c4 04	 add	 esp, 4
$LN238@DrawMapEff:
  0127c	b8 02 00 00 00	 mov	 eax, 2
  01281	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01287	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0128d	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01293	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0129a	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2397 : 								*(ptDest2 + surfacePitch + 2) = highColorPalette[159];

  0129f	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  012a6	75 0d		 jne	 SHORT $LN239@DrawMapEff
  012a8	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  012ad	e8 00 00 00 00	 call	 __RTC_UninitUse
  012b2	83 c4 04	 add	 esp, 4
$LN239@DrawMapEff:
  012b5	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  012bc	75 0d		 jne	 SHORT $LN240@DrawMapEff
  012be	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  012c3	e8 00 00 00 00	 call	 __RTC_UninitUse
  012c8	83 c4 04	 add	 esp, 4
$LN240@DrawMapEff:
  012cb	b8 02 00 00 00	 mov	 eax, 2
  012d0	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  012d6	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  012dc	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  012e2	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  012e9	66 89 4c 50 04	 mov	 WORD PTR [eax+edx*2+4], cx

; 2398 : 								*(ptDest2 + surfacePitch + 3) = highColorPalette[159];

  012ee	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  012f5	75 0d		 jne	 SHORT $LN241@DrawMapEff
  012f7	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  012fc	e8 00 00 00 00	 call	 __RTC_UninitUse
  01301	83 c4 04	 add	 esp, 4
$LN241@DrawMapEff:
  01304	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0130b	75 0d		 jne	 SHORT $LN242@DrawMapEff
  0130d	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01312	e8 00 00 00 00	 call	 __RTC_UninitUse
  01317	83 c4 04	 add	 esp, 4
$LN242@DrawMapEff:
  0131a	b8 02 00 00 00	 mov	 eax, 2
  0131f	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01325	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0132b	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01331	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01338	66 89 4c 50 06	 mov	 WORD PTR [eax+edx*2+6], cx

; 2399 : 								*(ptDest2 + surfacePitch * 2) = highColorPalette[159];

  0133d	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01344	75 0d		 jne	 SHORT $LN243@DrawMapEff
  01346	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0134b	e8 00 00 00 00	 call	 __RTC_UninitUse
  01350	83 c4 04	 add	 esp, 4
$LN243@DrawMapEff:
  01353	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0135a	75 0d		 jne	 SHORT $LN244@DrawMapEff
  0135c	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01361	e8 00 00 00 00	 call	 __RTC_UninitUse
  01366	83 c4 04	 add	 esp, 4
$LN244@DrawMapEff:
  01369	b8 02 00 00 00	 mov	 eax, 2
  0136e	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01374	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0137a	d1 e2		 shl	 edx, 1
  0137c	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01382	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01389	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2400 : 								*(ptDest2 + surfacePitch * 2 + 1) = highColorPalette[159];

  0138d	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01394	75 0d		 jne	 SHORT $LN245@DrawMapEff
  01396	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0139b	e8 00 00 00 00	 call	 __RTC_UninitUse
  013a0	83 c4 04	 add	 esp, 4
$LN245@DrawMapEff:
  013a3	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  013aa	75 0d		 jne	 SHORT $LN246@DrawMapEff
  013ac	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  013b1	e8 00 00 00 00	 call	 __RTC_UninitUse
  013b6	83 c4 04	 add	 esp, 4
$LN246@DrawMapEff:
  013b9	b8 02 00 00 00	 mov	 eax, 2
  013be	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  013c4	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  013ca	d1 e2		 shl	 edx, 1
  013cc	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  013d2	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  013d9	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2401 : 								*(ptDest2 + surfacePitch * 2 + 2) = highColorPalette[159];

  013de	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  013e5	75 0d		 jne	 SHORT $LN247@DrawMapEff
  013e7	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  013ec	e8 00 00 00 00	 call	 __RTC_UninitUse
  013f1	83 c4 04	 add	 esp, 4
$LN247@DrawMapEff:
  013f4	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  013fb	75 0d		 jne	 SHORT $LN248@DrawMapEff
  013fd	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01402	e8 00 00 00 00	 call	 __RTC_UninitUse
  01407	83 c4 04	 add	 esp, 4
$LN248@DrawMapEff:
  0140a	b8 02 00 00 00	 mov	 eax, 2
  0140f	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01415	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0141b	d1 e2		 shl	 edx, 1
  0141d	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01423	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0142a	66 89 4c 50 04	 mov	 WORD PTR [eax+edx*2+4], cx

; 2402 : 								*(ptDest2 + surfacePitch * 2 + 3) = highColorPalette[159];

  0142f	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01436	75 0d		 jne	 SHORT $LN249@DrawMapEff
  01438	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0143d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01442	83 c4 04	 add	 esp, 4
$LN249@DrawMapEff:
  01445	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0144c	75 0d		 jne	 SHORT $LN250@DrawMapEff
  0144e	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01453	e8 00 00 00 00	 call	 __RTC_UninitUse
  01458	83 c4 04	 add	 esp, 4
$LN250@DrawMapEff:
  0145b	b8 02 00 00 00	 mov	 eax, 2
  01460	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01466	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0146c	d1 e2		 shl	 edx, 1
  0146e	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01474	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0147b	66 89 4c 50 06	 mov	 WORD PTR [eax+edx*2+6], cx

; 2403 : 								*(ptDest2 + surfacePitch * 3) = highColorPalette[162];

  01480	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01487	75 0d		 jne	 SHORT $LN251@DrawMapEff
  01489	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0148e	e8 00 00 00 00	 call	 __RTC_UninitUse
  01493	83 c4 04	 add	 esp, 4
$LN251@DrawMapEff:
  01496	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0149d	75 0d		 jne	 SHORT $LN252@DrawMapEff
  0149f	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  014a4	e8 00 00 00 00	 call	 __RTC_UninitUse
  014a9	83 c4 04	 add	 esp, 4
$LN252@DrawMapEff:
  014ac	b8 02 00 00 00	 mov	 eax, 2
  014b1	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  014b7	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  014be	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  014c4	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  014cb	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2404 : 								*(ptDest2 + surfacePitch * 3 + 1) = highColorPalette[159];

  014cf	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  014d6	75 0d		 jne	 SHORT $LN253@DrawMapEff
  014d8	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  014dd	e8 00 00 00 00	 call	 __RTC_UninitUse
  014e2	83 c4 04	 add	 esp, 4
$LN253@DrawMapEff:
  014e5	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  014ec	75 0d		 jne	 SHORT $LN254@DrawMapEff
  014ee	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  014f3	e8 00 00 00 00	 call	 __RTC_UninitUse
  014f8	83 c4 04	 add	 esp, 4
$LN254@DrawMapEff:
  014fb	b8 02 00 00 00	 mov	 eax, 2
  01500	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01506	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  0150d	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01513	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0151a	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2405 : 								*(ptDest2 + surfacePitch * 3 + 2) = highColorPalette[159];

  0151f	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01526	75 0d		 jne	 SHORT $LN255@DrawMapEff
  01528	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0152d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01532	83 c4 04	 add	 esp, 4
$LN255@DrawMapEff:
  01535	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0153c	75 0d		 jne	 SHORT $LN256@DrawMapEff
  0153e	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01543	e8 00 00 00 00	 call	 __RTC_UninitUse
  01548	83 c4 04	 add	 esp, 4
$LN256@DrawMapEff:
  0154b	b8 02 00 00 00	 mov	 eax, 2
  01550	69 c8 9f 00 00
	00		 imul	 ecx, eax, 159
  01556	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  0155d	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01563	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0156a	66 89 4c 50 04	 mov	 WORD PTR [eax+edx*2+4], cx

; 2406 : 								*(ptDest2 + surfacePitch * 3 + 3) = highColorPalette[162];

  0156f	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01576	75 0d		 jne	 SHORT $LN257@DrawMapEff
  01578	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0157d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01582	83 c4 04	 add	 esp, 4
$LN257@DrawMapEff:
  01585	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0158c	75 0d		 jne	 SHORT $LN258@DrawMapEff
  0158e	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01593	e8 00 00 00 00	 call	 __RTC_UninitUse
  01598	83 c4 04	 add	 esp, 4
$LN258@DrawMapEff:
  0159b	b8 02 00 00 00	 mov	 eax, 2
  015a0	69 c8 a2 00 00
	00		 imul	 ecx, eax, 162
  015a6	6b 95 4c ff ff
	ff 03		 imul	 edx, DWORD PTR _surfacePitch$12[ebp], 3
  015ad	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  015b3	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  015ba	66 89 4c 50 06	 mov	 WORD PTR [eax+edx*2+6], cx

; 2407 : 							}
; 2408 : 							else {

  015bf	e9 58 03 00 00	 jmp	 $LN29@DrawMapEff
$LN37@DrawMapEff:

; 2409 : 								*(ptDest) = (char)162;

  015c4	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  015cb	75 0d		 jne	 SHORT $LN259@DrawMapEff
  015cd	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  015d2	e8 00 00 00 00	 call	 __RTC_UninitUse
  015d7	83 c4 04	 add	 esp, 4
$LN259@DrawMapEff:
  015da	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  015e0	c6 00 a2	 mov	 BYTE PTR [eax], -94	; ffffffa2H

; 2410 : 								*(ptDest + 1) = (char)159;

  015e3	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  015ea	75 0d		 jne	 SHORT $LN260@DrawMapEff
  015ec	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  015f1	e8 00 00 00 00	 call	 __RTC_UninitUse
  015f6	83 c4 04	 add	 esp, 4
$LN260@DrawMapEff:
  015f9	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  015ff	c6 40 01 9f	 mov	 BYTE PTR [eax+1], -97	; ffffff9fH

; 2411 : 								*(ptDest + 2) = (char)159;

  01603	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0160a	75 0d		 jne	 SHORT $LN261@DrawMapEff
  0160c	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01611	e8 00 00 00 00	 call	 __RTC_UninitUse
  01616	83 c4 04	 add	 esp, 4
$LN261@DrawMapEff:
  01619	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  0161f	c6 40 02 9f	 mov	 BYTE PTR [eax+2], -97	; ffffff9fH

; 2412 : 								*(ptDest + 3) = (char)162;

  01623	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0162a	75 0d		 jne	 SHORT $LN262@DrawMapEff
  0162c	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01631	e8 00 00 00 00	 call	 __RTC_UninitUse
  01636	83 c4 04	 add	 esp, 4
$LN262@DrawMapEff:
  01639	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  0163f	c6 40 03 a2	 mov	 BYTE PTR [eax+3], -94	; ffffffa2H

; 2413 : 								*(ptDest + surfacePitch) = (char)159;

  01643	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0164a	75 0d		 jne	 SHORT $LN263@DrawMapEff
  0164c	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01651	e8 00 00 00 00	 call	 __RTC_UninitUse
  01656	83 c4 04	 add	 esp, 4
$LN263@DrawMapEff:
  01659	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01660	75 0d		 jne	 SHORT $LN264@DrawMapEff
  01662	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01667	e8 00 00 00 00	 call	 __RTC_UninitUse
  0166c	83 c4 04	 add	 esp, 4
$LN264@DrawMapEff:
  0166f	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01675	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  0167b	c6 00 9f	 mov	 BYTE PTR [eax], -97	; ffffff9fH

; 2414 : 								*(ptDest + surfacePitch + 1) = (char)159;

  0167e	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01685	75 0d		 jne	 SHORT $LN265@DrawMapEff
  01687	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  0168c	e8 00 00 00 00	 call	 __RTC_UninitUse
  01691	83 c4 04	 add	 esp, 4
$LN265@DrawMapEff:
  01694	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0169b	75 0d		 jne	 SHORT $LN266@DrawMapEff
  0169d	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  016a2	e8 00 00 00 00	 call	 __RTC_UninitUse
  016a7	83 c4 04	 add	 esp, 4
$LN266@DrawMapEff:
  016aa	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  016b0	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  016b6	c6 40 01 9f	 mov	 BYTE PTR [eax+1], -97	; ffffff9fH

; 2415 : 								*(ptDest + surfacePitch + 2) = (char)159;

  016ba	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  016c1	75 0d		 jne	 SHORT $LN267@DrawMapEff
  016c3	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  016c8	e8 00 00 00 00	 call	 __RTC_UninitUse
  016cd	83 c4 04	 add	 esp, 4
$LN267@DrawMapEff:
  016d0	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  016d7	75 0d		 jne	 SHORT $LN268@DrawMapEff
  016d9	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  016de	e8 00 00 00 00	 call	 __RTC_UninitUse
  016e3	83 c4 04	 add	 esp, 4
$LN268@DrawMapEff:
  016e6	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  016ec	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  016f2	c6 40 02 9f	 mov	 BYTE PTR [eax+2], -97	; ffffff9fH

; 2416 : 								*(ptDest + surfacePitch + 3) = (char)159;

  016f6	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  016fd	75 0d		 jne	 SHORT $LN269@DrawMapEff
  016ff	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01704	e8 00 00 00 00	 call	 __RTC_UninitUse
  01709	83 c4 04	 add	 esp, 4
$LN269@DrawMapEff:
  0170c	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01713	75 0d		 jne	 SHORT $LN270@DrawMapEff
  01715	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0171a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0171f	83 c4 04	 add	 esp, 4
$LN270@DrawMapEff:
  01722	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01728	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  0172e	c6 40 03 9f	 mov	 BYTE PTR [eax+3], -97	; ffffff9fH

; 2417 : 								*(ptDest + surfacePitch * 2) = (char)159;

  01732	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01739	75 0d		 jne	 SHORT $LN271@DrawMapEff
  0173b	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01740	e8 00 00 00 00	 call	 __RTC_UninitUse
  01745	83 c4 04	 add	 esp, 4
$LN271@DrawMapEff:
  01748	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0174f	75 0d		 jne	 SHORT $LN272@DrawMapEff
  01751	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01756	e8 00 00 00 00	 call	 __RTC_UninitUse
  0175b	83 c4 04	 add	 esp, 4
$LN272@DrawMapEff:
  0175e	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  01764	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  0176a	c6 04 41 9f	 mov	 BYTE PTR [ecx+eax*2], -97 ; ffffff9fH

; 2418 : 								*(ptDest + surfacePitch * 2 + 1) = (char)159;

  0176e	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01775	75 0d		 jne	 SHORT $LN273@DrawMapEff
  01777	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0177c	e8 00 00 00 00	 call	 __RTC_UninitUse
  01781	83 c4 04	 add	 esp, 4
$LN273@DrawMapEff:
  01784	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0178b	75 0d		 jne	 SHORT $LN274@DrawMapEff
  0178d	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01792	e8 00 00 00 00	 call	 __RTC_UninitUse
  01797	83 c4 04	 add	 esp, 4
$LN274@DrawMapEff:
  0179a	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  017a0	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  017a6	c6 44 41 01 9f	 mov	 BYTE PTR [ecx+eax*2+1], -97 ; ffffff9fH

; 2419 : 								*(ptDest + surfacePitch * 2 + 2) = (char)159;

  017ab	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  017b2	75 0d		 jne	 SHORT $LN275@DrawMapEff
  017b4	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  017b9	e8 00 00 00 00	 call	 __RTC_UninitUse
  017be	83 c4 04	 add	 esp, 4
$LN275@DrawMapEff:
  017c1	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  017c8	75 0d		 jne	 SHORT $LN276@DrawMapEff
  017ca	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  017cf	e8 00 00 00 00	 call	 __RTC_UninitUse
  017d4	83 c4 04	 add	 esp, 4
$LN276@DrawMapEff:
  017d7	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  017dd	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  017e3	c6 44 41 02 9f	 mov	 BYTE PTR [ecx+eax*2+2], -97 ; ffffff9fH

; 2420 : 								*(ptDest + surfacePitch * 2 + 3) = (char)159;

  017e8	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  017ef	75 0d		 jne	 SHORT $LN277@DrawMapEff
  017f1	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  017f6	e8 00 00 00 00	 call	 __RTC_UninitUse
  017fb	83 c4 04	 add	 esp, 4
$LN277@DrawMapEff:
  017fe	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01805	75 0d		 jne	 SHORT $LN278@DrawMapEff
  01807	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  0180c	e8 00 00 00 00	 call	 __RTC_UninitUse
  01811	83 c4 04	 add	 esp, 4
$LN278@DrawMapEff:
  01814	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$12[ebp]
  0181a	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  01820	c6 44 41 03 9f	 mov	 BYTE PTR [ecx+eax*2+3], -97 ; ffffff9fH

; 2421 : 								*(ptDest + surfacePitch * 3) = (char)162;

  01825	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0182c	75 0d		 jne	 SHORT $LN279@DrawMapEff
  0182e	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01833	e8 00 00 00 00	 call	 __RTC_UninitUse
  01838	83 c4 04	 add	 esp, 4
$LN279@DrawMapEff:
  0183b	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01842	75 0d		 jne	 SHORT $LN280@DrawMapEff
  01844	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01849	e8 00 00 00 00	 call	 __RTC_UninitUse
  0184e	83 c4 04	 add	 esp, 4
$LN280@DrawMapEff:
  01851	6b 85 4c ff ff
	ff 03		 imul	 eax, DWORD PTR _surfacePitch$12[ebp], 3
  01858	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  0185e	c6 04 01 a2	 mov	 BYTE PTR [ecx+eax], -94	; ffffffa2H

; 2422 : 								*(ptDest + surfacePitch * 3 + 1) = (char)159;

  01862	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01869	75 0d		 jne	 SHORT $LN281@DrawMapEff
  0186b	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01870	e8 00 00 00 00	 call	 __RTC_UninitUse
  01875	83 c4 04	 add	 esp, 4
$LN281@DrawMapEff:
  01878	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0187f	75 0d		 jne	 SHORT $LN282@DrawMapEff
  01881	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01886	e8 00 00 00 00	 call	 __RTC_UninitUse
  0188b	83 c4 04	 add	 esp, 4
$LN282@DrawMapEff:
  0188e	6b 85 4c ff ff
	ff 03		 imul	 eax, DWORD PTR _surfacePitch$12[ebp], 3
  01895	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  0189b	c6 44 01 01 9f	 mov	 BYTE PTR [ecx+eax+1], -97 ; ffffff9fH

; 2423 : 								*(ptDest + surfacePitch * 3 + 2) = (char)159;

  018a0	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  018a7	75 0d		 jne	 SHORT $LN283@DrawMapEff
  018a9	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  018ae	e8 00 00 00 00	 call	 __RTC_UninitUse
  018b3	83 c4 04	 add	 esp, 4
$LN283@DrawMapEff:
  018b6	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  018bd	75 0d		 jne	 SHORT $LN284@DrawMapEff
  018bf	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  018c4	e8 00 00 00 00	 call	 __RTC_UninitUse
  018c9	83 c4 04	 add	 esp, 4
$LN284@DrawMapEff:
  018cc	6b 85 4c ff ff
	ff 03		 imul	 eax, DWORD PTR _surfacePitch$12[ebp], 3
  018d3	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  018d9	c6 44 01 02 9f	 mov	 BYTE PTR [ecx+eax+2], -97 ; ffffff9fH

; 2424 : 								*(ptDest + surfacePitch * 3 + 3) = (char)162;

  018de	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  018e5	75 0d		 jne	 SHORT $LN285@DrawMapEff
  018e7	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  018ec	e8 00 00 00 00	 call	 __RTC_UninitUse
  018f1	83 c4 04	 add	 esp, 4
$LN285@DrawMapEff:
  018f4	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  018fb	75 0d		 jne	 SHORT $LN286@DrawMapEff
  018fd	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01902	e8 00 00 00 00	 call	 __RTC_UninitUse
  01907	83 c4 04	 add	 esp, 4
$LN286@DrawMapEff:
  0190a	6b 85 4c ff ff
	ff 03		 imul	 eax, DWORD PTR _surfacePitch$12[ebp], 3
  01911	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$15[ebp]
  01917	c6 44 01 03 a2	 mov	 BYTE PTR [ecx+eax+3], -94 ; ffffffa2H
$LN29@DrawMapEff:

; 2425 : 							}
; 2426 : 					}
; 2427 : 				}

  0191c	e9 fc 18 00 00	 jmp	 $LN15@DrawMapEff
$LN26@DrawMapEff:

; 2428 : 				else if (buf->type == MAP_EFFECT_TYPE_STAR) {

  01921	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  01927	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  0192b	83 f9 03	 cmp	 ecx, 3
  0192e	0f 85 a8 15 00
	00		 jne	 $LN39@DrawMapEff

; 2429 : 					if (buf->mode == 0) {

  01934	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  0193a	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  0193e	85 c9		 test	 ecx, ecx
  01940	0f 85 b4 06 00
	00		 jne	 $LN41@DrawMapEff

; 2430 : #ifdef _HI_COLOR_32
; 2431 : 						if (displayBpp == 32) {

  01946	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  0194d	0f 85 61 02 00
	00		 jne	 $LN43@DrawMapEff

; 2432 : 							// î?????
; 2433 : 							*(ptDest32 - surfacePitch - 1) = highColor32Palette[8];

  01953	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0195a	75 0d		 jne	 SHORT $LN287@DrawMapEff
  0195c	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01961	e8 00 00 00 00	 call	 __RTC_UninitUse
  01966	83 c4 04	 add	 esp, 4
$LN287@DrawMapEff:
  01969	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01970	75 0d		 jne	 SHORT $LN288@DrawMapEff
  01972	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01977	e8 00 00 00 00	 call	 __RTC_UninitUse
  0197c	83 c4 04	 add	 esp, 4
$LN288@DrawMapEff:
  0197f	b8 04 00 00 00	 mov	 eax, 4
  01984	c1 e0 03	 shl	 eax, 3
  01987	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  0198d	c1 e1 02	 shl	 ecx, 2
  01990	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  01996	2b d1		 sub	 edx, ecx
  01998	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[eax]
  0199e	89 42 fc	 mov	 DWORD PTR [edx-4], eax

; 2434 : 							*(ptDest32 - surfacePitch) = highColor32Palette[255];

  019a1	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  019a8	75 0d		 jne	 SHORT $LN289@DrawMapEff
  019aa	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  019af	e8 00 00 00 00	 call	 __RTC_UninitUse
  019b4	83 c4 04	 add	 esp, 4
$LN289@DrawMapEff:
  019b7	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  019be	75 0d		 jne	 SHORT $LN290@DrawMapEff
  019c0	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  019c5	e8 00 00 00 00	 call	 __RTC_UninitUse
  019ca	83 c4 04	 add	 esp, 4
$LN290@DrawMapEff:
  019cd	b8 04 00 00 00	 mov	 eax, 4
  019d2	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  019d8	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  019de	c1 e2 02	 shl	 edx, 2
  019e1	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  019e7	2b c2		 sub	 eax, edx
  019e9	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  019ef	89 08		 mov	 DWORD PTR [eax], ecx

; 2435 : 							*(ptDest32 - surfacePitch + 1) = highColor32Palette[8];

  019f1	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  019f8	75 0d		 jne	 SHORT $LN291@DrawMapEff
  019fa	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  019ff	e8 00 00 00 00	 call	 __RTC_UninitUse
  01a04	83 c4 04	 add	 esp, 4
$LN291@DrawMapEff:
  01a07	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01a0e	75 0d		 jne	 SHORT $LN292@DrawMapEff
  01a10	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01a15	e8 00 00 00 00	 call	 __RTC_UninitUse
  01a1a	83 c4 04	 add	 esp, 4
$LN292@DrawMapEff:
  01a1d	b8 04 00 00 00	 mov	 eax, 4
  01a22	c1 e0 03	 shl	 eax, 3
  01a25	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  01a2b	c1 e1 02	 shl	 ecx, 2
  01a2e	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  01a34	2b d1		 sub	 edx, ecx
  01a36	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[eax]
  01a3c	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 2436 : 							*(ptDest32 - 1) = highColor32Palette[255];

  01a3f	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01a46	75 0d		 jne	 SHORT $LN293@DrawMapEff
  01a48	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01a4d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01a52	83 c4 04	 add	 esp, 4
$LN293@DrawMapEff:
  01a55	b8 04 00 00 00	 mov	 eax, 4
  01a5a	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01a60	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  01a66	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  01a6c	89 42 fc	 mov	 DWORD PTR [edx-4], eax

; 2437 : 							*(ptDest32) = highColor32Palette[255];

  01a6f	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01a76	75 0d		 jne	 SHORT $LN294@DrawMapEff
  01a78	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01a7d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01a82	83 c4 04	 add	 esp, 4
$LN294@DrawMapEff:
  01a85	b8 04 00 00 00	 mov	 eax, 4
  01a8a	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01a90	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  01a96	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  01a9c	89 02		 mov	 DWORD PTR [edx], eax

; 2438 : 							*(ptDest32 + 1) = highColorPalette[255];

  01a9e	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01aa5	75 0d		 jne	 SHORT $LN295@DrawMapEff
  01aa7	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01aac	e8 00 00 00 00	 call	 __RTC_UninitUse
  01ab1	83 c4 04	 add	 esp, 4
$LN295@DrawMapEff:
  01ab4	b8 02 00 00 00	 mov	 eax, 2
  01ab9	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01abf	0f b7 91 00 00
	00 00		 movzx	 edx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01ac6	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  01acc	89 50 04	 mov	 DWORD PTR [eax+4], edx

; 2439 : 							*(ptDest32 + surfacePitch - 2) = highColor32Palette[8];

  01acf	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01ad6	75 0d		 jne	 SHORT $LN296@DrawMapEff
  01ad8	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01add	e8 00 00 00 00	 call	 __RTC_UninitUse
  01ae2	83 c4 04	 add	 esp, 4
$LN296@DrawMapEff:
  01ae5	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01aec	75 0d		 jne	 SHORT $LN297@DrawMapEff
  01aee	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01af3	e8 00 00 00 00	 call	 __RTC_UninitUse
  01af8	83 c4 04	 add	 esp, 4
$LN297@DrawMapEff:
  01afb	b8 04 00 00 00	 mov	 eax, 4
  01b00	c1 e0 03	 shl	 eax, 3
  01b03	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  01b09	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  01b0f	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[eax]
  01b15	89 44 8a f8	 mov	 DWORD PTR [edx+ecx*4-8], eax

; 2440 : 							*(ptDest32 + surfacePitch) = highColor32Palette[255];

  01b19	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01b20	75 0d		 jne	 SHORT $LN298@DrawMapEff
  01b22	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01b27	e8 00 00 00 00	 call	 __RTC_UninitUse
  01b2c	83 c4 04	 add	 esp, 4
$LN298@DrawMapEff:
  01b2f	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01b36	75 0d		 jne	 SHORT $LN299@DrawMapEff
  01b38	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01b3d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01b42	83 c4 04	 add	 esp, 4
$LN299@DrawMapEff:
  01b45	b8 04 00 00 00	 mov	 eax, 4
  01b4a	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01b50	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  01b56	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  01b5c	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  01b62	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2441 : 							*(ptDest32 + surfacePitch + 2) = highColor32Palette[8];

  01b65	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01b6c	75 0d		 jne	 SHORT $LN300@DrawMapEff
  01b6e	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01b73	e8 00 00 00 00	 call	 __RTC_UninitUse
  01b78	83 c4 04	 add	 esp, 4
$LN300@DrawMapEff:
  01b7b	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  01b82	75 0d		 jne	 SHORT $LN301@DrawMapEff
  01b84	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  01b89	e8 00 00 00 00	 call	 __RTC_UninitUse
  01b8e	83 c4 04	 add	 esp, 4
$LN301@DrawMapEff:
  01b91	b8 04 00 00 00	 mov	 eax, 4
  01b96	c1 e0 03	 shl	 eax, 3
  01b99	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  01b9f	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  01ba5	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[eax]
  01bab	89 44 8a 08	 mov	 DWORD PTR [edx+ecx*4+8], eax

; 2442 : 						}
; 2443 : 						else

  01baf	e9 41 04 00 00	 jmp	 $LN44@DrawMapEff
$LN43@DrawMapEff:

; 2444 : #endif
; 2445 : 							if (displayBpp == 16) {

  01bb4	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  01bbb	0f 85 6f 02 00
	00		 jne	 $LN45@DrawMapEff

; 2446 : 								// î?????
; 2447 : 								*(ptDest2 - surfacePitch - 1) = highColorPalette[8];

  01bc1	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01bc8	75 0d		 jne	 SHORT $LN302@DrawMapEff
  01bca	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01bcf	e8 00 00 00 00	 call	 __RTC_UninitUse
  01bd4	83 c4 04	 add	 esp, 4
$LN302@DrawMapEff:
  01bd7	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01bde	75 0d		 jne	 SHORT $LN303@DrawMapEff
  01be0	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01be5	e8 00 00 00 00	 call	 __RTC_UninitUse
  01bea	83 c4 04	 add	 esp, 4
$LN303@DrawMapEff:
  01bed	b8 02 00 00 00	 mov	 eax, 2
  01bf2	c1 e0 03	 shl	 eax, 3
  01bf5	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  01bfb	d1 e1		 shl	 ecx, 1
  01bfd	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01c03	2b d1		 sub	 edx, ecx
  01c05	66 8b 80 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[eax]
  01c0c	66 89 42 fe	 mov	 WORD PTR [edx-2], ax

; 2448 : 								*(ptDest2 - surfacePitch) = highColorPalette[255];

  01c10	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01c17	75 0d		 jne	 SHORT $LN304@DrawMapEff
  01c19	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01c1e	e8 00 00 00 00	 call	 __RTC_UninitUse
  01c23	83 c4 04	 add	 esp, 4
$LN304@DrawMapEff:
  01c26	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01c2d	75 0d		 jne	 SHORT $LN305@DrawMapEff
  01c2f	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01c34	e8 00 00 00 00	 call	 __RTC_UninitUse
  01c39	83 c4 04	 add	 esp, 4
$LN305@DrawMapEff:
  01c3c	b8 02 00 00 00	 mov	 eax, 2
  01c41	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01c47	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  01c4d	d1 e2		 shl	 edx, 1
  01c4f	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01c55	2b c2		 sub	 eax, edx
  01c57	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01c5e	66 89 08	 mov	 WORD PTR [eax], cx

; 2449 : 								*(ptDest2 - surfacePitch + 1) = highColorPalette[8];

  01c61	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01c68	75 0d		 jne	 SHORT $LN306@DrawMapEff
  01c6a	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01c6f	e8 00 00 00 00	 call	 __RTC_UninitUse
  01c74	83 c4 04	 add	 esp, 4
$LN306@DrawMapEff:
  01c77	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01c7e	75 0d		 jne	 SHORT $LN307@DrawMapEff
  01c80	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01c85	e8 00 00 00 00	 call	 __RTC_UninitUse
  01c8a	83 c4 04	 add	 esp, 4
$LN307@DrawMapEff:
  01c8d	b8 02 00 00 00	 mov	 eax, 2
  01c92	c1 e0 03	 shl	 eax, 3
  01c95	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  01c9b	d1 e1		 shl	 ecx, 1
  01c9d	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01ca3	2b d1		 sub	 edx, ecx
  01ca5	66 8b 80 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[eax]
  01cac	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2450 : 								*(ptDest2 - 1) = highColorPalette[255];

  01cb0	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01cb7	75 0d		 jne	 SHORT $LN308@DrawMapEff
  01cb9	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01cbe	e8 00 00 00 00	 call	 __RTC_UninitUse
  01cc3	83 c4 04	 add	 esp, 4
$LN308@DrawMapEff:
  01cc6	b8 02 00 00 00	 mov	 eax, 2
  01ccb	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01cd1	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01cd7	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01cde	66 89 42 fe	 mov	 WORD PTR [edx-2], ax

; 2451 : 								*(ptDest2) = highColorPalette[255];

  01ce2	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01ce9	75 0d		 jne	 SHORT $LN309@DrawMapEff
  01ceb	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01cf0	e8 00 00 00 00	 call	 __RTC_UninitUse
  01cf5	83 c4 04	 add	 esp, 4
$LN309@DrawMapEff:
  01cf8	b8 02 00 00 00	 mov	 eax, 2
  01cfd	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01d03	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01d09	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01d10	66 89 02	 mov	 WORD PTR [edx], ax

; 2452 : 								*(ptDest2 + 1) = highColorPalette[255];

  01d13	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01d1a	75 0d		 jne	 SHORT $LN310@DrawMapEff
  01d1c	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01d21	e8 00 00 00 00	 call	 __RTC_UninitUse
  01d26	83 c4 04	 add	 esp, 4
$LN310@DrawMapEff:
  01d29	b8 02 00 00 00	 mov	 eax, 2
  01d2e	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01d34	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01d3a	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01d41	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2453 : 								*(ptDest2 + surfacePitch - 1) = highColorPalette[8];

  01d45	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01d4c	75 0d		 jne	 SHORT $LN311@DrawMapEff
  01d4e	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01d53	e8 00 00 00 00	 call	 __RTC_UninitUse
  01d58	83 c4 04	 add	 esp, 4
$LN311@DrawMapEff:
  01d5b	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01d62	75 0d		 jne	 SHORT $LN312@DrawMapEff
  01d64	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01d69	e8 00 00 00 00	 call	 __RTC_UninitUse
  01d6e	83 c4 04	 add	 esp, 4
$LN312@DrawMapEff:
  01d71	b8 02 00 00 00	 mov	 eax, 2
  01d76	c1 e0 03	 shl	 eax, 3
  01d79	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  01d7f	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01d85	66 8b 80 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[eax]
  01d8c	66 89 44 4a fe	 mov	 WORD PTR [edx+ecx*2-2], ax

; 2454 : 								*(ptDest2 + surfacePitch) = highColorPalette[255];

  01d91	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01d98	75 0d		 jne	 SHORT $LN313@DrawMapEff
  01d9a	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01d9f	e8 00 00 00 00	 call	 __RTC_UninitUse
  01da4	83 c4 04	 add	 esp, 4
$LN313@DrawMapEff:
  01da7	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01dae	75 0d		 jne	 SHORT $LN314@DrawMapEff
  01db0	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01db5	e8 00 00 00 00	 call	 __RTC_UninitUse
  01dba	83 c4 04	 add	 esp, 4
$LN314@DrawMapEff:
  01dbd	b8 02 00 00 00	 mov	 eax, 2
  01dc2	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  01dc8	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  01dce	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  01dd4	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  01ddb	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2455 : 								*(ptDest2 + surfacePitch + 1) = highColorPalette[8];

  01ddf	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01de6	75 0d		 jne	 SHORT $LN315@DrawMapEff
  01de8	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01ded	e8 00 00 00 00	 call	 __RTC_UninitUse
  01df2	83 c4 04	 add	 esp, 4
$LN315@DrawMapEff:
  01df5	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01dfc	75 0d		 jne	 SHORT $LN316@DrawMapEff
  01dfe	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  01e03	e8 00 00 00 00	 call	 __RTC_UninitUse
  01e08	83 c4 04	 add	 esp, 4
$LN316@DrawMapEff:
  01e0b	b8 02 00 00 00	 mov	 eax, 2
  01e10	c1 e0 03	 shl	 eax, 3
  01e13	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$12[ebp]
  01e19	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  01e1f	66 8b 80 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[eax]
  01e26	66 89 44 4a 02	 mov	 WORD PTR [edx+ecx*2+2], ax

; 2456 : 							}
; 2457 : 							else {

  01e2b	e9 c5 01 00 00	 jmp	 $LN44@DrawMapEff
$LN45@DrawMapEff:

; 2458 : 								// î?????
; 2459 : 								*(ptDest - surfacePitch - 1) = (char)8;

  01e30	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01e37	75 0d		 jne	 SHORT $LN317@DrawMapEff
  01e39	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01e3e	e8 00 00 00 00	 call	 __RTC_UninitUse
  01e43	83 c4 04	 add	 esp, 4
$LN317@DrawMapEff:
  01e46	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01e4d	75 0d		 jne	 SHORT $LN318@DrawMapEff
  01e4f	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01e54	e8 00 00 00 00	 call	 __RTC_UninitUse
  01e59	83 c4 04	 add	 esp, 4
$LN318@DrawMapEff:
  01e5c	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01e62	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$12[ebp]
  01e68	c6 40 ff 08	 mov	 BYTE PTR [eax-1], 8

; 2460 : 								*(ptDest - surfacePitch) = (char)255;

  01e6c	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01e73	75 0d		 jne	 SHORT $LN319@DrawMapEff
  01e75	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01e7a	e8 00 00 00 00	 call	 __RTC_UninitUse
  01e7f	83 c4 04	 add	 esp, 4
$LN319@DrawMapEff:
  01e82	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01e89	75 0d		 jne	 SHORT $LN320@DrawMapEff
  01e8b	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01e90	e8 00 00 00 00	 call	 __RTC_UninitUse
  01e95	83 c4 04	 add	 esp, 4
$LN320@DrawMapEff:
  01e98	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01e9e	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$12[ebp]
  01ea4	c6 00 ff	 mov	 BYTE PTR [eax], -1

; 2461 : 								*(ptDest - surfacePitch + 1) = (char)8;

  01ea7	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01eae	75 0d		 jne	 SHORT $LN321@DrawMapEff
  01eb0	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01eb5	e8 00 00 00 00	 call	 __RTC_UninitUse
  01eba	83 c4 04	 add	 esp, 4
$LN321@DrawMapEff:
  01ebd	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01ec4	75 0d		 jne	 SHORT $LN322@DrawMapEff
  01ec6	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01ecb	e8 00 00 00 00	 call	 __RTC_UninitUse
  01ed0	83 c4 04	 add	 esp, 4
$LN322@DrawMapEff:
  01ed3	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01ed9	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$12[ebp]
  01edf	c6 40 01 08	 mov	 BYTE PTR [eax+1], 8

; 2462 : 								*(ptDest - 1) = (char)255;

  01ee3	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01eea	75 0d		 jne	 SHORT $LN323@DrawMapEff
  01eec	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01ef1	e8 00 00 00 00	 call	 __RTC_UninitUse
  01ef6	83 c4 04	 add	 esp, 4
$LN323@DrawMapEff:
  01ef9	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01eff	c6 40 ff ff	 mov	 BYTE PTR [eax-1], -1

; 2463 : 								*(ptDest) = (char)255;

  01f03	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01f0a	75 0d		 jne	 SHORT $LN324@DrawMapEff
  01f0c	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01f11	e8 00 00 00 00	 call	 __RTC_UninitUse
  01f16	83 c4 04	 add	 esp, 4
$LN324@DrawMapEff:
  01f19	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01f1f	c6 00 ff	 mov	 BYTE PTR [eax], -1

; 2464 : 								*(ptDest + 1) = (char)255;

  01f22	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01f29	75 0d		 jne	 SHORT $LN325@DrawMapEff
  01f2b	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01f30	e8 00 00 00 00	 call	 __RTC_UninitUse
  01f35	83 c4 04	 add	 esp, 4
$LN325@DrawMapEff:
  01f38	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01f3e	c6 40 01 ff	 mov	 BYTE PTR [eax+1], -1

; 2465 : 								*(ptDest + surfacePitch - 1) = (char)8;

  01f42	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01f49	75 0d		 jne	 SHORT $LN326@DrawMapEff
  01f4b	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01f50	e8 00 00 00 00	 call	 __RTC_UninitUse
  01f55	83 c4 04	 add	 esp, 4
$LN326@DrawMapEff:
  01f58	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01f5f	75 0d		 jne	 SHORT $LN327@DrawMapEff
  01f61	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01f66	e8 00 00 00 00	 call	 __RTC_UninitUse
  01f6b	83 c4 04	 add	 esp, 4
$LN327@DrawMapEff:
  01f6e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01f74	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  01f7a	c6 40 ff 08	 mov	 BYTE PTR [eax-1], 8

; 2466 : 								*(ptDest + surfacePitch) = (char)255;

  01f7e	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01f85	75 0d		 jne	 SHORT $LN328@DrawMapEff
  01f87	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01f8c	e8 00 00 00 00	 call	 __RTC_UninitUse
  01f91	83 c4 04	 add	 esp, 4
$LN328@DrawMapEff:
  01f94	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01f9b	75 0d		 jne	 SHORT $LN329@DrawMapEff
  01f9d	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01fa2	e8 00 00 00 00	 call	 __RTC_UninitUse
  01fa7	83 c4 04	 add	 esp, 4
$LN329@DrawMapEff:
  01faa	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01fb0	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  01fb6	c6 00 ff	 mov	 BYTE PTR [eax], -1

; 2467 : 								*(ptDest + surfacePitch + 1) = (char)8;

  01fb9	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01fc0	75 0d		 jne	 SHORT $LN330@DrawMapEff
  01fc2	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  01fc7	e8 00 00 00 00	 call	 __RTC_UninitUse
  01fcc	83 c4 04	 add	 esp, 4
$LN330@DrawMapEff:
  01fcf	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  01fd6	75 0d		 jne	 SHORT $LN331@DrawMapEff
  01fd8	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  01fdd	e8 00 00 00 00	 call	 __RTC_UninitUse
  01fe2	83 c4 04	 add	 esp, 4
$LN331@DrawMapEff:
  01fe5	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  01feb	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  01ff1	c6 40 01 08	 mov	 BYTE PTR [eax+1], 8
$LN44@DrawMapEff:

; 2468 : 							}

  01ff5	e9 dd 0e 00 00	 jmp	 $LN42@DrawMapEff
$LN41@DrawMapEff:

; 2469 : 					}
; 2470 : 					else if (buf->mode == 1) {

  01ffa	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02000	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02004	83 f9 01	 cmp	 ecx, 1
  02007	0f 85 5d 03 00
	00		 jne	 $LN47@DrawMapEff

; 2471 : #ifdef _HI_COLOR_32
; 2472 : 						if (displayBpp == 32) {

  0200d	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  02014	0f 85 30 01 00
	00		 jne	 $LN49@DrawMapEff

; 2473 : 							// î??î?î??
; 2474 : 							*(ptDest32 - surfacePitch) = highColor32Palette[251];

  0201a	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02021	75 0d		 jne	 SHORT $LN332@DrawMapEff
  02023	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02028	e8 00 00 00 00	 call	 __RTC_UninitUse
  0202d	83 c4 04	 add	 esp, 4
$LN332@DrawMapEff:
  02030	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02037	75 0d		 jne	 SHORT $LN333@DrawMapEff
  02039	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  0203e	e8 00 00 00 00	 call	 __RTC_UninitUse
  02043	83 c4 04	 add	 esp, 4
$LN333@DrawMapEff:
  02046	b8 04 00 00 00	 mov	 eax, 4
  0204b	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  02051	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02057	c1 e2 02	 shl	 edx, 2
  0205a	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  02060	2b c2		 sub	 eax, edx
  02062	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02068	89 08		 mov	 DWORD PTR [eax], ecx

; 2475 : 							*(ptDest32 - 1) = highColor32Palette[251];

  0206a	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02071	75 0d		 jne	 SHORT $LN334@DrawMapEff
  02073	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02078	e8 00 00 00 00	 call	 __RTC_UninitUse
  0207d	83 c4 04	 add	 esp, 4
$LN334@DrawMapEff:
  02080	b8 04 00 00 00	 mov	 eax, 4
  02085	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  0208b	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  02091	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02097	89 42 fc	 mov	 DWORD PTR [edx-4], eax

; 2476 : 							*(ptDest32) = highColor32Palette[251];

  0209a	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  020a1	75 0d		 jne	 SHORT $LN335@DrawMapEff
  020a3	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  020a8	e8 00 00 00 00	 call	 __RTC_UninitUse
  020ad	83 c4 04	 add	 esp, 4
$LN335@DrawMapEff:
  020b0	b8 04 00 00 00	 mov	 eax, 4
  020b5	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  020bb	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  020c1	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  020c7	89 02		 mov	 DWORD PTR [edx], eax

; 2477 : 							*(ptDest32 + 1) = highColor32Palette[251];

  020c9	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  020d0	75 0d		 jne	 SHORT $LN336@DrawMapEff
  020d2	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  020d7	e8 00 00 00 00	 call	 __RTC_UninitUse
  020dc	83 c4 04	 add	 esp, 4
$LN336@DrawMapEff:
  020df	b8 04 00 00 00	 mov	 eax, 4
  020e4	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  020ea	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  020f0	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  020f6	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 2478 : 							*(ptDest32 + surfacePitch) = highColor32Palette[251];

  020f9	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02100	75 0d		 jne	 SHORT $LN337@DrawMapEff
  02102	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02107	e8 00 00 00 00	 call	 __RTC_UninitUse
  0210c	83 c4 04	 add	 esp, 4
$LN337@DrawMapEff:
  0210f	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02116	75 0d		 jne	 SHORT $LN338@DrawMapEff
  02118	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  0211d	e8 00 00 00 00	 call	 __RTC_UninitUse
  02122	83 c4 04	 add	 esp, 4
$LN338@DrawMapEff:
  02125	b8 04 00 00 00	 mov	 eax, 4
  0212a	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  02130	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02136	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  0213c	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02142	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2479 : 						}
; 2480 : 						else

  02145	e9 1b 02 00 00	 jmp	 $LN50@DrawMapEff
$LN49@DrawMapEff:

; 2481 : #endif
; 2482 : 							if (displayBpp == 16) {

  0214a	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  02151	0f 85 39 01 00
	00		 jne	 $LN51@DrawMapEff

; 2483 : 								// î??î?î??
; 2484 : 								*(ptDest2 - surfacePitch) = highColorPalette[251];

  02157	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0215e	75 0d		 jne	 SHORT $LN339@DrawMapEff
  02160	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02165	e8 00 00 00 00	 call	 __RTC_UninitUse
  0216a	83 c4 04	 add	 esp, 4
$LN339@DrawMapEff:
  0216d	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02174	75 0d		 jne	 SHORT $LN340@DrawMapEff
  02176	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  0217b	e8 00 00 00 00	 call	 __RTC_UninitUse
  02180	83 c4 04	 add	 esp, 4
$LN340@DrawMapEff:
  02183	b8 02 00 00 00	 mov	 eax, 2
  02188	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  0218e	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02194	d1 e2		 shl	 edx, 1
  02196	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  0219c	2b c2		 sub	 eax, edx
  0219e	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  021a5	66 89 08	 mov	 WORD PTR [eax], cx

; 2485 : 								*(ptDest2 - 1) = highColorPalette[251];

  021a8	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  021af	75 0d		 jne	 SHORT $LN341@DrawMapEff
  021b1	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  021b6	e8 00 00 00 00	 call	 __RTC_UninitUse
  021bb	83 c4 04	 add	 esp, 4
$LN341@DrawMapEff:
  021be	b8 02 00 00 00	 mov	 eax, 2
  021c3	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  021c9	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  021cf	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  021d6	66 89 42 fe	 mov	 WORD PTR [edx-2], ax

; 2486 : 								*(ptDest2) = highColorPalette[251];

  021da	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  021e1	75 0d		 jne	 SHORT $LN342@DrawMapEff
  021e3	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  021e8	e8 00 00 00 00	 call	 __RTC_UninitUse
  021ed	83 c4 04	 add	 esp, 4
$LN342@DrawMapEff:
  021f0	b8 02 00 00 00	 mov	 eax, 2
  021f5	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  021fb	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02201	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02208	66 89 02	 mov	 WORD PTR [edx], ax

; 2487 : 								*(ptDest2 + 1) = highColorPalette[251];

  0220b	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02212	75 0d		 jne	 SHORT $LN343@DrawMapEff
  02214	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02219	e8 00 00 00 00	 call	 __RTC_UninitUse
  0221e	83 c4 04	 add	 esp, 4
$LN343@DrawMapEff:
  02221	b8 02 00 00 00	 mov	 eax, 2
  02226	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  0222c	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02232	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02239	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2488 : 								*(ptDest2 + surfacePitch) = highColorPalette[251];

  0223d	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02244	75 0d		 jne	 SHORT $LN344@DrawMapEff
  02246	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0224b	e8 00 00 00 00	 call	 __RTC_UninitUse
  02250	83 c4 04	 add	 esp, 4
$LN344@DrawMapEff:
  02253	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0225a	75 0d		 jne	 SHORT $LN345@DrawMapEff
  0225c	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02261	e8 00 00 00 00	 call	 __RTC_UninitUse
  02266	83 c4 04	 add	 esp, 4
$LN345@DrawMapEff:
  02269	b8 02 00 00 00	 mov	 eax, 2
  0226e	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  02274	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0227a	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  02280	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02287	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2489 : 							}
; 2490 : 							else {

  0228b	e9 d5 00 00 00	 jmp	 $LN50@DrawMapEff
$LN51@DrawMapEff:

; 2491 : 								// î??î?î??
; 2492 : 								*(ptDest - surfacePitch) = (char)251;

  02290	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02297	75 0d		 jne	 SHORT $LN346@DrawMapEff
  02299	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  0229e	e8 00 00 00 00	 call	 __RTC_UninitUse
  022a3	83 c4 04	 add	 esp, 4
$LN346@DrawMapEff:
  022a6	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  022ad	75 0d		 jne	 SHORT $LN347@DrawMapEff
  022af	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  022b4	e8 00 00 00 00	 call	 __RTC_UninitUse
  022b9	83 c4 04	 add	 esp, 4
$LN347@DrawMapEff:
  022bc	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  022c2	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$12[ebp]
  022c8	c6 00 fb	 mov	 BYTE PTR [eax], -5	; fffffffbH

; 2493 : 								*(ptDest - 1) = (char)251;

  022cb	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  022d2	75 0d		 jne	 SHORT $LN348@DrawMapEff
  022d4	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  022d9	e8 00 00 00 00	 call	 __RTC_UninitUse
  022de	83 c4 04	 add	 esp, 4
$LN348@DrawMapEff:
  022e1	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  022e7	c6 40 ff fb	 mov	 BYTE PTR [eax-1], -5	; fffffffbH

; 2494 : 								*(ptDest) = (char)251;

  022eb	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  022f2	75 0d		 jne	 SHORT $LN349@DrawMapEff
  022f4	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  022f9	e8 00 00 00 00	 call	 __RTC_UninitUse
  022fe	83 c4 04	 add	 esp, 4
$LN349@DrawMapEff:
  02301	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02307	c6 00 fb	 mov	 BYTE PTR [eax], -5	; fffffffbH

; 2495 : 								*(ptDest + 1) = (char)251;

  0230a	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02311	75 0d		 jne	 SHORT $LN350@DrawMapEff
  02313	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02318	e8 00 00 00 00	 call	 __RTC_UninitUse
  0231d	83 c4 04	 add	 esp, 4
$LN350@DrawMapEff:
  02320	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02326	c6 40 01 fb	 mov	 BYTE PTR [eax+1], -5	; fffffffbH

; 2496 : 								*(ptDest + surfacePitch) = (char)251;

  0232a	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02331	75 0d		 jne	 SHORT $LN351@DrawMapEff
  02333	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02338	e8 00 00 00 00	 call	 __RTC_UninitUse
  0233d	83 c4 04	 add	 esp, 4
$LN351@DrawMapEff:
  02340	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02347	75 0d		 jne	 SHORT $LN352@DrawMapEff
  02349	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0234e	e8 00 00 00 00	 call	 __RTC_UninitUse
  02353	83 c4 04	 add	 esp, 4
$LN352@DrawMapEff:
  02356	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  0235c	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  02362	c6 00 fb	 mov	 BYTE PTR [eax], -5	; fffffffbH
$LN50@DrawMapEff:

; 2497 : 							}

  02365	e9 6d 0b 00 00	 jmp	 $LN42@DrawMapEff
$LN47@DrawMapEff:

; 2498 : 					}
; 2499 : 					else if (buf->mode == 2) {

  0236a	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02370	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02374	83 f9 02	 cmp	 ecx, 2
  02377	0f 85 d7 02 00
	00		 jne	 $LN53@DrawMapEff

; 2500 : #ifdef _HI_COLOR_32
; 2501 : 						if (displayBpp == 32) {

  0237d	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  02384	0f 85 fd 00 00
	00		 jne	 $LN55@DrawMapEff

; 2502 : 							// î??î????î?
; 2503 : 							*(ptDest32) = highColor32Palette[251];

  0238a	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02391	75 0d		 jne	 SHORT $LN353@DrawMapEff
  02393	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02398	e8 00 00 00 00	 call	 __RTC_UninitUse
  0239d	83 c4 04	 add	 esp, 4
$LN353@DrawMapEff:
  023a0	b8 04 00 00 00	 mov	 eax, 4
  023a5	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  023ab	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  023b1	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  023b7	89 02		 mov	 DWORD PTR [edx], eax

; 2504 : 							*(ptDest32 + 1) = highColor32Palette[255];

  023b9	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  023c0	75 0d		 jne	 SHORT $LN354@DrawMapEff
  023c2	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  023c7	e8 00 00 00 00	 call	 __RTC_UninitUse
  023cc	83 c4 04	 add	 esp, 4
$LN354@DrawMapEff:
  023cf	b8 04 00 00 00	 mov	 eax, 4
  023d4	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  023da	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  023e0	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  023e6	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 2505 : 							*(ptDest32 + surfacePitch) = highColor32Palette[255];

  023e9	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  023f0	75 0d		 jne	 SHORT $LN355@DrawMapEff
  023f2	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  023f7	e8 00 00 00 00	 call	 __RTC_UninitUse
  023fc	83 c4 04	 add	 esp, 4
$LN355@DrawMapEff:
  023ff	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02406	75 0d		 jne	 SHORT $LN356@DrawMapEff
  02408	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  0240d	e8 00 00 00 00	 call	 __RTC_UninitUse
  02412	83 c4 04	 add	 esp, 4
$LN356@DrawMapEff:
  02415	b8 04 00 00 00	 mov	 eax, 4
  0241a	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  02420	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02426	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  0242c	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02432	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2506 : 							*(ptDest32 + surfacePitch + 1) = highColor32Palette[251];

  02435	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0243c	75 0d		 jne	 SHORT $LN357@DrawMapEff
  0243e	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02443	e8 00 00 00 00	 call	 __RTC_UninitUse
  02448	83 c4 04	 add	 esp, 4
$LN357@DrawMapEff:
  0244b	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02452	75 0d		 jne	 SHORT $LN358@DrawMapEff
  02454	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02459	e8 00 00 00 00	 call	 __RTC_UninitUse
  0245e	83 c4 04	 add	 esp, 4
$LN358@DrawMapEff:
  02461	b8 04 00 00 00	 mov	 eax, 4
  02466	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  0246c	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02472	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  02478	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0247e	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2507 : 						}
; 2508 : 						else

  02482	e9 c8 01 00 00	 jmp	 $LN56@DrawMapEff
$LN55@DrawMapEff:

; 2509 : #endif
; 2510 : 							if (displayBpp == 16) {

  02487	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  0248e	0f 85 05 01 00
	00		 jne	 $LN57@DrawMapEff

; 2511 : 								// î??î????î?
; 2512 : 								*(ptDest2) = highColorPalette[251];

  02494	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0249b	75 0d		 jne	 SHORT $LN359@DrawMapEff
  0249d	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  024a2	e8 00 00 00 00	 call	 __RTC_UninitUse
  024a7	83 c4 04	 add	 esp, 4
$LN359@DrawMapEff:
  024aa	b8 02 00 00 00	 mov	 eax, 2
  024af	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  024b5	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  024bb	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  024c2	66 89 02	 mov	 WORD PTR [edx], ax

; 2513 : 								*(ptDest2 + 1) = highColorPalette[255];

  024c5	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  024cc	75 0d		 jne	 SHORT $LN360@DrawMapEff
  024ce	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  024d3	e8 00 00 00 00	 call	 __RTC_UninitUse
  024d8	83 c4 04	 add	 esp, 4
$LN360@DrawMapEff:
  024db	b8 02 00 00 00	 mov	 eax, 2
  024e0	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  024e6	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  024ec	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  024f3	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2514 : 								*(ptDest2 + surfacePitch) = highColorPalette[255];

  024f7	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  024fe	75 0d		 jne	 SHORT $LN361@DrawMapEff
  02500	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02505	e8 00 00 00 00	 call	 __RTC_UninitUse
  0250a	83 c4 04	 add	 esp, 4
$LN361@DrawMapEff:
  0250d	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02514	75 0d		 jne	 SHORT $LN362@DrawMapEff
  02516	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  0251b	e8 00 00 00 00	 call	 __RTC_UninitUse
  02520	83 c4 04	 add	 esp, 4
$LN362@DrawMapEff:
  02523	b8 02 00 00 00	 mov	 eax, 2
  02528	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  0252e	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02534	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  0253a	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02541	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2515 : 								*(ptDest2 + surfacePitch + 1) = highColorPalette[251];

  02545	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0254c	75 0d		 jne	 SHORT $LN363@DrawMapEff
  0254e	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02553	e8 00 00 00 00	 call	 __RTC_UninitUse
  02558	83 c4 04	 add	 esp, 4
$LN363@DrawMapEff:
  0255b	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02562	75 0d		 jne	 SHORT $LN364@DrawMapEff
  02564	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02569	e8 00 00 00 00	 call	 __RTC_UninitUse
  0256e	83 c4 04	 add	 esp, 4
$LN364@DrawMapEff:
  02571	b8 02 00 00 00	 mov	 eax, 2
  02576	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  0257c	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02582	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  02588	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0258f	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2516 : 							}
; 2517 : 							else {

  02594	e9 b6 00 00 00	 jmp	 $LN56@DrawMapEff
$LN57@DrawMapEff:

; 2518 : 								// î??î????î?
; 2519 : 								*(ptDest) = (char)251;

  02599	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  025a0	75 0d		 jne	 SHORT $LN365@DrawMapEff
  025a2	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  025a7	e8 00 00 00 00	 call	 __RTC_UninitUse
  025ac	83 c4 04	 add	 esp, 4
$LN365@DrawMapEff:
  025af	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  025b5	c6 00 fb	 mov	 BYTE PTR [eax], -5	; fffffffbH

; 2520 : 								*(ptDest + 1) = (char)255;

  025b8	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  025bf	75 0d		 jne	 SHORT $LN366@DrawMapEff
  025c1	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  025c6	e8 00 00 00 00	 call	 __RTC_UninitUse
  025cb	83 c4 04	 add	 esp, 4
$LN366@DrawMapEff:
  025ce	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  025d4	c6 40 01 ff	 mov	 BYTE PTR [eax+1], -1

; 2521 : 								*(ptDest + surfacePitch) = (char)255;

  025d8	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  025df	75 0d		 jne	 SHORT $LN367@DrawMapEff
  025e1	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  025e6	e8 00 00 00 00	 call	 __RTC_UninitUse
  025eb	83 c4 04	 add	 esp, 4
$LN367@DrawMapEff:
  025ee	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  025f5	75 0d		 jne	 SHORT $LN368@DrawMapEff
  025f7	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  025fc	e8 00 00 00 00	 call	 __RTC_UninitUse
  02601	83 c4 04	 add	 esp, 4
$LN368@DrawMapEff:
  02604	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  0260a	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  02610	c6 00 ff	 mov	 BYTE PTR [eax], -1

; 2522 : 								*(ptDest + surfacePitch + 1) = (char)251;

  02613	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0261a	75 0d		 jne	 SHORT $LN369@DrawMapEff
  0261c	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02621	e8 00 00 00 00	 call	 __RTC_UninitUse
  02626	83 c4 04	 add	 esp, 4
$LN369@DrawMapEff:
  02629	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02630	75 0d		 jne	 SHORT $LN370@DrawMapEff
  02632	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02637	e8 00 00 00 00	 call	 __RTC_UninitUse
  0263c	83 c4 04	 add	 esp, 4
$LN370@DrawMapEff:
  0263f	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02645	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  0264b	c6 40 01 fb	 mov	 BYTE PTR [eax+1], -5	; fffffffbH
$LN56@DrawMapEff:

; 2523 : 							}

  0264f	e9 83 08 00 00	 jmp	 $LN42@DrawMapEff
$LN53@DrawMapEff:

; 2524 : 					}
; 2525 : 					else if (buf->mode == 3) {

  02654	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  0265a	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  0265e	83 f9 03	 cmp	 ecx, 3
  02661	0f 85 d7 02 00
	00		 jne	 $LN59@DrawMapEff

; 2526 : #ifdef _HI_COLOR_32
; 2527 : 						if (displayBpp == 32) {

  02667	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  0266e	0f 85 fd 00 00
	00		 jne	 $LN61@DrawMapEff

; 2528 : 							// î????î??î?
; 2529 : 							*(ptDest32) = highColor32Palette[255];

  02674	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  0267b	75 0d		 jne	 SHORT $LN371@DrawMapEff
  0267d	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02682	e8 00 00 00 00	 call	 __RTC_UninitUse
  02687	83 c4 04	 add	 esp, 4
$LN371@DrawMapEff:
  0268a	b8 04 00 00 00	 mov	 eax, 4
  0268f	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  02695	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  0269b	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  026a1	89 02		 mov	 DWORD PTR [edx], eax

; 2530 : 							*(ptDest32 + 1) = highColor32Palette[251];

  026a3	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  026aa	75 0d		 jne	 SHORT $LN372@DrawMapEff
  026ac	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  026b1	e8 00 00 00 00	 call	 __RTC_UninitUse
  026b6	83 c4 04	 add	 esp, 4
$LN372@DrawMapEff:
  026b9	b8 04 00 00 00	 mov	 eax, 4
  026be	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  026c4	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  026ca	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  026d0	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 2531 : 							*(ptDest32 + surfacePitch) = highColor32Palette[251];

  026d3	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  026da	75 0d		 jne	 SHORT $LN373@DrawMapEff
  026dc	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  026e1	e8 00 00 00 00	 call	 __RTC_UninitUse
  026e6	83 c4 04	 add	 esp, 4
$LN373@DrawMapEff:
  026e9	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  026f0	75 0d		 jne	 SHORT $LN374@DrawMapEff
  026f2	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  026f7	e8 00 00 00 00	 call	 __RTC_UninitUse
  026fc	83 c4 04	 add	 esp, 4
$LN374@DrawMapEff:
  026ff	b8 04 00 00 00	 mov	 eax, 4
  02704	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  0270a	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02710	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  02716	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0271c	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2532 : 							*(ptDest32 + surfacePitch + 1) = highColor32Palette[255];

  0271f	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02726	75 0d		 jne	 SHORT $LN375@DrawMapEff
  02728	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0272d	e8 00 00 00 00	 call	 __RTC_UninitUse
  02732	83 c4 04	 add	 esp, 4
$LN375@DrawMapEff:
  02735	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  0273c	75 0d		 jne	 SHORT $LN376@DrawMapEff
  0273e	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02743	e8 00 00 00 00	 call	 __RTC_UninitUse
  02748	83 c4 04	 add	 esp, 4
$LN376@DrawMapEff:
  0274b	b8 04 00 00 00	 mov	 eax, 4
  02750	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  02756	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0275c	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  02762	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02768	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2533 : 						}
; 2534 : 						else

  0276c	e9 c8 01 00 00	 jmp	 $LN62@DrawMapEff
$LN61@DrawMapEff:

; 2535 : #endif
; 2536 : 							if (displayBpp == 16) {

  02771	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  02778	0f 85 05 01 00
	00		 jne	 $LN63@DrawMapEff

; 2537 : 								// î????î??î?
; 2538 : 								*(ptDest2) = highColorPalette[255];

  0277e	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02785	75 0d		 jne	 SHORT $LN377@DrawMapEff
  02787	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  0278c	e8 00 00 00 00	 call	 __RTC_UninitUse
  02791	83 c4 04	 add	 esp, 4
$LN377@DrawMapEff:
  02794	b8 02 00 00 00	 mov	 eax, 2
  02799	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  0279f	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  027a5	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  027ac	66 89 02	 mov	 WORD PTR [edx], ax

; 2539 : 								*(ptDest2 + 1) = highColorPalette[251];

  027af	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  027b6	75 0d		 jne	 SHORT $LN378@DrawMapEff
  027b8	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  027bd	e8 00 00 00 00	 call	 __RTC_UninitUse
  027c2	83 c4 04	 add	 esp, 4
$LN378@DrawMapEff:
  027c5	b8 02 00 00 00	 mov	 eax, 2
  027ca	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  027d0	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  027d6	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  027dd	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2540 : 								*(ptDest2 + surfacePitch) = highColorPalette[251];

  027e1	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  027e8	75 0d		 jne	 SHORT $LN379@DrawMapEff
  027ea	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  027ef	e8 00 00 00 00	 call	 __RTC_UninitUse
  027f4	83 c4 04	 add	 esp, 4
$LN379@DrawMapEff:
  027f7	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  027fe	75 0d		 jne	 SHORT $LN380@DrawMapEff
  02800	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02805	e8 00 00 00 00	 call	 __RTC_UninitUse
  0280a	83 c4 04	 add	 esp, 4
$LN380@DrawMapEff:
  0280d	b8 02 00 00 00	 mov	 eax, 2
  02812	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  02818	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0281e	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  02824	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  0282b	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2541 : 								*(ptDest2 + surfacePitch + 1) = highColorPalette[255];

  0282f	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02836	75 0d		 jne	 SHORT $LN381@DrawMapEff
  02838	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0283d	e8 00 00 00 00	 call	 __RTC_UninitUse
  02842	83 c4 04	 add	 esp, 4
$LN381@DrawMapEff:
  02845	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0284c	75 0d		 jne	 SHORT $LN382@DrawMapEff
  0284e	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02853	e8 00 00 00 00	 call	 __RTC_UninitUse
  02858	83 c4 04	 add	 esp, 4
$LN382@DrawMapEff:
  0285b	b8 02 00 00 00	 mov	 eax, 2
  02860	69 c8 ff 00 00
	00		 imul	 ecx, eax, 255
  02866	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  0286c	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  02872	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02879	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2542 : 							}
; 2543 : 							else {

  0287e	e9 b6 00 00 00	 jmp	 $LN62@DrawMapEff
$LN63@DrawMapEff:

; 2544 : 								// î????î??î?
; 2545 : 								*(ptDest) = (char)255;

  02883	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0288a	75 0d		 jne	 SHORT $LN383@DrawMapEff
  0288c	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02891	e8 00 00 00 00	 call	 __RTC_UninitUse
  02896	83 c4 04	 add	 esp, 4
$LN383@DrawMapEff:
  02899	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  0289f	c6 00 ff	 mov	 BYTE PTR [eax], -1

; 2546 : 								*(ptDest + 1) = (char)251;

  028a2	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  028a9	75 0d		 jne	 SHORT $LN384@DrawMapEff
  028ab	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  028b0	e8 00 00 00 00	 call	 __RTC_UninitUse
  028b5	83 c4 04	 add	 esp, 4
$LN384@DrawMapEff:
  028b8	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  028be	c6 40 01 fb	 mov	 BYTE PTR [eax+1], -5	; fffffffbH

; 2547 : 								*(ptDest + surfacePitch) = (char)251;

  028c2	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  028c9	75 0d		 jne	 SHORT $LN385@DrawMapEff
  028cb	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  028d0	e8 00 00 00 00	 call	 __RTC_UninitUse
  028d5	83 c4 04	 add	 esp, 4
$LN385@DrawMapEff:
  028d8	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  028df	75 0d		 jne	 SHORT $LN386@DrawMapEff
  028e1	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  028e6	e8 00 00 00 00	 call	 __RTC_UninitUse
  028eb	83 c4 04	 add	 esp, 4
$LN386@DrawMapEff:
  028ee	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  028f4	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  028fa	c6 00 fb	 mov	 BYTE PTR [eax], -5	; fffffffbH

; 2548 : 								*(ptDest + surfacePitch + 1) = (char)255;

  028fd	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02904	75 0d		 jne	 SHORT $LN387@DrawMapEff
  02906	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  0290b	e8 00 00 00 00	 call	 __RTC_UninitUse
  02910	83 c4 04	 add	 esp, 4
$LN387@DrawMapEff:
  02913	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  0291a	75 0d		 jne	 SHORT $LN388@DrawMapEff
  0291c	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02921	e8 00 00 00 00	 call	 __RTC_UninitUse
  02926	83 c4 04	 add	 esp, 4
$LN388@DrawMapEff:
  02929	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  0292f	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  02935	c6 40 01 ff	 mov	 BYTE PTR [eax+1], -1
$LN62@DrawMapEff:

; 2549 : 							}

  02939	e9 99 05 00 00	 jmp	 $LN42@DrawMapEff
$LN59@DrawMapEff:

; 2550 : 					}
; 2551 : 					else if (buf->mode == 4) {

  0293e	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02944	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02948	83 f9 04	 cmp	 ecx, 4
  0294b	0f 85 d7 02 00
	00		 jne	 $LN65@DrawMapEff

; 2552 : #ifdef _HI_COLOR_32
; 2553 : 						if (displayBpp == 32) {

  02951	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  02958	0f 85 fd 00 00
	00		 jne	 $LN67@DrawMapEff

; 2554 : 							// î??î?î???î?
; 2555 : 							*(ptDest32) = highColor32Palette[251];

  0295e	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02965	75 0d		 jne	 SHORT $LN389@DrawMapEff
  02967	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  0296c	e8 00 00 00 00	 call	 __RTC_UninitUse
  02971	83 c4 04	 add	 esp, 4
$LN389@DrawMapEff:
  02974	b8 04 00 00 00	 mov	 eax, 4
  02979	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  0297f	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  02985	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  0298b	89 02		 mov	 DWORD PTR [edx], eax

; 2556 : 							*(ptDest32 + 1) = highColor32Palette[193];

  0298d	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02994	75 0d		 jne	 SHORT $LN390@DrawMapEff
  02996	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  0299b	e8 00 00 00 00	 call	 __RTC_UninitUse
  029a0	83 c4 04	 add	 esp, 4
$LN390@DrawMapEff:
  029a3	b8 04 00 00 00	 mov	 eax, 4
  029a8	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  029ae	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  029b4	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  029ba	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 2557 : 							*(ptDest32 + surfacePitch) = highColor32Palette[193];

  029bd	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  029c4	75 0d		 jne	 SHORT $LN391@DrawMapEff
  029c6	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  029cb	e8 00 00 00 00	 call	 __RTC_UninitUse
  029d0	83 c4 04	 add	 esp, 4
$LN391@DrawMapEff:
  029d3	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  029da	75 0d		 jne	 SHORT $LN392@DrawMapEff
  029dc	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  029e1	e8 00 00 00 00	 call	 __RTC_UninitUse
  029e6	83 c4 04	 add	 esp, 4
$LN392@DrawMapEff:
  029e9	b8 04 00 00 00	 mov	 eax, 4
  029ee	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  029f4	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  029fa	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  02a00	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02a06	89 0c 90	 mov	 DWORD PTR [eax+edx*4], ecx

; 2558 : 							*(ptDest32 + surfacePitch + 1) = highColor32Palette[193];

  02a09	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02a10	75 0d		 jne	 SHORT $LN393@DrawMapEff
  02a12	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02a17	e8 00 00 00 00	 call	 __RTC_UninitUse
  02a1c	83 c4 04	 add	 esp, 4
$LN393@DrawMapEff:
  02a1f	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02a26	75 0d		 jne	 SHORT $LN394@DrawMapEff
  02a28	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02a2d	e8 00 00 00 00	 call	 __RTC_UninitUse
  02a32	83 c4 04	 add	 esp, 4
$LN394@DrawMapEff:
  02a35	b8 04 00 00 00	 mov	 eax, 4
  02a3a	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  02a40	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02a46	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest32$13[ebp]
  02a4c	8b 89 00 00 00
	00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02a52	89 4c 90 04	 mov	 DWORD PTR [eax+edx*4+4], ecx

; 2559 : 						}
; 2560 : 						else

  02a56	e9 c8 01 00 00	 jmp	 $LN68@DrawMapEff
$LN67@DrawMapEff:

; 2561 : #endif	
; 2562 : 							if (displayBpp == 16) {

  02a5b	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  02a62	0f 85 05 01 00
	00		 jne	 $LN69@DrawMapEff

; 2563 : 								// î??î?î???î?
; 2564 : 								*(ptDest2) = highColorPalette[251];

  02a68	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02a6f	75 0d		 jne	 SHORT $LN395@DrawMapEff
  02a71	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02a76	e8 00 00 00 00	 call	 __RTC_UninitUse
  02a7b	83 c4 04	 add	 esp, 4
$LN395@DrawMapEff:
  02a7e	b8 02 00 00 00	 mov	 eax, 2
  02a83	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  02a89	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02a8f	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02a96	66 89 02	 mov	 WORD PTR [edx], ax

; 2565 : 								*(ptDest2 + 1) = highColorPalette[193];

  02a99	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02aa0	75 0d		 jne	 SHORT $LN396@DrawMapEff
  02aa2	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02aa7	e8 00 00 00 00	 call	 __RTC_UninitUse
  02aac	83 c4 04	 add	 esp, 4
$LN396@DrawMapEff:
  02aaf	b8 02 00 00 00	 mov	 eax, 2
  02ab4	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  02aba	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02ac0	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02ac7	66 89 42 02	 mov	 WORD PTR [edx+2], ax

; 2566 : 								*(ptDest2 + surfacePitch) = highColorPalette[193];

  02acb	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02ad2	75 0d		 jne	 SHORT $LN397@DrawMapEff
  02ad4	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02ad9	e8 00 00 00 00	 call	 __RTC_UninitUse
  02ade	83 c4 04	 add	 esp, 4
$LN397@DrawMapEff:
  02ae1	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02ae8	75 0d		 jne	 SHORT $LN398@DrawMapEff
  02aea	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02aef	e8 00 00 00 00	 call	 __RTC_UninitUse
  02af4	83 c4 04	 add	 esp, 4
$LN398@DrawMapEff:
  02af7	b8 02 00 00 00	 mov	 eax, 2
  02afc	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  02b02	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02b08	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  02b0e	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02b15	66 89 0c 50	 mov	 WORD PTR [eax+edx*2], cx

; 2567 : 								*(ptDest2 + surfacePitch + 1) = highColorPalette[193];

  02b19	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02b20	75 0d		 jne	 SHORT $LN399@DrawMapEff
  02b22	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02b27	e8 00 00 00 00	 call	 __RTC_UninitUse
  02b2c	83 c4 04	 add	 esp, 4
$LN399@DrawMapEff:
  02b2f	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02b36	75 0d		 jne	 SHORT $LN400@DrawMapEff
  02b38	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02b3d	e8 00 00 00 00	 call	 __RTC_UninitUse
  02b42	83 c4 04	 add	 esp, 4
$LN400@DrawMapEff:
  02b45	b8 02 00 00 00	 mov	 eax, 2
  02b4a	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  02b50	8b 95 4c ff ff
	ff		 mov	 edx, DWORD PTR _surfacePitch$12[ebp]
  02b56	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest2$14[ebp]
  02b5c	66 8b 89 00 00
	00 00		 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02b63	66 89 4c 50 02	 mov	 WORD PTR [eax+edx*2+2], cx

; 2568 : 							}
; 2569 : 							else {

  02b68	e9 b6 00 00 00	 jmp	 $LN68@DrawMapEff
$LN69@DrawMapEff:

; 2570 : 								// î??î?î???î?
; 2571 : 								*(ptDest) = (char)251;

  02b6d	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02b74	75 0d		 jne	 SHORT $LN401@DrawMapEff
  02b76	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02b7b	e8 00 00 00 00	 call	 __RTC_UninitUse
  02b80	83 c4 04	 add	 esp, 4
$LN401@DrawMapEff:
  02b83	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02b89	c6 00 fb	 mov	 BYTE PTR [eax], -5	; fffffffbH

; 2572 : 								*(ptDest + 1) = (char)193;

  02b8c	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02b93	75 0d		 jne	 SHORT $LN402@DrawMapEff
  02b95	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02b9a	e8 00 00 00 00	 call	 __RTC_UninitUse
  02b9f	83 c4 04	 add	 esp, 4
$LN402@DrawMapEff:
  02ba2	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02ba8	c6 40 01 c1	 mov	 BYTE PTR [eax+1], -63	; ffffffc1H

; 2573 : 								*(ptDest + surfacePitch) = (char)193;

  02bac	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02bb3	75 0d		 jne	 SHORT $LN403@DrawMapEff
  02bb5	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02bba	e8 00 00 00 00	 call	 __RTC_UninitUse
  02bbf	83 c4 04	 add	 esp, 4
$LN403@DrawMapEff:
  02bc2	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02bc9	75 0d		 jne	 SHORT $LN404@DrawMapEff
  02bcb	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02bd0	e8 00 00 00 00	 call	 __RTC_UninitUse
  02bd5	83 c4 04	 add	 esp, 4
$LN404@DrawMapEff:
  02bd8	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02bde	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  02be4	c6 00 c1	 mov	 BYTE PTR [eax], -63	; ffffffc1H

; 2574 : 								*(ptDest + surfacePitch + 1) = (char)193;

  02be7	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02bee	75 0d		 jne	 SHORT $LN405@DrawMapEff
  02bf0	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02bf5	e8 00 00 00 00	 call	 __RTC_UninitUse
  02bfa	83 c4 04	 add	 esp, 4
$LN405@DrawMapEff:
  02bfd	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  02c04	75 0d		 jne	 SHORT $LN406@DrawMapEff
  02c06	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  02c0b	e8 00 00 00 00	 call	 __RTC_UninitUse
  02c10	83 c4 04	 add	 esp, 4
$LN406@DrawMapEff:
  02c13	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02c19	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$12[ebp]
  02c1f	c6 40 01 c1	 mov	 BYTE PTR [eax+1], -63	; ffffffc1H
$LN68@DrawMapEff:

; 2575 : 							}

  02c23	e9 af 02 00 00	 jmp	 $LN42@DrawMapEff
$LN65@DrawMapEff:

; 2576 : 					}
; 2577 : 					else if (buf->mode == 5) {

  02c28	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02c2e	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02c32	83 f9 05	 cmp	 ecx, 5
  02c35	0f 85 9a 00 00
	00		 jne	 $LN71@DrawMapEff

; 2578 : #ifdef _HI_COLOR_32
; 2579 : 						if (displayBpp == 32) {

  02c3b	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  02c42	75 31		 jne	 SHORT $LN73@DrawMapEff

; 2580 : 							// î???î??
; 2581 : 							*(ptDest32) = highColor32Palette[198];

  02c44	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02c4b	75 0d		 jne	 SHORT $LN407@DrawMapEff
  02c4d	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02c52	e8 00 00 00 00	 call	 __RTC_UninitUse
  02c57	83 c4 04	 add	 esp, 4
$LN407@DrawMapEff:
  02c5a	b8 04 00 00 00	 mov	 eax, 4
  02c5f	69 c8 c6 00 00
	00		 imul	 ecx, eax, 198
  02c65	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  02c6b	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02c71	89 02		 mov	 DWORD PTR [edx], eax

; 2582 : 						}
; 2583 : 						else

  02c73	eb 5b		 jmp	 SHORT $LN74@DrawMapEff
$LN73@DrawMapEff:

; 2584 : #endif
; 2585 : 							if (displayBpp == 16) {

  02c75	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  02c7c	75 33		 jne	 SHORT $LN75@DrawMapEff

; 2586 : 								// î???î??
; 2587 : 								*(ptDest2) = highColorPalette[198];

  02c7e	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02c85	75 0d		 jne	 SHORT $LN408@DrawMapEff
  02c87	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02c8c	e8 00 00 00 00	 call	 __RTC_UninitUse
  02c91	83 c4 04	 add	 esp, 4
$LN408@DrawMapEff:
  02c94	b8 02 00 00 00	 mov	 eax, 2
  02c99	69 c8 c6 00 00
	00		 imul	 ecx, eax, 198
  02c9f	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02ca5	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02cac	66 89 02	 mov	 WORD PTR [edx], ax

; 2588 : 							}
; 2589 : 							else {

  02caf	eb 1f		 jmp	 SHORT $LN74@DrawMapEff
$LN75@DrawMapEff:

; 2590 : 								// î???î??
; 2591 : 								*(ptDest) = (char)198;

  02cb1	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02cb8	75 0d		 jne	 SHORT $LN409@DrawMapEff
  02cba	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02cbf	e8 00 00 00 00	 call	 __RTC_UninitUse
  02cc4	83 c4 04	 add	 esp, 4
$LN409@DrawMapEff:
  02cc7	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02ccd	c6 00 c6	 mov	 BYTE PTR [eax], -58	; ffffffc6H
$LN74@DrawMapEff:

; 2592 : 							}

  02cd0	e9 02 02 00 00	 jmp	 $LN42@DrawMapEff
$LN71@DrawMapEff:

; 2593 : 					}
; 2594 : 					else if (buf->mode == 6) {

  02cd5	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02cdb	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02cdf	83 f9 06	 cmp	 ecx, 6
  02ce2	0f 85 9a 00 00
	00		 jne	 $LN77@DrawMapEff

; 2595 : #ifdef _HI_COLOR_32
; 2596 : 						if (displayBpp == 32) {

  02ce8	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  02cef	75 31		 jne	 SHORT $LN79@DrawMapEff

; 2597 : 							// î???î??
; 2598 : 							*(ptDest32) = highColor32Palette[193];

  02cf1	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02cf8	75 0d		 jne	 SHORT $LN410@DrawMapEff
  02cfa	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02cff	e8 00 00 00 00	 call	 __RTC_UninitUse
  02d04	83 c4 04	 add	 esp, 4
$LN410@DrawMapEff:
  02d07	b8 04 00 00 00	 mov	 eax, 4
  02d0c	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  02d12	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  02d18	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02d1e	89 02		 mov	 DWORD PTR [edx], eax

; 2599 : 						}
; 2600 : 						else

  02d20	eb 5b		 jmp	 SHORT $LN80@DrawMapEff
$LN79@DrawMapEff:

; 2601 : #endif
; 2602 : 							if (displayBpp == 16) {

  02d22	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  02d29	75 33		 jne	 SHORT $LN81@DrawMapEff

; 2603 : 								// î???î??
; 2604 : 								*(ptDest2) = highColorPalette[193];

  02d2b	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02d32	75 0d		 jne	 SHORT $LN411@DrawMapEff
  02d34	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02d39	e8 00 00 00 00	 call	 __RTC_UninitUse
  02d3e	83 c4 04	 add	 esp, 4
$LN411@DrawMapEff:
  02d41	b8 02 00 00 00	 mov	 eax, 2
  02d46	69 c8 c1 00 00
	00		 imul	 ecx, eax, 193
  02d4c	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02d52	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02d59	66 89 02	 mov	 WORD PTR [edx], ax

; 2605 : 							}
; 2606 : 							else {

  02d5c	eb 1f		 jmp	 SHORT $LN80@DrawMapEff
$LN81@DrawMapEff:

; 2607 : 								// î???î??
; 2608 : 								*(ptDest) = (char)193;

  02d5e	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02d65	75 0d		 jne	 SHORT $LN412@DrawMapEff
  02d67	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02d6c	e8 00 00 00 00	 call	 __RTC_UninitUse
  02d71	83 c4 04	 add	 esp, 4
$LN412@DrawMapEff:
  02d74	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02d7a	c6 00 c1	 mov	 BYTE PTR [eax], -63	; ffffffc1H
$LN80@DrawMapEff:

; 2609 : 							}

  02d7d	e9 55 01 00 00	 jmp	 $LN42@DrawMapEff
$LN77@DrawMapEff:

; 2610 : 					}
; 2611 : 					else if (buf->mode == 7) {

  02d82	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02d88	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02d8c	83 f9 07	 cmp	 ecx, 7
  02d8f	0f 85 9a 00 00
	00		 jne	 $LN83@DrawMapEff

; 2612 : #ifdef _HI_COLOR_32
; 2613 : 						if (displayBpp == 32) {

  02d95	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  02d9c	75 31		 jne	 SHORT $LN85@DrawMapEff

; 2614 : 							// î???î??
; 2615 : 							*(ptDest32) = highColor32Palette[208];

  02d9e	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02da5	75 0d		 jne	 SHORT $LN413@DrawMapEff
  02da7	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02dac	e8 00 00 00 00	 call	 __RTC_UninitUse
  02db1	83 c4 04	 add	 esp, 4
$LN413@DrawMapEff:
  02db4	b8 04 00 00 00	 mov	 eax, 4
  02db9	69 c8 d0 00 00
	00		 imul	 ecx, eax, 208
  02dbf	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  02dc5	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02dcb	89 02		 mov	 DWORD PTR [edx], eax

; 2616 : 						}
; 2617 : 						else

  02dcd	eb 5b		 jmp	 SHORT $LN86@DrawMapEff
$LN85@DrawMapEff:

; 2618 : #endif
; 2619 : 							if (displayBpp == 16) {

  02dcf	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  02dd6	75 33		 jne	 SHORT $LN87@DrawMapEff

; 2620 : 								// î???î??
; 2621 : 								*(ptDest2) = highColorPalette[208];

  02dd8	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02ddf	75 0d		 jne	 SHORT $LN414@DrawMapEff
  02de1	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02de6	e8 00 00 00 00	 call	 __RTC_UninitUse
  02deb	83 c4 04	 add	 esp, 4
$LN414@DrawMapEff:
  02dee	b8 02 00 00 00	 mov	 eax, 2
  02df3	69 c8 d0 00 00
	00		 imul	 ecx, eax, 208
  02df9	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02dff	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02e06	66 89 02	 mov	 WORD PTR [edx], ax

; 2622 : 							}
; 2623 : 							else {

  02e09	eb 1f		 jmp	 SHORT $LN86@DrawMapEff
$LN87@DrawMapEff:

; 2624 : 								// î???î??
; 2625 : 								*(ptDest) = (char)208;

  02e0b	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02e12	75 0d		 jne	 SHORT $LN415@DrawMapEff
  02e14	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02e19	e8 00 00 00 00	 call	 __RTC_UninitUse
  02e1e	83 c4 04	 add	 esp, 4
$LN415@DrawMapEff:
  02e21	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02e27	c6 00 d0	 mov	 BYTE PTR [eax], -48	; ffffffd0H
$LN86@DrawMapEff:

; 2626 : 							}

  02e2a	e9 a8 00 00 00	 jmp	 $LN42@DrawMapEff
$LN83@DrawMapEff:

; 2627 : 					}
; 2628 : 					else if (buf->mode == 8) {

  02e2f	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02e35	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02e39	83 f9 08	 cmp	 ecx, 8
  02e3c	0f 85 95 00 00
	00		 jne	 $LN42@DrawMapEff

; 2629 : #ifdef _HI_COLOR_32
; 2630 : 						if (displayBpp == 32) {

  02e42	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  02e49	75 31		 jne	 SHORT $LN90@DrawMapEff

; 2631 : 							// î??î?
; 2632 : 							*(ptDest32) = highColor32Palette[251];

  02e4b	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  02e52	75 0d		 jne	 SHORT $LN416@DrawMapEff
  02e54	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  02e59	e8 00 00 00 00	 call	 __RTC_UninitUse
  02e5e	83 c4 04	 add	 esp, 4
$LN416@DrawMapEff:
  02e61	b8 04 00 00 00	 mov	 eax, 4
  02e66	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  02e6c	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest32$13[ebp]
  02e72	8b 81 00 00 00
	00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[ecx]
  02e78	89 02		 mov	 DWORD PTR [edx], eax

; 2633 : 						}
; 2634 : 						else

  02e7a	eb 5b		 jmp	 SHORT $LN42@DrawMapEff
$LN90@DrawMapEff:

; 2635 : #endif
; 2636 : 							if (displayBpp == 16) {

  02e7c	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  02e83	75 33		 jne	 SHORT $LN92@DrawMapEff

; 2637 : 								// î??î?
; 2638 : 								*(ptDest2) = highColorPalette[251];

  02e85	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  02e8c	75 0d		 jne	 SHORT $LN417@DrawMapEff
  02e8e	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  02e93	e8 00 00 00 00	 call	 __RTC_UninitUse
  02e98	83 c4 04	 add	 esp, 4
$LN417@DrawMapEff:
  02e9b	b8 02 00 00 00	 mov	 eax, 2
  02ea0	69 c8 fb 00 00
	00		 imul	 ecx, eax, 251
  02ea6	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _ptDest2$14[ebp]
  02eac	66 8b 81 00 00
	00 00		 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[ecx]
  02eb3	66 89 02	 mov	 WORD PTR [edx], ax

; 2639 : 							}
; 2640 : 							else {

  02eb6	eb 1f		 jmp	 SHORT $LN42@DrawMapEff
$LN92@DrawMapEff:

; 2641 : 								// î??î?
; 2642 : 								*(ptDest) = (char)251;

  02eb8	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  02ebf	75 0d		 jne	 SHORT $LN418@DrawMapEff
  02ec1	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  02ec6	e8 00 00 00 00	 call	 __RTC_UninitUse
  02ecb	83 c4 04	 add	 esp, 4
$LN418@DrawMapEff:
  02ece	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$15[ebp]
  02ed4	c6 00 fb	 mov	 BYTE PTR [eax], -5	; fffffffbH
$LN42@DrawMapEff:

; 2643 : 							}
; 2644 : 					}
; 2645 : 				}

  02ed7	e9 41 03 00 00	 jmp	 $LN15@DrawMapEff
$LN39@DrawMapEff:

; 2646 : 				else if (buf->type == MAP_EFFECT_TYPE_KAMIFUBUKI) {

  02edc	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02ee2	0f bf 48 3c	 movsx	 ecx, WORD PTR [eax+60]
  02ee6	83 f9 04	 cmp	 ecx, 4
  02ee9	0f 85 2e 03 00
	00		 jne	 $LN15@DrawMapEff

; 2647 : 					// ????
; 2648 : 					if (buf->mode == 0) {

  02eef	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02ef5	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02ef9	85 c9		 test	 ecx, ecx
  02efb	75 3b		 jne	 SHORT $LN96@DrawMapEff

; 2649 : 						if (buf->type2 == 0)

  02efd	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02f03	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02f07	85 c9		 test	 ecx, ecx
  02f09	75 09		 jne	 SHORT $LN98@DrawMapEff

; 2650 : 							color = (char)223;

  02f0b	c6 85 1f ff ff
	ff df		 mov	 BYTE PTR _color$8[ebp], -33 ; ffffffdfH
  02f12	eb 1f		 jmp	 SHORT $LN99@DrawMapEff
$LN98@DrawMapEff:

; 2651 : 						else if (buf->type2 == 1)

  02f14	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02f1a	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02f1e	83 f9 01	 cmp	 ecx, 1
  02f21	75 09		 jne	 SHORT $LN100@DrawMapEff

; 2652 : 							color = (char)217;

  02f23	c6 85 1f ff ff
	ff d9		 mov	 BYTE PTR _color$8[ebp], -39 ; ffffffd9H

; 2653 : 						else

  02f2a	eb 07		 jmp	 SHORT $LN99@DrawMapEff
$LN100@DrawMapEff:

; 2654 : 							color = (char)159;

  02f2c	c6 85 1f ff ff
	ff 9f		 mov	 BYTE PTR _color$8[ebp], -97 ; ffffff9fH
$LN99@DrawMapEff:
  02f33	e9 c4 00 00 00	 jmp	 $LN97@DrawMapEff
$LN96@DrawMapEff:

; 2655 : 					}
; 2656 : 					else if (buf->mode == 1) {

  02f38	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02f3e	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02f42	83 f9 01	 cmp	 ecx, 1
  02f45	75 38		 jne	 SHORT $LN102@DrawMapEff

; 2657 : 						if (buf->type2 == 0)

  02f47	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02f4d	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02f51	85 c9		 test	 ecx, ecx
  02f53	75 09		 jne	 SHORT $LN104@DrawMapEff

; 2658 : 							color = (char)212;

  02f55	c6 85 1f ff ff
	ff d4		 mov	 BYTE PTR _color$8[ebp], -44 ; ffffffd4H
  02f5c	eb 1f		 jmp	 SHORT $LN105@DrawMapEff
$LN104@DrawMapEff:

; 2659 : 						else if (buf->type2 == 1)

  02f5e	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02f64	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02f68	83 f9 01	 cmp	 ecx, 1
  02f6b	75 09		 jne	 SHORT $LN106@DrawMapEff

; 2660 : 							color = (char)208;

  02f6d	c6 85 1f ff ff
	ff d0		 mov	 BYTE PTR _color$8[ebp], -48 ; ffffffd0H

; 2661 : 						else

  02f74	eb 07		 jmp	 SHORT $LN105@DrawMapEff
$LN106@DrawMapEff:

; 2662 : 							color = (char)159;

  02f76	c6 85 1f ff ff
	ff 9f		 mov	 BYTE PTR _color$8[ebp], -97 ; ffffff9fH
$LN105@DrawMapEff:
  02f7d	eb 7d		 jmp	 SHORT $LN97@DrawMapEff
$LN102@DrawMapEff:

; 2663 : 					}
; 2664 : 					else if (buf->mode == 2) {

  02f7f	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02f85	0f bf 48 40	 movsx	 ecx, WORD PTR [eax+64]
  02f89	83 f9 02	 cmp	 ecx, 2
  02f8c	75 38		 jne	 SHORT $LN108@DrawMapEff

; 2665 : 						if (buf->type2 == 0)

  02f8e	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02f94	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02f98	85 c9		 test	 ecx, ecx
  02f9a	75 09		 jne	 SHORT $LN110@DrawMapEff

; 2666 : 							color = (char)130;

  02f9c	c6 85 1f ff ff
	ff 82		 mov	 BYTE PTR _color$8[ebp], -126 ; ffffff82H
  02fa3	eb 1f		 jmp	 SHORT $LN111@DrawMapEff
$LN110@DrawMapEff:

; 2667 : 						else if (buf->type2 == 1)

  02fa5	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02fab	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02faf	83 f9 01	 cmp	 ecx, 1
  02fb2	75 09		 jne	 SHORT $LN112@DrawMapEff

; 2668 : 							color = (char)147;

  02fb4	c6 85 1f ff ff
	ff 93		 mov	 BYTE PTR _color$8[ebp], -109 ; ffffff93H

; 2669 : 						else

  02fbb	eb 07		 jmp	 SHORT $LN111@DrawMapEff
$LN112@DrawMapEff:

; 2670 : 							color = (char)159;

  02fbd	c6 85 1f ff ff
	ff 9f		 mov	 BYTE PTR _color$8[ebp], -97 ; ffffff9fH
$LN111@DrawMapEff:

; 2671 : 					}
; 2672 : 					else {

  02fc4	eb 36		 jmp	 SHORT $LN97@DrawMapEff
$LN108@DrawMapEff:

; 2673 : 						if (buf->type2 == 0)

  02fc6	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02fcc	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02fd0	85 c9		 test	 ecx, ecx
  02fd2	75 09		 jne	 SHORT $LN114@DrawMapEff

; 2674 : 							color = (char)116;

  02fd4	c6 85 1f ff ff
	ff 74		 mov	 BYTE PTR _color$8[ebp], 116 ; 00000074H
  02fdb	eb 1f		 jmp	 SHORT $LN97@DrawMapEff
$LN114@DrawMapEff:

; 2675 : 						else if (buf->type2 == 1)

  02fdd	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  02fe3	0f bf 48 3e	 movsx	 ecx, WORD PTR [eax+62]
  02fe7	83 f9 01	 cmp	 ecx, 1
  02fea	75 09		 jne	 SHORT $LN116@DrawMapEff

; 2676 : 							color = (char)99;

  02fec	c6 85 1f ff ff
	ff 63		 mov	 BYTE PTR _color$8[ebp], 99 ; 00000063H

; 2677 : 						else

  02ff3	eb 07		 jmp	 SHORT $LN97@DrawMapEff
$LN116@DrawMapEff:

; 2678 : 							color = (char)159;

  02ff5	c6 85 1f ff ff
	ff 9f		 mov	 BYTE PTR _color$8[ebp], -97 ; ffffff9fH
$LN97@DrawMapEff:

; 2679 : 					}
; 2680 : 					for (i = 0; i < buf->h; i++) {

  02ffc	c7 85 10 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$7[ebp], 0
  03006	eb 0f		 jmp	 SHORT $LN6@DrawMapEff
$LN4@DrawMapEff:
  03008	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _i$7[ebp]
  0300e	83 c0 01	 add	 eax, 1
  03011	89 85 10 ff ff
	ff		 mov	 DWORD PTR _i$7[ebp], eax
$LN6@DrawMapEff:
  03017	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  0301d	8b 8d 10 ff ff
	ff		 mov	 ecx, DWORD PTR _i$7[ebp]
  03023	3b 48 2c	 cmp	 ecx, DWORD PTR [eax+44]
  03026	0f 8d f1 01 00
	00		 jge	 $LN15@DrawMapEff

; 2681 : 						for (j = 0; j < buf->w; j++) {

  0302c	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$6[ebp], 0
  03036	eb 0f		 jmp	 SHORT $LN9@DrawMapEff
$LN7@DrawMapEff:
  03038	8b 85 04 ff ff
	ff		 mov	 eax, DWORD PTR _j$6[ebp]
  0303e	83 c0 01	 add	 eax, 1
  03041	89 85 04 ff ff
	ff		 mov	 DWORD PTR _j$6[ebp], eax
$LN9@DrawMapEff:
  03047	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  0304d	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _j$6[ebp]
  03053	3b 48 28	 cmp	 ecx, DWORD PTR [eax+40]
  03056	0f 8d bc 01 00
	00		 jge	 $LN8@DrawMapEff

; 2682 : 							if (0 <= (buf->ex + j) && (buf->ex + j) < ww && 0 <= (buf->ey + i) && (buf->ey + i) < hh) {

  0305c	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  03062	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  03065	03 8d 04 ff ff
	ff		 add	 ecx, DWORD PTR _j$6[ebp]
  0306b	0f 88 a2 01 00
	00		 js	 $LN118@DrawMapEff
  03071	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  03077	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0307a	03 8d 04 ff ff
	ff		 add	 ecx, DWORD PTR _j$6[ebp]
  03080	3b 8d 40 ff ff
	ff		 cmp	 ecx, DWORD PTR _ww$11[ebp]
  03086	0f 8d 87 01 00
	00		 jge	 $LN118@DrawMapEff
  0308c	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  03092	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  03095	03 8d 10 ff ff
	ff		 add	 ecx, DWORD PTR _i$7[ebp]
  0309b	0f 88 72 01 00
	00		 js	 $LN118@DrawMapEff
  030a1	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  030a7	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  030aa	03 8d 10 ff ff
	ff		 add	 ecx, DWORD PTR _i$7[ebp]
  030b0	3b 8d 34 ff ff
	ff		 cmp	 ecx, DWORD PTR _hh$10[ebp]
  030b6	0f 8d 57 01 00
	00		 jge	 $LN118@DrawMapEff

; 2683 : #ifdef _HI_COLOR_32
; 2684 : 								if (displayBpp == 32) {

  030bc	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  030c3	75 73		 jne	 SHORT $LN119@DrawMapEff

; 2685 : 									*(ptDest32 + surfacePitch * (i + buf->ey) + j + buf->ex) = highColor32Palette[(unsigned char)color];

  030c5	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  030cc	75 0d		 jne	 SHORT $LN419@DrawMapEff
  030ce	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  030d3	e8 00 00 00 00	 call	 __RTC_UninitUse
  030d8	83 c4 04	 add	 esp, 4
$LN419@DrawMapEff:
  030db	80 bd 2f fe ff
	ff 00		 cmp	 BYTE PTR $T4[ebp], 0
  030e2	75 0d		 jne	 SHORT $LN420@DrawMapEff
  030e4	68 00 00 00 00	 push	 OFFSET $LN135@DrawMapEff
  030e9	e8 00 00 00 00	 call	 __RTC_UninitUse
  030ee	83 c4 04	 add	 esp, 4
$LN420@DrawMapEff:
  030f1	0f b6 85 1f ff
	ff ff		 movzx	 eax, BYTE PTR _color$8[ebp]
  030f8	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  030fe	8b 95 10 ff ff
	ff		 mov	 edx, DWORD PTR _i$7[ebp]
  03104	03 51 24	 add	 edx, DWORD PTR [ecx+36]
  03107	0f af 95 4c ff
	ff ff		 imul	 edx, DWORD PTR _surfacePitch$12[ebp]
  0310e	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest32$13[ebp]
  03114	8d 14 91	 lea	 edx, DWORD PTR [ecx+edx*4]
  03117	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _j$6[ebp]
  0311d	8d 14 8a	 lea	 edx, DWORD PTR [edx+ecx*4]
  03120	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  03126	8b 49 20	 mov	 ecx, DWORD PTR [ecx+32]
  03129	8b 04 85 00 00
	00 00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[eax*4]
  03130	89 04 8a	 mov	 DWORD PTR [edx+ecx*4], eax

; 2686 : 								}
; 2687 : 								else

  03133	e9 db 00 00 00	 jmp	 $LN118@DrawMapEff
$LN119@DrawMapEff:

; 2688 : #endif
; 2689 : 									if (displayBpp == 16)

  03138	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  0313f	75 72		 jne	 SHORT $LN121@DrawMapEff

; 2690 : 										*(ptDest2 + surfacePitch * (i + buf->ey) + j + buf->ex) = highColorPalette[(unsigned char)color];

  03141	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  03148	75 0d		 jne	 SHORT $LN421@DrawMapEff
  0314a	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  0314f	e8 00 00 00 00	 call	 __RTC_UninitUse
  03154	83 c4 04	 add	 esp, 4
$LN421@DrawMapEff:
  03157	80 bd 23 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0315e	75 0d		 jne	 SHORT $LN422@DrawMapEff
  03160	68 00 00 00 00	 push	 OFFSET $LN143@DrawMapEff
  03165	e8 00 00 00 00	 call	 __RTC_UninitUse
  0316a	83 c4 04	 add	 esp, 4
$LN422@DrawMapEff:
  0316d	0f b6 85 1f ff
	ff ff		 movzx	 eax, BYTE PTR _color$8[ebp]
  03174	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  0317a	8b 95 10 ff ff
	ff		 mov	 edx, DWORD PTR _i$7[ebp]
  03180	03 51 24	 add	 edx, DWORD PTR [ecx+36]
  03183	0f af 95 4c ff
	ff ff		 imul	 edx, DWORD PTR _surfacePitch$12[ebp]
  0318a	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest2$14[ebp]
  03190	8d 14 51	 lea	 edx, DWORD PTR [ecx+edx*2]
  03193	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _j$6[ebp]
  03199	8d 14 4a	 lea	 edx, DWORD PTR [edx+ecx*2]
  0319c	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _buf$9[ebp]
  031a2	8b 49 20	 mov	 ecx, DWORD PTR [ecx+32]
  031a5	66 8b 04 45 00
	00 00 00	 mov	 ax, WORD PTR ?highColorPalette@@3PAGA[eax*2]
  031ad	66 89 04 4a	 mov	 WORD PTR [edx+ecx*2], ax

; 2691 : 									else

  031b1	eb 60		 jmp	 SHORT $LN118@DrawMapEff
$LN121@DrawMapEff:

; 2692 : 										*(ptDest + surfacePitch * (i + buf->ey) + j + buf->ex) = color;

  031b3	80 bd 3b fe ff
	ff 00		 cmp	 BYTE PTR $T5[ebp], 0
  031ba	75 0d		 jne	 SHORT $LN423@DrawMapEff
  031bc	68 00 00 00 00	 push	 OFFSET $LN131@DrawMapEff
  031c1	e8 00 00 00 00	 call	 __RTC_UninitUse
  031c6	83 c4 04	 add	 esp, 4
$LN423@DrawMapEff:
  031c9	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  031d0	75 0d		 jne	 SHORT $LN424@DrawMapEff
  031d2	68 00 00 00 00	 push	 OFFSET $LN151@DrawMapEff
  031d7	e8 00 00 00 00	 call	 __RTC_UninitUse
  031dc	83 c4 04	 add	 esp, 4
$LN424@DrawMapEff:
  031df	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  031e5	8b 8d 10 ff ff
	ff		 mov	 ecx, DWORD PTR _i$7[ebp]
  031eb	03 48 24	 add	 ecx, DWORD PTR [eax+36]
  031ee	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$12[ebp]
  031f5	03 8d 70 ff ff
	ff		 add	 ecx, DWORD PTR _ptDest$15[ebp]
  031fb	03 8d 04 ff ff
	ff		 add	 ecx, DWORD PTR _j$6[ebp]
  03201	8b 95 28 ff ff
	ff		 mov	 edx, DWORD PTR _buf$9[ebp]
  03207	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  0320a	8a 95 1f ff ff
	ff		 mov	 dl, BYTE PTR _color$8[ebp]
  03210	88 14 01	 mov	 BYTE PTR [ecx+eax], dl
$LN118@DrawMapEff:

; 2693 : 							}
; 2694 : 						}

  03213	e9 20 fe ff ff	 jmp	 $LN7@DrawMapEff
$LN8@DrawMapEff:

; 2695 : 					}

  03218	e9 eb fd ff ff	 jmp	 $LN4@DrawMapEff
$LN15@DrawMapEff:

; 2696 : 				}
; 2697 : 				else if (buf->type == MAP_EFFECT_TYPE_HOTARU) {
; 2698 : 				}
; 2699 : 			}
; 2700 : 			buf = buf->next;

  0321d	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _buf$9[ebp]
  03223	8b 48 38	 mov	 ecx, DWORD PTR [eax+56]
  03226	89 8d 28 ff ff
	ff		 mov	 DWORD PTR _buf$9[ebp], ecx

; 2701 : 		}

  0322c	e9 07 cf ff ff	 jmp	 $LN2@DrawMapEff
$LN3@DrawMapEff:

; 2702 : 		if (lpDraw->lpBACKBUFFER->Unlock(NULL) != DD_OK)

  03231	8b f4		 mov	 esi, esp
  03233	6a 00		 push	 0
  03235	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0323a	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0323d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  03243	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  03246	8b 09		 mov	 ecx, DWORD PTR [ecx]
  03248	50		 push	 eax
  03249	8b 91 80 00 00
	00		 mov	 edx, DWORD PTR [ecx+128]
  0324f	ff d2		 call	 edx
  03251	3b f4		 cmp	 esi, esp
  03253	e8 00 00 00 00	 call	 __RTC_CheckEsp
  03258	85 c0		 test	 eax, eax
  0325a	75 18		 jne	 SHORT $LN1@DrawMapEff

; 2703 : 			return;
; 2704 : 		return;

  0325c	eb 16		 jmp	 SHORT $LN1@DrawMapEff
__catch$?DrawMapEffect@@YAXXZ$0:

; 2705 : 	}
; 2706 : 	catch (...)
; 2707 : 	{
; 2708 : 
; 2709 : 	}

  0325e	b8 00 00 00 00	 mov	 eax, $LN129@DrawMapEff
  03263	c3		 ret	 0
  03264	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  0326b	eb 07		 jmp	 SHORT $LN1@DrawMapEff
$LN129@DrawMapEff:
  0326d	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@DrawMapEff:

; 2710 : 
; 2711 : 	
; 2712 : }

  03274	52		 push	 edx
  03275	8b cd		 mov	 ecx, ebp
  03277	50		 push	 eax
  03278	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN428@DrawMapEff
  0327e	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  03283	58		 pop	 eax
  03284	5a		 pop	 edx
  03285	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  03288	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0328f	59		 pop	 ecx
  03290	5f		 pop	 edi
  03291	5e		 pop	 esi
  03292	5b		 pop	 ebx
  03293	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  03296	33 cd		 xor	 ecx, ebp
  03298	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0329d	81 c4 f0 01 00
	00		 add	 esp, 496		; 000001f0H
  032a3	3b ec		 cmp	 ebp, esp
  032a5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  032aa	8b e5		 mov	 esp, ebp
  032ac	5d		 pop	 ebp
  032ad	c3		 ret	 0
  032ae	66 90		 npad	 2
$LN428@DrawMapEff:
  032b0	01 00 00 00	 DD	 1
  032b4	00 00 00 00	 DD	 $LN427@DrawMapEff
$LN427@DrawMapEff:
  032b8	7c ff ff ff	 DD	 -132			; ffffff7cH
  032bc	6c 00 00 00	 DD	 108			; 0000006cH
  032c0	00 00 00 00	 DD	 $LN425@DrawMapEff
$LN425@DrawMapEff:
  032c4	64		 DB	 100			; 00000064H
  032c5	64		 DB	 100			; 00000064H
  032c6	73		 DB	 115			; 00000073H
  032c7	64		 DB	 100			; 00000064H
  032c8	00		 DB	 0
$LN151@DrawMapEff:
  032c9	70		 DB	 112			; 00000070H
  032ca	74		 DB	 116			; 00000074H
  032cb	44		 DB	 68			; 00000044H
  032cc	65		 DB	 101			; 00000065H
  032cd	73		 DB	 115			; 00000073H
  032ce	74		 DB	 116			; 00000074H
  032cf	00		 DB	 0
$LN143@DrawMapEff:
  032d0	70		 DB	 112			; 00000070H
  032d1	74		 DB	 116			; 00000074H
  032d2	44		 DB	 68			; 00000044H
  032d3	65		 DB	 101			; 00000065H
  032d4	73		 DB	 115			; 00000073H
  032d5	74		 DB	 116			; 00000074H
  032d6	32		 DB	 50			; 00000032H
  032d7	00		 DB	 0
$LN135@DrawMapEff:
  032d8	70		 DB	 112			; 00000070H
  032d9	74		 DB	 116			; 00000074H
  032da	44		 DB	 68			; 00000044H
  032db	65		 DB	 101			; 00000065H
  032dc	73		 DB	 115			; 00000073H
  032dd	74		 DB	 116			; 00000074H
  032de	33		 DB	 51			; 00000033H
  032df	32		 DB	 50			; 00000032H
  032e0	00		 DB	 0
$LN131@DrawMapEff:
  032e1	73		 DB	 115			; 00000073H
  032e2	75		 DB	 117			; 00000075H
  032e3	72		 DB	 114			; 00000072H
  032e4	66		 DB	 102			; 00000066H
  032e5	61		 DB	 97			; 00000061H
  032e6	63		 DB	 99			; 00000063H
  032e7	65		 DB	 101			; 00000065H
  032e8	50		 DB	 80			; 00000050H
  032e9	69		 DB	 105			; 00000069H
  032ea	74		 DB	 116			; 00000074H
  032eb	63		 DB	 99			; 00000063H
  032ec	68		 DB	 104			; 00000068H
  032ed	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawMapEffect@@YAXXZ:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 0c fe ff
	ff		 mov	 ecx, DWORD PTR [edx-500]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawMapEffect@@YAXXZ
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawMapEffect@@YAXXZ ENDP				; DrawMapEffect
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?saveBmpFile16@@YAHPBDPAEHH@Z
_TEXT	SEGMENT
_zero$ = -105						; size = 1
_writtensize$ = -96					; size = 4
_infoheader$ = -84					; size = 40
_fileheader$ = -36					; size = 14
_fh$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_filename$ = 8						; size = 4
_buf$ = 12						; size = 4
_width$ = 16						; size = 4
_height$ = 20						; size = 4
?saveBmpFile16@@YAHPBDPAEHH@Z PROC			; saveBmpFile16, COMDAT

; 3851 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 30 01 00
	00		 sub	 esp, 304		; 00000130H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd d0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-304]
  00012	b9 4c 00 00 00	 mov	 ecx, 76			; 0000004cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 3852 : 	HANDLE fh;
; 3853 : 	BITMAPFILEHEADER fileheader;
; 3854 : 	BITMAPINFOHEADER infoheader;
; 3855 : 
; 3856 : 	DWORD writtensize;
; 3857 : 	BYTE zero = 0;

  00028	c6 45 97 00	 mov	 BYTE PTR _zero$[ebp], 0

; 3858 : 
; 3859 : 	fh = CreateFile( filename, GENERIC_WRITE, (DWORD)NULL,

  0002c	8b f4		 mov	 esi, esp
  0002e	6a 00		 push	 0
  00030	68 80 00 00 00	 push	 128			; 00000080H
  00035	6a 02		 push	 2
  00037	6a 00		 push	 0
  00039	6a 00		 push	 0
  0003b	68 00 00 00 40	 push	 1073741824		; 40000000H
  00040	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00043	50		 push	 eax
  00044	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  0004a	3b f4		 cmp	 esi, esp
  0004c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00051	89 45 f4	 mov	 DWORD PTR _fh$[ebp], eax

; 3860 : 			(LPSECURITY_ATTRIBUTES)NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, (HANDLE)NULL );
; 3861 : 
; 3862 : 	if( fh == INVALID_HANDLE_VALUE ) return FALSE;

  00054	83 7d f4 ff	 cmp	 DWORD PTR _fh$[ebp], -1
  00058	75 07		 jne	 SHORT $LN2@saveBmpFil
  0005a	33 c0		 xor	 eax, eax
  0005c	e9 ff 00 00 00	 jmp	 $LN1@saveBmpFil
$LN2@saveBmpFil:

; 3863 : 
; 3864 : 	fileheader.bfType = 0x4D42;

  00061	b8 42 4d 00 00	 mov	 eax, 19778		; 00004d42H
  00066	66 89 45 dc	 mov	 WORD PTR _fileheader$[ebp], ax

; 3865 : 	fileheader.bfSize = sizeof(BITMAPFILEHEADER) + sizeof(BITMAPINFOHEADER) + width * height * 3;

  0006a	8b 45 10	 mov	 eax, DWORD PTR _width$[ebp]
  0006d	0f af 45 14	 imul	 eax, DWORD PTR _height$[ebp]
  00071	6b c8 03	 imul	 ecx, eax, 3
  00074	83 c1 36	 add	 ecx, 54			; 00000036H
  00077	89 4d de	 mov	 DWORD PTR _fileheader$[ebp+2], ecx

; 3866 : 	fileheader.bfReserved1 = 0;

  0007a	33 c0		 xor	 eax, eax
  0007c	66 89 45 e2	 mov	 WORD PTR _fileheader$[ebp+6], ax

; 3867 : 	fileheader.bfReserved2 = 0;

  00080	33 c0		 xor	 eax, eax
  00082	66 89 45 e4	 mov	 WORD PTR _fileheader$[ebp+8], ax

; 3868 : 	fileheader.bfOffBits = sizeof(BITMAPFILEHEADER) + sizeof(BITMAPINFOHEADER);

  00086	c7 45 e6 36 00
	00 00		 mov	 DWORD PTR _fileheader$[ebp+10], 54 ; 00000036H

; 3869 : 
; 3870 : 	infoheader.biSize = sizeof(BITMAPINFOHEADER);

  0008d	c7 45 ac 28 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp], 40 ; 00000028H

; 3871 : 	infoheader.biWidth = width;

  00094	8b 45 10	 mov	 eax, DWORD PTR _width$[ebp]
  00097	89 45 b0	 mov	 DWORD PTR _infoheader$[ebp+4], eax

; 3872 : 	infoheader.biHeight = height;

  0009a	8b 45 14	 mov	 eax, DWORD PTR _height$[ebp]
  0009d	89 45 b4	 mov	 DWORD PTR _infoheader$[ebp+8], eax

; 3873 : 	infoheader.biPlanes = 1;

  000a0	b8 01 00 00 00	 mov	 eax, 1
  000a5	66 89 45 b8	 mov	 WORD PTR _infoheader$[ebp+12], ax

; 3874 : 	infoheader.biBitCount = 24;

  000a9	b8 18 00 00 00	 mov	 eax, 24			; 00000018H
  000ae	66 89 45 ba	 mov	 WORD PTR _infoheader$[ebp+14], ax

; 3875 : 	infoheader.biCompression = 0;

  000b2	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+16], 0

; 3876 : 	infoheader.biSizeImage = width * height * 3;

  000b9	8b 45 10	 mov	 eax, DWORD PTR _width$[ebp]
  000bc	0f af 45 14	 imul	 eax, DWORD PTR _height$[ebp]
  000c0	6b c8 03	 imul	 ecx, eax, 3
  000c3	89 4d c0	 mov	 DWORD PTR _infoheader$[ebp+20], ecx

; 3877 : 	infoheader.biXPelsPerMeter = 0;

  000c6	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+24], 0

; 3878 : 	infoheader.biYPelsPerMeter = 0;

  000cd	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+28], 0

; 3879 : 	infoheader.biClrUsed = 0;

  000d4	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+32], 0

; 3880 : 	infoheader.biClrImportant = 0;

  000db	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+36], 0

; 3881 : 
; 3882 : 	WriteFile(fh,(void*)(&fileheader),sizeof(fileheader),&writtensize,NULL);

  000e2	8b f4		 mov	 esi, esp
  000e4	6a 00		 push	 0
  000e6	8d 45 a0	 lea	 eax, DWORD PTR _writtensize$[ebp]
  000e9	50		 push	 eax
  000ea	6a 0e		 push	 14			; 0000000eH
  000ec	8d 4d dc	 lea	 ecx, DWORD PTR _fileheader$[ebp]
  000ef	51		 push	 ecx
  000f0	8b 55 f4	 mov	 edx, DWORD PTR _fh$[ebp]
  000f3	52		 push	 edx
  000f4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  000fa	3b f4		 cmp	 esi, esp
  000fc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3883 : 	WriteFile(fh,(void*)(&infoheader),sizeof(BITMAPINFOHEADER),&writtensize,NULL);

  00101	8b f4		 mov	 esi, esp
  00103	6a 00		 push	 0
  00105	8d 45 a0	 lea	 eax, DWORD PTR _writtensize$[ebp]
  00108	50		 push	 eax
  00109	6a 28		 push	 40			; 00000028H
  0010b	8d 4d ac	 lea	 ecx, DWORD PTR _infoheader$[ebp]
  0010e	51		 push	 ecx
  0010f	8b 55 f4	 mov	 edx, DWORD PTR _fh$[ebp]
  00112	52		 push	 edx
  00113	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  00119	3b f4		 cmp	 esi, esp
  0011b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3884 : 	WriteFile(fh,(void*)buf,width * height * 3,&writtensize,NULL);

  00120	8b f4		 mov	 esi, esp
  00122	6a 00		 push	 0
  00124	8d 45 a0	 lea	 eax, DWORD PTR _writtensize$[ebp]
  00127	50		 push	 eax
  00128	8b 4d 10	 mov	 ecx, DWORD PTR _width$[ebp]
  0012b	0f af 4d 14	 imul	 ecx, DWORD PTR _height$[ebp]
  0012f	6b d1 03	 imul	 edx, ecx, 3
  00132	52		 push	 edx
  00133	8b 45 0c	 mov	 eax, DWORD PTR _buf$[ebp]
  00136	50		 push	 eax
  00137	8b 4d f4	 mov	 ecx, DWORD PTR _fh$[ebp]
  0013a	51		 push	 ecx
  0013b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  00141	3b f4		 cmp	 esi, esp
  00143	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3885 : 
; 3886 : 	CloseHandle( fh );

  00148	8b f4		 mov	 esi, esp
  0014a	8b 45 f4	 mov	 eax, DWORD PTR _fh$[ebp]
  0014d	50		 push	 eax
  0014e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  00154	3b f4		 cmp	 esi, esp
  00156	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3887 : 
; 3888 : 	return TRUE;

  0015b	b8 01 00 00 00	 mov	 eax, 1
$LN1@saveBmpFil:

; 3889 : }

  00160	52		 push	 edx
  00161	8b cd		 mov	 ecx, ebp
  00163	50		 push	 eax
  00164	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN8@saveBmpFil
  0016a	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0016f	58		 pop	 eax
  00170	5a		 pop	 edx
  00171	5f		 pop	 edi
  00172	5e		 pop	 esi
  00173	5b		 pop	 ebx
  00174	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00177	33 cd		 xor	 ecx, ebp
  00179	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0017e	81 c4 30 01 00
	00		 add	 esp, 304		; 00000130H
  00184	3b ec		 cmp	 ebp, esp
  00186	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0018b	8b e5		 mov	 esp, ebp
  0018d	5d		 pop	 ebp
  0018e	c3		 ret	 0
  0018f	90		 npad	 1
$LN8@saveBmpFil:
  00190	03 00 00 00	 DD	 3
  00194	00 00 00 00	 DD	 $LN7@saveBmpFil
$LN7@saveBmpFil:
  00198	dc ff ff ff	 DD	 -36			; ffffffdcH
  0019c	0e 00 00 00	 DD	 14			; 0000000eH
  001a0	00 00 00 00	 DD	 $LN4@saveBmpFil
  001a4	ac ff ff ff	 DD	 -84			; ffffffacH
  001a8	28 00 00 00	 DD	 40			; 00000028H
  001ac	00 00 00 00	 DD	 $LN5@saveBmpFil
  001b0	a0 ff ff ff	 DD	 -96			; ffffffa0H
  001b4	04 00 00 00	 DD	 4
  001b8	00 00 00 00	 DD	 $LN6@saveBmpFil
$LN6@saveBmpFil:
  001bc	77		 DB	 119			; 00000077H
  001bd	72		 DB	 114			; 00000072H
  001be	69		 DB	 105			; 00000069H
  001bf	74		 DB	 116			; 00000074H
  001c0	74		 DB	 116			; 00000074H
  001c1	65		 DB	 101			; 00000065H
  001c2	6e		 DB	 110			; 0000006eH
  001c3	73		 DB	 115			; 00000073H
  001c4	69		 DB	 105			; 00000069H
  001c5	7a		 DB	 122			; 0000007aH
  001c6	65		 DB	 101			; 00000065H
  001c7	00		 DB	 0
$LN5@saveBmpFil:
  001c8	69		 DB	 105			; 00000069H
  001c9	6e		 DB	 110			; 0000006eH
  001ca	66		 DB	 102			; 00000066H
  001cb	6f		 DB	 111			; 0000006fH
  001cc	68		 DB	 104			; 00000068H
  001cd	65		 DB	 101			; 00000065H
  001ce	61		 DB	 97			; 00000061H
  001cf	64		 DB	 100			; 00000064H
  001d0	65		 DB	 101			; 00000065H
  001d1	72		 DB	 114			; 00000072H
  001d2	00		 DB	 0
$LN4@saveBmpFil:
  001d3	66		 DB	 102			; 00000066H
  001d4	69		 DB	 105			; 00000069H
  001d5	6c		 DB	 108			; 0000006cH
  001d6	65		 DB	 101			; 00000065H
  001d7	68		 DB	 104			; 00000068H
  001d8	65		 DB	 101			; 00000065H
  001d9	61		 DB	 97			; 00000061H
  001da	64		 DB	 100			; 00000064H
  001db	65		 DB	 101			; 00000065H
  001dc	72		 DB	 114			; 00000072H
  001dd	00		 DB	 0
?saveBmpFile16@@YAHPBDPAEHH@Z ENDP			; saveBmpFile16
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?saveBmpFile@@YAHPBDPAEHHHHHPAUtagRGBQUAD@@H@Z
_TEXT	SEGMENT
_i$ = -132						; size = 4
_zero$ = -117						; size = 1
_writtensize$ = -108					; size = 4
_linesize$ = -96					; size = 4
_infoheader$ = -84					; size = 40
_fileheader$ = -36					; size = 14
_fh$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
_filename$ = 8						; size = 4
_buf$ = 12						; size = 4
_x$ = 16						; size = 4
_y$ = 20						; size = 4
_width$ = 24						; size = 4
_height$ = 28						; size = 4
_srcpitch$ = 32						; size = 4
_rgbpal$ = 36						; size = 4
_colorCnt$ = 40						; size = 4
?saveBmpFile@@YAHPBDPAEHHHHHPAUtagRGBQUAD@@H@Z PROC	; saveBmpFile, COMDAT

; 3793 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 48 01 00
	00		 sub	 esp, 328		; 00000148H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd b8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-328]
  00012	b9 52 00 00 00	 mov	 ecx, 82			; 00000052H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 3794 : 	HANDLE fh;
; 3795 : 	BITMAPFILEHEADER fileheader;
; 3796 : 	BITMAPINFOHEADER infoheader;
; 3797 : 
; 3798 : 	int linesize = (width+3)/4;

  00028	8b 45 18	 mov	 eax, DWORD PTR _width$[ebp]
  0002b	83 c0 03	 add	 eax, 3
  0002e	99		 cdq
  0002f	83 e2 03	 and	 edx, 3
  00032	03 c2		 add	 eax, edx
  00034	c1 f8 02	 sar	 eax, 2
  00037	89 45 a0	 mov	 DWORD PTR _linesize$[ebp], eax

; 3799 : 	DWORD writtensize;
; 3800 : 	BYTE zero = 0;

  0003a	c6 45 8b 00	 mov	 BYTE PTR _zero$[ebp], 0

; 3801 : 	int i;
; 3802 : 
; 3803 : 	fh = CreateFile( filename, GENERIC_WRITE, (DWORD)NULL,

  0003e	8b f4		 mov	 esi, esp
  00040	6a 00		 push	 0
  00042	68 80 00 00 00	 push	 128			; 00000080H
  00047	6a 02		 push	 2
  00049	6a 00		 push	 0
  0004b	6a 00		 push	 0
  0004d	68 00 00 00 40	 push	 1073741824		; 40000000H
  00052	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  00055	50		 push	 eax
  00056	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  0005c	3b f4		 cmp	 esi, esp
  0005e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00063	89 45 f4	 mov	 DWORD PTR _fh$[ebp], eax

; 3804 : 			(LPSECURITY_ATTRIBUTES)NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, (HANDLE)NULL );
; 3805 : 
; 3806 : 	if( fh == INVALID_HANDLE_VALUE )

  00066	83 7d f4 ff	 cmp	 DWORD PTR _fh$[ebp], -1
  0006a	75 07		 jne	 SHORT $LN5@saveBmpFil

; 3807 : 	{
; 3808 : 		return FALSE;

  0006c	33 c0		 xor	 eax, eax
  0006e	e9 89 01 00 00	 jmp	 $LN1@saveBmpFil
$LN5@saveBmpFil:

; 3809 : 	}
; 3810 : 
; 3811 : 
; 3812 : 	fileheader.bfType = 0x4D42;

  00073	b8 42 4d 00 00	 mov	 eax, 19778		; 00004d42H
  00078	66 89 45 dc	 mov	 WORD PTR _fileheader$[ebp], ax

; 3813 : 	fileheader.bfSize = sizeof( BITMAPFILEHEADER )

  0007c	8b 45 a0	 mov	 eax, DWORD PTR _linesize$[ebp]
  0007f	0f af 45 1c	 imul	 eax, DWORD PTR _height$[ebp]
  00083	8b 4d 28	 mov	 ecx, DWORD PTR _colorCnt$[ebp]
  00086	8d 54 88 36	 lea	 edx, DWORD PTR [eax+ecx*4+54]
  0008a	89 55 de	 mov	 DWORD PTR _fileheader$[ebp+2], edx

; 3814 : 		+sizeof( BITMAPINFOHEADER )+sizeof(RGBQUAD)*(colorCnt)+linesize*height;
; 3815 : 	fileheader.bfReserved1 = 0;

  0008d	33 c0		 xor	 eax, eax
  0008f	66 89 45 e2	 mov	 WORD PTR _fileheader$[ebp+6], ax

; 3816 : 	fileheader.bfReserved2 = 0;

  00093	33 c0		 xor	 eax, eax
  00095	66 89 45 e4	 mov	 WORD PTR _fileheader$[ebp+8], ax

; 3817 : 	fileheader.bfOffBits = sizeof( BITMAPFILEHEADER )

  00099	8b 45 28	 mov	 eax, DWORD PTR _colorCnt$[ebp]
  0009c	8d 0c 85 36 00
	00 00		 lea	 ecx, DWORD PTR [eax*4+54]
  000a3	89 4d e6	 mov	 DWORD PTR _fileheader$[ebp+10], ecx

; 3818 : 		+sizeof( BITMAPINFOHEADER )+sizeof(RGBQUAD)*(colorCnt);
; 3819 : 
; 3820 : 	WriteFile( fh, (void*)(&fileheader), sizeof( fileheader ), &writtensize, NULL );

  000a6	8b f4		 mov	 esi, esp
  000a8	6a 00		 push	 0
  000aa	8d 45 94	 lea	 eax, DWORD PTR _writtensize$[ebp]
  000ad	50		 push	 eax
  000ae	6a 0e		 push	 14			; 0000000eH
  000b0	8d 4d dc	 lea	 ecx, DWORD PTR _fileheader$[ebp]
  000b3	51		 push	 ecx
  000b4	8b 55 f4	 mov	 edx, DWORD PTR _fh$[ebp]
  000b7	52		 push	 edx
  000b8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  000be	3b f4		 cmp	 esi, esp
  000c0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3821 : 
; 3822 : 
; 3823 : 	infoheader.biSize = sizeof( BITMAPINFOHEADER );

  000c5	c7 45 ac 28 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp], 40 ; 00000028H

; 3824 : 	infoheader.biWidth = width;

  000cc	8b 45 18	 mov	 eax, DWORD PTR _width$[ebp]
  000cf	89 45 b0	 mov	 DWORD PTR _infoheader$[ebp+4], eax

; 3825 : 	infoheader.biHeight = height;

  000d2	8b 45 1c	 mov	 eax, DWORD PTR _height$[ebp]
  000d5	89 45 b4	 mov	 DWORD PTR _infoheader$[ebp+8], eax

; 3826 : 	infoheader.biPlanes = 1;

  000d8	b8 01 00 00 00	 mov	 eax, 1
  000dd	66 89 45 b8	 mov	 WORD PTR _infoheader$[ebp+12], ax

; 3827 : 	infoheader.biBitCount = 8;

  000e1	b8 08 00 00 00	 mov	 eax, 8
  000e6	66 89 45 ba	 mov	 WORD PTR _infoheader$[ebp+14], ax

; 3828 : 	infoheader.biCompression = NULL;

  000ea	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+16], 0

; 3829 : 	infoheader.biSizeImage = sizeof( BITMAPINFOHEADER )

  000f1	8b 45 a0	 mov	 eax, DWORD PTR _linesize$[ebp]
  000f4	0f af 45 1c	 imul	 eax, DWORD PTR _height$[ebp]
  000f8	8b 4d 28	 mov	 ecx, DWORD PTR _colorCnt$[ebp]
  000fb	8d 54 88 28	 lea	 edx, DWORD PTR [eax+ecx*4+40]
  000ff	89 55 c0	 mov	 DWORD PTR _infoheader$[ebp+20], edx

; 3830 : 		+sizeof(RGBQUAD)*(colorCnt)+linesize*height;
; 3831 : 	infoheader.biXPelsPerMeter = 0;

  00102	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+24], 0

; 3832 : 	infoheader.biYPelsPerMeter = 0;

  00109	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+28], 0

; 3833 : 	infoheader.biClrUsed = colorCnt;

  00110	8b 45 28	 mov	 eax, DWORD PTR _colorCnt$[ebp]
  00113	89 45 cc	 mov	 DWORD PTR _infoheader$[ebp+32], eax

; 3834 : 	infoheader.biClrImportant = 0;

  00116	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _infoheader$[ebp+36], 0

; 3835 : 
; 3836 : 	WriteFile( fh, (void*)(&infoheader), sizeof(BITMAPINFOHEADER), &writtensize, NULL );

  0011d	8b f4		 mov	 esi, esp
  0011f	6a 00		 push	 0
  00121	8d 45 94	 lea	 eax, DWORD PTR _writtensize$[ebp]
  00124	50		 push	 eax
  00125	6a 28		 push	 40			; 00000028H
  00127	8d 4d ac	 lea	 ecx, DWORD PTR _infoheader$[ebp]
  0012a	51		 push	 ecx
  0012b	8b 55 f4	 mov	 edx, DWORD PTR _fh$[ebp]
  0012e	52		 push	 edx
  0012f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  00135	3b f4		 cmp	 esi, esp
  00137	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3837 : 	WriteFile( fh, (void*)rgbpal, sizeof(RGBQUAD)*(colorCnt), &writtensize, NULL );

  0013c	8b f4		 mov	 esi, esp
  0013e	6a 00		 push	 0
  00140	8d 45 94	 lea	 eax, DWORD PTR _writtensize$[ebp]
  00143	50		 push	 eax
  00144	8b 4d 28	 mov	 ecx, DWORD PTR _colorCnt$[ebp]
  00147	c1 e1 02	 shl	 ecx, 2
  0014a	51		 push	 ecx
  0014b	8b 55 24	 mov	 edx, DWORD PTR _rgbpal$[ebp]
  0014e	52		 push	 edx
  0014f	8b 45 f4	 mov	 eax, DWORD PTR _fh$[ebp]
  00152	50		 push	 eax
  00153	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  00159	3b f4		 cmp	 esi, esp
  0015b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3838 : 
; 3839 : 	for( i = 0; i < height; i++ )

  00160	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0016a	eb 0f		 jmp	 SHORT $LN4@saveBmpFil
$LN2@saveBmpFil:
  0016c	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00172	83 c0 01	 add	 eax, 1
  00175	89 85 7c ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@saveBmpFil:
  0017b	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00181	3b 45 1c	 cmp	 eax, DWORD PTR _height$[ebp]
  00184	7d 5e		 jge	 SHORT $LN3@saveBmpFil

; 3840 : 	{
; 3841 : 		WriteFile( fh, (void*)(buf+srcpitch*(height+y-1-i)+x), width, &writtensize, NULL );

  00186	8b f4		 mov	 esi, esp
  00188	6a 00		 push	 0
  0018a	8d 45 94	 lea	 eax, DWORD PTR _writtensize$[ebp]
  0018d	50		 push	 eax
  0018e	8b 4d 18	 mov	 ecx, DWORD PTR _width$[ebp]
  00191	51		 push	 ecx
  00192	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  00195	8b 45 1c	 mov	 eax, DWORD PTR _height$[ebp]
  00198	8d 4c 10 ff	 lea	 ecx, DWORD PTR [eax+edx-1]
  0019c	2b 8d 7c ff ff
	ff		 sub	 ecx, DWORD PTR _i$[ebp]
  001a2	0f af 4d 20	 imul	 ecx, DWORD PTR _srcpitch$[ebp]
  001a6	03 4d 0c	 add	 ecx, DWORD PTR _buf$[ebp]
  001a9	03 4d 10	 add	 ecx, DWORD PTR _x$[ebp]
  001ac	51		 push	 ecx
  001ad	8b 55 f4	 mov	 edx, DWORD PTR _fh$[ebp]
  001b0	52		 push	 edx
  001b1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  001b7	3b f4		 cmp	 esi, esp
  001b9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3842 : 		WriteFile( fh, (void*)(&zero), linesize-width, &writtensize, NULL );

  001be	8b f4		 mov	 esi, esp
  001c0	6a 00		 push	 0
  001c2	8d 45 94	 lea	 eax, DWORD PTR _writtensize$[ebp]
  001c5	50		 push	 eax
  001c6	8b 4d a0	 mov	 ecx, DWORD PTR _linesize$[ebp]
  001c9	2b 4d 18	 sub	 ecx, DWORD PTR _width$[ebp]
  001cc	51		 push	 ecx
  001cd	8d 55 8b	 lea	 edx, DWORD PTR _zero$[ebp]
  001d0	52		 push	 edx
  001d1	8b 45 f4	 mov	 eax, DWORD PTR _fh$[ebp]
  001d4	50		 push	 eax
  001d5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  001db	3b f4		 cmp	 esi, esp
  001dd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3843 : 	}

  001e2	eb 88		 jmp	 SHORT $LN2@saveBmpFil
$LN3@saveBmpFil:

; 3844 : 
; 3845 : 	CloseHandle( fh );

  001e4	8b f4		 mov	 esi, esp
  001e6	8b 45 f4	 mov	 eax, DWORD PTR _fh$[ebp]
  001e9	50		 push	 eax
  001ea	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  001f0	3b f4		 cmp	 esi, esp
  001f2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3846 : 
; 3847 : 	return TRUE;

  001f7	b8 01 00 00 00	 mov	 eax, 1
$LN1@saveBmpFil:

; 3848 : }

  001fc	52		 push	 edx
  001fd	8b cd		 mov	 ecx, ebp
  001ff	50		 push	 eax
  00200	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN12@saveBmpFil
  00206	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0020b	58		 pop	 eax
  0020c	5a		 pop	 edx
  0020d	5f		 pop	 edi
  0020e	5e		 pop	 esi
  0020f	5b		 pop	 ebx
  00210	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00213	33 cd		 xor	 ecx, ebp
  00215	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0021a	81 c4 48 01 00
	00		 add	 esp, 328		; 00000148H
  00220	3b ec		 cmp	 ebp, esp
  00222	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00227	8b e5		 mov	 esp, ebp
  00229	5d		 pop	 ebp
  0022a	c3		 ret	 0
  0022b	90		 npad	 1
$LN12@saveBmpFil:
  0022c	04 00 00 00	 DD	 4
  00230	00 00 00 00	 DD	 $LN11@saveBmpFil
$LN11@saveBmpFil:
  00234	dc ff ff ff	 DD	 -36			; ffffffdcH
  00238	0e 00 00 00	 DD	 14			; 0000000eH
  0023c	00 00 00 00	 DD	 $LN7@saveBmpFil
  00240	ac ff ff ff	 DD	 -84			; ffffffacH
  00244	28 00 00 00	 DD	 40			; 00000028H
  00248	00 00 00 00	 DD	 $LN8@saveBmpFil
  0024c	94 ff ff ff	 DD	 -108			; ffffff94H
  00250	04 00 00 00	 DD	 4
  00254	00 00 00 00	 DD	 $LN9@saveBmpFil
  00258	8b ff ff ff	 DD	 -117			; ffffff8bH
  0025c	01 00 00 00	 DD	 1
  00260	00 00 00 00	 DD	 $LN10@saveBmpFil
$LN10@saveBmpFil:
  00264	7a		 DB	 122			; 0000007aH
  00265	65		 DB	 101			; 00000065H
  00266	72		 DB	 114			; 00000072H
  00267	6f		 DB	 111			; 0000006fH
  00268	00		 DB	 0
$LN9@saveBmpFil:
  00269	77		 DB	 119			; 00000077H
  0026a	72		 DB	 114			; 00000072H
  0026b	69		 DB	 105			; 00000069H
  0026c	74		 DB	 116			; 00000074H
  0026d	74		 DB	 116			; 00000074H
  0026e	65		 DB	 101			; 00000065H
  0026f	6e		 DB	 110			; 0000006eH
  00270	73		 DB	 115			; 00000073H
  00271	69		 DB	 105			; 00000069H
  00272	7a		 DB	 122			; 0000007aH
  00273	65		 DB	 101			; 00000065H
  00274	00		 DB	 0
$LN8@saveBmpFil:
  00275	69		 DB	 105			; 00000069H
  00276	6e		 DB	 110			; 0000006eH
  00277	66		 DB	 102			; 00000066H
  00278	6f		 DB	 111			; 0000006fH
  00279	68		 DB	 104			; 00000068H
  0027a	65		 DB	 101			; 00000065H
  0027b	61		 DB	 97			; 00000061H
  0027c	64		 DB	 100			; 00000064H
  0027d	65		 DB	 101			; 00000065H
  0027e	72		 DB	 114			; 00000072H
  0027f	00		 DB	 0
$LN7@saveBmpFil:
  00280	66		 DB	 102			; 00000066H
  00281	69		 DB	 105			; 00000069H
  00282	6c		 DB	 108			; 0000006cH
  00283	65		 DB	 101			; 00000065H
  00284	68		 DB	 104			; 00000068H
  00285	65		 DB	 101			; 00000065H
  00286	61		 DB	 97			; 00000061H
  00287	64		 DB	 100			; 00000064H
  00288	65		 DB	 101			; 00000065H
  00289	72		 DB	 114			; 00000072H
  0028a	00		 DB	 0
?saveBmpFile@@YAHPBDPAEHHHHHPAUtagRGBQUAD@@H@Z ENDP	; saveBmpFile
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?snapShot@@YAXXZ
_TEXT	SEGMENT
tv164 = -2400						; size = 4
$T1 = -2392						; size = 4
$T2 = -2380						; size = 4
_x$3 = -1600						; size = 4
_y$4 = -1588						; size = 4
_work$5 = -1576						; size = 4
_pB$6 = -1561						; size = 1
_pG$7 = -1549						; size = 1
_pR$8 = -1537						; size = 1
_pmem$9 = -1528						; size = 4
_mem$10 = -1516						; size = 4
_clientPoint$ = -1504					; size = 8
_h$ = -1488						; size = 4
_w$ = -1476						; size = 4
_fp$ = -1464						; size = 4
_longTime$ = -1452					; size = 8
_nowTime$ = -1436					; size = 4
_i$ = -1424						; size = 4
_fileName$ = -1412					; size = 256
_rgbpal$ = -1148					; size = 1024
_ddsdDesc$ = -116					; size = 108
__$ArrayPad$ = -4					; size = 4
?snapShot@@YAXXZ PROC					; snapShot, COMDAT

; 3645 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 60 09 00
	00		 sub	 esp, 2400		; 00000960H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd a0 f6 ff
	ff		 lea	 edi, DWORD PTR [ebp-2400]
  00012	b9 58 02 00 00	 mov	 ecx, 600		; 00000258H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 3646 : 	DDSURFACEDESC ddsdDesc;
; 3647 : 	RGBQUAD rgbpal[256];
; 3648 : 	char fileName[256];
; 3649 : 	int i;
; 3650 : 	struct tm *nowTime;
; 3651 : 	time_t longTime;
; 3652 : 	FILE *fp;
; 3653 : 	int w, h;
; 3654 : 	POINT 	clientPoint; // ??????????î¯???????î³?îº??î
; 3655 : 
; 3656 : 	// ?????î¨î????
; 3657 : 	clientPoint.x = 0;

  00028	c7 85 20 fa ff
	ff 00 00 00 00	 mov	 DWORD PTR _clientPoint$[ebp], 0

; 3658 : 	clientPoint.y = 0;

  00032	c7 85 24 fa ff
	ff 00 00 00 00	 mov	 DWORD PTR _clientPoint$[ebp+4], 0

; 3659 : 	// ??????????î¯???????î³?îî¾
; 3660 : 	ClientToScreen( hWnd, &clientPoint ); 

  0003c	8b f4		 mov	 esi, esp
  0003e	8d 85 20 fa ff
	ff		 lea	 eax, DWORD PTR _clientPoint$[ebp]
  00044	50		 push	 eax
  00045	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0004b	51		 push	 ecx
  0004c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClientToScreen@8
  00052	3b f4		 cmp	 esi, esp
  00054	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3661 : 
; 3662 : 	// îî¼??????î
; 3663 : 	if( _mkdir( "screenshot" ) != 0 )

  00059	8b f4		 mov	 esi, esp
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0L@CMHOPIGK@screenshot?$AA@
  00060	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___mkdir
  00066	83 c4 04	 add	 esp, 4
  00069	3b f4		 cmp	 esi, esp
  0006b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00070	85 c0		 test	 eax, eax
  00072	74 19		 je	 SHORT $LN16@snapShot

; 3664 : 	{
; 3665 : 		if( errno != EEXIST )

  00074	8b f4		 mov	 esi, esp
  00076	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___errno
  0007c	3b f4		 cmp	 esi, esp
  0007e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00083	83 38 11	 cmp	 DWORD PTR [eax], 17	; 00000011H
  00086	74 05		 je	 SHORT $LN16@snapShot

; 3666 : 			return;

  00088	e9 54 05 00 00	 jmp	 $LN1@snapShot
$LN16@snapShot:

; 3667 : 	}
; 3668 : 
; 3669 : 	// îî¼???????î
; 3670 : 	time( &longTime );					// ???îº??îî¾

  0008d	8d 85 54 fa ff
	ff		 lea	 eax, DWORD PTR _longTime$[ebp]
  00093	50		 push	 eax
  00094	e8 00 00 00 00	 call	 _time
  00099	83 c4 04	 add	 esp, 4

; 3671 : 	nowTime = localtime( &longTime );

  0009c	8d 85 54 fa ff
	ff		 lea	 eax, DWORD PTR _longTime$[ebp]
  000a2	50		 push	 eax
  000a3	e8 00 00 00 00	 call	 _localtime
  000a8	83 c4 04	 add	 esp, 4
  000ab	89 85 64 fa ff
	ff		 mov	 DWORD PTR _nowTime$[ebp], eax

; 3672 : 
; 3673 : 	for( i =  0; i < 1000; i ++ )

  000b1	c7 85 70 fa ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  000bb	eb 0f		 jmp	 SHORT $LN4@snapShot
$LN2@snapShot:
  000bd	8b 85 70 fa ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  000c3	83 c0 01	 add	 eax, 1
  000c6	89 85 70 fa ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@snapShot:
  000cc	81 bd 70 fa ff
	ff e8 03 00 00	 cmp	 DWORD PTR _i$[ebp], 1000 ; 000003e8H
  000d6	0f 8d 98 00 00
	00		 jge	 $LN3@snapShot

; 3674 : 	{
; 3675 : 		sprintf( fileName, "screenshot\\sa%02d%02d%02d_%03d.bmp",

  000dc	8b 85 70 fa ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  000e2	50		 push	 eax
  000e3	8b 8d 64 fa ff
	ff		 mov	 ecx, DWORD PTR _nowTime$[ebp]
  000e9	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  000ec	52		 push	 edx
  000ed	8b 85 64 fa ff
	ff		 mov	 eax, DWORD PTR _nowTime$[ebp]
  000f3	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  000f6	83 c1 01	 add	 ecx, 1
  000f9	51		 push	 ecx
  000fa	8b 95 64 fa ff
	ff		 mov	 edx, DWORD PTR _nowTime$[ebp]
  00100	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  00103	99		 cdq
  00104	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00109	f7 f9		 idiv	 ecx
  0010b	52		 push	 edx
  0010c	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@EDDPAJGO@screenshot?2sa?$CF02d?$CF02d?$CF02d_?$CF03d?4b@
  00111	8d 95 7c fa ff
	ff		 lea	 edx, DWORD PTR _fileName$[ebp]
  00117	52		 push	 edx
  00118	e8 00 00 00 00	 call	 _sprintf
  0011d	83 c4 18	 add	 esp, 24			; 00000018H

; 3676 : 			(nowTime->tm_year % 100), nowTime->tm_mon+1, nowTime->tm_mday, i );
; 3677 :  
; 3678 : 		if( (fp = fopen( fileName, "r" )) != NULL )

  00120	8b f4		 mov	 esi, esp
  00122	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  00127	8d 85 7c fa ff
	ff		 lea	 eax, DWORD PTR _fileName$[ebp]
  0012d	50		 push	 eax
  0012e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00134	83 c4 08	 add	 esp, 8
  00137	3b f4		 cmp	 esi, esp
  00139	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0013e	89 85 48 fa ff
	ff		 mov	 DWORD PTR _fp$[ebp], eax
  00144	83 bd 48 fa ff
	ff 00		 cmp	 DWORD PTR _fp$[ebp], 0
  0014b	74 20		 je	 SHORT $LN18@snapShot

; 3679 : 		{
; 3680 : 			// ????????????????î´??
; 3681 : 			fclose( fp );

  0014d	8b f4		 mov	 esi, esp
  0014f	8b 85 48 fa ff
	ff		 mov	 eax, DWORD PTR _fp$[ebp]
  00155	50		 push	 eax
  00156	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  0015c	83 c4 04	 add	 esp, 4
  0015f	3b f4		 cmp	 esi, esp
  00161	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3682 : 			continue;

  00166	e9 52 ff ff ff	 jmp	 $LN2@snapShot

; 3683 : 		}
; 3684 : 		else

  0016b	eb 02		 jmp	 SHORT $LN19@snapShot
$LN18@snapShot:

; 3685 : 		{
; 3686 : 			break;

  0016d	eb 05		 jmp	 SHORT $LN3@snapShot
$LN19@snapShot:

; 3687 : 		}
; 3688 :     }

  0016f	e9 49 ff ff ff	 jmp	 $LN2@snapShot
$LN3@snapShot:

; 3689 : 
; 3690 : 	if(displayBpp != 16){

  00174	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  0017b	0f 84 85 00 00
	00		 je	 $LN20@snapShot

; 3691 : 		// ????îî¾
; 3692 : 		for( i = 0; i < 256; i++ ){

  00181	c7 85 70 fa ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0018b	eb 0f		 jmp	 SHORT $LN7@snapShot
$LN5@snapShot:
  0018d	8b 85 70 fa ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00193	83 c0 01	 add	 eax, 1
  00196	89 85 70 fa ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN7@snapShot:
  0019c	81 bd 70 fa ff
	ff 00 01 00 00	 cmp	 DWORD PTR _i$[ebp], 256	; 00000100H
  001a6	7d 5e		 jge	 SHORT $LN20@snapShot

; 3693 : 			rgbpal[i].rgbRed   = Palette[i].peRed;

  001a8	8b 85 70 fa ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  001ae	8b 8d 70 fa ff
	ff		 mov	 ecx, DWORD PTR _i$[ebp]
  001b4	8a 14 8d 00 00
	00 00		 mov	 dl, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4]
  001bb	88 94 85 86 fb
	ff ff		 mov	 BYTE PTR _rgbpal$[ebp+eax*4+2], dl

; 3694 : 			rgbpal[i].rgbGreen = Palette[i].peGreen;

  001c2	8b 85 70 fa ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  001c8	8b 8d 70 fa ff
	ff		 mov	 ecx, DWORD PTR _i$[ebp]
  001ce	8a 14 8d 01 00
	00 00		 mov	 dl, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4+1]
  001d5	88 94 85 85 fb
	ff ff		 mov	 BYTE PTR _rgbpal$[ebp+eax*4+1], dl

; 3695 : 			rgbpal[i].rgbBlue  = Palette[i].peBlue;

  001dc	8b 85 70 fa ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  001e2	8b 8d 70 fa ff
	ff		 mov	 ecx, DWORD PTR _i$[ebp]
  001e8	8a 14 8d 02 00
	00 00		 mov	 dl, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4+2]
  001ef	88 94 85 84 fb
	ff ff		 mov	 BYTE PTR _rgbpal$[ebp+eax*4], dl

; 3696 : 			rgbpal[i].rgbReserved = 0;

  001f6	8b 85 70 fa ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  001fc	c6 84 85 87 fb
	ff ff 00	 mov	 BYTE PTR _rgbpal$[ebp+eax*4+3], 0

; 3697 : 		}

  00204	eb 87		 jmp	 SHORT $LN5@snapShot
$LN20@snapShot:

; 3698 : 	}
; 3699 : 	memset( &ddsdDesc, 0, sizeof( DDSURFACEDESC ) );

  00206	6a 6c		 push	 108			; 0000006cH
  00208	6a 00		 push	 0
  0020a	8d 45 8c	 lea	 eax, DWORD PTR _ddsdDesc$[ebp]
  0020d	50		 push	 eax
  0020e	e8 00 00 00 00	 call	 _memset
  00213	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3700 : 	ddsdDesc.dwSize = sizeof( DDSURFACEDESC );

  00216	c7 45 8c 6c 00
	00 00		 mov	 DWORD PTR _ddsdDesc$[ebp], 108 ; 0000006cH

; 3701 : 	if( lpDraw->lpFRONTBUFFER->Lock( NULL, &ddsdDesc, 0, NULL ) != DD_OK ){

  0021d	8b f4		 mov	 esi, esp
  0021f	6a 00		 push	 0
  00221	6a 00		 push	 0
  00223	8d 45 8c	 lea	 eax, DWORD PTR _ddsdDesc$[ebp]
  00226	50		 push	 eax
  00227	6a 00		 push	 0
  00229	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0022f	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00232	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00237	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0023a	8b 12		 mov	 edx, DWORD PTR [edx]
  0023c	51		 push	 ecx
  0023d	8b 42 64	 mov	 eax, DWORD PTR [edx+100]
  00240	ff d0		 call	 eax
  00242	3b f4		 cmp	 esi, esp
  00244	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00249	85 c0		 test	 eax, eax
  0024b	74 05		 je	 SHORT $LN21@snapShot

; 3702 : #ifdef  _STONDEBUG_
; 3703 : 		MessageBox(hWnd,"åæ¯ç¼å²åºéå®å¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP );
; 3704 : #endif
; 3705 : 		return;

  0024d	e9 8f 03 00 00	 jmp	 $LN1@snapShot
$LN21@snapShot:

; 3706 : 	}
; 3707 : 	/*
; 3708 : 	if( ResoMode == 1 )
; 3709 : 	{
; 3710 : 		w = 320;
; 3711 : 		h = 240;
; 3712 : 	}
; 3713 : 	else
; 3714 : 	{
; 3715 : 		w = 640;
; 3716 : 		h = 480;
; 3717 : 	}*/
; 3718 : 	switch (ResoMode)

  00252	a1 00 00 00 00	 mov	 eax, DWORD PTR ?ResoMode@@3HA ; ResoMode
  00257	89 85 a0 f6 ff
	ff		 mov	 DWORD PTR tv164[ebp], eax
  0025d	83 bd a0 f6 ff
	ff 00		 cmp	 DWORD PTR tv164[ebp], 0
  00264	74 40		 je	 SHORT $LN24@snapShot
  00266	83 bd a0 f6 ff
	ff 03		 cmp	 DWORD PTR tv164[ebp], 3
  0026d	74 21		 je	 SHORT $LN23@snapShot
  0026f	83 bd a0 f6 ff
	ff 04		 cmp	 DWORD PTR tv164[ebp], 4
  00276	74 02		 je	 SHORT $LN22@snapShot
  00278	eb 42		 jmp	 SHORT $LN25@snapShot
$LN22@snapShot:

; 3719 : 	{
; 3720 : 		case åè¾¨ç::mode1024:
; 3721 : 			w = 1024;

  0027a	c7 85 3c fa ff
	ff 00 04 00 00	 mov	 DWORD PTR _w$[ebp], 1024 ; 00000400H

; 3722 : 			h = 768;

  00284	c7 85 30 fa ff
	ff 00 03 00 00	 mov	 DWORD PTR _h$[ebp], 768	; 00000300H

; 3723 : 			break;

  0028e	eb 40		 jmp	 SHORT $LN8@snapShot
$LN23@snapShot:

; 3724 : 		case  åè¾¨ç::mode800:
; 3725 : 			w = 800;

  00290	c7 85 3c fa ff
	ff 20 03 00 00	 mov	 DWORD PTR _w$[ebp], 800	; 00000320H

; 3726 : 			h = 600;

  0029a	c7 85 30 fa ff
	ff 58 02 00 00	 mov	 DWORD PTR _h$[ebp], 600	; 00000258H

; 3727 : 			break;

  002a4	eb 2a		 jmp	 SHORT $LN8@snapShot
$LN24@snapShot:

; 3728 : 		case  åè¾¨ç::mode640:
; 3729 : 			w = 640;

  002a6	c7 85 3c fa ff
	ff 80 02 00 00	 mov	 DWORD PTR _w$[ebp], 640	; 00000280H

; 3730 : 			h = 480;

  002b0	c7 85 30 fa ff
	ff e0 01 00 00	 mov	 DWORD PTR _h$[ebp], 480	; 000001e0H

; 3731 : 			break;

  002ba	eb 14		 jmp	 SHORT $LN8@snapShot
$LN25@snapShot:

; 3732 : 		default:
; 3733 : 			w = 320;

  002bc	c7 85 3c fa ff
	ff 40 01 00 00	 mov	 DWORD PTR _w$[ebp], 320	; 00000140H

; 3734 : 			h = 240;

  002c6	c7 85 30 fa ff
	ff f0 00 00 00	 mov	 DWORD PTR _h$[ebp], 240	; 000000f0H
$LN8@snapShot:

; 3735 : 			break;
; 3736 : 	}
; 3737 : 	if(displayBpp == 16){

  002d0	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  002d7	0f 85 9e 02 00
	00		 jne	 $LN26@snapShot

; 3738 : 		BYTE *mem = new BYTE[w * h * 3],*pmem,pR,pG,pB;

  002dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??snapShot@@YAXXZ@4JA
  002e2	83 c0 5d	 add	 eax, 93			; 0000005dH
  002e5	50		 push	 eax
  002e6	68 00 00 00 00	 push	 OFFSET ??_C@_0GI@CBLCFHMF@c?3?2users?2administrator?2desktop?2?$LN@
  002eb	6a 01		 push	 1
  002ed	8b 8d 3c fa ff
	ff		 mov	 ecx, DWORD PTR _w$[ebp]
  002f3	0f af 8d 30 fa
	ff ff		 imul	 ecx, DWORD PTR _h$[ebp]
  002fa	6b d1 03	 imul	 edx, ecx, 3
  002fd	52		 push	 edx
  002fe	e8 00 00 00 00	 call	 ??_U@YAPAXIHPBDH@Z	; operator new[]
  00303	83 c4 10	 add	 esp, 16			; 00000010H
  00306	89 85 b4 f6 ff
	ff		 mov	 DWORD PTR $T2[ebp], eax
  0030c	8b 85 b4 f6 ff
	ff		 mov	 eax, DWORD PTR $T2[ebp]
  00312	89 85 14 fa ff
	ff		 mov	 DWORD PTR _mem$10[ebp], eax

; 3739 : 		if(mem == NULL){

  00318	83 bd 14 fa ff
	ff 00		 cmp	 DWORD PTR _mem$10[ebp], 0
  0031f	75 05		 jne	 SHORT $LN28@snapShot

; 3740 : #ifdef  _STONDEBUG_
; 3741 : 			MessageBox(hWnd,"è®°å¿ä½éç½®å¤±è´¥å¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP );
; 3742 : #endif
; 3743 : 			return;

  00321	e9 bb 02 00 00	 jmp	 $LN1@snapShot
$LN28@snapShot:

; 3744 : 		}
; 3745 : 		WORD *work = (WORD*)ddsdDesc.lpSurface;

  00326	8b 45 b0	 mov	 eax, DWORD PTR _ddsdDesc$[ebp+36]
  00329	89 85 d8 f9 ff
	ff		 mov	 DWORD PTR _work$5[ebp], eax

; 3746 : 		pmem = mem;

  0032f	8b 85 14 fa ff
	ff		 mov	 eax, DWORD PTR _mem$10[ebp]
  00335	89 85 08 fa ff
	ff		 mov	 DWORD PTR _pmem$9[ebp], eax

; 3747 : 		pmem += w * h * 3;

  0033b	8b 85 3c fa ff
	ff		 mov	 eax, DWORD PTR _w$[ebp]
  00341	0f af 85 30 fa
	ff ff		 imul	 eax, DWORD PTR _h$[ebp]
  00348	6b c8 03	 imul	 ecx, eax, 3
  0034b	03 8d 08 fa ff
	ff		 add	 ecx, DWORD PTR _pmem$9[ebp]
  00351	89 8d 08 fa ff
	ff		 mov	 DWORD PTR _pmem$9[ebp], ecx

; 3748 : 
; 3749 : 		// source face ä¸æ¬¡ç§»å¨äºä¸ªbyte
; 3750 : 		ddsdDesc.lPitch >>= 1;

  00357	8b 45 9c	 mov	 eax, DWORD PTR _ddsdDesc$[ebp+16]
  0035a	d1 f8		 sar	 eax, 1
  0035c	89 45 9c	 mov	 DWORD PTR _ddsdDesc$[ebp+16], eax

; 3751 : 		// work æ¯æ´ä¸ªè§å¹çä½ç½®,è¦ä½åç§»
; 3752 : 		work += ddsdDesc.lPitch * g_clientPoint.y + g_clientPoint.x;

  0035f	8b 45 9c	 mov	 eax, DWORD PTR _ddsdDesc$[ebp+16]
  00362	0f af 05 04 00
	00 00		 imul	 eax, DWORD PTR ?g_clientPoint@@3UtagPOINT@@A+4
  00369	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?g_clientPoint@@3UtagPOINT@@A
  0036f	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  00375	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00378	89 95 d8 f9 ff
	ff		 mov	 DWORD PTR _work$5[ebp], edx

; 3753 : 		for(int y=0;y<h;y++){

  0037e	c7 85 cc f9 ff
	ff 00 00 00 00	 mov	 DWORD PTR _y$4[ebp], 0
  00388	eb 0f		 jmp	 SHORT $LN12@snapShot
$LN10@snapShot:
  0038a	8b 85 cc f9 ff
	ff		 mov	 eax, DWORD PTR _y$4[ebp]
  00390	83 c0 01	 add	 eax, 1
  00393	89 85 cc f9 ff
	ff		 mov	 DWORD PTR _y$4[ebp], eax
$LN12@snapShot:
  00399	8b 85 cc f9 ff
	ff		 mov	 eax, DWORD PTR _y$4[ebp]
  0039f	3b 85 30 fa ff
	ff		 cmp	 eax, DWORD PTR _h$[ebp]
  003a5	0f 8d 8f 01 00
	00		 jge	 $LN11@snapShot

; 3754 : 			pmem -= w * 3;

  003ab	6b 85 3c fa ff
	ff 03		 imul	 eax, DWORD PTR _w$[ebp], 3
  003b2	8b 8d 08 fa ff
	ff		 mov	 ecx, DWORD PTR _pmem$9[ebp]
  003b8	2b c8		 sub	 ecx, eax
  003ba	89 8d 08 fa ff
	ff		 mov	 DWORD PTR _pmem$9[ebp], ecx

; 3755 : 			for(int x=0;x<w;x++){

  003c0	c7 85 c0 f9 ff
	ff 00 00 00 00	 mov	 DWORD PTR _x$3[ebp], 0
  003ca	eb 0f		 jmp	 SHORT $LN15@snapShot
$LN13@snapShot:
  003cc	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  003d2	83 c0 01	 add	 eax, 1
  003d5	89 85 c0 f9 ff
	ff		 mov	 DWORD PTR _x$3[ebp], eax
$LN15@snapShot:
  003db	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  003e1	3b 85 3c fa ff
	ff		 cmp	 eax, DWORD PTR _w$[ebp]
  003e7	0f 8d 21 01 00
	00		 jge	 $LN14@snapShot

; 3756 : 				// 565 æ¾ç¤ºæ¨¡å¼
; 3757 : 				if(gBitRShift == 2){

  003ed	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?gBitRShift@@3HA, 2 ; gBitRShift
  003f4	75 62		 jne	 SHORT $LN29@snapShot

; 3758 : 					pR = (BYTE)((((work[x] & 0xf800)) >> 11) << 3);

  003f6	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  003fc	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  00402	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00406	81 e2 00 f8 00
	00		 and	 edx, 63488		; 0000f800H
  0040c	c1 fa 0b	 sar	 edx, 11			; 0000000bH
  0040f	c1 e2 03	 shl	 edx, 3
  00412	88 95 ff f9 ff
	ff		 mov	 BYTE PTR _pR$8[ebp], dl

; 3759 : 					pG = (BYTE)((((work[x] & 0x07e0)) >> 5) << 2);

  00418	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  0041e	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  00424	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00428	81 e2 e0 07 00
	00		 and	 edx, 2016		; 000007e0H
  0042e	c1 fa 05	 sar	 edx, 5
  00431	c1 e2 02	 shl	 edx, 2
  00434	88 95 f3 f9 ff
	ff		 mov	 BYTE PTR _pG$7[ebp], dl

; 3760 : 					pB = (BYTE)((work[x] & 0x001f) << 3);

  0043a	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  00440	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  00446	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0044a	83 e2 1f	 and	 edx, 31			; 0000001fH
  0044d	c1 e2 03	 shl	 edx, 3
  00450	88 95 e7 f9 ff
	ff		 mov	 BYTE PTR _pB$6[ebp], dl

; 3761 : 				}
; 3762 : 				// 555 æ¾ç¤ºæ¨¡å¼
; 3763 : 				else{

  00456	eb 5a		 jmp	 SHORT $LN30@snapShot
$LN29@snapShot:

; 3764 : 					pR = (BYTE)((work[x] >> 10) << 3);

  00458	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  0045e	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  00464	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00468	c1 fa 0a	 sar	 edx, 10			; 0000000aH
  0046b	c1 e2 03	 shl	 edx, 3
  0046e	88 95 ff f9 ff
	ff		 mov	 BYTE PTR _pR$8[ebp], dl

; 3765 : 					pG = (BYTE)(((work[x] & 0x03e0) >> 5) << 3);

  00474	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  0047a	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  00480	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  00484	81 e2 e0 03 00
	00		 and	 edx, 992		; 000003e0H
  0048a	c1 fa 05	 sar	 edx, 5
  0048d	c1 e2 03	 shl	 edx, 3
  00490	88 95 f3 f9 ff
	ff		 mov	 BYTE PTR _pG$7[ebp], dl

; 3766 : 					pB = (BYTE)((work[x] & 0x001f) << 3);

  00496	8b 85 c0 f9 ff
	ff		 mov	 eax, DWORD PTR _x$3[ebp]
  0049c	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  004a2	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  004a6	83 e2 1f	 and	 edx, 31			; 0000001fH
  004a9	c1 e2 03	 shl	 edx, 3
  004ac	88 95 e7 f9 ff
	ff		 mov	 BYTE PTR _pB$6[ebp], dl
$LN30@snapShot:

; 3767 : 				}
; 3768 : 				*pmem++ = pB;

  004b2	8b 85 08 fa ff
	ff		 mov	 eax, DWORD PTR _pmem$9[ebp]
  004b8	8a 8d e7 f9 ff
	ff		 mov	 cl, BYTE PTR _pB$6[ebp]
  004be	88 08		 mov	 BYTE PTR [eax], cl
  004c0	8b 95 08 fa ff
	ff		 mov	 edx, DWORD PTR _pmem$9[ebp]
  004c6	83 c2 01	 add	 edx, 1
  004c9	89 95 08 fa ff
	ff		 mov	 DWORD PTR _pmem$9[ebp], edx

; 3769 : 				*pmem++ = pG;

  004cf	8b 85 08 fa ff
	ff		 mov	 eax, DWORD PTR _pmem$9[ebp]
  004d5	8a 8d f3 f9 ff
	ff		 mov	 cl, BYTE PTR _pG$7[ebp]
  004db	88 08		 mov	 BYTE PTR [eax], cl
  004dd	8b 95 08 fa ff
	ff		 mov	 edx, DWORD PTR _pmem$9[ebp]
  004e3	83 c2 01	 add	 edx, 1
  004e6	89 95 08 fa ff
	ff		 mov	 DWORD PTR _pmem$9[ebp], edx

; 3770 : 				*pmem++ = pR;

  004ec	8b 85 08 fa ff
	ff		 mov	 eax, DWORD PTR _pmem$9[ebp]
  004f2	8a 8d ff f9 ff
	ff		 mov	 cl, BYTE PTR _pR$8[ebp]
  004f8	88 08		 mov	 BYTE PTR [eax], cl
  004fa	8b 95 08 fa ff
	ff		 mov	 edx, DWORD PTR _pmem$9[ebp]
  00500	83 c2 01	 add	 edx, 1
  00503	89 95 08 fa ff
	ff		 mov	 DWORD PTR _pmem$9[ebp], edx

; 3771 : 			}

  00509	e9 be fe ff ff	 jmp	 $LN13@snapShot
$LN14@snapShot:

; 3772 : 			// æ¢è¡
; 3773 : 			work += ddsdDesc.lPitch;

  0050e	8b 45 9c	 mov	 eax, DWORD PTR _ddsdDesc$[ebp+16]
  00511	8b 8d d8 f9 ff
	ff		 mov	 ecx, DWORD PTR _work$5[ebp]
  00517	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0051a	89 95 d8 f9 ff
	ff		 mov	 DWORD PTR _work$5[ebp], edx

; 3774 : 			pmem -= w * 3;

  00520	6b 85 3c fa ff
	ff 03		 imul	 eax, DWORD PTR _w$[ebp], 3
  00527	8b 8d 08 fa ff
	ff		 mov	 ecx, DWORD PTR _pmem$9[ebp]
  0052d	2b c8		 sub	 ecx, eax
  0052f	89 8d 08 fa ff
	ff		 mov	 DWORD PTR _pmem$9[ebp], ecx

; 3775 : 		}

  00535	e9 50 fe ff ff	 jmp	 $LN10@snapShot
$LN11@snapShot:

; 3776 : 		
; 3777 : 		saveBmpFile16(fileName,mem,w,h);

  0053a	8b 85 30 fa ff
	ff		 mov	 eax, DWORD PTR _h$[ebp]
  00540	50		 push	 eax
  00541	8b 8d 3c fa ff
	ff		 mov	 ecx, DWORD PTR _w$[ebp]
  00547	51		 push	 ecx
  00548	8b 95 14 fa ff
	ff		 mov	 edx, DWORD PTR _mem$10[ebp]
  0054e	52		 push	 edx
  0054f	8d 85 7c fa ff
	ff		 lea	 eax, DWORD PTR _fileName$[ebp]
  00555	50		 push	 eax
  00556	e8 00 00 00 00	 call	 ?saveBmpFile16@@YAHPBDPAEHH@Z ; saveBmpFile16
  0055b	83 c4 10	 add	 esp, 16			; 00000010H

; 3778 : 		delete[] mem;

  0055e	8b 85 14 fa ff
	ff		 mov	 eax, DWORD PTR _mem$10[ebp]
  00564	89 85 a8 f6 ff
	ff		 mov	 DWORD PTR $T1[ebp], eax
  0056a	8b 8d a8 f6 ff
	ff		 mov	 ecx, DWORD PTR $T1[ebp]
  00570	51		 push	 ecx
  00571	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00576	83 c4 04	 add	 esp, 4

; 3779 : 	}
; 3780 : 	else

  00579	eb 3f		 jmp	 SHORT $LN27@snapShot
$LN26@snapShot:

; 3781 : 		saveBmpFile( fileName, (BYTE*)ddsdDesc.lpSurface,

  0057b	68 00 01 00 00	 push	 256			; 00000100H
  00580	8d 85 84 fb ff
	ff		 lea	 eax, DWORD PTR _rgbpal$[ebp]
  00586	50		 push	 eax
  00587	8b 4d 9c	 mov	 ecx, DWORD PTR _ddsdDesc$[ebp+16]
  0058a	51		 push	 ecx
  0058b	8b 95 30 fa ff
	ff		 mov	 edx, DWORD PTR _h$[ebp]
  00591	52		 push	 edx
  00592	8b 85 3c fa ff
	ff		 mov	 eax, DWORD PTR _w$[ebp]
  00598	50		 push	 eax
  00599	8b 8d 24 fa ff
	ff		 mov	 ecx, DWORD PTR _clientPoint$[ebp+4]
  0059f	51		 push	 ecx
  005a0	8b 95 20 fa ff
	ff		 mov	 edx, DWORD PTR _clientPoint$[ebp]
  005a6	52		 push	 edx
  005a7	8b 45 b0	 mov	 eax, DWORD PTR _ddsdDesc$[ebp+36]
  005aa	50		 push	 eax
  005ab	8d 8d 7c fa ff
	ff		 lea	 ecx, DWORD PTR _fileName$[ebp]
  005b1	51		 push	 ecx
  005b2	e8 00 00 00 00	 call	 ?saveBmpFile@@YAHPBDPAEHHHHHPAUtagRGBQUAD@@H@Z ; saveBmpFile
  005b7	83 c4 24	 add	 esp, 36			; 00000024H
$LN27@snapShot:

; 3782 : 			clientPoint.x, clientPoint.y, w, h, ddsdDesc.lPitch, rgbpal, 256 );
; 3783 : 
; 3784 : 	if( lpDraw->lpFRONTBUFFER->Unlock( NULL ) != DD_OK )

  005ba	8b f4		 mov	 esi, esp
  005bc	6a 00		 push	 0
  005be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  005c3	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  005c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  005cc	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  005cf	8b 09		 mov	 ecx, DWORD PTR [ecx]
  005d1	50		 push	 eax
  005d2	8b 91 80 00 00
	00		 mov	 edx, DWORD PTR [ecx+128]
  005d8	ff d2		 call	 edx
  005da	3b f4		 cmp	 esi, esp
  005dc	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN1@snapShot:

; 3785 : 		return;
; 3786 : }

  005e1	52		 push	 edx
  005e2	8b cd		 mov	 ecx, ebp
  005e4	50		 push	 eax
  005e5	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN39@snapShot
  005eb	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  005f0	58		 pop	 eax
  005f1	5a		 pop	 edx
  005f2	5f		 pop	 edi
  005f3	5e		 pop	 esi
  005f4	5b		 pop	 ebx
  005f5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  005f8	33 cd		 xor	 ecx, ebp
  005fa	e8 00 00 00 00	 call	 @__security_check_cookie@4
  005ff	81 c4 60 09 00
	00		 add	 esp, 2400		; 00000960H
  00605	3b ec		 cmp	 ebp, esp
  00607	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0060c	8b e5		 mov	 esp, ebp
  0060e	5d		 pop	 ebp
  0060f	c3		 ret	 0
$LN39@snapShot:
  00610	05 00 00 00	 DD	 5
  00614	00 00 00 00	 DD	 $LN38@snapShot
$LN38@snapShot:
  00618	8c ff ff ff	 DD	 -116			; ffffff8cH
  0061c	6c 00 00 00	 DD	 108			; 0000006cH
  00620	00 00 00 00	 DD	 $LN33@snapShot
  00624	84 fb ff ff	 DD	 -1148			; fffffb84H
  00628	00 04 00 00	 DD	 1024			; 00000400H
  0062c	00 00 00 00	 DD	 $LN34@snapShot
  00630	7c fa ff ff	 DD	 -1412			; fffffa7cH
  00634	00 01 00 00	 DD	 256			; 00000100H
  00638	00 00 00 00	 DD	 $LN35@snapShot
  0063c	54 fa ff ff	 DD	 -1452			; fffffa54H
  00640	08 00 00 00	 DD	 8
  00644	00 00 00 00	 DD	 $LN36@snapShot
  00648	20 fa ff ff	 DD	 -1504			; fffffa20H
  0064c	08 00 00 00	 DD	 8
  00650	00 00 00 00	 DD	 $LN37@snapShot
$LN37@snapShot:
  00654	63		 DB	 99			; 00000063H
  00655	6c		 DB	 108			; 0000006cH
  00656	69		 DB	 105			; 00000069H
  00657	65		 DB	 101			; 00000065H
  00658	6e		 DB	 110			; 0000006eH
  00659	74		 DB	 116			; 00000074H
  0065a	50		 DB	 80			; 00000050H
  0065b	6f		 DB	 111			; 0000006fH
  0065c	69		 DB	 105			; 00000069H
  0065d	6e		 DB	 110			; 0000006eH
  0065e	74		 DB	 116			; 00000074H
  0065f	00		 DB	 0
$LN36@snapShot:
  00660	6c		 DB	 108			; 0000006cH
  00661	6f		 DB	 111			; 0000006fH
  00662	6e		 DB	 110			; 0000006eH
  00663	67		 DB	 103			; 00000067H
  00664	54		 DB	 84			; 00000054H
  00665	69		 DB	 105			; 00000069H
  00666	6d		 DB	 109			; 0000006dH
  00667	65		 DB	 101			; 00000065H
  00668	00		 DB	 0
$LN35@snapShot:
  00669	66		 DB	 102			; 00000066H
  0066a	69		 DB	 105			; 00000069H
  0066b	6c		 DB	 108			; 0000006cH
  0066c	65		 DB	 101			; 00000065H
  0066d	4e		 DB	 78			; 0000004eH
  0066e	61		 DB	 97			; 00000061H
  0066f	6d		 DB	 109			; 0000006dH
  00670	65		 DB	 101			; 00000065H
  00671	00		 DB	 0
$LN34@snapShot:
  00672	72		 DB	 114			; 00000072H
  00673	67		 DB	 103			; 00000067H
  00674	62		 DB	 98			; 00000062H
  00675	70		 DB	 112			; 00000070H
  00676	61		 DB	 97			; 00000061H
  00677	6c		 DB	 108			; 0000006cH
  00678	00		 DB	 0
$LN33@snapShot:
  00679	64		 DB	 100			; 00000064H
  0067a	64		 DB	 100			; 00000064H
  0067b	73		 DB	 115			; 00000073H
  0067c	64		 DB	 100			; 00000064H
  0067d	44		 DB	 68			; 00000044H
  0067e	65		 DB	 101			; 00000065H
  0067f	73		 DB	 115			; 00000073H
  00680	63		 DB	 99			; 00000063H
  00681	00		 DB	 0
?snapShot@@YAXXZ ENDP					; snapShot
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?getNearestColorIndex@@YAHKPAUtagPALETTEENTRY@@H@Z
_TEXT	SEGMENT
_i$ = -52						; size = 4
_min_index$ = -40					; size = 4
_mindist$ = -28						; size = 8
_distance$ = -12					; size = 8
_color$ = 8						; size = 4
_palette$ = 12						; size = 4
_entry$ = 16						; size = 4
?getNearestColorIndex@@YAHKPAUtagPALETTEENTRY@@H@Z PROC	; getNearestColorIndex, COMDAT

; 2232 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f8 00 00
	00		 sub	 esp, 248		; 000000f8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 08 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-248]
  00012	b9 3e 00 00 00	 mov	 ecx, 62			; 0000003eH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2233 : 	double distance, mindist;
; 2234 : 	int min_index;
; 2235 : 	int i;
; 2236 : 	mindist = (palette[0].peRed - GetRValue(color))*(palette[0].peRed - GetRValue(color))

  0001e	b8 04 00 00 00	 mov	 eax, 4
  00023	6b c8 00	 imul	 ecx, eax, 0
  00026	8b 55 0c	 mov	 edx, DWORD PTR _palette$[ebp]
  00029	0f b6 04 0a	 movzx	 eax, BYTE PTR [edx+ecx]
  0002d	8b 4d 08	 mov	 ecx, DWORD PTR _color$[ebp]
  00030	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00036	0f b6 d1	 movzx	 edx, cl
  00039	2b c2		 sub	 eax, edx
  0003b	b9 04 00 00 00	 mov	 ecx, 4
  00040	6b d1 00	 imul	 edx, ecx, 0
  00043	8b 4d 0c	 mov	 ecx, DWORD PTR _palette$[ebp]
  00046	0f b6 14 11	 movzx	 edx, BYTE PTR [ecx+edx]
  0004a	8b 4d 08	 mov	 ecx, DWORD PTR _color$[ebp]
  0004d	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00053	0f b6 c9	 movzx	 ecx, cl
  00056	2b d1		 sub	 edx, ecx
  00058	0f af c2	 imul	 eax, edx
  0005b	ba 04 00 00 00	 mov	 edx, 4
  00060	6b ca 00	 imul	 ecx, edx, 0
  00063	8b 55 0c	 mov	 edx, DWORD PTR _palette$[ebp]
  00066	0f b6 4c 0a 01	 movzx	 ecx, BYTE PTR [edx+ecx+1]
  0006b	0f b7 55 08	 movzx	 edx, WORD PTR _color$[ebp]
  0006f	c1 fa 08	 sar	 edx, 8
  00072	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  00078	0f b6 d2	 movzx	 edx, dl
  0007b	2b ca		 sub	 ecx, edx
  0007d	ba 04 00 00 00	 mov	 edx, 4
  00082	6b d2 00	 imul	 edx, edx, 0
  00085	8b 75 0c	 mov	 esi, DWORD PTR _palette$[ebp]
  00088	0f b6 54 16 01	 movzx	 edx, BYTE PTR [esi+edx+1]
  0008d	0f b7 5d 08	 movzx	 ebx, WORD PTR _color$[ebp]
  00091	c1 fb 08	 sar	 ebx, 8
  00094	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  0009a	0f b6 f3	 movzx	 esi, bl
  0009d	2b d6		 sub	 edx, esi
  0009f	0f af ca	 imul	 ecx, edx
  000a2	03 c1		 add	 eax, ecx
  000a4	b9 04 00 00 00	 mov	 ecx, 4
  000a9	6b d1 00	 imul	 edx, ecx, 0
  000ac	8b 4d 0c	 mov	 ecx, DWORD PTR _palette$[ebp]
  000af	0f b6 54 11 02	 movzx	 edx, BYTE PTR [ecx+edx+2]
  000b4	8b 4d 08	 mov	 ecx, DWORD PTR _color$[ebp]
  000b7	c1 e9 10	 shr	 ecx, 16			; 00000010H
  000ba	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  000c0	0f b6 c9	 movzx	 ecx, cl
  000c3	2b d1		 sub	 edx, ecx
  000c5	b9 04 00 00 00	 mov	 ecx, 4
  000ca	6b c9 00	 imul	 ecx, ecx, 0
  000cd	8b 75 0c	 mov	 esi, DWORD PTR _palette$[ebp]
  000d0	0f b6 4c 0e 02	 movzx	 ecx, BYTE PTR [esi+ecx+2]
  000d5	8b 5d 08	 mov	 ebx, DWORD PTR _color$[ebp]
  000d8	c1 eb 10	 shr	 ebx, 16			; 00000010H
  000db	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  000e1	0f b6 f3	 movzx	 esi, bl
  000e4	2b ce		 sub	 ecx, esi
  000e6	0f af d1	 imul	 edx, ecx
  000e9	03 c2		 add	 eax, edx
  000eb	f2 0f 2a c0	 cvtsi2sd xmm0, eax
  000ef	f2 0f 11 45 e4	 movsd	 QWORD PTR _mindist$[ebp], xmm0

; 2237 : 		+ (palette[0].peGreen - GetGValue(color))*(palette[0].peGreen - GetGValue(color))
; 2238 : 		+ (palette[0].peBlue - GetBValue(color))*(palette[0].peBlue - GetBValue(color));
; 2239 : 	min_index = 0;

  000f4	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _min_index$[ebp], 0

; 2240 : 	for (i = 16; i < entry - 16; i++) {

  000fb	c7 45 cc 10 00
	00 00		 mov	 DWORD PTR _i$[ebp], 16	; 00000010H
  00102	eb 09		 jmp	 SHORT $LN4@getNearest
$LN2@getNearest:
  00104	8b 45 cc	 mov	 eax, DWORD PTR _i$[ebp]
  00107	83 c0 01	 add	 eax, 1
  0010a	89 45 cc	 mov	 DWORD PTR _i$[ebp], eax
$LN4@getNearest:
  0010d	8b 45 10	 mov	 eax, DWORD PTR _entry$[ebp]
  00110	83 e8 10	 sub	 eax, 16			; 00000010H
  00113	39 45 cc	 cmp	 DWORD PTR _i$[ebp], eax
  00116	0f 8d d8 00 00
	00		 jge	 $LN3@getNearest

; 2241 : 		distance = (palette[i].peRed - GetRValue(color))*(palette[i].peRed - GetRValue(color))

  0011c	8b 45 cc	 mov	 eax, DWORD PTR _i$[ebp]
  0011f	8b 4d 0c	 mov	 ecx, DWORD PTR _palette$[ebp]
  00122	0f b6 14 81	 movzx	 edx, BYTE PTR [ecx+eax*4]
  00126	8b 45 08	 mov	 eax, DWORD PTR _color$[ebp]
  00129	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0012e	0f b6 c8	 movzx	 ecx, al
  00131	2b d1		 sub	 edx, ecx
  00133	8b 45 cc	 mov	 eax, DWORD PTR _i$[ebp]
  00136	8b 4d 0c	 mov	 ecx, DWORD PTR _palette$[ebp]
  00139	0f b6 04 81	 movzx	 eax, BYTE PTR [ecx+eax*4]
  0013d	8b 4d 08	 mov	 ecx, DWORD PTR _color$[ebp]
  00140	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00146	0f b6 c9	 movzx	 ecx, cl
  00149	2b c1		 sub	 eax, ecx
  0014b	0f af d0	 imul	 edx, eax
  0014e	8b 45 cc	 mov	 eax, DWORD PTR _i$[ebp]
  00151	8b 4d 0c	 mov	 ecx, DWORD PTR _palette$[ebp]
  00154	0f b6 44 81 01	 movzx	 eax, BYTE PTR [ecx+eax*4+1]
  00159	0f b7 4d 08	 movzx	 ecx, WORD PTR _color$[ebp]
  0015d	c1 f9 08	 sar	 ecx, 8
  00160	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00166	0f b6 c9	 movzx	 ecx, cl
  00169	2b c1		 sub	 eax, ecx
  0016b	8b 4d cc	 mov	 ecx, DWORD PTR _i$[ebp]
  0016e	8b 75 0c	 mov	 esi, DWORD PTR _palette$[ebp]
  00171	0f b6 4c 8e 01	 movzx	 ecx, BYTE PTR [esi+ecx*4+1]
  00176	0f b7 5d 08	 movzx	 ebx, WORD PTR _color$[ebp]
  0017a	c1 fb 08	 sar	 ebx, 8
  0017d	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  00183	0f b6 f3	 movzx	 esi, bl
  00186	2b ce		 sub	 ecx, esi
  00188	0f af c1	 imul	 eax, ecx
  0018b	03 d0		 add	 edx, eax
  0018d	8b 45 cc	 mov	 eax, DWORD PTR _i$[ebp]
  00190	8b 4d 0c	 mov	 ecx, DWORD PTR _palette$[ebp]
  00193	0f b6 44 81 02	 movzx	 eax, BYTE PTR [ecx+eax*4+2]
  00198	8b 4d 08	 mov	 ecx, DWORD PTR _color$[ebp]
  0019b	c1 e9 10	 shr	 ecx, 16			; 00000010H
  0019e	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  001a4	0f b6 c9	 movzx	 ecx, cl
  001a7	2b c1		 sub	 eax, ecx
  001a9	8b 4d cc	 mov	 ecx, DWORD PTR _i$[ebp]
  001ac	8b 75 0c	 mov	 esi, DWORD PTR _palette$[ebp]
  001af	0f b6 4c 8e 02	 movzx	 ecx, BYTE PTR [esi+ecx*4+2]
  001b4	8b 5d 08	 mov	 ebx, DWORD PTR _color$[ebp]
  001b7	c1 eb 10	 shr	 ebx, 16			; 00000010H
  001ba	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  001c0	0f b6 f3	 movzx	 esi, bl
  001c3	2b ce		 sub	 ecx, esi
  001c5	0f af c1	 imul	 eax, ecx
  001c8	03 d0		 add	 edx, eax
  001ca	f2 0f 2a c2	 cvtsi2sd xmm0, edx
  001ce	f2 0f 11 45 f4	 movsd	 QWORD PTR _distance$[ebp], xmm0

; 2242 : 			+ (palette[i].peGreen - GetGValue(color))*(palette[i].peGreen - GetGValue(color))
; 2243 : 			+ (palette[i].peBlue - GetBValue(color))*(palette[i].peBlue - GetBValue(color));
; 2244 : 		if (distance < mindist) {

  001d3	f2 0f 10 45 e4	 movsd	 xmm0, QWORD PTR _mindist$[ebp]
  001d8	66 0f 2f 45 f4	 comisd	 xmm0, QWORD PTR _distance$[ebp]
  001dd	76 10		 jbe	 SHORT $LN5@getNearest

; 2245 : 			min_index = i;

  001df	8b 45 cc	 mov	 eax, DWORD PTR _i$[ebp]
  001e2	89 45 d8	 mov	 DWORD PTR _min_index$[ebp], eax

; 2246 : 			mindist = distance;

  001e5	f2 0f 10 45 f4	 movsd	 xmm0, QWORD PTR _distance$[ebp]
  001ea	f2 0f 11 45 e4	 movsd	 QWORD PTR _mindist$[ebp], xmm0
$LN5@getNearest:

; 2247 : 		}
; 2248 : 	}

  001ef	e9 10 ff ff ff	 jmp	 $LN2@getNearest
$LN3@getNearest:

; 2249 : 	return min_index;

  001f4	8b 45 d8	 mov	 eax, DWORD PTR _min_index$[ebp]

; 2250 : }

  001f7	5f		 pop	 edi
  001f8	5e		 pop	 esi
  001f9	5b		 pop	 ebx
  001fa	8b e5		 mov	 esp, ebp
  001fc	5d		 pop	 ebp
  001fd	c3		 ret	 0
?getNearestColorIndex@@YAHKPAUtagPALETTEENTRY@@H@Z ENDP	; getNearestColorIndex
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?getAutoMapColor@@YAHI@Z
_TEXT	SEGMENT
_j$ = -92						; size = 4
_i$ = -80						; size = 4
_color$ = -68						; size = 4
_cnt$ = -56						; size = 4
_blue$ = -44						; size = 4
_green$ = -32						; size = 4
_red$ = -20						; size = 4
_index$ = -8						; size = 4
_GraphicNo$ = 8						; size = 4
?getAutoMapColor@@YAHI@Z PROC				; getAutoMapColor, COMDAT

; 2196 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd e0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-288]
  00012	b9 48 00 00 00	 mov	 ecx, 72			; 00000048H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 2197 : 	int index = 0;

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _index$[ebp], 0

; 2198 : 	static int width, height;
; 2199 : 	static unsigned char *graBuf;
; 2200 : 	unsigned int red = 0, green = 0, blue = 0;

  00025	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _red$[ebp], 0
  0002c	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _green$[ebp], 0
  00033	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _blue$[ebp], 0

; 2201 : 	unsigned int cnt = 0;

  0003a	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _cnt$[ebp], 0

; 2202 : 	int color;
; 2203 : 
; 2204 : 	int i, j;
; 2205 : 	// real.bin?î­?î±???????????î???
; 2206 : 	if (realGetImage(GraphicNo, (unsigned char **)&graBuf, &width, &height) == FALSE) return 0;

  00041	68 00 00 00 00	 push	 OFFSET ?height@?1??getAutoMapColor@@YAHI@Z@4HA
  00046	68 00 00 00 00	 push	 OFFSET ?width@?1??getAutoMapColor@@YAHI@Z@4HA
  0004b	68 00 00 00 00	 push	 OFFSET ?graBuf@?1??getAutoMapColor@@YAHI@Z@4PAEA
  00050	8b 45 08	 mov	 eax, DWORD PTR _GraphicNo$[ebp]
  00053	50		 push	 eax
  00054	e8 00 00 00 00	 call	 ?realGetImage@@YAHHPAPAEPAH1@Z ; realGetImage
  00059	83 c4 10	 add	 esp, 16			; 00000010H
  0005c	85 c0		 test	 eax, eax
  0005e	75 07		 jne	 SHORT $LN8@getAutoMap
  00060	33 c0		 xor	 eax, eax
  00062	e9 ef 00 00 00	 jmp	 $LN1@getAutoMap
$LN8@getAutoMap:

; 2207 : 	// ??????îî¤?????
; 2208 : 	for (i = 0; i < height; i++) {

  00067	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0006e	eb 09		 jmp	 SHORT $LN4@getAutoMap
$LN2@getAutoMap:
  00070	8b 45 b0	 mov	 eax, DWORD PTR _i$[ebp]
  00073	83 c0 01	 add	 eax, 1
  00076	89 45 b0	 mov	 DWORD PTR _i$[ebp], eax
$LN4@getAutoMap:
  00079	8b 45 b0	 mov	 eax, DWORD PTR _i$[ebp]
  0007c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?height@?1??getAutoMapColor@@YAHI@Z@4HA
  00082	0f 8d 80 00 00
	00		 jge	 $LN3@getAutoMap

; 2209 : 		for (j = 0; j < width; j++) {

  00088	c7 45 a4 00 00
	00 00		 mov	 DWORD PTR _j$[ebp], 0
  0008f	eb 09		 jmp	 SHORT $LN7@getAutoMap
$LN5@getAutoMap:
  00091	8b 45 a4	 mov	 eax, DWORD PTR _j$[ebp]
  00094	83 c0 01	 add	 eax, 1
  00097	89 45 a4	 mov	 DWORD PTR _j$[ebp], eax
$LN7@getAutoMap:
  0009a	8b 45 a4	 mov	 eax, DWORD PTR _j$[ebp]
  0009d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?width@?1??getAutoMapColor@@YAHI@Z@4HA
  000a3	7d 5e		 jge	 SHORT $LN6@getAutoMap

; 2210 : 			index = graBuf[i*width + j];

  000a5	8b 45 b0	 mov	 eax, DWORD PTR _i$[ebp]
  000a8	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?width@?1??getAutoMapColor@@YAHI@Z@4HA
  000af	03 45 a4	 add	 eax, DWORD PTR _j$[ebp]
  000b2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?graBuf@?1??getAutoMapColor@@YAHI@Z@4PAEA
  000b8	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  000bc	89 55 f8	 mov	 DWORD PTR _index$[ebp], edx

; 2211 : 			if (index != DEF_COLORKEY) {	// î§?î??????

  000bf	83 7d f8 00	 cmp	 DWORD PTR _index$[ebp], 0
  000c3	74 3c		 je	 SHORT $LN9@getAutoMap

; 2212 : 				red += Palette[index].peRed;

  000c5	8b 45 f8	 mov	 eax, DWORD PTR _index$[ebp]
  000c8	0f b6 0c 85 00
	00 00 00	 movzx	 ecx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4]
  000d0	03 4d ec	 add	 ecx, DWORD PTR _red$[ebp]
  000d3	89 4d ec	 mov	 DWORD PTR _red$[ebp], ecx

; 2213 : 				green += Palette[index].peGreen;

  000d6	8b 45 f8	 mov	 eax, DWORD PTR _index$[ebp]
  000d9	0f b6 0c 85 01
	00 00 00	 movzx	 ecx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+1]
  000e1	03 4d e0	 add	 ecx, DWORD PTR _green$[ebp]
  000e4	89 4d e0	 mov	 DWORD PTR _green$[ebp], ecx

; 2214 : 				blue += Palette[index].peBlue;

  000e7	8b 45 f8	 mov	 eax, DWORD PTR _index$[ebp]
  000ea	0f b6 0c 85 02
	00 00 00	 movzx	 ecx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+2]
  000f2	03 4d d4	 add	 ecx, DWORD PTR _blue$[ebp]
  000f5	89 4d d4	 mov	 DWORD PTR _blue$[ebp], ecx

; 2215 : 				cnt++;

  000f8	8b 45 c8	 mov	 eax, DWORD PTR _cnt$[ebp]
  000fb	83 c0 01	 add	 eax, 1
  000fe	89 45 c8	 mov	 DWORD PTR _cnt$[ebp], eax
$LN9@getAutoMap:

; 2216 : 			}
; 2217 : 		}

  00101	eb 8e		 jmp	 SHORT $LN5@getAutoMap
$LN6@getAutoMap:

; 2218 : 	}

  00103	e9 68 ff ff ff	 jmp	 $LN2@getAutoMap
$LN3@getAutoMap:

; 2219 : 
; 2220 : 	if (cnt == 0) return 0;

  00108	83 7d c8 00	 cmp	 DWORD PTR _cnt$[ebp], 0
  0010c	75 04		 jne	 SHORT $LN10@getAutoMap
  0010e	33 c0		 xor	 eax, eax
  00110	eb 44		 jmp	 SHORT $LN1@getAutoMap
$LN10@getAutoMap:

; 2221 : 	// ??î??î±??î????????????î?
; 2222 : 	color = getNearestColorIndex(RGB(red / cnt, green / cnt, blue / cnt), Palette, 256);

  00112	68 00 01 00 00	 push	 256			; 00000100H
  00117	68 00 00 00 00	 push	 OFFSET ?Palette@@3PAUtagPALETTEENTRY@@A ; Palette
  0011c	8b 45 ec	 mov	 eax, DWORD PTR _red$[ebp]
  0011f	33 d2		 xor	 edx, edx
  00121	f7 75 c8	 div	 DWORD PTR _cnt$[ebp]
  00124	0f b6 c8	 movzx	 ecx, al
  00127	8b 45 e0	 mov	 eax, DWORD PTR _green$[ebp]
  0012a	33 d2		 xor	 edx, edx
  0012c	f7 75 c8	 div	 DWORD PTR _cnt$[ebp]
  0012f	0f b6 d0	 movzx	 edx, al
  00132	c1 e2 08	 shl	 edx, 8
  00135	0b ca		 or	 ecx, edx
  00137	8b 45 d4	 mov	 eax, DWORD PTR _blue$[ebp]
  0013a	33 d2		 xor	 edx, edx
  0013c	f7 75 c8	 div	 DWORD PTR _cnt$[ebp]
  0013f	0f b6 c0	 movzx	 eax, al
  00142	c1 e0 10	 shl	 eax, 16			; 00000010H
  00145	0b c8		 or	 ecx, eax
  00147	51		 push	 ecx
  00148	e8 00 00 00 00	 call	 ?getNearestColorIndex@@YAHKPAUtagPALETTEENTRY@@H@Z ; getNearestColorIndex
  0014d	83 c4 0c	 add	 esp, 12			; 0000000cH
  00150	89 45 bc	 mov	 DWORD PTR _color$[ebp], eax

; 2223 : 
; 2224 : 	return color;

  00153	8b 45 bc	 mov	 eax, DWORD PTR _color$[ebp]
$LN1@getAutoMap:

; 2225 : }

  00156	5f		 pop	 edi
  00157	5e		 pop	 esi
  00158	5b		 pop	 ebx
  00159	81 c4 20 01 00
	00		 add	 esp, 288		; 00000120H
  0015f	3b ec		 cmp	 ebp, esp
  00161	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00166	8b e5		 mov	 esp, ebp
  00168	5d		 pop	 ebp
  00169	c3		 ret	 0
?getAutoMapColor@@YAHI@Z ENDP				; getAutoMapColor
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawAutoMapping@@YAXHHPAEHH@Z
_TEXT	SEGMENT
_mul$ = -288						; size = 4
_hh$ = -276						; size = 4
_ww$ = -264						; size = 4
_yy$ = -252						; size = 4
_xx$ = -240						; size = 4
_pc_color$ = -228					; size = 4
_color$ = -216						; size = 4
_j$ = -204						; size = 4
_i$ = -192						; size = 4
_surfacePitch$ = -180					; size = 4
_tmpPtDest2$ = -168					; size = 4
_tmpPtDest$ = -156					; size = 4
_ptDest$ = -144						; size = 4
_ddsd$ = -132						; size = 108
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_x$ = 8							; size = 4
_y$ = 12						; size = 4
_autoMap$ = 16						; size = 4
_w$ = 20						; size = 4
_h$ = 24						; size = 4
?DrawAutoMapping@@YAXHHPAEHH@Z PROC			; DrawAutoMapping, COMDAT

; 2040 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawAutoMapping@@YAXHHPAEHH@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec d4 01 00
	00		 sub	 esp, 468		; 000001d4H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 1c fe ff
	ff		 lea	 edi, DWORD PTR [ebp-484]
  00021	b9 75 00 00 00	 mov	 ecx, 117		; 00000075H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00037	50		 push	 eax
  00038	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  0003b	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00041	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 2041 : 	DDSURFACEDESC ddsd;	// ??????î¨î
; 2042 : 	char *ptDest;		// î¿?î?????
; 2043 : 	char *tmpPtDest;	// ???
; 2044 : 	char *tmpPtDest2;	// ????
; 2045 : 	int surfacePitch;	// ??????????
; 2046 : 	int i, j;			// ???????
; 2047 : 	int color, pc_color;
; 2048 : 	static short pcFlush = 0;
; 2049 : 	static unsigned int pcFlushTime = 0;
; 2050 : 	int xx, yy;
; 2051 : 	int ww, hh;
; 2052 : 	int mul;
; 2053 : 
; 2054 : 	xx = 18;

  00044	c7 85 10 ff ff
	ff 12 00 00 00	 mov	 DWORD PTR _xx$[ebp], 18	; 00000012H

; 2055 : 	yy = 118;

  0004e	c7 85 04 ff ff
	ff 76 00 00 00	 mov	 DWORD PTR _yy$[ebp], 118 ; 00000076H

; 2056 : 	ww = w;

  00058	8b 45 14	 mov	 eax, DWORD PTR _w$[ebp]
  0005b	89 85 f8 fe ff
	ff		 mov	 DWORD PTR _ww$[ebp], eax

; 2057 : 	hh = h;

  00061	8b 45 18	 mov	 eax, DWORD PTR _h$[ebp]
  00064	89 85 ec fe ff
	ff		 mov	 DWORD PTR _hh$[ebp], eax

; 2058 : 	mul = 1;

  0006a	c7 85 e0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _mul$[ebp], 1

; 2059 : 
; 2060 : 	try

  00074	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 2061 : 	{
; 2062 : 		//???????????????
; 2063 : 		if (ResoMode == 1)

  0007b	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00082	75 6a		 jne	 SHORT $LN21@DrawAutoMa

; 2064 : 		{
; 2065 : 			x = x / 2;

  00084	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  00087	99		 cdq
  00088	2b c2		 sub	 eax, edx
  0008a	d1 f8		 sar	 eax, 1
  0008c	89 45 08	 mov	 DWORD PTR _x$[ebp], eax

; 2066 : 			y = y / 2;

  0008f	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  00092	99		 cdq
  00093	2b c2		 sub	 eax, edx
  00095	d1 f8		 sar	 eax, 1
  00097	89 45 0c	 mov	 DWORD PTR _y$[ebp], eax

; 2067 : 			xx = xx / 2 + 1;

  0009a	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _xx$[ebp]
  000a0	99		 cdq
  000a1	2b c2		 sub	 eax, edx
  000a3	d1 f8		 sar	 eax, 1
  000a5	83 c0 01	 add	 eax, 1
  000a8	89 85 10 ff ff
	ff		 mov	 DWORD PTR _xx$[ebp], eax

; 2068 : 			yy = yy / 2 - 1;

  000ae	8b 85 04 ff ff
	ff		 mov	 eax, DWORD PTR _yy$[ebp]
  000b4	99		 cdq
  000b5	2b c2		 sub	 eax, edx
  000b7	d1 f8		 sar	 eax, 1
  000b9	83 e8 01	 sub	 eax, 1
  000bc	89 85 04 ff ff
	ff		 mov	 DWORD PTR _yy$[ebp], eax

; 2069 : 			ww = ww / 2;

  000c2	8b 85 f8 fe ff
	ff		 mov	 eax, DWORD PTR _ww$[ebp]
  000c8	99		 cdq
  000c9	2b c2		 sub	 eax, edx
  000cb	d1 f8		 sar	 eax, 1
  000cd	89 85 f8 fe ff
	ff		 mov	 DWORD PTR _ww$[ebp], eax

; 2070 : 			hh = hh / 2;

  000d3	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _hh$[ebp]
  000d9	99		 cdq
  000da	2b c2		 sub	 eax, edx
  000dc	d1 f8		 sar	 eax, 1
  000de	89 85 ec fe ff
	ff		 mov	 DWORD PTR _hh$[ebp], eax

; 2071 : 			mul = 2;

  000e4	c7 85 e0 fe ff
	ff 02 00 00 00	 mov	 DWORD PTR _mul$[ebp], 2
$LN21@DrawAutoMa:

; 2072 : 		}
; 2073 : 
; 2074 : 		if (pcFlushTime + 1000 <= TimeGetTime())

  000ee	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?pcFlushTime@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4IA
  000f4	81 c6 e8 03 00
	00		 add	 esi, 1000		; 000003e8H
  000fa	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  000ff	3b f0		 cmp	 esi, eax
  00101	77 2a		 ja	 SHORT $LN22@DrawAutoMa

; 2075 : 		{
; 2076 : 			pcFlushTime = TimeGetTime();

  00103	e8 00 00 00 00	 call	 ?TimeGetTime@@YAIXZ	; TimeGetTime
  00108	a3 00 00 00 00	 mov	 DWORD PTR ?pcFlushTime@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4IA, eax

; 2077 : 			pcFlush++;

  0010d	66 a1 00 00 00
	00		 mov	 ax, WORD PTR ?pcFlush@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4FA
  00113	66 83 c0 01	 add	 ax, 1
  00117	66 a3 00 00 00
	00		 mov	 WORD PTR ?pcFlush@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4FA, ax

; 2078 : 			pcFlush &= 1;

  0011d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?pcFlush@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4FA
  00124	83 e0 01	 and	 eax, 1
  00127	66 a3 00 00 00
	00		 mov	 WORD PTR ?pcFlush@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4FA, ax
$LN22@DrawAutoMa:

; 2079 : 		}
; 2080 : 		if (pcFlush) {

  0012d	0f bf 05 00 00
	00 00		 movsx	 eax, WORD PTR ?pcFlush@?1??DrawAutoMapping@@YAXHHPAEHH@Z@4FA
  00134	85 c0		 test	 eax, eax
  00136	74 0c		 je	 SHORT $LN23@DrawAutoMa

; 2081 : 			pc_color = 255;

  00138	c7 85 1c ff ff
	ff ff 00 00 00	 mov	 DWORD PTR _pc_color$[ebp], 255 ; 000000ffH

; 2082 : 		}
; 2083 : 		else {

  00142	eb 0a		 jmp	 SHORT $LN24@DrawAutoMa
$LN23@DrawAutoMa:

; 2084 : 			pc_color = 0;

  00144	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _pc_color$[ebp], 0
$LN24@DrawAutoMa:

; 2085 : 		}
; 2086 : 		// ?î¨î????
; 2087 : 		ZeroMemory(&ddsd, sizeof(DDSURFACEDESC));

  0014e	6a 6c		 push	 108			; 0000006cH
  00150	6a 00		 push	 0
  00152	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$[ebp]
  00158	50		 push	 eax
  00159	e8 00 00 00 00	 call	 _memset
  0015e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2088 : 		ddsd.dwSize = sizeof(DDSURFACEDESC);

  00161	c7 85 7c ff ff
	ff 6c 00 00 00	 mov	 DWORD PTR _ddsd$[ebp], 108 ; 0000006cH

; 2089 : 
; 2090 : 		// ?????????????????( î¯?? ddsd ?îºî«?î¼????? )
; 2091 : 		if (lpDraw->lpBACKBUFFER->Lock(NULL, &ddsd, DDLOCK_WAIT, NULL) != DD_OK)

  0016b	8b f4		 mov	 esi, esp
  0016d	6a 00		 push	 0
  0016f	6a 01		 push	 1
  00171	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$[ebp]
  00177	50		 push	 eax
  00178	6a 00		 push	 0
  0017a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00180	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00183	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00188	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0018b	8b 12		 mov	 edx, DWORD PTR [edx]
  0018d	51		 push	 ecx
  0018e	8b 42 64	 mov	 eax, DWORD PTR [edx+100]
  00191	ff d0		 call	 eax
  00193	3b f4		 cmp	 esi, esp
  00195	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0019a	85 c0		 test	 eax, eax
  0019c	0f 85 e3 05 00
	00		 jne	 $LN1@DrawAutoMa

; 2092 : 		{
; 2093 : 			//MessageBoxNew( hWnd, "Surfaceçlockå¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP );
; 2094 : 			return;
; 2095 : 		}
; 2096 : 		// ??????????
; 2097 : 		surfacePitch = ddsd.lPitch;

  001a2	8b 45 8c	 mov	 eax, DWORD PTR _ddsd$[ebp+16]
  001a5	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$[ebp], eax

; 2098 : 		// î?î¿????????????
; 2099 : 		ptDest = (char *)(ddsd.lpSurface) + (y + yy) * surfacePitch;

  001ab	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  001ae	03 85 04 ff ff
	ff		 add	 eax, DWORD PTR _yy$[ebp]
  001b4	0f af 85 4c ff
	ff ff		 imul	 eax, DWORD PTR _surfacePitch$[ebp]
  001bb	03 45 a0	 add	 eax, DWORD PTR _ddsd$[ebp+36]
  001be	89 85 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], eax

; 2100 : 		if (displayBpp == 8) {

  001c4	83 3d 00 00 00
	00 08		 cmp	 DWORD PTR ?displayBpp@@3HA, 8 ; displayBpp
  001cb	0f 85 b4 01 00
	00		 jne	 $LN26@DrawAutoMa

; 2101 : 			ptDest += (x + xx);

  001d1	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  001d4	03 85 10 ff ff
	ff		 add	 eax, DWORD PTR _xx$[ebp]
  001da	03 85 70 ff ff
	ff		 add	 eax, DWORD PTR _ptDest$[ebp]
  001e0	89 85 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], eax

; 2102 : 			tmpPtDest = ptDest;

  001e6	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  001ec	89 85 64 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest$[ebp], eax

; 2103 : 			tmpPtDest2 = ptDest;

  001f2	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  001f8	89 85 58 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest2$[ebp], eax

; 2104 : 			for (i = 0; i < hh; i++) {

  001fe	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  00208	eb 0f		 jmp	 SHORT $LN4@DrawAutoMa
$LN2@DrawAutoMa:
  0020a	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00210	83 c0 01	 add	 eax, 1
  00213	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@DrawAutoMa:
  00219	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0021f	3b 85 ec fe ff
	ff		 cmp	 eax, DWORD PTR _hh$[ebp]
  00225	0f 8d db 00 00
	00		 jge	 $LN3@DrawAutoMa

; 2105 : 				ptDest = tmpPtDest;

  0022b	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _tmpPtDest$[ebp]
  00231	89 85 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], eax

; 2106 : 				for (j = 0; j < ww; j++) {

  00237	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  00241	eb 0f		 jmp	 SHORT $LN7@DrawAutoMa
$LN5@DrawAutoMa:
  00243	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  00249	83 c0 01	 add	 eax, 1
  0024c	89 85 34 ff ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN7@DrawAutoMa:
  00252	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  00258	3b 85 f8 fe ff
	ff		 cmp	 eax, DWORD PTR _ww$[ebp]
  0025e	0f 8d 87 00 00
	00		 jge	 $LN6@DrawAutoMa

; 2107 : 					color = autoMap[(i*mul)*w + (j*mul)];

  00264	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0026a	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _mul$[ebp]
  00271	0f af 45 14	 imul	 eax, DWORD PTR _w$[ebp]
  00275	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR _j$[ebp]
  0027b	0f af 8d e0 fe
	ff ff		 imul	 ecx, DWORD PTR _mul$[ebp]
  00282	03 4d 10	 add	 ecx, DWORD PTR _autoMap$[ebp]
  00285	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  00289	89 95 28 ff ff
	ff		 mov	 DWORD PTR _color$[ebp], edx

; 2108 : 					*(ptDest - 1) = color;

  0028f	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00295	8a 8d 28 ff ff
	ff		 mov	 cl, BYTE PTR _color$[ebp]
  0029b	88 48 ff	 mov	 BYTE PTR [eax-1], cl

; 2109 : 					*(ptDest) = color;

  0029e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  002a4	8a 8d 28 ff ff
	ff		 mov	 cl, BYTE PTR _color$[ebp]
  002aa	88 08		 mov	 BYTE PTR [eax], cl

; 2110 : 					*(ptDest + 1) = color;

  002ac	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  002b2	8a 8d 28 ff ff
	ff		 mov	 cl, BYTE PTR _color$[ebp]
  002b8	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 2111 : 					*(ptDest - surfacePitch) = color;

  002bb	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  002c1	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$[ebp]
  002c7	8a 8d 28 ff ff
	ff		 mov	 cl, BYTE PTR _color$[ebp]
  002cd	88 08		 mov	 BYTE PTR [eax], cl

; 2112 : 					ptDest -= (surfacePitch - 2);

  002cf	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  002d5	83 e8 02	 sub	 eax, 2
  002d8	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$[ebp]
  002de	2b c8		 sub	 ecx, eax
  002e0	89 8d 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], ecx

; 2113 : 				}

  002e6	e9 58 ff ff ff	 jmp	 $LN5@DrawAutoMa
$LN6@DrawAutoMa:

; 2114 : 				tmpPtDest += (surfacePitch + 2);

  002eb	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  002f1	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _tmpPtDest$[ebp]
  002f7	8d 54 01 02	 lea	 edx, DWORD PTR [ecx+eax+2]
  002fb	89 95 64 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest$[ebp], edx

; 2115 : 			}

  00301	e9 04 ff ff ff	 jmp	 $LN2@DrawAutoMa
$LN3@DrawAutoMa:

; 2116 : 			ptDest = tmpPtDest2 + (surfacePitch + 2)*hh / 2 - (surfacePitch - 2)*ww / 2;

  00306	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  0030c	83 c0 02	 add	 eax, 2
  0030f	0f af 85 ec fe
	ff ff		 imul	 eax, DWORD PTR _hh$[ebp]
  00316	99		 cdq
  00317	2b c2		 sub	 eax, edx
  00319	8b c8		 mov	 ecx, eax
  0031b	d1 f9		 sar	 ecx, 1
  0031d	03 8d 58 ff ff
	ff		 add	 ecx, DWORD PTR _tmpPtDest2$[ebp]
  00323	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  00329	83 e8 02	 sub	 eax, 2
  0032c	0f af 85 f8 fe
	ff ff		 imul	 eax, DWORD PTR _ww$[ebp]
  00333	99		 cdq
  00334	2b c2		 sub	 eax, edx
  00336	d1 f8		 sar	 eax, 1
  00338	2b c8		 sub	 ecx, eax
  0033a	89 8d 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], ecx

; 2117 : 			// ??????î¸î?????????î??
; 2118 : 			*(ptDest - 1) = pc_color;

  00340	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00346	8a 8d 1c ff ff
	ff		 mov	 cl, BYTE PTR _pc_color$[ebp]
  0034c	88 48 ff	 mov	 BYTE PTR [eax-1], cl

; 2119 : 			*(ptDest) = pc_color;

  0034f	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00355	8a 8d 1c ff ff
	ff		 mov	 cl, BYTE PTR _pc_color$[ebp]
  0035b	88 08		 mov	 BYTE PTR [eax], cl

; 2120 : 			*(ptDest + 1) = pc_color;

  0035d	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00363	8a 8d 1c ff ff
	ff		 mov	 cl, BYTE PTR _pc_color$[ebp]
  00369	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 2121 : 			*(ptDest - surfacePitch) = pc_color;

  0036c	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00372	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$[ebp]
  00378	8a 8d 1c ff ff
	ff		 mov	 cl, BYTE PTR _pc_color$[ebp]
  0037e	88 08		 mov	 BYTE PTR [eax], cl

; 2122 : 		}
; 2123 : 		else

  00380	e9 bd 03 00 00	 jmp	 $LN27@DrawAutoMa
$LN26@DrawAutoMa:

; 2124 : #ifdef _HI_COLOR_32
; 2125 : 			if (displayBpp == 32) {

  00385	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  0038c	0f 85 c5 01 00
	00		 jne	 $LN28@DrawAutoMa

; 2126 : 				ptDest += ((x + xx) << 2);

  00392	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  00395	03 85 10 ff ff
	ff		 add	 eax, DWORD PTR _xx$[ebp]
  0039b	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$[ebp]
  003a1	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  003a4	89 95 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], edx

; 2127 : 				tmpPtDest = ptDest;

  003aa	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  003b0	89 85 64 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest$[ebp], eax

; 2128 : 				tmpPtDest2 = ptDest;

  003b6	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  003bc	89 85 58 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest2$[ebp], eax

; 2129 : 				for (i = 0; i < hh; i++) {

  003c2	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  003cc	eb 0f		 jmp	 SHORT $LN10@DrawAutoMa
$LN8@DrawAutoMa:
  003ce	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  003d4	83 c0 01	 add	 eax, 1
  003d7	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN10@DrawAutoMa:
  003dd	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  003e3	3b 85 ec fe ff
	ff		 cmp	 eax, DWORD PTR _hh$[ebp]
  003e9	0f 8d e2 00 00
	00		 jge	 $LN9@DrawAutoMa

; 2130 : 					ptDest = tmpPtDest;

  003ef	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _tmpPtDest$[ebp]
  003f5	89 85 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], eax

; 2131 : 					for (j = 0; j < ww; j++) {

  003fb	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  00405	eb 0f		 jmp	 SHORT $LN13@DrawAutoMa
$LN11@DrawAutoMa:
  00407	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  0040d	83 c0 01	 add	 eax, 1
  00410	89 85 34 ff ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN13@DrawAutoMa:
  00416	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  0041c	3b 85 f8 fe ff
	ff		 cmp	 eax, DWORD PTR _ww$[ebp]
  00422	0f 8d 8e 00 00
	00		 jge	 $LN12@DrawAutoMa

; 2132 : 						color = highColor32Palette[autoMap[(i*mul)*w + (j*mul)]];

  00428	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0042e	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _mul$[ebp]
  00435	0f af 45 14	 imul	 eax, DWORD PTR _w$[ebp]
  00439	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR _j$[ebp]
  0043f	0f af 8d e0 fe
	ff ff		 imul	 ecx, DWORD PTR _mul$[ebp]
  00446	03 4d 10	 add	 ecx, DWORD PTR _autoMap$[ebp]
  00449	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  0044d	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?highColor32Palette@@3PAIA[edx*4]
  00454	89 85 28 ff ff
	ff		 mov	 DWORD PTR _color$[ebp], eax

; 2133 : 						*(int *)(ptDest - 4) = color;

  0045a	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00460	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  00466	89 48 fc	 mov	 DWORD PTR [eax-4], ecx

; 2134 : 						*(int *)(ptDest) = color;

  00469	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  0046f	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  00475	89 08		 mov	 DWORD PTR [eax], ecx

; 2135 : 						*(int *)(ptDest + 4) = color;

  00477	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  0047d	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  00483	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 2136 : 						*(int *)(ptDest - surfacePitch) = color;

  00486	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  0048c	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$[ebp]
  00492	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  00498	89 08		 mov	 DWORD PTR [eax], ecx

; 2137 : 						ptDest -= (surfacePitch - 8);

  0049a	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  004a0	83 e8 08	 sub	 eax, 8
  004a3	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$[ebp]
  004a9	2b c8		 sub	 ecx, eax
  004ab	89 8d 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], ecx

; 2138 : 					}

  004b1	e9 51 ff ff ff	 jmp	 $LN11@DrawAutoMa
$LN12@DrawAutoMa:

; 2139 : 					tmpPtDest += (surfacePitch + 8);

  004b6	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  004bc	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _tmpPtDest$[ebp]
  004c2	8d 54 01 08	 lea	 edx, DWORD PTR [ecx+eax+8]
  004c6	89 95 64 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest$[ebp], edx

; 2140 : 				}

  004cc	e9 fd fe ff ff	 jmp	 $LN8@DrawAutoMa
$LN9@DrawAutoMa:

; 2141 : 				ptDest = tmpPtDest2 + (surfacePitch + 4)*hh - (surfacePitch - 4)*ww;

  004d1	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  004d7	83 c0 04	 add	 eax, 4
  004da	0f af 85 ec fe
	ff ff		 imul	 eax, DWORD PTR _hh$[ebp]
  004e1	03 85 58 ff ff
	ff		 add	 eax, DWORD PTR _tmpPtDest2$[ebp]
  004e7	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$[ebp]
  004ed	83 e9 04	 sub	 ecx, 4
  004f0	0f af 8d f8 fe
	ff ff		 imul	 ecx, DWORD PTR _ww$[ebp]
  004f7	2b c1		 sub	 eax, ecx
  004f9	89 85 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], eax

; 2142 : 				color = highColor32Palette[pc_color];

  004ff	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _pc_color$[ebp]
  00505	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[eax*4]
  0050c	89 8d 28 ff ff
	ff		 mov	 DWORD PTR _color$[ebp], ecx

; 2143 : 				// ??????î¸î?????????î??
; 2144 : 				*(int *)(ptDest - 4) = color;

  00512	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00518	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  0051e	89 48 fc	 mov	 DWORD PTR [eax-4], ecx

; 2145 : 				*(int *)(ptDest) = color;

  00521	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00527	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  0052d	89 08		 mov	 DWORD PTR [eax], ecx

; 2146 : 				*(int *)(ptDest + 4) = color;

  0052f	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00535	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  0053b	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 2147 : 				*(int *)(ptDest - surfacePitch) = color;

  0053e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00544	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$[ebp]
  0054a	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _color$[ebp]
  00550	89 08		 mov	 DWORD PTR [eax], ecx

; 2148 : 			}
; 2149 : 			else

  00552	e9 eb 01 00 00	 jmp	 $LN27@DrawAutoMa
$LN28@DrawAutoMa:

; 2150 : #endif
; 2151 : 				if (displayBpp == 16) {

  00557	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  0055e	0f 85 de 01 00
	00		 jne	 $LN27@DrawAutoMa

; 2152 : 					ptDest += ((x + xx) << 1);

  00564	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  00567	03 85 10 ff ff
	ff		 add	 eax, DWORD PTR _xx$[ebp]
  0056d	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$[ebp]
  00573	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00576	89 95 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], edx

; 2153 : 					tmpPtDest = ptDest;

  0057c	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00582	89 85 64 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest$[ebp], eax

; 2154 : 					tmpPtDest2 = ptDest;

  00588	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  0058e	89 85 58 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest2$[ebp], eax

; 2155 : 					for (i = 0; i < hh; i++) {

  00594	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  0059e	eb 0f		 jmp	 SHORT $LN16@DrawAutoMa
$LN14@DrawAutoMa:
  005a0	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  005a6	83 c0 01	 add	 eax, 1
  005a9	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN16@DrawAutoMa:
  005af	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  005b5	3b 85 ec fe ff
	ff		 cmp	 eax, DWORD PTR _hh$[ebp]
  005bb	0f 8d eb 00 00
	00		 jge	 $LN15@DrawAutoMa

; 2156 : 						ptDest = tmpPtDest;

  005c1	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _tmpPtDest$[ebp]
  005c7	89 85 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], eax

; 2157 : 						for (j = 0; j < ww; j++) {

  005cd	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$[ebp], 0
  005d7	eb 0f		 jmp	 SHORT $LN19@DrawAutoMa
$LN17@DrawAutoMa:
  005d9	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  005df	83 c0 01	 add	 eax, 1
  005e2	89 85 34 ff ff
	ff		 mov	 DWORD PTR _j$[ebp], eax
$LN19@DrawAutoMa:
  005e8	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  005ee	3b 85 f8 fe ff
	ff		 cmp	 eax, DWORD PTR _ww$[ebp]
  005f4	0f 8d 97 00 00
	00		 jge	 $LN18@DrawAutoMa

; 2158 : 							color = highColorPalette[autoMap[(i*mul)*w + (j*mul)]];

  005fa	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00600	0f af 85 e0 fe
	ff ff		 imul	 eax, DWORD PTR _mul$[ebp]
  00607	0f af 45 14	 imul	 eax, DWORD PTR _w$[ebp]
  0060b	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR _j$[ebp]
  00611	0f af 8d e0 fe
	ff ff		 imul	 ecx, DWORD PTR _mul$[ebp]
  00618	03 4d 10	 add	 ecx, DWORD PTR _autoMap$[ebp]
  0061b	0f b6 14 01	 movzx	 edx, BYTE PTR [ecx+eax]
  0061f	0f b7 04 55 00
	00 00 00	 movzx	 eax, WORD PTR ?highColorPalette@@3PAGA[edx*2]
  00627	89 85 28 ff ff
	ff		 mov	 DWORD PTR _color$[ebp], eax

; 2159 : 							*(short*)(ptDest - 2) = color;

  0062d	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00633	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  0063a	66 89 48 fe	 mov	 WORD PTR [eax-2], cx

; 2160 : 							*(short*)(ptDest) = color;

  0063e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00644	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  0064b	66 89 08	 mov	 WORD PTR [eax], cx

; 2161 : 							*(short*)(ptDest + 2) = color;

  0064e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00654	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  0065b	66 89 48 02	 mov	 WORD PTR [eax+2], cx

; 2162 : 							*(short*)(ptDest - surfacePitch) = color;

  0065f	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00665	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$[ebp]
  0066b	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  00672	66 89 08	 mov	 WORD PTR [eax], cx

; 2163 : 							ptDest -= (surfacePitch - 4);

  00675	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  0067b	83 e8 04	 sub	 eax, 4
  0067e	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _ptDest$[ebp]
  00684	2b c8		 sub	 ecx, eax
  00686	89 8d 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], ecx

; 2164 : 						}

  0068c	e9 48 ff ff ff	 jmp	 $LN17@DrawAutoMa
$LN18@DrawAutoMa:

; 2165 : 						tmpPtDest += (surfacePitch + 4);

  00691	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  00697	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _tmpPtDest$[ebp]
  0069d	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  006a1	89 95 64 ff ff
	ff		 mov	 DWORD PTR _tmpPtDest$[ebp], edx

; 2166 : 					}

  006a7	e9 f4 fe ff ff	 jmp	 $LN14@DrawAutoMa
$LN15@DrawAutoMa:

; 2167 : 					ptDest = tmpPtDest2 + (surfacePitch + 4)*hh / 2 - (surfacePitch - 4)*ww / 2;

  006ac	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  006b2	83 c0 04	 add	 eax, 4
  006b5	0f af 85 ec fe
	ff ff		 imul	 eax, DWORD PTR _hh$[ebp]
  006bc	99		 cdq
  006bd	2b c2		 sub	 eax, edx
  006bf	8b c8		 mov	 ecx, eax
  006c1	d1 f9		 sar	 ecx, 1
  006c3	03 8d 58 ff ff
	ff		 add	 ecx, DWORD PTR _tmpPtDest2$[ebp]
  006c9	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  006cf	83 e8 04	 sub	 eax, 4
  006d2	0f af 85 f8 fe
	ff ff		 imul	 eax, DWORD PTR _ww$[ebp]
  006d9	99		 cdq
  006da	2b c2		 sub	 eax, edx
  006dc	d1 f8		 sar	 eax, 1
  006de	2b c8		 sub	 ecx, eax
  006e0	89 8d 70 ff ff
	ff		 mov	 DWORD PTR _ptDest$[ebp], ecx

; 2168 : 					color = highColorPalette[pc_color];

  006e6	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _pc_color$[ebp]
  006ec	0f b7 0c 45 00
	00 00 00	 movzx	 ecx, WORD PTR ?highColorPalette@@3PAGA[eax*2]
  006f4	89 8d 28 ff ff
	ff		 mov	 DWORD PTR _color$[ebp], ecx

; 2169 : 					// ??????î¸î?????????î??
; 2170 : 					*(short*)(ptDest - 2) = color;

  006fa	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00700	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  00707	66 89 48 fe	 mov	 WORD PTR [eax-2], cx

; 2171 : 					*(short*)(ptDest) = color;

  0070b	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00711	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  00718	66 89 08	 mov	 WORD PTR [eax], cx

; 2172 : 					*(short*)(ptDest + 2) = color;

  0071b	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00721	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  00728	66 89 48 02	 mov	 WORD PTR [eax+2], cx

; 2173 : 					*(short*)(ptDest - surfacePitch) = color;

  0072c	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _ptDest$[ebp]
  00732	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$[ebp]
  00738	66 8b 8d 28 ff
	ff ff		 mov	 cx, WORD PTR _color$[ebp]
  0073f	66 89 08	 mov	 WORD PTR [eax], cx
$LN27@DrawAutoMa:

; 2174 : 				}
; 2175 : 
; 2176 : 		// ???????????????????
; 2177 : 		if (lpDraw->lpBACKBUFFER->Unlock(NULL) != DD_OK)

  00742	8b f4		 mov	 esi, esp
  00744	6a 00		 push	 0
  00746	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0074b	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0074e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00754	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00757	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00759	50		 push	 eax
  0075a	8b 91 80 00 00
	00		 mov	 edx, DWORD PTR [ecx+128]
  00760	ff d2		 call	 edx
  00762	3b f4		 cmp	 esi, esp
  00764	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00769	85 c0		 test	 eax, eax
  0076b	75 18		 jne	 SHORT $LN1@DrawAutoMa

; 2178 : 		{
; 2179 : 			//MessageBoxNew( hWnd, "SurfaceçUnlockå¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP );
; 2180 : 			return;
; 2181 : 		}
; 2182 : 
; 2183 : 	}

  0076d	eb 06		 jmp	 SHORT $LN33@DrawAutoMa
__catch$?DrawAutoMapping@@YAXHHPAEHH@Z$0:

; 2184 : 	catch (...)
; 2185 : 	{
; 2186 : 
; 2187 : 	}

  0076f	b8 00 00 00 00	 mov	 eax, $LN36@DrawAutoMa
  00774	c3		 ret	 0
$LN33@DrawAutoMa:
  00775	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  0077c	eb 07		 jmp	 SHORT $LN1@DrawAutoMa
$LN36@DrawAutoMa:
  0077e	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@DrawAutoMa:

; 2188 : 
; 2189 : 
; 2190 : 	return;
; 2191 : }

  00785	52		 push	 edx
  00786	8b cd		 mov	 ecx, ebp
  00788	50		 push	 eax
  00789	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN40@DrawAutoMa
  0078f	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00794	58		 pop	 eax
  00795	5a		 pop	 edx
  00796	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  00799	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  007a0	59		 pop	 ecx
  007a1	5f		 pop	 edi
  007a2	5e		 pop	 esi
  007a3	5b		 pop	 ebx
  007a4	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  007a7	33 cd		 xor	 ecx, ebp
  007a9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  007ae	81 c4 e4 01 00
	00		 add	 esp, 484		; 000001e4H
  007b4	3b ec		 cmp	 ebp, esp
  007b6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  007bb	8b e5		 mov	 esp, ebp
  007bd	5d		 pop	 ebp
  007be	c3		 ret	 0
  007bf	90		 npad	 1
$LN40@DrawAutoMa:
  007c0	01 00 00 00	 DD	 1
  007c4	00 00 00 00	 DD	 $LN39@DrawAutoMa
$LN39@DrawAutoMa:
  007c8	7c ff ff ff	 DD	 -132			; ffffff7cH
  007cc	6c 00 00 00	 DD	 108			; 0000006cH
  007d0	00 00 00 00	 DD	 $LN37@DrawAutoMa
$LN37@DrawAutoMa:
  007d4	64		 DB	 100			; 00000064H
  007d5	64		 DB	 100			; 00000064H
  007d6	73		 DB	 115			; 00000073H
  007d7	64		 DB	 100			; 00000064H
  007d8	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawAutoMapping@@YAXHHPAEHH@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 18 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-488]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawAutoMapping@@YAXHHPAEHH@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawAutoMapping@@YAXHHPAEHH@Z ENDP			; DrawAutoMapping
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?PaletteChange@@YAXHH@Z
_TEXT	SEGMENT
_palNo$ = 8						; size = 4
_time$ = 12						; size = 4
?PaletteChange@@YAXHH@Z PROC				; PaletteChange, COMDAT

; 520  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 521  : 	static bool bChanged = false;
; 522  : 	if (bChanged) return;

  0001e	0f b6 05 00 00
	00 00		 movzx	 eax, BYTE PTR ?bChanged@?1??PaletteChange@@YAXHH@Z@4_NA
  00025	85 c0		 test	 eax, eax
  00027	74 02		 je	 SHORT $LN2@PaletteCha
  00029	eb 40		 jmp	 SHORT $LN1@PaletteCha
$LN2@PaletteCha:

; 523  : 
; 524  : #ifdef ç»é¢è²çéå®ç½å¤©
; 525  : 	palNo = LS_NOON;  //éå®ä¸­åé¢è²æå¥½ç

  0002b	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _palNo$[ebp], 0

; 526  : 	time = 0;

  00032	c7 45 0c 00 00
	00 00		 mov	 DWORD PTR _time$[ebp], 0

; 527  : #endif 
; 528  : 
; 529  : 	bChanged = true;

  00039	c6 05 00 00 00
	00 01		 mov	 BYTE PTR ?bChanged@?1??PaletteChange@@YAXHH@Z@4_NA, 1

; 530  : 	if( palNo >= MAX_PAL )

  00040	83 7d 08 12	 cmp	 DWORD PTR _palNo$[ebp], 18 ; 00000012H
  00044	7c 02		 jl	 SHORT $LN3@PaletteCha

; 531  : 		return;

  00046	eb 23		 jmp	 SHORT $LN1@PaletteCha
$LN3@PaletteCha:

; 532  : 	PalState.palNo = palNo;

  00048	8b 45 08	 mov	 eax, DWORD PTR _palNo$[ebp]
  0004b	a3 00 00 00 00	 mov	 DWORD PTR ?PalState@@3UPALETTE_STATE@@A, eax

; 533  : 	PalState.time = time;

  00050	8b 45 0c	 mov	 eax, DWORD PTR _time$[ebp]
  00053	a3 04 00 00 00	 mov	 DWORD PTR ?PalState@@3UPALETTE_STATE@@A+4, eax

; 534  : 	if( PalState.time <= 0 )

  00058	83 3d 04 00 00
	00 00		 cmp	 DWORD PTR ?PalState@@3UPALETTE_STATE@@A+4, 0
  0005f	7f 0a		 jg	 SHORT $LN1@PaletteCha

; 535  : 		PalState.time = 1;

  00061	c7 05 04 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?PalState@@3UPALETTE_STATE@@A+4, 1
$LN1@PaletteCha:

; 536  : }

  0006b	5f		 pop	 edi
  0006c	5e		 pop	 esi
  0006d	5b		 pop	 ebx
  0006e	8b e5		 mov	 esp, ebp
  00070	5d		 pop	 ebp
  00071	c3		 ret	 0
?PaletteChange@@YAXHH@Z ENDP				; PaletteChange
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?PaletteProc@@YAXXZ
_TEXT	SEGMENT
_i$ = -20						; size = 4
_fp$ = -8						; size = 4
?PaletteProc@@YAXXZ PROC				; PaletteProc, COMDAT

; 540  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 541  : 	FILE *fp; // ????????
; 542  : 	static PALETTEENTRY	pal[256];	// ?????î¨î
; 543  : 	static float	dRed[256];		// ?????î¤
; 544  : 	static float	dGreen[256];	// ?????î¤
; 545  : 	static float	dBlue[256];		// ?????î¤
; 546  : 	static float	dRedBak[256];	// î¸?î????
; 547  : 	static float	dGreenBak[256];	// î¸?î????
; 548  : 	static float	dBlueBak[256];	// î¸?î????
; 549  : 	static int 	timeCnt;			// ????????
; 550  : 	static int 	changeCnt;			// ?????????
; 551  : 	static int 	palNoBak = 0;		// ?????
; 552  : 	static int 	openFlag = FALSE;	// ???????????
; 553  : 	int i;
; 554  : 	// ?????î???????
; 555  : 	if (palNoBak == PalState.palNo && openFlag == FALSE)

  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?palNoBak@?1??PaletteProc@@YAXXZ@4HA
  00023	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?PalState@@3UPALETTE_STATE@@A
  00029	75 0e		 jne	 SHORT $LN11@PalettePro
  0002b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?openFlag@?1??PaletteProc@@YAXXZ@4HA, 0
  00032	75 05		 jne	 SHORT $LN11@PalettePro

; 556  : 		return;

  00034	e9 fb 03 00 00	 jmp	 $LN1@PalettePro
$LN11@PalettePro:

; 557  : 	// ???????????
; 558  : 	if (palNoBak != PalState.palNo) {

  00039	a1 00 00 00 00	 mov	 eax, DWORD PTR ?palNoBak@?1??PaletteProc@@YAXXZ@4HA
  0003e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?PalState@@3UPALETTE_STATE@@A
  00044	0f 84 15 02 00
	00		 je	 $LN12@PalettePro

; 559  : 		// ????????????
; 560  : 		fp = fopen(palFileName[PalState.palNo], "rb");

  0004a	8b f4		 mov	 esi, esp
  0004c	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  00051	a1 00 00 00 00	 mov	 eax, DWORD PTR ?PalState@@3UPALETTE_STATE@@A
  00056	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?palFileName@@3PAPADA[eax*4]
  0005d	51		 push	 ecx
  0005e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00064	83 c4 08	 add	 esp, 8
  00067	3b f4		 cmp	 esi, esp
  00069	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0006e	89 45 f8	 mov	 DWORD PTR _fp$[ebp], eax

; 561  : 		// î??î¸????????î
; 562  : 		for (i = 16; i < 240; i++) {

  00071	c7 45 ec 10 00
	00 00		 mov	 DWORD PTR _i$[ebp], 16	; 00000010H
  00078	eb 09		 jmp	 SHORT $LN4@PalettePro
$LN2@PalettePro:
  0007a	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0007d	83 c0 01	 add	 eax, 1
  00080	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN4@PalettePro:
  00083	81 7d ec f0 00
	00 00		 cmp	 DWORD PTR _i$[ebp], 240	; 000000f0H
  0008a	0f 8d 91 01 00
	00		 jge	 $LN3@PalettePro

; 563  : 			pal[i].peBlue = fgetc(fp);

  00090	8b f4		 mov	 esi, esp
  00092	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  00095	50		 push	 eax
  00096	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fgetc
  0009c	83 c4 04	 add	 esp, 4
  0009f	3b f4		 cmp	 esi, esp
  000a1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a6	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  000a9	88 04 8d 02 00
	00 00		 mov	 BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx*4+2], al

; 564  : 			pal[i].peGreen = fgetc(fp);

  000b0	8b f4		 mov	 esi, esp
  000b2	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000b5	50		 push	 eax
  000b6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fgetc
  000bc	83 c4 04	 add	 esp, 4
  000bf	3b f4		 cmp	 esi, esp
  000c1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c6	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  000c9	88 04 8d 01 00
	00 00		 mov	 BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx*4+1], al

; 565  : 			pal[i].peRed = fgetc(fp);

  000d0	8b f4		 mov	 esi, esp
  000d2	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  000d5	50		 push	 eax
  000d6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fgetc
  000dc	83 c4 04	 add	 esp, 4
  000df	3b f4		 cmp	 esi, esp
  000e1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000e6	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  000e9	88 04 8d 00 00
	00 00		 mov	 BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx*4], al

; 566  : 			// 168?î?( 0, 0, 0 )?î?
; 567  : 			if (i == 168) {

  000f0	81 7d ec a8 00
	00 00		 cmp	 DWORD PTR _i$[ebp], 168	; 000000a8H
  000f7	75 36		 jne	 SHORT $LN13@PalettePro

; 568  : 				pal[168].peBlue = 0;

  000f9	b8 04 00 00 00	 mov	 eax, 4
  000fe	69 c8 a8 00 00
	00		 imul	 ecx, eax, 168
  00104	c6 81 02 00 00
	00 00		 mov	 BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx+2], 0

; 569  : 				pal[168].peGreen = 0;

  0010b	b8 04 00 00 00	 mov	 eax, 4
  00110	69 c8 a8 00 00
	00		 imul	 ecx, eax, 168
  00116	c6 81 01 00 00
	00 00		 mov	 BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx+1], 0

; 570  : 				pal[168].peRed = 0;

  0011d	b8 04 00 00 00	 mov	 eax, 4
  00122	69 c8 a8 00 00
	00		 imul	 ecx, eax, 168
  00128	c6 81 00 00 00
	00 00		 mov	 BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx], 0
$LN13@PalettePro:

; 571  : 			}
; 572  : 			// î¸?????
; 573  : 			dBlueBak[i] = Palette[i].peBlue;

  0012f	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00132	0f b6 0c 85 02
	00 00 00	 movzx	 ecx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+2]
  0013a	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  0013e	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  00141	f3 0f 11 04 95
	00 00 00 00	 movss	 DWORD PTR ?dBlueBak@?1??PaletteProc@@YAXXZ@4PAMA[edx*4], xmm0

; 574  : 			dGreenBak[i] = Palette[i].peGreen;

  0014a	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0014d	0f b6 0c 85 01
	00 00 00	 movzx	 ecx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+1]
  00155	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  00159	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  0015c	f3 0f 11 04 95
	00 00 00 00	 movss	 DWORD PTR ?dGreenBak@?1??PaletteProc@@YAXXZ@4PAMA[edx*4], xmm0

; 575  : 			dRedBak[i] = Palette[i].peRed;

  00165	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00168	0f b6 0c 85 00
	00 00 00	 movzx	 ecx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4]
  00170	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  00174	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  00177	f3 0f 11 04 95
	00 00 00 00	 movss	 DWORD PTR ?dRedBak@?1??PaletteProc@@YAXXZ@4PAMA[edx*4], xmm0

; 576  : 			// ?î¤?î«
; 577  : 			dBlue[i] = (float)(pal[i].peBlue - Palette[i].peBlue) / (float)PalState.time;

  00180	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00183	0f b6 0c 85 02
	00 00 00	 movzx	 ecx, BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[eax*4+2]
  0018b	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  0018e	0f b6 04 95 02
	00 00 00	 movzx	 eax, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[edx*4+2]
  00196	2b c8		 sub	 ecx, eax
  00198	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  0019c	f3 0f 2a 0d 04
	00 00 00	 cvtsi2ss xmm1, DWORD PTR ?PalState@@3UPALETTE_STATE@@A+4
  001a4	f3 0f 5e c1	 divss	 xmm0, xmm1
  001a8	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  001ab	f3 0f 11 04 8d
	00 00 00 00	 movss	 DWORD PTR ?dBlue@?1??PaletteProc@@YAXXZ@4PAMA[ecx*4], xmm0

; 578  : 			dGreen[i] = (float)(pal[i].peGreen - Palette[i].peGreen) / (float)PalState.time;

  001b4	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  001b7	0f b6 0c 85 01
	00 00 00	 movzx	 ecx, BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[eax*4+1]
  001bf	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  001c2	0f b6 04 95 01
	00 00 00	 movzx	 eax, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[edx*4+1]
  001ca	2b c8		 sub	 ecx, eax
  001cc	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  001d0	f3 0f 2a 0d 04
	00 00 00	 cvtsi2ss xmm1, DWORD PTR ?PalState@@3UPALETTE_STATE@@A+4
  001d8	f3 0f 5e c1	 divss	 xmm0, xmm1
  001dc	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  001df	f3 0f 11 04 8d
	00 00 00 00	 movss	 DWORD PTR ?dGreen@?1??PaletteProc@@YAXXZ@4PAMA[ecx*4], xmm0

; 579  : 			dRed[i] = (float)(pal[i].peRed - Palette[i].peRed) / (float)PalState.time;

  001e8	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  001eb	0f b6 0c 85 00
	00 00 00	 movzx	 ecx, BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[eax*4]
  001f3	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  001f6	0f b6 04 95 00
	00 00 00	 movzx	 eax, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[edx*4]
  001fe	2b c8		 sub	 ecx, eax
  00200	f3 0f 2a c1	 cvtsi2ss xmm0, ecx
  00204	f3 0f 2a 0d 04
	00 00 00	 cvtsi2ss xmm1, DWORD PTR ?PalState@@3UPALETTE_STATE@@A+4
  0020c	f3 0f 5e c1	 divss	 xmm0, xmm1
  00210	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  00213	f3 0f 11 04 8d
	00 00 00 00	 movss	 DWORD PTR ?dRed@?1??PaletteProc@@YAXXZ@4PAMA[ecx*4], xmm0

; 580  : #if 0
; 581  : 			// ??????????
; 582  : 			if (WindowMode) {
; 583  : 				Palette[i].peFlags = PC_NOCOLLAPSE | PC_RESERVED;
; 584  : 			}
; 585  : 			else {
; 586  : 				Palette[i].peFlags = PC_EXPLICIT;
; 587  : 			}
; 588  : #endif
; 589  : 		}

  0021c	e9 59 fe ff ff	 jmp	 $LN2@PalettePro
$LN3@PalettePro:

; 590  : 		fclose(fp);				// ????î¼??

  00221	8b f4		 mov	 esi, esp
  00223	8b 45 f8	 mov	 eax, DWORD PTR _fp$[ebp]
  00226	50		 push	 eax
  00227	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  0022d	83 c4 04	 add	 esp, 4
  00230	3b f4		 cmp	 esi, esp
  00232	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 591  : 		timeCnt = 0;				// î ?î«???????????????????

  00237	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?timeCnt@?1??PaletteProc@@YAXXZ@4HA, 0

; 592  : 		changeCnt = 0;				// î¯????????????????????;

  00241	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 0

; 593  : 		palNoBak = PalState.palNo;	// ??????

  0024b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?PalState@@3UPALETTE_STATE@@A
  00250	a3 00 00 00 00	 mov	 DWORD PTR ?palNoBak@?1??PaletteProc@@YAXXZ@4HA, eax

; 594  : 		openFlag = TRUE;			// ?????

  00255	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?openFlag@?1??PaletteProc@@YAXXZ@4HA, 1
$LN12@PalettePro:

; 595  : 	}
; 596  : 	// ?????
; 597  : 	timeCnt++;

  0025f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?timeCnt@?1??PaletteProc@@YAXXZ@4HA
  00264	83 c0 01	 add	 eax, 1
  00267	a3 00 00 00 00	 mov	 DWORD PTR ?timeCnt@?1??PaletteProc@@YAXXZ@4HA, eax

; 598  : 	// î????
; 599  : 	if (timeCnt <= PalState.time) {

  0026c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?timeCnt@?1??PaletteProc@@YAXXZ@4HA
  00271	3b 05 04 00 00
	00		 cmp	 eax, DWORD PTR ?PalState@@3UPALETTE_STATE@@A+4
  00277	0f 8f d4 00 00
	00		 jg	 $LN14@PalettePro

; 600  : 		// î??î¸????????î
; 601  : 		for (i = 16; i < 240; i++) {

  0027d	c7 45 ec 10 00
	00 00		 mov	 DWORD PTR _i$[ebp], 16	; 00000010H
  00284	eb 09		 jmp	 SHORT $LN7@PalettePro
$LN5@PalettePro:
  00286	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00289	83 c0 01	 add	 eax, 1
  0028c	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN7@PalettePro:
  0028f	81 7d ec f0 00
	00 00		 cmp	 DWORD PTR _i$[ebp], 240	; 000000f0H
  00296	0f 8d b3 00 00
	00		 jge	 $LN6@PalettePro

; 602  : 			// î¸?î????
; 603  : 			dBlueBak[i] += dBlue[i];

  0029c	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0029f	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  002a2	f3 0f 10 04 85
	00 00 00 00	 movss	 xmm0, DWORD PTR ?dBlueBak@?1??PaletteProc@@YAXXZ@4PAMA[eax*4]
  002ab	f3 0f 58 04 8d
	00 00 00 00	 addss	 xmm0, DWORD PTR ?dBlue@?1??PaletteProc@@YAXXZ@4PAMA[ecx*4]
  002b4	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  002b7	f3 0f 11 04 95
	00 00 00 00	 movss	 DWORD PTR ?dBlueBak@?1??PaletteProc@@YAXXZ@4PAMA[edx*4], xmm0

; 604  : 			dGreenBak[i] += dGreen[i];

  002c0	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  002c3	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  002c6	f3 0f 10 04 85
	00 00 00 00	 movss	 xmm0, DWORD PTR ?dGreenBak@?1??PaletteProc@@YAXXZ@4PAMA[eax*4]
  002cf	f3 0f 58 04 8d
	00 00 00 00	 addss	 xmm0, DWORD PTR ?dGreen@?1??PaletteProc@@YAXXZ@4PAMA[ecx*4]
  002d8	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  002db	f3 0f 11 04 95
	00 00 00 00	 movss	 DWORD PTR ?dGreenBak@?1??PaletteProc@@YAXXZ@4PAMA[edx*4], xmm0

; 605  : 			dRedBak[i] += dRed[i];

  002e4	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  002e7	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  002ea	f3 0f 10 04 85
	00 00 00 00	 movss	 xmm0, DWORD PTR ?dRedBak@?1??PaletteProc@@YAXXZ@4PAMA[eax*4]
  002f3	f3 0f 58 04 8d
	00 00 00 00	 addss	 xmm0, DWORD PTR ?dRed@?1??PaletteProc@@YAXXZ@4PAMA[ecx*4]
  002fc	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  002ff	f3 0f 11 04 95
	00 00 00 00	 movss	 DWORD PTR ?dRedBak@?1??PaletteProc@@YAXXZ@4PAMA[edx*4], xmm0

; 606  : 			// î?????
; 607  : 			Palette[i].peBlue = (BYTE)dBlueBak[i];

  00308	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0030b	f3 0f 2c 0c 85
	00 00 00 00	 cvttss2si ecx, DWORD PTR ?dBlueBak@?1??PaletteProc@@YAXXZ@4PAMA[eax*4]
  00314	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  00317	88 0c 95 02 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[edx*4+2], cl

; 608  : 			Palette[i].peGreen = (BYTE)dGreenBak[i];

  0031e	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00321	f3 0f 2c 0c 85
	00 00 00 00	 cvttss2si ecx, DWORD PTR ?dGreenBak@?1??PaletteProc@@YAXXZ@4PAMA[eax*4]
  0032a	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  0032d	88 0c 95 01 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[edx*4+1], cl

; 609  : 			Palette[i].peRed = (BYTE)dRedBak[i];

  00334	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00337	f3 0f 2c 0c 85
	00 00 00 00	 cvttss2si ecx, DWORD PTR ?dRedBak@?1??PaletteProc@@YAXXZ@4PAMA[eax*4]
  00340	8b 55 ec	 mov	 edx, DWORD PTR _i$[ebp]
  00343	88 0c 95 00 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[edx*4], cl

; 610  : 		}

  0034a	e9 37 ff ff ff	 jmp	 $LN5@PalettePro
$LN6@PalettePro:

; 611  : 	}
; 612  : 	else {

  0034f	eb 6d		 jmp	 SHORT $LN15@PalettePro
$LN14@PalettePro:

; 613  : 		// ??????????î»??????î±????
; 614  : 		// î??î¸????????î
; 615  : 		for (i = 16; i < 240; i++) {

  00351	c7 45 ec 10 00
	00 00		 mov	 DWORD PTR _i$[ebp], 16	; 00000010H
  00358	eb 09		 jmp	 SHORT $LN10@PalettePro
$LN8@PalettePro:
  0035a	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0035d	83 c0 01	 add	 eax, 1
  00360	89 45 ec	 mov	 DWORD PTR _i$[ebp], eax
$LN10@PalettePro:
  00363	81 7d ec f0 00
	00 00		 cmp	 DWORD PTR _i$[ebp], 240	; 000000f0H
  0036a	7d 3e		 jge	 SHORT $LN9@PalettePro

; 616  : 			Palette[i].peBlue = pal[i].peBlue;

  0036c	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  0036f	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  00372	8a 14 8d 02 00
	00 00		 mov	 dl, BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx*4+2]
  00379	88 14 85 02 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+2], dl

; 617  : 			Palette[i].peGreen = pal[i].peGreen;

  00380	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00383	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  00386	8a 14 8d 01 00
	00 00		 mov	 dl, BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx*4+1]
  0038d	88 14 85 01 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+1], dl

; 618  : 			Palette[i].peRed = pal[i].peRed;

  00394	8b 45 ec	 mov	 eax, DWORD PTR _i$[ebp]
  00397	8b 4d ec	 mov	 ecx, DWORD PTR _i$[ebp]
  0039a	8a 14 8d 00 00
	00 00		 mov	 dl, BYTE PTR ?pal@?1??PaletteProc@@YAXXZ@4PAUtagPALETTEENTRY@@A[ecx*4]
  003a1	88 14 85 00 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4], dl

; 619  : 		}

  003a8	eb b0		 jmp	 SHORT $LN8@PalettePro
$LN9@PalettePro:

; 620  : 		openFlag = FALSE;	// ??????

  003aa	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?openFlag@?1??PaletteProc@@YAXXZ@4HA, 0

; 621  : 		transEffectPaletteStatus = 2;

  003b4	c7 05 00 00 00
	00 02 00 00 00	 mov	 DWORD PTR ?transEffectPaletteStatus@@3HA, 2 ; transEffectPaletteStatus
$LN15@PalettePro:

; 622  : 	}
; 623  : 	// ???????????î¸î?î??????
; 624  : 	if (changeCnt == 0 || openFlag == FALSE) {

  003be	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 0
  003c5	74 09		 je	 SHORT $LN17@PalettePro
  003c7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?openFlag@?1??PaletteProc@@YAXXZ@4HA, 0
  003ce	75 0a		 jne	 SHORT $LN16@PalettePro
$LN17@PalettePro:

; 625  : 		// ?????????????
; 626  : 		PalChangeFlag = TRUE;

  003d0	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?PalChangeFlag@@3HA, 1 ; PalChangeFlag
$LN16@PalettePro:

; 627  : 		// ??????î²??î
; 628  : 		//lpDraw->lpPALETTE->SetEntries( 0, 0, 256, Palette );
; 629  : 	}
; 630  : 	// ????????
; 631  : 	changeCnt++;

  003da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA
  003df	83 c0 01	 add	 eax, 1
  003e2	a3 00 00 00 00	 mov	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, eax

; 632  : 	// ??????????
; 633  : 	if (transmigrationEffectFlag)

  003e7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?transmigrationEffectFlag@@3HA, 0 ; transmigrationEffectFlag
  003ee	74 13		 je	 SHORT $LN19@PalettePro

; 634  : 	{
; 635  : 		// î¿î??????
; 636  : 		if (changeCnt >= 10) changeCnt = 0;

  003f0	83 3d 00 00 00
	00 0a		 cmp	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 10 ; 0000000aH
  003f7	7c 0a		 jl	 SHORT $LN19@PalettePro
  003f9	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 0
$LN19@PalettePro:

; 637  : 	}
; 638  : 	if (WindowMode) {

  00403	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?WindowMode@@3HA, 0 ; WindowMode
  0040a	74 15		 je	 SHORT $LN20@PalettePro

; 639  : 		if (changeCnt >= PAL_CHANGE_INTERVAL_WIN)

  0040c	83 3d 00 00 00
	00 78		 cmp	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 120 ; 00000078H
  00413	7c 0a		 jl	 SHORT $LN22@PalettePro

; 640  : 			changeCnt = 0;

  00415	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 0
$LN22@PalettePro:

; 641  : 	}
; 642  : 	else {

  0041f	eb 13		 jmp	 SHORT $LN23@PalettePro
$LN20@PalettePro:

; 643  : 		if (changeCnt >= PAL_CHANGE_INTERVAL_FULL)

  00421	83 3d 00 00 00
	00 3c		 cmp	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 60 ; 0000003cH
  00428	7c 0a		 jl	 SHORT $LN23@PalettePro

; 644  : 			changeCnt = 0;

  0042a	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?changeCnt@?1??PaletteProc@@YAXXZ@4HA, 0
$LN23@PalettePro:
$LN1@PalettePro:

; 645  : 	}
; 646  : }

  00434	5f		 pop	 edi
  00435	5e		 pop	 esi
  00436	5b		 pop	 ebx
  00437	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  0043d	3b ec		 cmp	 ebp, esp
  0043f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00444	8b e5		 mov	 esp, ebp
  00446	5d		 pop	 ebp
  00447	c3		 ret	 0
?PaletteProc@@YAXXZ ENDP				; PaletteProc
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?PutText@@YAXD@Z
_TEXT	SEGMENT
_hOldFont$2 = -72					; size = 4
_color$3 = -60						; size = 4
_colorFlag$4 = -48					; size = 4
_i$5 = -36						; size = 4
_hDc$6 = -24						; size = 4
__$EHRec$ = -16						; size = 16
_fontPrio$ = 8						; size = 1
?PutText@@YAXD@Z PROC					; PutText, COMDAT

; 3288 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?PutText@@YAXD@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd f4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-268]
  00021	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 3289 : 
; 3290 : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 3291 : 	{
; 3292 : 		HDC  hDc;
; 3293 : #ifdef _READ16BITBMP
; 3294 : 		HDC  hDcSys;
; 3295 : #endif
; 3296 : 		int i;
; 3297 : 		BOOL colorFlag = FALSE;

  00048	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _colorFlag$4[ebp], 0

; 3298 : 		int	color;
; 3299 : 		if (FontCnt == 0) return;

  0004f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?FontCnt@@3HA, 0 ; FontCnt
  00056	0f 84 74 06 00
	00		 je	 $LN1@PutText

; 3300 : 
; 3301 : 		// JL fix 2018/7/7 
; 3302 : 		if (lpDraw == NULL) return;

  0005c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A, 0 ; lpDraw
  00063	0f 84 67 06 00
	00		 je	 $LN1@PutText

; 3303 : 		if (lpDraw->lpBACKBUFFER == NULL) return;

  00069	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0006e	83 78 0c 00	 cmp	 DWORD PTR [eax+12], 0
  00072	0f 84 58 06 00
	00		 je	 $LN1@PutText

; 3304 : 
; 3305 : 		lpDraw->lpBACKBUFFER->GetDC(&hDc);

  00078	8b f4		 mov	 esi, esp
  0007a	8d 45 e8	 lea	 eax, DWORD PTR _hDc$6[ebp]
  0007d	50		 push	 eax
  0007e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00084	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00087	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0008c	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0008f	8b 12		 mov	 edx, DWORD PTR [edx]
  00091	51		 push	 ecx
  00092	8b 42 44	 mov	 eax, DWORD PTR [edx+68]
  00095	ff d0		 call	 eax
  00097	3b f4		 cmp	 esi, esp
  00099	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3306 : #ifdef _READ16BITBMP
; 3307 : 		if (g_bUseAlpha) lpDraw->lpBACKBUFFERSYS->GetDC(&hDcSys);
; 3308 : #endif
; 3309 : 		SetBkMode(hDc, TRANSPARENT);

  0009e	8b f4		 mov	 esi, esp
  000a0	6a 01		 push	 1
  000a2	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  000a5	50		 push	 eax
  000a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetBkMode@8
  000ac	3b f4		 cmp	 esi, esp
  000ae	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3310 : #ifdef _READ16BITBMP
; 3311 : 		if (g_bUseAlpha) SetBkMode(hDcSys, TRANSPARENT);
; 3312 : #endif
; 3313 : 		HFONT hOldFont = (HFONT)SelectObject(hDc, hFont);

  000b3	8b f4		 mov	 esi, esp
  000b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hFont@@3PAUHFONT__@@A ; hFont
  000ba	50		 push	 eax
  000bb	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  000be	51		 push	 ecx
  000bf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  000c5	3b f4		 cmp	 esi, esp
  000c7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000cc	89 45 b8	 mov	 DWORD PTR _hOldFont$2[ebp], eax

; 3314 : #ifdef _READ16BITBMP
; 3315 : 		if (g_bUseAlpha) SelectObject(hDcSys, hFont);
; 3316 : #endif
; 3317 : 		SetTextColor(hDc, 0);

  000cf	8b f4		 mov	 esi, esp
  000d1	6a 00		 push	 0
  000d3	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  000d6	50		 push	 eax
  000d7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetTextColor@8
  000dd	3b f4		 cmp	 esi, esp
  000df	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3318 : #ifdef _READ16BITBMP
; 3319 : 		if (g_bUseAlpha) SetTextColor(hDcSys, 0);
; 3320 : #endif
; 3321 : 		for (i = 0; i < FontCnt; i++) {

  000e4	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _i$5[ebp], 0
  000eb	eb 09		 jmp	 SHORT $LN4@PutText
$LN2@PutText:
  000ed	8b 45 dc	 mov	 eax, DWORD PTR _i$5[ebp]
  000f0	83 c0 01	 add	 eax, 1
  000f3	89 45 dc	 mov	 DWORD PTR _i$5[ebp], eax
$LN4@PutText:
  000f6	8b 45 dc	 mov	 eax, DWORD PTR _i$5[ebp]
  000f9	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?FontCnt@@3HA ; FontCnt
  000ff	0f 8d 83 02 00
	00		 jge	 $LN3@PutText

; 3322 : 			if (FontBuffer[i].fontPrio == fontPrio) {

  00105	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  0010c	0f b6 88 05 01
	00 00		 movzx	 ecx, BYTE PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+261]
  00113	0f be 55 08	 movsx	 edx, BYTE PTR _fontPrio$[ebp]
  00117	3b ca		 cmp	 ecx, edx
  00119	0f 85 64 02 00
	00		 jne	 $LN15@PutText

; 3323 : 				if (ResoMode == 1) {

  0011f	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00126	75 6a		 jne	 SHORT $LN16@PutText

; 3324 : 					TextOut(hDc, FontBuffer[i].x / 2 + 1, FontBuffer[i].y / 2 + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  00128	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  0012f	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  00134	50		 push	 eax
  00135	e8 00 00 00 00	 call	 _strlen
  0013a	83 c4 04	 add	 esp, 4
  0013d	8b f4		 mov	 esi, esp
  0013f	50		 push	 eax
  00140	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00147	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  0014d	51		 push	 ecx
  0014e	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  00155	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  0015c	99		 cdq
  0015d	2b c2		 sub	 eax, edx
  0015f	d1 f8		 sar	 eax, 1
  00161	83 c0 01	 add	 eax, 1
  00164	50		 push	 eax
  00165	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  0016c	0f bf 80 00 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax]
  00173	99		 cdq
  00174	2b c2		 sub	 eax, edx
  00176	d1 f8		 sar	 eax, 1
  00178	83 c0 01	 add	 eax, 1
  0017b	50		 push	 eax
  0017c	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  0017f	51		 push	 ecx
  00180	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  00186	3b f4		 cmp	 esi, esp
  00188	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3325 : 				}
; 3326 : 				else {

  0018d	e9 f1 01 00 00	 jmp	 $LN15@PutText
$LN16@PutText:

; 3327 : #ifdef _FONT_SIZE
; 3328 : 					static HFONT newFont = NULL;
; 3329 : 					static HFONT oldFont = NULL;
; 3330 : 					if (newFont != NULL) {

  00192	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A, 0
  00199	74 15		 je	 SHORT $LN18@PutText

; 3331 : 						DeleteObject(newFont);

  0019b	8b f4		 mov	 esi, esp
  0019d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A
  001a2	50		 push	 eax
  001a3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
  001a9	3b f4		 cmp	 esi, esp
  001ab	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN18@PutText:

; 3332 : 					}
; 3333 : 					if (FontBuffer[i].size <= 0)

  001b0	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  001b7	83 b8 0c 01 00
	00 00		 cmp	 DWORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+268], 0
  001be	7f 1b		 jg	 SHORT $LN19@PutText

; 3334 : 						SelectObject(hDc, hFont);

  001c0	8b f4		 mov	 esi, esp
  001c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hFont@@3PAUHFONT__@@A ; hFont
  001c7	50		 push	 eax
  001c8	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  001cb	51		 push	 ecx
  001cc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  001d2	3b f4		 cmp	 esi, esp
  001d4	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3335 : 					else {

  001d9	eb 42		 jmp	 SHORT $LN20@PutText
$LN19@PutText:

; 3336 : 						newFont = CreateNewFont(FontBuffer[i].size);

  001db	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  001e2	8b 88 0c 01 00
	00		 mov	 ecx, DWORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+268]
  001e8	51		 push	 ecx
  001e9	e8 00 00 00 00	 call	 ?CreateNewFont@@YAPAUHFONT__@@H@Z ; CreateNewFont
  001ee	83 c4 04	 add	 esp, 4
  001f1	a3 00 00 00 00	 mov	 DWORD PTR ?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A, eax

; 3337 : 						if (newFont != NULL)

  001f6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A, 0
  001fd	74 1e		 je	 SHORT $LN20@PutText

; 3338 : 							oldFont = (HFONT)SelectObject(hDc, newFont);

  001ff	8b f4		 mov	 esi, esp
  00201	a1 00 00 00 00	 mov	 eax, DWORD PTR ?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A
  00206	50		 push	 eax
  00207	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  0020a	51		 push	 ecx
  0020b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  00211	3b f4		 cmp	 esi, esp
  00213	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00218	a3 00 00 00 00	 mov	 DWORD PTR ?oldFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A, eax
$LN20@PutText:

; 3339 : 					}
; 3340 : #endif
; 3341 : #ifndef _CHANNEL_MODIFY
; 3342 : 					TextOut(hDc, FontBuffer[i].x + 1, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3343 : #ifdef _READ16BITBMP
; 3344 : 					if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3345 : #endif
; 3346 : #else
; 3347 : 					if (FontBuffer[i].fontPrio != FONT_PRIO_CHATBUFFER) {

  0021d	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  00224	0f b6 88 05 01
	00 00		 movzx	 ecx, BYTE PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+261]
  0022b	83 f9 03	 cmp	 ecx, 3
  0022e	74 60		 je	 SHORT $LN22@PutText

; 3348 : #ifdef _FONT_PARAGRAPH_COLOR
; 3349 : 						char *s = FontBuffer[i].str;
; 3350 : 						int x = 0;
; 3351 : 						int len = 0;
; 3352 : 						while (char *ss = strstr(s, "/")) {
; 3353 : 							ss++;
; 3354 : 							len = ss - s - 1;
; 3355 : 							if (ss[0] >= 'a' && ss[0] <= 'z') {
; 3356 : 								ss++;
; 3357 : 							}
; 3358 : 							else {
; 3359 : 								len++;
; 3360 : 							}
; 3361 : 							TextOut(hDc, FontBuffer[i].x + 1 + x * 7, FontBuffer[i].y + 1, s, len);
; 3362 : #ifdef _READ16BITBMP
; 3363 : 							if (g_bUseAlpha) {
; 3364 : 								TextOut(hDcSys, FontBuffer[i].x + x * 7, FontBuffer[i].y + 1, s, len);
; 3365 : 							}
; 3366 : #endif
; 3367 : 							s = ss;
; 3368 : 							x += len;
; 3369 : 						}
; 3370 : 						TextOut(hDc, FontBuffer[i].x + 1 + x * 7, FontBuffer[i].y + 1, s, strlen(s));
; 3371 : #ifdef _READ16BITBMP
; 3372 : 						if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + x * 7, FontBuffer[i].y + 1, s, strlen(s));
; 3373 : #endif
; 3374 : #else
; 3375 : 						TextOut(hDc, FontBuffer[i].x + 1, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  00230	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  00237	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  0023c	50		 push	 eax
  0023d	e8 00 00 00 00	 call	 _strlen
  00242	83 c4 04	 add	 esp, 4
  00245	8b f4		 mov	 esi, esp
  00247	50		 push	 eax
  00248	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  0024f	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  00255	51		 push	 ecx
  00256	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  0025d	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  00264	83 c0 01	 add	 eax, 1
  00267	50		 push	 eax
  00268	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  0026f	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[ecx]
  00276	83 c2 01	 add	 edx, 1
  00279	52		 push	 edx
  0027a	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  0027d	50		 push	 eax
  0027e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  00284	3b f4		 cmp	 esi, esp
  00286	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3376 : #ifdef _READ16BITBMP
; 3377 : 						if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3378 : #endif
; 3379 : #endif
; 3380 : 					}
; 3381 : 					else {

  0028b	e9 bc 00 00 00	 jmp	 $LN23@PutText
$LN22@PutText:

; 3382 : #ifdef _TALK_WINDOW
; 3383 : 						if (g_bTalkWindow) {
; 3384 : 							break;
; 3385 : 						}
; 3386 : #endif
; 3387 : 
; 3388 : #ifdef _FONT_PARAGRAPH_COLOR
; 3389 : 						char *s = FontBuffer[i].str;
; 3390 : 						int x = 0;
; 3391 : 						int len = 0;
; 3392 : 						while (char *ss = strstr(s, "/")) {
; 3393 : 							ss++;
; 3394 : 							len = ss - s - 1;
; 3395 : 
; 3396 : 							if (ss[0] < 'a' || ss[0] > 'z') {
; 3397 : 								len--;
; 3398 : 							}
; 3399 : 							if (false) {
; 3400 : 								TextOut(hDc, FontBuffer[i].x + 1 + x * 7, FontBuffer[i].y + 1, s, len + 2);
; 3401 : #ifdef _READ16BITBMP
; 3402 : 								if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1 + x * 7, FontBuffer[i].y + 1, s, len + 2);
; 3403 : #endif
; 3404 : 							}
; 3405 : 							else {
; 3406 : 								TextOut(hDc, FontBuffer[i].x + 1 + 22 + x * 7, FontBuffer[i].y + 1, s, len + 2);
; 3407 : #ifdef _READ16BITBMP
; 3408 : 								if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1 + 22 + x * 7, FontBuffer[i].y + 1, s, len + 2);
; 3409 : #endif
; 3410 : 							}
; 3411 : 							if (ss[0] >= 'a' && ss[0] <= 'z') {
; 3412 : 								ss++;
; 3413 : 							}
; 3414 : 							s = ss;
; 3415 : 							x += len + 2;
; 3416 : 						}
; 3417 : 
; 3418 : 						if (false) {
; 3419 : 							TextOut(hDc, FontBuffer[i].x + 1 + x * 7, FontBuffer[i].y + 1, s, strlen(s));
; 3420 : #ifdef _READ16BITBMP
; 3421 : 							if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1 + x * 7, FontBuffer[i].y + 1, s, strlen(s));
; 3422 : #endif
; 3423 : 						}
; 3424 : 						else {
; 3425 : 							TextOut(hDc, FontBuffer[i].x + 1 + 22 + x * 7, FontBuffer[i].y + 1, s, strlen(s));
; 3426 : #ifdef _READ16BITBMP
; 3427 : 							if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1 + 22 + x * 7, FontBuffer[i].y + 1, s, strlen(s));
; 3428 : #endif
; 3429 : 						}
; 3430 : #else
; 3431 : 
; 3432 : 						if (false) {

  00290	33 c0		 xor	 eax, eax
  00292	74 5d		 je	 SHORT $LN24@PutText

; 3433 : 							TextOut(hDc, FontBuffer[i].x + 1, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  00294	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  0029b	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  002a0	50		 push	 eax
  002a1	e8 00 00 00 00	 call	 _strlen
  002a6	83 c4 04	 add	 esp, 4
  002a9	8b f4		 mov	 esi, esp
  002ab	50		 push	 eax
  002ac	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  002b3	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  002b9	51		 push	 ecx
  002ba	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  002c1	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  002c8	83 c0 01	 add	 eax, 1
  002cb	50		 push	 eax
  002cc	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  002d3	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[ecx]
  002da	83 c2 01	 add	 edx, 1
  002dd	52		 push	 edx
  002de	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  002e1	50		 push	 eax
  002e2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  002e8	3b f4		 cmp	 esi, esp
  002ea	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3434 : #ifdef _READ16BITBMP
; 3435 : 							if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3436 : #endif
; 3437 : 						}
; 3438 : 						else {

  002ef	eb 5b		 jmp	 SHORT $LN23@PutText
$LN24@PutText:

; 3439 : 							TextOut(hDc, FontBuffer[i].x + 1 + 22, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  002f1	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  002f8	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  002fd	50		 push	 eax
  002fe	e8 00 00 00 00	 call	 _strlen
  00303	83 c4 04	 add	 esp, 4
  00306	8b f4		 mov	 esi, esp
  00308	50		 push	 eax
  00309	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00310	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  00316	51		 push	 ecx
  00317	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  0031e	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  00325	83 c0 01	 add	 eax, 1
  00328	50		 push	 eax
  00329	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00330	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[ecx]
  00337	83 c2 17	 add	 edx, 23			; 00000017H
  0033a	52		 push	 edx
  0033b	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  0033e	50		 push	 eax
  0033f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  00345	3b f4		 cmp	 esi, esp
  00347	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN23@PutText:

; 3440 : #ifdef _READ16BITBMP
; 3441 : 							if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 1 + 22, FontBuffer[i].y + 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3442 : #endif
; 3443 : 						}
; 3444 : #endif
; 3445 : #ifndef LABEL_STR_
; 3446 : 						TextOut(hDc, 1 + 1, 432 + DISPLACEMENT_Y + 1, g_szChannelTitle[TalkMode], (int)strlen(g_szChannelTitle[TalkMode]));
; 3447 : #ifdef _READ16BITBMP
; 3448 : 						if (g_bUseAlpha) TextOut(hDcSys, 2 + 1, 432 + DISPLACEMENT_Y + 1, g_szChannelTitle[TalkMode], (int)strlen(g_szChannelTitle[TalkMode]));
; 3449 : #endif
; 3450 : #endif
; 3451 : 					}
; 3452 : #endif
; 3453 : #ifdef _FONT_SIZE
; 3454 : 					if (newFont != NULL) {

  0034c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A, 0
  00353	74 2e		 je	 SHORT $LN15@PutText

; 3455 : 						DeleteObject(newFont);

  00355	8b f4		 mov	 esi, esp
  00357	a1 00 00 00 00	 mov	 eax, DWORD PTR ?newFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A
  0035c	50		 push	 eax
  0035d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
  00363	3b f4		 cmp	 esi, esp
  00365	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3456 : 						SelectObject(hDc, oldFont);

  0036a	8b f4		 mov	 esi, esp
  0036c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?oldFont@?BD@??PutText@@YAXD@Z@4PAUHFONT__@@A
  00371	50		 push	 eax
  00372	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  00375	51		 push	 ecx
  00376	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  0037c	3b f4		 cmp	 esi, esp
  0037e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN15@PutText:

; 3457 : 					}
; 3458 : #endif
; 3459 : 				}
; 3460 : 			}
; 3461 : 		}

  00383	e9 65 fd ff ff	 jmp	 $LN2@PutText
$LN3@PutText:

; 3462 : 		// îî????? SetTextColor?????????????î²? ?
; 3463 : 		for (color = 0; color < FONT_PAL_NUM; color++) {

  00388	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _color$3[ebp], 0
  0038f	eb 09		 jmp	 SHORT $LN7@PutText
$LN5@PutText:
  00391	8b 45 c4	 mov	 eax, DWORD PTR _color$3[ebp]
  00394	83 c0 01	 add	 eax, 1
  00397	89 45 c4	 mov	 DWORD PTR _color$3[ebp], eax
$LN7@PutText:
  0039a	83 7d c4 1a	 cmp	 DWORD PTR _color$3[ebp], 26 ; 0000001aH
  0039e	0f 8d d7 02 00
	00		 jge	 $LN6@PutText

; 3464 : 			for (i = 0; i < FontCnt; i++) {

  003a4	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _i$5[ebp], 0
  003ab	eb 09		 jmp	 SHORT $LN10@PutText
$LN8@PutText:
  003ad	8b 45 dc	 mov	 eax, DWORD PTR _i$5[ebp]
  003b0	83 c0 01	 add	 eax, 1
  003b3	89 45 dc	 mov	 DWORD PTR _i$5[ebp], eax
$LN10@PutText:
  003b6	8b 45 dc	 mov	 eax, DWORD PTR _i$5[ebp]
  003b9	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?FontCnt@@3HA ; FontCnt
  003bf	0f 8d aa 02 00
	00		 jge	 $LN9@PutText

; 3465 : 				if (FontBuffer[i].fontPrio == fontPrio) {

  003c5	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  003cc	0f b6 88 05 01
	00 00		 movzx	 ecx, BYTE PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+261]
  003d3	0f be 55 08	 movsx	 edx, BYTE PTR _fontPrio$[ebp]
  003d7	3b ca		 cmp	 ecx, edx
  003d9	0f 85 8b 02 00
	00		 jne	 $LN27@PutText

; 3466 : 					if (FontBuffer[i].color == color) {

  003df	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  003e6	0f be 88 04 00
	00 00		 movsx	 ecx, BYTE PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+4]
  003ed	3b 4d c4	 cmp	 ecx, DWORD PTR _color$3[ebp]
  003f0	0f 85 74 02 00
	00		 jne	 $LN27@PutText

; 3467 : 						if (colorFlag == FALSE) {

  003f6	83 7d d0 00	 cmp	 DWORD PTR _colorFlag$4[ebp], 0
  003fa	75 25		 jne	 SHORT $LN29@PutText

; 3468 : 							SetTextColor(hDc, FontPal[color]);

  003fc	8b f4		 mov	 esi, esp
  003fe	8b 45 c4	 mov	 eax, DWORD PTR _color$3[ebp]
  00401	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?FontPal@@3PAKA[eax*4]
  00408	51		 push	 ecx
  00409	8b 55 e8	 mov	 edx, DWORD PTR _hDc$6[ebp]
  0040c	52		 push	 edx
  0040d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetTextColor@8
  00413	3b f4		 cmp	 esi, esp
  00415	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3469 : #ifdef _READ16BITBMP
; 3470 : 							if (g_bUseAlpha) SetTextColor(hDcSys, FontPal[color]);
; 3471 : #endif
; 3472 : 							colorFlag = TRUE;

  0041a	c7 45 d0 01 00
	00 00		 mov	 DWORD PTR _colorFlag$4[ebp], 1
$LN29@PutText:

; 3473 : 						}
; 3474 : 						if (ResoMode == 1) {

  00421	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00428	75 5e		 jne	 SHORT $LN30@PutText

; 3475 : 							TextOut(hDc, FontBuffer[i].x >> 1, FontBuffer[i].y >> 1, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  0042a	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  00431	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  00436	50		 push	 eax
  00437	e8 00 00 00 00	 call	 _strlen
  0043c	83 c4 04	 add	 esp, 4
  0043f	8b f4		 mov	 esi, esp
  00441	50		 push	 eax
  00442	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00449	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  0044f	51		 push	 ecx
  00450	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  00457	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  0045e	d1 f8		 sar	 eax, 1
  00460	50		 push	 eax
  00461	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00468	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[ecx]
  0046f	d1 fa		 sar	 edx, 1
  00471	52		 push	 edx
  00472	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  00475	50		 push	 eax
  00476	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  0047c	3b f4		 cmp	 esi, esp
  0047e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3476 : 						}
; 3477 : 						else {

  00483	e9 e2 01 00 00	 jmp	 $LN27@PutText
$LN30@PutText:

; 3478 : #ifdef _FONT_SIZE
; 3479 : 							static HFONT newFont = NULL;
; 3480 : 							static HFONT oldFont = NULL;
; 3481 : 							if (newFont != NULL) {

  00488	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A, 0
  0048f	74 15		 je	 SHORT $LN32@PutText

; 3482 : 								DeleteObject(newFont);

  00491	8b f4		 mov	 esi, esp
  00493	a1 00 00 00 00	 mov	 eax, DWORD PTR ?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A
  00498	50		 push	 eax
  00499	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
  0049f	3b f4		 cmp	 esi, esp
  004a1	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN32@PutText:

; 3483 : 								//SelectObject( hDc, oldFont );
; 3484 : 							}
; 3485 : 							if (FontBuffer[i].size <= 0)

  004a6	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  004ad	83 b8 0c 01 00
	00 00		 cmp	 DWORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+268], 0
  004b4	7f 1b		 jg	 SHORT $LN33@PutText

; 3486 : 								SelectObject(hDc, hFont);

  004b6	8b f4		 mov	 esi, esp
  004b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hFont@@3PAUHFONT__@@A ; hFont
  004bd	50		 push	 eax
  004be	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  004c1	51		 push	 ecx
  004c2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  004c8	3b f4		 cmp	 esi, esp
  004ca	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3487 : 							else {

  004cf	eb 42		 jmp	 SHORT $LN34@PutText
$LN33@PutText:

; 3488 : 								newFont = CreateNewFont(FontBuffer[i].size);

  004d1	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  004d8	8b 88 0c 01 00
	00		 mov	 ecx, DWORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+268]
  004de	51		 push	 ecx
  004df	e8 00 00 00 00	 call	 ?CreateNewFont@@YAPAUHFONT__@@H@Z ; CreateNewFont
  004e4	83 c4 04	 add	 esp, 4
  004e7	a3 00 00 00 00	 mov	 DWORD PTR ?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A, eax

; 3489 : 								if (newFont != NULL)

  004ec	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A, 0
  004f3	74 1e		 je	 SHORT $LN34@PutText

; 3490 : 									oldFont = (HFONT)SelectObject(hDc, newFont);

  004f5	8b f4		 mov	 esi, esp
  004f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A
  004fc	50		 push	 eax
  004fd	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  00500	51		 push	 ecx
  00501	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  00507	3b f4		 cmp	 esi, esp
  00509	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0050e	a3 00 00 00 00	 mov	 DWORD PTR ?oldFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A, eax
$LN34@PutText:

; 3491 : 							}
; 3492 : #endif
; 3493 : 
; 3494 : #ifndef _CHANNEL_MODIFY
; 3495 : 							TextOut(hDc, FontBuffer[i].x, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3496 : #ifdef _READ16BITBMP
; 3497 : 							if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3498 : #endif
; 3499 : #else
; 3500 : 							if (FontBuffer[i].fontPrio != FONT_PRIO_CHATBUFFER) {

  00513	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  0051a	0f b6 88 05 01
	00 00		 movzx	 ecx, BYTE PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[eax+261]
  00521	83 f9 03	 cmp	 ecx, 3
  00524	74 5a		 je	 SHORT $LN36@PutText

; 3501 : #ifdef _FONT_PARAGRAPH_COLOR
; 3502 : 								char *s = FontBuffer[i].str;
; 3503 : 								int x = 0;
; 3504 : 								int len = 0;
; 3505 : 								while (char *ss = strstr(s, "/")) {
; 3506 : 									ss++;
; 3507 : 									len = ss - s - 1;
; 3508 : 									if (ss[0] < 'a' || ss[0] > 'z') {
; 3509 : 										len++;
; 3510 : 									}
; 3511 : 									TextOut(hDc, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, len);
; 3512 : #ifdef _READ16BITBMP
; 3513 : 									if (g_bUseAlpha) {
; 3514 : 										TextOut(hDcSys, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, len);
; 3515 : 									}
; 3516 : #endif
; 3517 : 
; 3518 : 									if (ss[0] >= 'a' && ss[0] <= 'z') {
; 3519 : 										SetTextColor(hDc, FontPal[ss[0] - 'a']);
; 3520 : 										ss++;
; 3521 : 									}
; 3522 : 
; 3523 : 									s = ss;
; 3524 : 									x += len;
; 3525 : 								}
; 3526 : 								TextOut(hDc, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, strlen(s));
; 3527 : #ifdef _READ16BITBMP
; 3528 : 								if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, strlen(s));
; 3529 : #endif
; 3530 : 								SetTextColor(hDc, FontPal[color]);
; 3531 : #else
; 3532 : 								TextOut(hDc, FontBuffer[i].x, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  00526	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  0052d	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  00532	50		 push	 eax
  00533	e8 00 00 00 00	 call	 _strlen
  00538	83 c4 04	 add	 esp, 4
  0053b	8b f4		 mov	 esi, esp
  0053d	50		 push	 eax
  0053e	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00545	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  0054b	51		 push	 ecx
  0054c	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  00553	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  0055a	50		 push	 eax
  0055b	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00562	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[ecx]
  00569	52		 push	 edx
  0056a	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  0056d	50		 push	 eax
  0056e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  00574	3b f4		 cmp	 esi, esp
  00576	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3533 : #ifdef _READ16BITBMP
; 3534 : 								if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3535 : #endif
; 3536 : #endif
; 3537 : 							}
; 3538 : 							else {

  0057b	e9 b3 00 00 00	 jmp	 $LN37@PutText
$LN36@PutText:

; 3539 : #ifdef _TALK_WINDOW
; 3540 : 								if (g_bTalkWindow) break;
; 3541 : #endif
; 3542 : 
; 3543 : #ifdef _FONT_PARAGRAPH_COLOR
; 3544 : 								char *s = FontBuffer[i].str;
; 3545 : 								int x = 0;
; 3546 : 								int len = 0;
; 3547 : 								while (char *ss = strstr(s, "/")) {
; 3548 : 									ss++;
; 3549 : 									len = ss - s - 1;
; 3550 : 
; 3551 : 									if (ss[0] < 'a' || ss[0] > 'z') {
; 3552 : 										len--;
; 3553 : 									}
; 3554 : 									if (false) {
; 3555 : 										TextOut(hDc, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, len + 2);
; 3556 : #ifdef _READ16BITBMP
; 3557 : 										if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, len + 2);
; 3558 : #endif
; 3559 : 									}
; 3560 : 									else {
; 3561 : 										TextOut(hDc, FontBuffer[i].x + 22 + x * 7, FontBuffer[i].y, s, len + 2);
; 3562 : #ifdef _READ16BITBMP
; 3563 : 										if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 22 + x * 7, FontBuffer[i].y, s, len + 2);
; 3564 : #endif
; 3565 : 									}
; 3566 : 
; 3567 : 									if (ss[0] >= 'a' && ss[0] <= 'z') {
; 3568 : 										SetTextColor(hDc, FontPal[ss[0] - 'a']);
; 3569 : 										ss++;
; 3570 : 									}
; 3571 : 
; 3572 : 									s = ss;
; 3573 : 									x += len + 2;
; 3574 : 								}
; 3575 : 
; 3576 : 								if (false) {
; 3577 : 									TextOut(hDc, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, strlen(s));
; 3578 : #ifdef _READ16BITBMP
; 3579 : 									if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + x * 7, FontBuffer[i].y, s, strlen(s));
; 3580 : #endif
; 3581 : 								}
; 3582 : 								else {
; 3583 : 									TextOut(hDc, FontBuffer[i].x + 22 + x * 7, FontBuffer[i].y, s, strlen(s));
; 3584 : #ifdef _READ16BITBMP
; 3585 : 									if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 22 + x * 7, FontBuffer[i].y, s, strlen(s));
; 3586 : #endif
; 3587 : 								}
; 3588 : 								SetTextColor(hDc, FontPal[color]);
; 3589 : #else
; 3590 : 
; 3591 : 								if (false) {

  00580	33 c0		 xor	 eax, eax
  00582	74 57		 je	 SHORT $LN38@PutText

; 3592 : 									TextOut(hDc, FontBuffer[i].x, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  00584	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  0058b	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  00590	50		 push	 eax
  00591	e8 00 00 00 00	 call	 _strlen
  00596	83 c4 04	 add	 esp, 4
  00599	8b f4		 mov	 esi, esp
  0059b	50		 push	 eax
  0059c	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  005a3	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  005a9	51		 push	 ecx
  005aa	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  005b1	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  005b8	50		 push	 eax
  005b9	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  005c0	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[ecx]
  005c7	52		 push	 edx
  005c8	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  005cb	50		 push	 eax
  005cc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  005d2	3b f4		 cmp	 esi, esp
  005d4	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3593 : #ifdef _READ16BITBMP
; 3594 : 									if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3595 : #endif
; 3596 : 								}
; 3597 : 								else {

  005d9	eb 58		 jmp	 SHORT $LN37@PutText
$LN38@PutText:

; 3598 : 									TextOut(hDc, FontBuffer[i].x + 22, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));

  005db	69 45 dc 10 01
	00 00		 imul	 eax, DWORD PTR _i$5[ebp], 272
  005e2	05 05 00 00 00	 add	 eax, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  005e7	50		 push	 eax
  005e8	e8 00 00 00 00	 call	 _strlen
  005ed	83 c4 04	 add	 esp, 4
  005f0	8b f4		 mov	 esi, esp
  005f2	50		 push	 eax
  005f3	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  005fa	81 c1 05 00 00
	00		 add	 ecx, OFFSET ?FontBuffer@@3PAUFONT_BUFFER@@A+5
  00600	51		 push	 ecx
  00601	69 55 dc 10 01
	00 00		 imul	 edx, DWORD PTR _i$5[ebp], 272
  00608	0f bf 82 02 00
	00 00		 movsx	 eax, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[edx+2]
  0060f	50		 push	 eax
  00610	69 4d dc 10 01
	00 00		 imul	 ecx, DWORD PTR _i$5[ebp], 272
  00617	0f bf 91 00 00
	00 00		 movsx	 edx, WORD PTR ?FontBuffer@@3PAUFONT_BUFFER@@A[ecx]
  0061e	83 c2 16	 add	 edx, 22			; 00000016H
  00621	52		 push	 edx
  00622	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  00625	50		 push	 eax
  00626	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TextOutA@20
  0062c	3b f4		 cmp	 esi, esp
  0062e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN37@PutText:

; 3599 : #ifdef _READ16BITBMP
; 3600 : 									if (g_bUseAlpha) TextOut(hDcSys, FontBuffer[i].x + 22, FontBuffer[i].y, FontBuffer[i].str, (int)strlen(FontBuffer[i].str));
; 3601 : #endif
; 3602 : 								}
; 3603 : #endif
; 3604 : #ifndef LABEL_STR_
; 3605 : 								TextOut(hDc, 1, 432 + DISPLACEMENT_Y, g_szChannelTitle[TalkMode], (int)strlen(g_szChannelTitle[TalkMode]));
; 3606 : #ifdef _READ16BITBMP
; 3607 : 								if (g_bUseAlpha) TextOut(hDcSys, 2, 432 + DISPLACEMENT_Y, g_szChannelTitle[TalkMode], (int)strlen(g_szChannelTitle[TalkMode]));
; 3608 : #endif
; 3609 : #endif
; 3610 : 							}
; 3611 : #endif
; 3612 : #ifdef _FONT_SIZE
; 3613 : 							if (newFont != NULL) {

  00633	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A, 0
  0063a	74 2e		 je	 SHORT $LN27@PutText

; 3614 : 								DeleteObject(newFont);

  0063c	8b f4		 mov	 esi, esp
  0063e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?newFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A
  00643	50		 push	 eax
  00644	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
  0064a	3b f4		 cmp	 esi, esp
  0064c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3615 : 								SelectObject(hDc, oldFont);

  00651	8b f4		 mov	 esi, esp
  00653	a1 00 00 00 00	 mov	 eax, DWORD PTR ?oldFont@?DL@??PutText@@YAXD@Z@4PAUHFONT__@@A
  00658	50		 push	 eax
  00659	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  0065c	51		 push	 ecx
  0065d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  00663	3b f4		 cmp	 esi, esp
  00665	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN27@PutText:

; 3616 : 							}
; 3617 : #endif
; 3618 : 						}
; 3619 : 					}
; 3620 : 				}
; 3621 : 			}

  0066a	e9 3e fd ff ff	 jmp	 $LN8@PutText
$LN9@PutText:

; 3622 : 			colorFlag = FALSE;

  0066f	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _colorFlag$4[ebp], 0

; 3623 : 		}

  00676	e9 16 fd ff ff	 jmp	 $LN5@PutText
$LN6@PutText:

; 3624 : 		SelectObject(hDc, hOldFont);

  0067b	8b f4		 mov	 esi, esp
  0067d	8b 45 b8	 mov	 eax, DWORD PTR _hOldFont$2[ebp]
  00680	50		 push	 eax
  00681	8b 4d e8	 mov	 ecx, DWORD PTR _hDc$6[ebp]
  00684	51		 push	 ecx
  00685	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  0068b	3b f4		 cmp	 esi, esp
  0068d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3625 : 		lpDraw->lpBACKBUFFER->ReleaseDC(hDc);

  00692	8b f4		 mov	 esi, esp
  00694	8b 45 e8	 mov	 eax, DWORD PTR _hDc$6[ebp]
  00697	50		 push	 eax
  00698	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0069e	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  006a1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006a6	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  006a9	8b 12		 mov	 edx, DWORD PTR [edx]
  006ab	51		 push	 ecx
  006ac	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  006af	ff d0		 call	 eax
  006b1	3b f4		 cmp	 esi, esp
  006b3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3626 : #ifdef _READ16BITBMP
; 3627 : 		if (g_bUseAlpha) {
; 3628 : 			SelectObject(hDcSys, hOldFont);
; 3629 : 			lpDraw->lpBACKBUFFERSYS->ReleaseDC(hDcSys);
; 3630 : 		}
; 3631 : #endif
; 3632 : 	}

  006b8	eb 06		 jmp	 SHORT $LN42@PutText
__catch$?PutText@@YAXD@Z$0:

; 3633 : 	catch (...)
; 3634 : 	{
; 3635 : 
; 3636 : 	}

  006ba	b8 00 00 00 00	 mov	 eax, $LN45@PutText
  006bf	c3		 ret	 0
$LN42@PutText:
  006c0	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  006c7	eb 07		 jmp	 SHORT $LN1@PutText
$LN45@PutText:
  006c9	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@PutText:

; 3637 : 
; 3638 : 
; 3639 : }

  006d0	52		 push	 edx
  006d1	8b cd		 mov	 ecx, ebp
  006d3	50		 push	 eax
  006d4	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN49@PutText
  006da	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  006df	58		 pop	 eax
  006e0	5a		 pop	 edx
  006e1	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  006e4	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  006eb	59		 pop	 ecx
  006ec	5f		 pop	 edi
  006ed	5e		 pop	 esi
  006ee	5b		 pop	 ebx
  006ef	81 c4 0c 01 00
	00		 add	 esp, 268		; 0000010cH
  006f5	3b ec		 cmp	 ebp, esp
  006f7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006fc	8b e5		 mov	 esp, ebp
  006fe	5d		 pop	 ebp
  006ff	c3		 ret	 0
$LN49@PutText:
  00700	01 00 00 00	 DD	 1
  00704	00 00 00 00	 DD	 $LN48@PutText
$LN48@PutText:
  00708	e8 ff ff ff	 DD	 -24			; ffffffe8H
  0070c	04 00 00 00	 DD	 4
  00710	00 00 00 00	 DD	 $LN46@PutText
$LN46@PutText:
  00714	68		 DB	 104			; 00000068H
  00715	44		 DB	 68			; 00000044H
  00716	63		 DB	 99			; 00000063H
  00717	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?PutText@@YAXD@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a f0 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-272]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?PutText@@YAXD@Z
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?PutText@@YAXD@Z ENDP					; PutText
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?InitFont@@YAXH@Z
_TEXT	SEGMENT
_strfame$1 = -528					; size = 128
_fontName$ = -392					; size = 384
__$ArrayPad$ = -4					; size = 4
_fontNo$ = 8						; size = 4
?InitFont@@YAXH@Z PROC					; InitFont, COMDAT

; 3155 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 94 03 00
	00		 sub	 esp, 916		; 00000394H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 6c fc ff
	ff		 lea	 edi, DWORD PTR [ebp-916]
  00012	b9 e5 00 00 00	 mov	 ecx, 229		; 000000e5H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 3156 : 	//å®ä½
; 3157 : 	//char *fontName[] = { "Microsoft JhengHei","æ¥·ä½_GB2312" };
; 3158 : #ifdef _NEWFONT_
; 3159 : 	extern int ç¼ç ;
; 3160 : 	char fontName[2][128];
; 3161 : 	if (ç¼ç  == 950) {
; 3162 : 		sprintf(fontName[0], "Microsoft JhengHei");
; 3163 : 		sprintf(fontName[1], "Microsoft JhengHei");
; 3164 : 	}else {
; 3165 : 		sprintf(fontName[0], "Microsoft JhengHei");
; 3166 : 		sprintf(fontName[1], "Microsoft JhengHei");
; 3167 : 	}
; 3168 : #else
; 3169 : 	extern int ç¼ç ;
; 3170 : 	char fontName[3][128];
; 3171 : 	if (ç¼ç  == 950) {

  00028	81 3d 00 00 00
	00 b6 03 00 00	 cmp	 DWORD PTR ?±àÂë@@3HA, 950 ; ±àÂë, 000003b6H
  00032	75 3c		 jne	 SHORT $LN2@InitFont

; 3172 : 		sprintf(fontName[0], "Microsoft JhengHei");

  00034	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@HLAEMJFN@Microsoft?5JhengHei?$AA@
  00039	b8 80 00 00 00	 mov	 eax, 128		; 00000080H
  0003e	6b c8 00	 imul	 ecx, eax, 0
  00041	8d 94 0d 78 fe
	ff ff		 lea	 edx, DWORD PTR _fontName$[ebp+ecx]
  00048	52		 push	 edx
  00049	e8 00 00 00 00	 call	 _sprintf
  0004e	83 c4 08	 add	 esp, 8

; 3173 : 		sprintf(fontName[1], "Microsoft JhengHei");

  00051	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@HLAEMJFN@Microsoft?5JhengHei?$AA@
  00056	b8 80 00 00 00	 mov	 eax, 128		; 00000080H
  0005b	c1 e0 00	 shl	 eax, 0
  0005e	8d 8c 05 78 fe
	ff ff		 lea	 ecx, DWORD PTR _fontName$[ebp+eax]
  00065	51		 push	 ecx
  00066	e8 00 00 00 00	 call	 _sprintf
  0006b	83 c4 08	 add	 esp, 8

; 3174 : 	}else {

  0006e	eb 56		 jmp	 SHORT $LN3@InitFont
$LN2@InitFont:

; 3175 : 		sprintf(fontName[0], "å®ä½");

  00070	68 00 00 00 00	 push	 OFFSET ??_C@_03EGENFEPO@?a?d?$DP?$AA@
  00075	b8 80 00 00 00	 mov	 eax, 128		; 00000080H
  0007a	6b c8 00	 imul	 ecx, eax, 0
  0007d	8d 94 0d 78 fe
	ff ff		 lea	 edx, DWORD PTR _fontName$[ebp+ecx]
  00084	52		 push	 edx
  00085	e8 00 00 00 00	 call	 _sprintf
  0008a	83 c4 08	 add	 esp, 8

; 3176 : 		sprintf(fontName[1], "æ¥·ä½_GB2312");

  0008d	68 00 00 00 00	 push	 OFFSET ??_C@_0L@DGEPCCC@?z?$KM?$DP_GB2312?$AA@
  00092	b8 80 00 00 00	 mov	 eax, 128		; 00000080H
  00097	c1 e0 00	 shl	 eax, 0
  0009a	8d 8c 05 78 fe
	ff ff		 lea	 ecx, DWORD PTR _fontName$[ebp+eax]
  000a1	51		 push	 ecx
  000a2	e8 00 00 00 00	 call	 _sprintf
  000a7	83 c4 08	 add	 esp, 8

; 3177 : 		sprintf(fontName[2], "å¾®è½¯éé»");

  000aa	68 00 00 00 00	 push	 OFFSET ??_C@_07JKCEOBKO@?Z?$LA?$DP?d?$LK?$PN?Y?$AA@
  000af	b8 80 00 00 00	 mov	 eax, 128		; 00000080H
  000b4	d1 e0		 shl	 eax, 1
  000b6	8d 8c 05 78 fe
	ff ff		 lea	 ecx, DWORD PTR _fontName$[ebp+eax]
  000bd	51		 push	 ecx
  000be	e8 00 00 00 00	 call	 _sprintf
  000c3	83 c4 08	 add	 esp, 8
$LN3@InitFont:

; 3178 : 	//	sprintf(fontName[2], "ååº·åä½W7(P)");
; 3179 : 	}
; 3180 : 
; 3181 : 	//char *fontName[] = { "å®ä½", "æ¥·ä½_GB2312" };
; 3182 : #endif
; 3183 : 	// ?????????
; 3184 : 	if (hFont != NULL) {

  000c6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?hFont@@3PAUHFONT__@@A, 0 ; hFont
  000cd	74 15		 je	 SHORT $LN4@InitFont

; 3185 : 		// ????????????î
; 3186 : 		DeleteObject(hFont);

  000cf	8b f4		 mov	 esi, esp
  000d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hFont@@3PAUHFONT__@@A ; hFont
  000d6	50		 push	 eax
  000d7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
  000dd	3b f4		 cmp	 esi, esp
  000df	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN4@InitFont:

; 3187 : 	}
; 3188 : 
; 3189 : 	//???????????????
; 3190 : 	if (ResoMode == 1) {

  000e4	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  000eb	75 3e		 jne	 SHORT $LN5@InitFont

; 3191 : 		// MS??????îî????????????????î
; 3192 : 
; 3193 : 		hFont = CreateFont(

  000ed	8b f4		 mov	 esi, esp
  000ef	68 00 00 00 00	 push	 OFFSET ??_C@_04FOGALLPG@?$LB?$LM?$LI?$LC?$AA@
  000f4	6a 11		 push	 17			; 00000011H
  000f6	6a 00		 push	 0
  000f8	6a 00		 push	 0
  000fa	6a 00		 push	 0
  000fc	68 81 00 00 00	 push	 129			; 00000081H
  00101	6a 00		 push	 0
  00103	6a 00		 push	 0
  00105	6a 00		 push	 0
  00107	68 90 01 00 00	 push	 400			; 00000190H
  0010c	6a 00		 push	 0
  0010e	6a 00		 push	 0
  00110	6a 00		 push	 0
  00112	6a 12		 push	 18			; 00000012H
  00114	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFontA@56
  0011a	3b f4		 cmp	 esi, esp
  0011c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00121	a3 00 00 00 00	 mov	 DWORD PTR ?hFont@@3PAUHFONT__@@A, eax ; hFont

; 3194 : #ifdef _NEWFONT_
; 3195 : 			FONT_SIZE1, 	/* ????????	*/
; 3196 : #else
; 3197 : 			18,
; 3198 : 	//		FONT_SIZE1,
; 3199 : #endif
; 3200 : 			0, 		/* ????????	*/
; 3201 : 			0, 		/* ???????î	*/
; 3202 : 			0,		/* ??? ????xî¡??î	*/
; 3203 : 					/* ???????	*/
; 3204 : 			FW_NORMAL,		// 0 
; 3205 : 							/* ?????îî´î????	*/
; 3206 : 			FALSE,
; 3207 : 			/* ??î?î´î????	*/
; 3208 : 			FALSE,
; 3209 : 			/* î?î??î?î´î????	*/
; 3210 : 			FALSE,
; 3211 : 			/* ?????îîî	*/
; 3212 : 			HANGUL_CHARSET/*CHINESEBIG5_CHARSET*/, 	// ?î­??? GB2312_CHARSET
; 3213 : 													/* î?î¡î	*/
; 3214 : 			OUT_DEFAULT_PRECIS,
; 3215 : 			/* ??????î¡î	*/
; 3216 : 			CLIP_DEFAULT_PRECIS,
; 3217 : 			/* î?îî®	*/
; 3218 : 			DEFAULT_QUALITY,	// ????????î????????
; 3219 : 								/* ??? */
; 3220 : 			FIXED_PITCH |
; 3221 : 			/* ????	*/
; 3222 : 			FF_ROMAN,			// ??î?????????????î????????MS(R) Serif????????
; 3223 : 			TEXT("êµ´ë¦¼"));
; 3224 : 	}
; 3225 : 	else {

  00126	e9 94 00 00 00	 jmp	 $LN1@InitFont
$LN5@InitFont:

; 3226 : #ifdef _NEWFONT_
; 3227 : 		char strfame[128];
; 3228 : 		if (ç¼ç  == 950) {
; 3229 : 			sprintf(strfame, "Microsoft JhengHei");
; 3230 : 		}else {
; 3231 : 			sprintf(strfame, "Microsoft JhengHei");
; 3232 : 		}
; 3233 : 		hFont = CreateFont(FONT_SIZE1, 0, 0, 0, FW_NORMAL, FALSE, FALSE, FALSE, 1,
; 3234 : 			0, 0, 0, 17, (LPCTSTR)strfame
; 3235 : 		);
; 3236 : #else
; 3237 : 
; 3238 : 		char strfame[128];
; 3239 : 		if (ç¼ç  == 950) {

  0012b	81 3d 00 00 00
	00 b6 03 00 00	 cmp	 DWORD PTR ?±àÂë@@3HA, 950 ; ±àÂë, 000003b6H
  00135	75 4f		 jne	 SHORT $LN7@InitFont

; 3240 : 			sprintf(strfame, "Microsoft JhengHei"); // 2ì°¨ ë¹ë°ë²í¸

  00137	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@HLAEMJFN@Microsoft?5JhengHei?$AA@
  0013c	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strfame$1[ebp]
  00142	50		 push	 eax
  00143	e8 00 00 00 00	 call	 _sprintf
  00148	83 c4 08	 add	 esp, 8

; 3241 : 			hFont = CreateFont(FONT_SIZE2, 0, 0, 0, FW_NORMAL, HANGUL_CHARSET, FALSE, FALSE, 1,

  0014b	8b f4		 mov	 esi, esp
  0014d	68 00 00 00 00	 push	 OFFSET ??_C@_04FOGALLPG@?$LB?$LM?$LI?$LC?$AA@
  00152	6a 11		 push	 17			; 00000011H
  00154	6a 00		 push	 0
  00156	6a 00		 push	 0
  00158	6a 00		 push	 0
  0015a	6a 01		 push	 1
  0015c	6a 00		 push	 0
  0015e	6a 00		 push	 0
  00160	68 81 00 00 00	 push	 129			; 00000081H
  00165	68 90 01 00 00	 push	 400			; 00000190H
  0016a	6a 00		 push	 0
  0016c	6a 00		 push	 0
  0016e	6a 00		 push	 0
  00170	6a 13		 push	 19			; 00000013H
  00172	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFontA@56
  00178	3b f4		 cmp	 esi, esp
  0017a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0017f	a3 00 00 00 00	 mov	 DWORD PTR ?hFont@@3PAUHFONT__@@A, eax ; hFont

; 3242 : 				0, 0, 0, 17, TEXT("êµ´ë¦¼")
; 3243 : 			);
; 3244 : 		}else {

  00184	eb 39		 jmp	 SHORT $LN1@InitFont
$LN7@InitFont:

; 3245 : #ifdef å è½½æ°å­ä½
; 3246 : 			HFONT JL_FONT();
; 3247 : 			hFont = JL_FONT();
; 3248 : #else
; 3249 : 			hFont = CreateFont( //ë©ì¸

  00186	8b f4		 mov	 esi, esp
  00188	68 00 00 00 00	 push	 OFFSET ??_C@_04FOGALLPG@?$LB?$LM?$LI?$LC?$AA@
  0018d	6a 11		 push	 17			; 00000011H
  0018f	6a 00		 push	 0
  00191	6a 00		 push	 0
  00193	6a 00		 push	 0
  00195	68 81 00 00 00	 push	 129			; 00000081H
  0019a	6a 00		 push	 0
  0019c	6a 00		 push	 0
  0019e	6a 00		 push	 0
  001a0	68 90 01 00 00	 push	 400			; 00000190H
  001a5	6a 00		 push	 0
  001a7	6a 00		 push	 0
  001a9	6a 00		 push	 0
  001ab	6a 0e		 push	 14			; 0000000eH
  001ad	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFontA@56
  001b3	3b f4		 cmp	 esi, esp
  001b5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ba	a3 00 00 00 00	 mov	 DWORD PTR ?hFont@@3PAUHFONT__@@A, eax ; hFont
$LN1@InitFont:

; 3250 : 				FONT_SIZE1,
; 3251 : 				0,
; 3252 : 				0,
; 3253 : 				0,
; 3254 : 				FW_NORMAL,
; 3255 : 				FALSE,
; 3256 : 				FALSE,
; 3257 : 				FALSE,
; 3258 : 				HANGUL_CHARSET,
; 3259 : 				OUT_DEFAULT_PRECIS,
; 3260 : 				CLIP_DEFAULT_PRECIS,
; 3261 : 				DEFAULT_QUALITY,
; 3262 : 				FIXED_PITCH |
; 3263 : 				FF_ROMAN,
; 3264 : 				TEXT("êµ´ë¦¼"));
; 3265 : #endif
; 3266 : 
; 3267 : 			
; 3268 : 
; 3269 : 
; 3270 : 		}
; 3271 : #endif
; 3272 : 	}
; 3273 : }

  001bf	52		 push	 edx
  001c0	8b cd		 mov	 ecx, ebp
  001c2	50		 push	 eax
  001c3	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN13@InitFont
  001c9	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001ce	58		 pop	 eax
  001cf	5a		 pop	 edx
  001d0	5f		 pop	 edi
  001d1	5e		 pop	 esi
  001d2	5b		 pop	 ebx
  001d3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001d6	33 cd		 xor	 ecx, ebp
  001d8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001dd	81 c4 94 03 00
	00		 add	 esp, 916		; 00000394H
  001e3	3b ec		 cmp	 ebp, esp
  001e5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ea	8b e5		 mov	 esp, ebp
  001ec	5d		 pop	 ebp
  001ed	c3		 ret	 0
  001ee	66 90		 npad	 2
$LN13@InitFont:
  001f0	02 00 00 00	 DD	 2
  001f4	00 00 00 00	 DD	 $LN12@InitFont
$LN12@InitFont:
  001f8	78 fe ff ff	 DD	 -392			; fffffe78H
  001fc	80 01 00 00	 DD	 384			; 00000180H
  00200	00 00 00 00	 DD	 $LN10@InitFont
  00204	f0 fd ff ff	 DD	 -528			; fffffdf0H
  00208	80 00 00 00	 DD	 128			; 00000080H
  0020c	00 00 00 00	 DD	 $LN11@InitFont
$LN11@InitFont:
  00210	73		 DB	 115			; 00000073H
  00211	74		 DB	 116			; 00000074H
  00212	72		 DB	 114			; 00000072H
  00213	66		 DB	 102			; 00000066H
  00214	61		 DB	 97			; 00000061H
  00215	6d		 DB	 109			; 0000006dH
  00216	65		 DB	 101			; 00000065H
  00217	00		 DB	 0
$LN10@InitFont:
  00218	66		 DB	 102			; 00000066H
  00219	6f		 DB	 111			; 0000006fH
  0021a	6e		 DB	 110			; 0000006eH
  0021b	74		 DB	 116			; 00000074H
  0021c	4e		 DB	 78			; 0000004eH
  0021d	61		 DB	 97			; 00000061H
  0021e	6d		 DB	 109			; 0000006dH
  0021f	65		 DB	 101			; 00000065H
  00220	00		 DB	 0
?InitFont@@YAXH@Z ENDP					; InitFont
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawBox@@YAXPAUtagRECT@@EH@Z
_TEXT	SEGMENT
$T2 = -501						; size = 1
$T3 = -489						; size = 1
_pixel$4 = -288						; size = 4
_pixel$5 = -276						; size = 4
_pixel$6 = -264						; size = 4
_pixel$7 = -252						; size = 2
_h$8 = -240						; size = 4
_w$9 = -228						; size = 4
_bottom$10 = -216					; size = 4
_j$11 = -204						; size = 4
_i$12 = -192						; size = 4
_surfacePitch$13 = -180					; size = 4
_pDest2$14 = -168					; size = 4
_pDest$15 = -156					; size = 4
_pDest32$16 = -144					; size = 4
_ddsd$17 = -132						; size = 108
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_rect$ = 8						; size = 4
_color$ = 12						; size = 1
_fill$ = 16						; size = 4
?DrawBox@@YAXPAUtagRECT@@EH@Z PROC			; DrawBox, COMDAT

; 1610 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawBox@@YAXPAUtagRECT@@EH@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec ec 01 00
	00		 sub	 esp, 492		; 000001ecH
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 04 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-508]
  00021	b9 7b 00 00 00	 mov	 ecx, 123		; 0000007bH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00037	50		 push	 eax
  00038	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  0003b	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00041	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 1611 : 
; 1612 : 	try

  00044	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0
  0004b	c6 85 0b fe ff
	ff 00		 mov	 BYTE PTR $T2[ebp], 0
  00052	c6 85 17 fe ff
	ff 00		 mov	 BYTE PTR $T3[ebp], 0

; 1613 : 	{
; 1614 : 		DDSURFACEDESC ddsd;	// ??????î¨î
; 1615 : #ifdef _READ16BITBMP
; 1616 : 		DDSURFACEDESC ddsdsys;
; 1617 : 		int surfacePitchsys, bottomSys;
; 1618 : 		surfacePitchsys = bottomSys = 0;
; 1619 : 		short *pDestSys;
; 1620 : #endif
; 1621 : #ifdef _HI_COLOR_32
; 1622 : 		int *pDest32;
; 1623 : #ifdef _READ16BITBMP
; 1624 : 		int *pDestSys32;
; 1625 : #endif
; 1626 : #endif
; 1627 : 		char *pDest;		// î¿?î?????
; 1628 : 		short *pDest2;		// î¿?î???????????
; 1629 : 		int surfacePitch;	// ??????????
; 1630 : 		int i, j;			// ???????
; 1631 : 		int bottom;			// ??????????
; 1632 : 		int w;				// ??
; 1633 : 		int h;				// î?
; 1634 : 		short pixel;		// 16BitColor????îºî«
; 1635 : 
; 1636 : 							//???????????????
; 1637 : 		if (ResoMode == 1) {

  00059	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00060	75 42		 jne	 SHORT $LN54@DrawBox

; 1638 : 			rect->top = (rect->top >> 1) - 1;

  00062	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00065	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00068	d1 f9		 sar	 ecx, 1
  0006a	83 e9 01	 sub	 ecx, 1
  0006d	8b 55 08	 mov	 edx, DWORD PTR _rect$[ebp]
  00070	89 4a 04	 mov	 DWORD PTR [edx+4], ecx

; 1639 : 			rect->left = (rect->left >> 1) - 1;

  00073	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00076	8b 08		 mov	 ecx, DWORD PTR [eax]
  00078	d1 f9		 sar	 ecx, 1
  0007a	83 e9 01	 sub	 ecx, 1
  0007d	8b 55 08	 mov	 edx, DWORD PTR _rect$[ebp]
  00080	89 0a		 mov	 DWORD PTR [edx], ecx

; 1640 : 			rect->right = (rect->right >> 1) + 1;

  00082	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00085	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00088	d1 f9		 sar	 ecx, 1
  0008a	83 c1 01	 add	 ecx, 1
  0008d	8b 55 08	 mov	 edx, DWORD PTR _rect$[ebp]
  00090	89 4a 08	 mov	 DWORD PTR [edx+8], ecx

; 1641 : 			rect->bottom = (rect->bottom >> 1) + 1;

  00093	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00096	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00099	d1 f9		 sar	 ecx, 1
  0009b	83 c1 01	 add	 ecx, 1
  0009e	8b 55 08	 mov	 edx, DWORD PTR _rect$[ebp]
  000a1	89 4a 0c	 mov	 DWORD PTR [edx+12], ecx
$LN54@DrawBox:

; 1642 : 		}
; 1643 : 
; 1644 : 		// ????????
; 1645 : 		if (rect->left < 0) rect->left = 0;

  000a4	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  000a7	83 38 00	 cmp	 DWORD PTR [eax], 0
  000aa	7d 09		 jge	 SHORT $LN55@DrawBox
  000ac	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  000af	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0
$LN55@DrawBox:

; 1646 : 		if (rect->right >= lpDraw->xSize) rect->right = lpDraw->xSize;

  000b5	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  000b8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000be	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000c1	3b 91 84 00 00
	00		 cmp	 edx, DWORD PTR [ecx+132]
  000c7	7c 12		 jl	 SHORT $LN56@DrawBox
  000c9	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  000cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000d2	8b 91 84 00 00
	00		 mov	 edx, DWORD PTR [ecx+132]
  000d8	89 50 08	 mov	 DWORD PTR [eax+8], edx
$LN56@DrawBox:

; 1647 : 		if (rect->top < 0) rect->top = 0;

  000db	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  000de	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  000e2	7d 0a		 jge	 SHORT $LN57@DrawBox
  000e4	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  000e7	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0
$LN57@DrawBox:

; 1648 : 		if (rect->bottom >= lpDraw->ySize) rect->bottom = lpDraw->ySize;

  000ee	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  000f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000f7	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  000fa	3b 91 88 00 00
	00		 cmp	 edx, DWORD PTR [ecx+136]
  00100	7c 12		 jl	 SHORT $LN58@DrawBox
  00102	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00105	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0010b	8b 91 88 00 00
	00		 mov	 edx, DWORD PTR [ecx+136]
  00111	89 50 0c	 mov	 DWORD PTR [eax+12], edx
$LN58@DrawBox:

; 1649 : 
; 1650 : 		w = rect->right - rect->left;

  00114	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00117	8b 4d 08	 mov	 ecx, DWORD PTR _rect$[ebp]
  0011a	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0011d	2b 11		 sub	 edx, DWORD PTR [ecx]
  0011f	89 95 1c ff ff
	ff		 mov	 DWORD PTR _w$9[ebp], edx

; 1651 : 		h = rect->bottom - rect->top;

  00125	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00128	8b 4d 08	 mov	 ecx, DWORD PTR _rect$[ebp]
  0012b	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  0012e	2b 51 04	 sub	 edx, DWORD PTR [ecx+4]
  00131	89 95 10 ff ff
	ff		 mov	 DWORD PTR _h$8[ebp], edx

; 1652 : 
; 1653 : 		if (fill != 2 && (w <= 2 || h <= 2)) return;

  00137	83 7d 10 02	 cmp	 DWORD PTR _fill$[ebp], 2
  0013b	74 17		 je	 SHORT $LN59@DrawBox
  0013d	83 bd 1c ff ff
	ff 02		 cmp	 DWORD PTR _w$9[ebp], 2
  00144	7e 09		 jle	 SHORT $LN60@DrawBox
  00146	83 bd 10 ff ff
	ff 02		 cmp	 DWORD PTR _h$8[ebp], 2
  0014d	7f 05		 jg	 SHORT $LN59@DrawBox
$LN60@DrawBox:
  0014f	e9 6e 10 00 00	 jmp	 $LN1@DrawBox
$LN59@DrawBox:

; 1654 : 		if (fill == 2 && w == 0) return;

  00154	83 7d 10 02	 cmp	 DWORD PTR _fill$[ebp], 2
  00158	75 0d		 jne	 SHORT $LN61@DrawBox
  0015a	83 bd 1c ff ff
	ff 00		 cmp	 DWORD PTR _w$9[ebp], 0
  00161	0f 84 5b 10 00
	00		 je	 $LN1@DrawBox
$LN61@DrawBox:

; 1655 : 
; 1656 : 		// ?î¨î????
; 1657 : 		ZeroMemory(&ddsd, sizeof(DDSURFACEDESC));

  00167	6a 6c		 push	 108			; 0000006cH
  00169	6a 00		 push	 0
  0016b	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$17[ebp]
  00171	50		 push	 eax
  00172	e8 00 00 00 00	 call	 _memset
  00177	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1658 : 		ddsd.dwSize = sizeof(DDSURFACEDESC);

  0017a	c7 85 7c ff ff
	ff 6c 00 00 00	 mov	 DWORD PTR _ddsd$17[ebp], 108 ; 0000006cH

; 1659 : #ifdef _READ16BITBMP
; 1660 : 		if (g_bUseAlpha) {
; 1661 : 			ZeroMemory(&ddsdsys, sizeof(DDSURFACEDESC));
; 1662 : 			ddsdsys.dwSize = sizeof(DDSURFACEDESC);
; 1663 : 		}
; 1664 : #endif
; 1665 : 
; 1666 : 		// ?????????????????( î¯?? ddsd ?îºî«?î¼????? )
; 1667 : 		if (lpDraw->lpBACKBUFFER->Lock(NULL, &ddsd, DDLOCK_WAIT, NULL) != DD_OK) {

  00184	8b f4		 mov	 esi, esp
  00186	6a 00		 push	 0
  00188	6a 01		 push	 1
  0018a	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$17[ebp]
  00190	50		 push	 eax
  00191	6a 00		 push	 0
  00193	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00199	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0019c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001a1	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  001a4	8b 12		 mov	 edx, DWORD PTR [edx]
  001a6	51		 push	 ecx
  001a7	8b 42 64	 mov	 eax, DWORD PTR [edx+100]
  001aa	ff d0		 call	 eax
  001ac	3b f4		 cmp	 esi, esp
  001ae	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b3	85 c0		 test	 eax, eax
  001b5	0f 85 07 10 00
	00		 jne	 $LN1@DrawBox

; 1668 : 			//MessageBoxNew( hWnd, "Surfaceçlockå¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP );
; 1669 : 			return;
; 1670 : 		}
; 1671 : #ifdef _READ16BITBMP
; 1672 : 		if (g_bUseAlpha) {
; 1673 : 			if (lpDraw->lpBACKBUFFERSYS->Lock(NULL, &ddsdsys, DDLOCK_WAIT, NULL) != DD_OK) {
; 1674 : 				lpDraw->lpBACKBUFFER->Unlock(NULL);
; 1675 : 				return;
; 1676 : 			}
; 1677 : 			surfacePitchsys = ddsdsys.lPitch;
; 1678 : 		}
; 1679 : #endif
; 1680 : 
; 1681 : 		// ??????????
; 1682 : 		surfacePitch = ddsd.lPitch;

  001bb	8b 45 8c	 mov	 eax, DWORD PTR _ddsd$17[ebp+16]
  001be	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$13[ebp], eax

; 1683 : 		// î?î¿????????????
; 1684 : #ifdef _HI_COLOR_32
; 1685 : 		if (displayBpp == 32) {

  001c4	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  001cb	75 32		 jne	 SHORT $LN63@DrawBox

; 1686 : 			// 32 Bit Color
; 1687 : 			surfacePitch = surfacePitch >> 1;

  001cd	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  001d3	d1 f8		 sar	 eax, 1
  001d5	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$13[ebp], eax

; 1688 : 			pDest32 = (int *)ddsd.lpSurface + rect->top * surfacePitch + rect->left + 1;

  001db	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  001de	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001e1	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$13[ebp]
  001e8	8b 55 a0	 mov	 edx, DWORD PTR _ddsd$17[ebp+36]
  001eb	8d 04 8a	 lea	 eax, DWORD PTR [edx+ecx*4]
  001ee	8b 4d 08	 mov	 ecx, DWORD PTR _rect$[ebp]
  001f1	8b 11		 mov	 edx, DWORD PTR [ecx]
  001f3	8d 44 90 04	 lea	 eax, DWORD PTR [eax+edx*4+4]
  001f7	89 85 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], eax

; 1689 : #ifdef _READ16BITBMP
; 1690 : 			if (g_bUseAlpha) {
; 1691 : 				surfacePitchsys = surfacePitchsys >> 2;
; 1692 : 				pDestSys32 = (int *)ddsdsys.lpSurface + rect->top * surfacePitchsys + rect->left + 1;
; 1693 : 			}
; 1694 : #endif
; 1695 : 		}
; 1696 : 		else

  001fd	eb 68		 jmp	 SHORT $LN64@DrawBox
$LN63@DrawBox:

; 1697 : #endif
; 1698 : 			if (displayBpp == 16) {

  001ff	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  00206	75 39		 jne	 SHORT $LN65@DrawBox

; 1699 : 				// 16 Bit Color
; 1700 : 				surfacePitch = surfacePitch >> 1;

  00208	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  0020e	d1 f8		 sar	 eax, 1
  00210	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$13[ebp], eax

; 1701 : 				pDest2 = (short *)ddsd.lpSurface + rect->top * surfacePitch + rect->left + 1;

  00216	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00219	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0021c	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$13[ebp]
  00223	8b 55 a0	 mov	 edx, DWORD PTR _ddsd$17[ebp+36]
  00226	8d 04 4a	 lea	 eax, DWORD PTR [edx+ecx*2]
  00229	8b 4d 08	 mov	 ecx, DWORD PTR _rect$[ebp]
  0022c	8b 11		 mov	 edx, DWORD PTR [ecx]
  0022e	8d 44 50 02	 lea	 eax, DWORD PTR [eax+edx*2+2]
  00232	c6 85 17 fe ff
	ff 01		 mov	 BYTE PTR $T3[ebp], 1
  00239	89 85 58 ff ff
	ff		 mov	 DWORD PTR _pDest2$14[ebp], eax

; 1702 : #ifdef _READ16BITBMP
; 1703 : 				if (g_bUseAlpha) {
; 1704 : 					surfacePitchsys = surfacePitchsys >> 1;
; 1705 : 					pDestSys = (short*)ddsdsys.lpSurface + rect->top * surfacePitchsys + rect->left + 1;
; 1706 : 				}
; 1707 : #endif
; 1708 : 			}
; 1709 : 			else {

  0023f	eb 26		 jmp	 SHORT $LN64@DrawBox
$LN65@DrawBox:

; 1710 : 				// 8 Bit Color
; 1711 : 				pDest = (char *)(ddsd.lpSurface) + rect->top * surfacePitch + rect->left + 1;

  00241	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00244	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00247	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$13[ebp]
  0024e	03 4d a0	 add	 ecx, DWORD PTR _ddsd$17[ebp+36]
  00251	8b 55 08	 mov	 edx, DWORD PTR _rect$[ebp]
  00254	8b 02		 mov	 eax, DWORD PTR [edx]
  00256	8d 4c 01 01	 lea	 ecx, DWORD PTR [ecx+eax+1]
  0025a	c6 85 0b fe ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  00261	89 8d 64 ff ff
	ff		 mov	 DWORD PTR _pDest$15[ebp], ecx
$LN64@DrawBox:

; 1712 : 			}
; 1713 : 			// ???????
; 1714 : 			if (fill == FALSE) {

  00267	83 7d 10 00	 cmp	 DWORD PTR _fill$[ebp], 0
  0026b	0f 85 e7 08 00
	00		 jne	 $LN67@DrawBox

; 1715 : #ifdef _HI_COLOR_32
; 1716 : 				if (displayBpp == 32) {

  00271	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  00278	0f 85 49 02 00
	00		 jne	 $LN69@DrawBox

; 1717 : 					// 32 Bit Color
; 1718 : 					int pixel;
; 1719 : 					surfacePitch = surfacePitch >> 1;

  0027e	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00284	d1 f8		 sar	 eax, 1
  00286	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$13[ebp], eax

; 1720 : 					pDest32 = (int *)ddsd.lpSurface + rect->top * surfacePitch + rect->left + 1;

  0028c	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  0028f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00292	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$13[ebp]
  00299	8b 55 a0	 mov	 edx, DWORD PTR _ddsd$17[ebp+36]
  0029c	8d 04 8a	 lea	 eax, DWORD PTR [edx+ecx*4]
  0029f	8b 4d 08	 mov	 ecx, DWORD PTR _rect$[ebp]
  002a2	8b 11		 mov	 edx, DWORD PTR [ecx]
  002a4	8d 44 90 04	 lea	 eax, DWORD PTR [eax+edx*4+4]
  002a8	89 85 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], eax

; 1721 : 					// ??????????î±îî±
; 1722 : 					bottom = (h - 1) * surfacePitch;

  002ae	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  002b4	83 e8 01	 sub	 eax, 1
  002b7	0f af 85 4c ff
	ff ff		 imul	 eax, DWORD PTR _surfacePitch$13[ebp]
  002be	89 85 28 ff ff
	ff		 mov	 DWORD PTR _bottom$10[ebp], eax

; 1723 : #ifdef _READ16BITBMP
; 1724 : 					bottomSys = (h - 1) * surfacePitchsys;
; 1725 : #endif
; 1726 : 
; 1727 : 					pixel = highColor32Palette[color];

  002c4	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  002c8	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[eax*4]
  002cf	89 8d f8 fe ff
	ff		 mov	 DWORD PTR _pixel$6[ebp], ecx

; 1728 : 
; 1729 : 					// ????
; 1730 : 					for (i = 0; i < w - 2; i++) {

  002d5	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  002df	eb 0f		 jmp	 SHORT $LN4@DrawBox
$LN2@DrawBox:
  002e1	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  002e7	83 c0 01	 add	 eax, 1
  002ea	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN4@DrawBox:
  002f0	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  002f6	83 e8 02	 sub	 eax, 2
  002f9	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  002ff	7d 7f		 jge	 SHORT $LN3@DrawBox

; 1731 : 						// î¯???î¼?
; 1732 : 						*(pDest32 + i) = pixel;

  00301	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00307	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  0030d	8b 95 f8 fe ff
	ff		 mov	 edx, DWORD PTR _pixel$6[ebp]
  00313	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 1733 : 						*(pDest32 + surfacePitch + i) = pixel;

  00316	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  0031c	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00322	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  00325	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  0032b	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pixel$6[ebp]
  00331	89 0c 82	 mov	 DWORD PTR [edx+eax*4], ecx

; 1734 : 						// ????î¼?
; 1735 : 						*(pDest32 + bottom - surfacePitch + i) = pixel;

  00334	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  0033a	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00340	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  00343	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00349	c1 e0 02	 shl	 eax, 2
  0034c	2b d0		 sub	 edx, eax
  0034e	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR _i$12[ebp]
  00354	8b 85 f8 fe ff
	ff		 mov	 eax, DWORD PTR _pixel$6[ebp]
  0035a	89 04 8a	 mov	 DWORD PTR [edx+ecx*4], eax

; 1736 : 						*(pDest32 + bottom + i) = pixel;

  0035d	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  00363	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00369	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  0036c	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00372	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pixel$6[ebp]
  00378	89 0c 82	 mov	 DWORD PTR [edx+eax*4], ecx

; 1737 : #ifdef _READ16BITBMP
; 1738 : 						if (g_bUseAlpha) {
; 1739 : 							*(pDestSys32 + i) = pixel;
; 1740 : 							*(pDestSys32 + surfacePitchsys + i) = pixel;
; 1741 : 							*(pDestSys32 + bottomSys - surfacePitchsys + i) = pixel;
; 1742 : 							*(pDestSys32 + bottomSys + i) = pixel;
; 1743 : 						}
; 1744 : #endif
; 1745 : 					}

  0037b	e9 61 ff ff ff	 jmp	 $LN2@DrawBox
$LN3@DrawBox:

; 1746 : 
; 1747 : 					// î îª?î½î?î¼?
; 1748 : 					*(pDest32 + surfacePitch + surfacePitch + 1) = pixel;					// ?î¯

  00380	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00386	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  0038c	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  0038f	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00395	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pixel$6[ebp]
  0039b	89 4c 82 04	 mov	 DWORD PTR [edx+eax*4+4], ecx

; 1749 : 					*(pDest32 + surfacePitch + surfacePitch + w - 4) = pixel;				// ?î¯

  0039f	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  003a5	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  003ab	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  003ae	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  003b4	8d 0c 82	 lea	 ecx, DWORD PTR [edx+eax*4]
  003b7	8b 95 1c ff ff
	ff		 mov	 edx, DWORD PTR _w$9[ebp]
  003bd	8b 85 f8 fe ff
	ff		 mov	 eax, DWORD PTR _pixel$6[ebp]
  003c3	89 44 91 f0	 mov	 DWORD PTR [ecx+edx*4-16], eax

; 1750 : 					*(pDest32 + bottom - (surfacePitch + surfacePitch) + 1) = pixel;		// ??

  003c7	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  003cd	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  003d3	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  003d6	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  003dc	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  003e2	c1 e0 02	 shl	 eax, 2
  003e5	2b d0		 sub	 edx, eax
  003e7	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pixel$6[ebp]
  003ed	89 4a 04	 mov	 DWORD PTR [edx+4], ecx

; 1751 : 					*(pDest32 + bottom - (surfacePitch + surfacePitch) + w - 4) = pixel;	// ??

  003f0	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  003f6	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  003fc	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  003ff	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00405	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  0040b	c1 e0 02	 shl	 eax, 2
  0040e	2b d0		 sub	 edx, eax
  00410	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _w$9[ebp]
  00416	8b 85 f8 fe ff
	ff		 mov	 eax, DWORD PTR _pixel$6[ebp]
  0041c	89 44 8a f0	 mov	 DWORD PTR [edx+ecx*4-16], eax

; 1752 : 
; 1753 : 																							// ????????î¤?????î´??
; 1754 : 					pDest32 += surfacePitch - 1;

  00420	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00426	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  0042c	8d 54 81 fc	 lea	 edx, DWORD PTR [ecx+eax*4-4]
  00430	89 95 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], edx

; 1755 : #ifdef _READ16BITBMP
; 1756 : 					if (g_bUseAlpha) {
; 1757 : 						*(pDestSys32 + surfacePitchsys + surfacePitchsys + 1) = pixel;
; 1758 : 						*(pDestSys32 + surfacePitchsys + surfacePitchsys + w - 4) = pixel;
; 1759 : 						*(pDestSys32 + bottomSys - (surfacePitchsys + surfacePitchsys) + 1) = pixel;
; 1760 : 						*(pDestSys32 + bottomSys - (surfacePitchsys + surfacePitchsys) + w - 4) = pixel;
; 1761 : 						pDestSys32 += surfacePitchsys - 1;
; 1762 : 					}
; 1763 : #endif
; 1764 : 
; 1765 : 					// î???
; 1766 : 					for (i = 0; i < h - 2; i++) {

  00436	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00440	eb 0f		 jmp	 SHORT $LN7@DrawBox
$LN5@DrawBox:
  00442	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00448	83 c0 01	 add	 eax, 1
  0044b	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN7@DrawBox:
  00451	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  00457	83 e8 02	 sub	 eax, 2
  0045a	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00460	7d 60		 jge	 SHORT $LN6@DrawBox

; 1767 : 						// ????î¼?
; 1768 : 						*pDest32 = pixel;

  00462	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _pDest32$16[ebp]
  00468	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pixel$6[ebp]
  0046e	89 08		 mov	 DWORD PTR [eax], ecx

; 1769 : 						*(pDest32 + 1) = pixel;

  00470	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _pDest32$16[ebp]
  00476	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pixel$6[ebp]
  0047c	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 1770 : 						// ????î¼?
; 1771 : 						*(pDest32 + w - 1) = pixel;

  0047f	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00485	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  0048b	8b 95 f8 fe ff
	ff		 mov	 edx, DWORD PTR _pixel$6[ebp]
  00491	89 54 81 fc	 mov	 DWORD PTR [ecx+eax*4-4], edx

; 1772 : 						*(pDest32 + w - 2) = pixel;

  00495	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  0049b	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  004a1	8b 95 f8 fe ff
	ff		 mov	 edx, DWORD PTR _pixel$6[ebp]
  004a7	89 54 81 f8	 mov	 DWORD PTR [ecx+eax*4-8], edx

; 1773 : 						// ????????î¤?????î´??
; 1774 : 						pDest32 += surfacePitch;

  004ab	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  004b1	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  004b7	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  004ba	89 95 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], edx

; 1775 : #ifdef _READ16BITBMP
; 1776 : 						if (g_bUseAlpha) {
; 1777 : 							*pDestSys32 = pixel;
; 1778 : 							*(pDestSys32 + 1) = pixel;
; 1779 : 							*(pDestSys32 + w - 1) = pixel;
; 1780 : 							*(pDestSys32 + w - 2) = pixel;
; 1781 : 							pDestSys32 += surfacePitchsys;
; 1782 : 						}
; 1783 : #endif
; 1784 : 					}

  004c0	eb 80		 jmp	 SHORT $LN5@DrawBox
$LN6@DrawBox:

; 1785 : 				}
; 1786 : 				else

  004c2	e9 8c 06 00 00	 jmp	 $LN70@DrawBox
$LN69@DrawBox:

; 1787 : #endif
; 1788 : 					if (displayBpp == 16) {

  004c7	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  004ce	0f 85 7d 03 00
	00		 jne	 $LN71@DrawBox

; 1789 : 						// 16 Bit Color
; 1790 : 
; 1791 : 						// ??????????î±îî±
; 1792 : 						bottom = (h - 1) * surfacePitch;

  004d4	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  004da	83 e8 01	 sub	 eax, 1
  004dd	0f af 85 4c ff
	ff ff		 imul	 eax, DWORD PTR _surfacePitch$13[ebp]
  004e4	89 85 28 ff ff
	ff		 mov	 DWORD PTR _bottom$10[ebp], eax

; 1793 : #ifdef _READ16BITBMP
; 1794 : 						bottomSys = (h - 1) * surfacePitchsys;
; 1795 : #endif
; 1796 : 
; 1797 : 						pixel = highColorPalette[color];

  004ea	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  004ee	66 8b 0c 45 00
	00 00 00	 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[eax*2]
  004f6	66 89 8d 04 ff
	ff ff		 mov	 WORD PTR _pixel$7[ebp], cx

; 1798 : 
; 1799 : 						// ????
; 1800 : 						for (i = 0; i < w - 2; i++) {

  004fd	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00507	eb 0f		 jmp	 SHORT $LN10@DrawBox
$LN8@DrawBox:
  00509	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  0050f	83 c0 01	 add	 eax, 1
  00512	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN10@DrawBox:
  00518	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  0051e	83 e8 02	 sub	 eax, 2
  00521	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00527	0f 8d de 00 00
	00		 jge	 $LN9@DrawBox

; 1801 : 							// î¯???î¼?
; 1802 : 							*(pDest2 + i) = pixel;

  0052d	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00534	75 0d		 jne	 SHORT $LN90@DrawBox
  00536	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  0053b	e8 00 00 00 00	 call	 __RTC_UninitUse
  00540	83 c4 04	 add	 esp, 4
$LN90@DrawBox:
  00543	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00549	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  0054f	66 8b 95 04 ff
	ff ff		 mov	 dx, WORD PTR _pixel$7[ebp]
  00556	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 1803 : 							*(pDest2 + surfacePitch + i) = pixel;

  0055a	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00561	75 0d		 jne	 SHORT $LN92@DrawBox
  00563	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00568	e8 00 00 00 00	 call	 __RTC_UninitUse
  0056d	83 c4 04	 add	 esp, 4
$LN92@DrawBox:
  00570	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00576	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  0057c	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0057f	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00585	66 8b 8d 04 ff
	ff ff		 mov	 cx, WORD PTR _pixel$7[ebp]
  0058c	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx

; 1804 : 							// ????î¼?
; 1805 : 							*(pDest2 + bottom - surfacePitch + i) = pixel;

  00590	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00597	75 0d		 jne	 SHORT $LN93@DrawBox
  00599	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  0059e	e8 00 00 00 00	 call	 __RTC_UninitUse
  005a3	83 c4 04	 add	 esp, 4
$LN93@DrawBox:
  005a6	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  005ac	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  005b2	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  005b5	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  005bb	d1 e0		 shl	 eax, 1
  005bd	2b d0		 sub	 edx, eax
  005bf	8b 8d 40 ff ff
	ff		 mov	 ecx, DWORD PTR _i$12[ebp]
  005c5	66 8b 85 04 ff
	ff ff		 mov	 ax, WORD PTR _pixel$7[ebp]
  005cc	66 89 04 4a	 mov	 WORD PTR [edx+ecx*2], ax

; 1806 : 							*(pDest2 + bottom + i) = pixel;

  005d0	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  005d7	75 0d		 jne	 SHORT $LN94@DrawBox
  005d9	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  005de	e8 00 00 00 00	 call	 __RTC_UninitUse
  005e3	83 c4 04	 add	 esp, 4
$LN94@DrawBox:
  005e6	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  005ec	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  005f2	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  005f5	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  005fb	66 8b 8d 04 ff
	ff ff		 mov	 cx, WORD PTR _pixel$7[ebp]
  00602	66 89 0c 42	 mov	 WORD PTR [edx+eax*2], cx

; 1807 : #ifdef _READ16BITBMP
; 1808 : 							if (g_bUseAlpha) {
; 1809 : 								*(pDestSys + i) = pixel;
; 1810 : 								*(pDestSys + surfacePitchsys + i) = pixel;
; 1811 : 								*(pDestSys + bottomSys - surfacePitchsys + i) = pixel;
; 1812 : 								*(pDestSys + bottomSys + i) = pixel;
; 1813 : 							}
; 1814 : #endif
; 1815 : 						}

  00606	e9 fe fe ff ff	 jmp	 $LN8@DrawBox
$LN9@DrawBox:

; 1816 : 
; 1817 : 						// î îª?î½î?î¼?
; 1818 : 						*(pDest2 + surfacePitch + surfacePitch + 1) = pixel;					// ?î¯

  0060b	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00612	75 0d		 jne	 SHORT $LN95@DrawBox
  00614	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00619	e8 00 00 00 00	 call	 __RTC_UninitUse
  0061e	83 c4 04	 add	 esp, 4
$LN95@DrawBox:
  00621	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00627	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  0062d	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00630	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00636	66 8b 8d 04 ff
	ff ff		 mov	 cx, WORD PTR _pixel$7[ebp]
  0063d	66 89 4c 42 02	 mov	 WORD PTR [edx+eax*2+2], cx

; 1819 : 						*(pDest2 + surfacePitch + surfacePitch + w - 4) = pixel;				// ?î¯

  00642	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00649	75 0d		 jne	 SHORT $LN96@DrawBox
  0064b	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00650	e8 00 00 00 00	 call	 __RTC_UninitUse
  00655	83 c4 04	 add	 esp, 4
$LN96@DrawBox:
  00658	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  0065e	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00664	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00667	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  0066d	8d 0c 42	 lea	 ecx, DWORD PTR [edx+eax*2]
  00670	8b 95 1c ff ff
	ff		 mov	 edx, DWORD PTR _w$9[ebp]
  00676	66 8b 85 04 ff
	ff ff		 mov	 ax, WORD PTR _pixel$7[ebp]
  0067d	66 89 44 51 f8	 mov	 WORD PTR [ecx+edx*2-8], ax

; 1820 : 						*(pDest2 + bottom - (surfacePitch + surfacePitch) + 1) = pixel;		// ??

  00682	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00689	75 0d		 jne	 SHORT $LN97@DrawBox
  0068b	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00690	e8 00 00 00 00	 call	 __RTC_UninitUse
  00695	83 c4 04	 add	 esp, 4
$LN97@DrawBox:
  00698	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  0069e	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  006a4	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  006a7	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  006ad	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  006b3	d1 e0		 shl	 eax, 1
  006b5	2b d0		 sub	 edx, eax
  006b7	66 8b 8d 04 ff
	ff ff		 mov	 cx, WORD PTR _pixel$7[ebp]
  006be	66 89 4a 02	 mov	 WORD PTR [edx+2], cx

; 1821 : 						*(pDest2 + bottom - (surfacePitch + surfacePitch) + w - 4) = pixel;	// ??

  006c2	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  006c9	75 0d		 jne	 SHORT $LN98@DrawBox
  006cb	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  006d0	e8 00 00 00 00	 call	 __RTC_UninitUse
  006d5	83 c4 04	 add	 esp, 4
$LN98@DrawBox:
  006d8	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _bottom$10[ebp]
  006de	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  006e4	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  006e7	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  006ed	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  006f3	d1 e0		 shl	 eax, 1
  006f5	2b d0		 sub	 edx, eax
  006f7	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _w$9[ebp]
  006fd	66 8b 85 04 ff
	ff ff		 mov	 ax, WORD PTR _pixel$7[ebp]
  00704	66 89 44 4a f8	 mov	 WORD PTR [edx+ecx*2-8], ax

; 1822 : 
; 1823 : 																							// ????????î¤?????î´??
; 1824 : 						pDest2 += surfacePitch - 1;

  00709	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00710	75 0d		 jne	 SHORT $LN99@DrawBox
  00712	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00717	e8 00 00 00 00	 call	 __RTC_UninitUse
  0071c	83 c4 04	 add	 esp, 4
$LN99@DrawBox:
  0071f	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00725	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  0072b	8d 54 41 fe	 lea	 edx, DWORD PTR [ecx+eax*2-2]
  0072f	c6 85 17 fe ff
	ff 01		 mov	 BYTE PTR $T3[ebp], 1
  00736	89 95 58 ff ff
	ff		 mov	 DWORD PTR _pDest2$14[ebp], edx

; 1825 : #ifdef _READ16BITBMP
; 1826 : 						if (g_bUseAlpha) {
; 1827 : 							*(pDestSys + surfacePitchsys + surfacePitchsys + 1) = pixel;
; 1828 : 							*(pDestSys + surfacePitchsys + surfacePitchsys + w - 4) = pixel;
; 1829 : 							*(pDestSys + bottomSys - (surfacePitchsys + surfacePitchsys) + 1) = pixel;
; 1830 : 							*(pDestSys + bottomSys - (surfacePitchsys + surfacePitchsys) + w - 4) = pixel;
; 1831 : 							pDestSys += surfacePitchsys - 1;
; 1832 : 						}
; 1833 : #endif
; 1834 : 
; 1835 : 						// î???
; 1836 : 						for (i = 0; i < h - 2; i++) {

  0073c	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00746	eb 0f		 jmp	 SHORT $LN13@DrawBox
$LN11@DrawBox:
  00748	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  0074e	83 c0 01	 add	 eax, 1
  00751	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN13@DrawBox:
  00757	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  0075d	83 e8 02	 sub	 eax, 2
  00760	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00766	0f 8d e0 00 00
	00		 jge	 $LN12@DrawBox

; 1837 : 							// ????î¼?
; 1838 : 							*pDest2 = pixel;

  0076c	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00773	75 0d		 jne	 SHORT $LN100@DrawBox
  00775	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  0077a	e8 00 00 00 00	 call	 __RTC_UninitUse
  0077f	83 c4 04	 add	 esp, 4
$LN100@DrawBox:
  00782	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pDest2$14[ebp]
  00788	66 8b 8d 04 ff
	ff ff		 mov	 cx, WORD PTR _pixel$7[ebp]
  0078f	66 89 08	 mov	 WORD PTR [eax], cx

; 1839 : 							*(pDest2 + 1) = pixel;

  00792	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00799	75 0d		 jne	 SHORT $LN101@DrawBox
  0079b	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  007a0	e8 00 00 00 00	 call	 __RTC_UninitUse
  007a5	83 c4 04	 add	 esp, 4
$LN101@DrawBox:
  007a8	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pDest2$14[ebp]
  007ae	66 8b 8d 04 ff
	ff ff		 mov	 cx, WORD PTR _pixel$7[ebp]
  007b5	66 89 48 02	 mov	 WORD PTR [eax+2], cx

; 1840 : 							// ????î¼?
; 1841 : 							*(pDest2 + w - 1) = pixel;

  007b9	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  007c0	75 0d		 jne	 SHORT $LN102@DrawBox
  007c2	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  007c7	e8 00 00 00 00	 call	 __RTC_UninitUse
  007cc	83 c4 04	 add	 esp, 4
$LN102@DrawBox:
  007cf	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  007d5	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  007db	66 8b 95 04 ff
	ff ff		 mov	 dx, WORD PTR _pixel$7[ebp]
  007e2	66 89 54 41 fe	 mov	 WORD PTR [ecx+eax*2-2], dx

; 1842 : 							*(pDest2 + w - 2) = pixel;

  007e7	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  007ee	75 0d		 jne	 SHORT $LN103@DrawBox
  007f0	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  007f5	e8 00 00 00 00	 call	 __RTC_UninitUse
  007fa	83 c4 04	 add	 esp, 4
$LN103@DrawBox:
  007fd	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00803	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00809	66 8b 95 04 ff
	ff ff		 mov	 dx, WORD PTR _pixel$7[ebp]
  00810	66 89 54 41 fc	 mov	 WORD PTR [ecx+eax*2-4], dx

; 1843 : 							// ????????î¤?????î´??
; 1844 : 							pDest2 += surfacePitch;

  00815	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  0081c	75 0d		 jne	 SHORT $LN104@DrawBox
  0081e	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00823	e8 00 00 00 00	 call	 __RTC_UninitUse
  00828	83 c4 04	 add	 esp, 4
$LN104@DrawBox:
  0082b	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00831	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00837	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0083a	c6 85 17 fe ff
	ff 01		 mov	 BYTE PTR $T3[ebp], 1
  00841	89 95 58 ff ff
	ff		 mov	 DWORD PTR _pDest2$14[ebp], edx

; 1845 : #ifdef _READ16BITBMP
; 1846 : 							if (g_bUseAlpha) {
; 1847 : 								*pDestSys = pixel;
; 1848 : 								*(pDestSys + 1) = pixel;
; 1849 : 								*(pDestSys + w - 1) = pixel;
; 1850 : 								*(pDestSys + w - 2) = pixel;
; 1851 : 								pDestSys += surfacePitchsys;
; 1852 : 							}
; 1853 : #endif
; 1854 : 						}

  00847	e9 fc fe ff ff	 jmp	 $LN11@DrawBox
$LN12@DrawBox:

; 1855 : 					}
; 1856 : 					else {

  0084c	e9 02 03 00 00	 jmp	 $LN70@DrawBox
$LN71@DrawBox:

; 1857 : 						// 8 Bit Color
; 1858 : 
; 1859 : 						// ?????????
; 1860 : 						bottom = (h - 1) * surfacePitch;

  00851	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  00857	83 e8 01	 sub	 eax, 1
  0085a	0f af 85 4c ff
	ff ff		 imul	 eax, DWORD PTR _surfacePitch$13[ebp]
  00861	89 85 28 ff ff
	ff		 mov	 DWORD PTR _bottom$10[ebp], eax

; 1861 : 
; 1862 : 						// ????
; 1863 : 						for (i = 0; i < w - 2; i++) {

  00867	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00871	eb 0f		 jmp	 SHORT $LN16@DrawBox
$LN14@DrawBox:
  00873	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00879	83 c0 01	 add	 eax, 1
  0087c	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN16@DrawBox:
  00882	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00888	83 e8 02	 sub	 eax, 2
  0088b	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00891	0f 8d bb 00 00
	00		 jge	 $LN15@DrawBox

; 1864 : 							// î¯???î¼?
; 1865 : 							*(pDest + i) = color;

  00897	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  0089e	75 0d		 jne	 SHORT $LN105@DrawBox
  008a0	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  008a5	e8 00 00 00 00	 call	 __RTC_UninitUse
  008aa	83 c4 04	 add	 esp, 4
$LN105@DrawBox:
  008ad	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  008b3	03 85 40 ff ff
	ff		 add	 eax, DWORD PTR _i$12[ebp]
  008b9	8a 4d 0c	 mov	 cl, BYTE PTR _color$[ebp]
  008bc	88 08		 mov	 BYTE PTR [eax], cl

; 1866 : 							*(pDest + i + surfacePitch) = color;

  008be	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  008c5	75 0d		 jne	 SHORT $LN107@DrawBox
  008c7	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  008cc	e8 00 00 00 00	 call	 __RTC_UninitUse
  008d1	83 c4 04	 add	 esp, 4
$LN107@DrawBox:
  008d4	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  008da	03 85 40 ff ff
	ff		 add	 eax, DWORD PTR _i$12[ebp]
  008e0	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$13[ebp]
  008e6	8a 55 0c	 mov	 dl, BYTE PTR _color$[ebp]
  008e9	88 14 08	 mov	 BYTE PTR [eax+ecx], dl

; 1867 : 							// ????î¼?
; 1868 : 							*(pDest + i + bottom) = color;

  008ec	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  008f3	75 0d		 jne	 SHORT $LN108@DrawBox
  008f5	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  008fa	e8 00 00 00 00	 call	 __RTC_UninitUse
  008ff	83 c4 04	 add	 esp, 4
$LN108@DrawBox:
  00902	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00908	03 85 40 ff ff
	ff		 add	 eax, DWORD PTR _i$12[ebp]
  0090e	8b 8d 28 ff ff
	ff		 mov	 ecx, DWORD PTR _bottom$10[ebp]
  00914	8a 55 0c	 mov	 dl, BYTE PTR _color$[ebp]
  00917	88 14 08	 mov	 BYTE PTR [eax+ecx], dl

; 1869 : 							*(pDest + i + bottom - surfacePitch) = color;

  0091a	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00921	75 0d		 jne	 SHORT $LN109@DrawBox
  00923	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00928	e8 00 00 00 00	 call	 __RTC_UninitUse
  0092d	83 c4 04	 add	 esp, 4
$LN109@DrawBox:
  00930	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00936	03 85 40 ff ff
	ff		 add	 eax, DWORD PTR _i$12[ebp]
  0093c	03 85 28 ff ff
	ff		 add	 eax, DWORD PTR _bottom$10[ebp]
  00942	2b 85 4c ff ff
	ff		 sub	 eax, DWORD PTR _surfacePitch$13[ebp]
  00948	8a 4d 0c	 mov	 cl, BYTE PTR _color$[ebp]
  0094b	88 08		 mov	 BYTE PTR [eax], cl

; 1870 : 						}

  0094d	e9 21 ff ff ff	 jmp	 $LN14@DrawBox
$LN15@DrawBox:

; 1871 : 
; 1872 : 						// î îª?î½î?î¼?
; 1873 : 						*(pDest + surfacePitch + surfacePitch + 1) = color;					// ?î¯

  00952	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00959	75 0d		 jne	 SHORT $LN110@DrawBox
  0095b	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00960	e8 00 00 00 00	 call	 __RTC_UninitUse
  00965	83 c4 04	 add	 esp, 4
$LN110@DrawBox:
  00968	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  0096e	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  00974	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$13[ebp]
  0097a	8a 55 0c	 mov	 dl, BYTE PTR _color$[ebp]
  0097d	88 54 08 01	 mov	 BYTE PTR [eax+ecx+1], dl

; 1874 : 						*(pDest + surfacePitch + surfacePitch + w - 4) = color;				// ?î¯

  00981	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00988	75 0d		 jne	 SHORT $LN111@DrawBox
  0098a	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  0098f	e8 00 00 00 00	 call	 __RTC_UninitUse
  00994	83 c4 04	 add	 esp, 4
$LN111@DrawBox:
  00997	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  0099d	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  009a3	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  009a9	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _w$9[ebp]
  009af	8a 55 0c	 mov	 dl, BYTE PTR _color$[ebp]
  009b2	88 54 08 fc	 mov	 BYTE PTR [eax+ecx-4], dl

; 1875 : 						*(pDest + bottom - (surfacePitch + surfacePitch) + 1) = color;		// ??

  009b6	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  009bd	75 0d		 jne	 SHORT $LN112@DrawBox
  009bf	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  009c4	e8 00 00 00 00	 call	 __RTC_UninitUse
  009c9	83 c4 04	 add	 esp, 4
$LN112@DrawBox:
  009cc	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  009d2	03 85 28 ff ff
	ff		 add	 eax, DWORD PTR _bottom$10[ebp]
  009d8	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$13[ebp]
  009de	03 8d 4c ff ff
	ff		 add	 ecx, DWORD PTR _surfacePitch$13[ebp]
  009e4	2b c1		 sub	 eax, ecx
  009e6	8a 55 0c	 mov	 dl, BYTE PTR _color$[ebp]
  009e9	88 50 01	 mov	 BYTE PTR [eax+1], dl

; 1876 : 						*(pDest + bottom - (surfacePitch + surfacePitch) + w - 4) = color;	// ??

  009ec	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  009f3	75 0d		 jne	 SHORT $LN113@DrawBox
  009f5	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  009fa	e8 00 00 00 00	 call	 __RTC_UninitUse
  009ff	83 c4 04	 add	 esp, 4
$LN113@DrawBox:
  00a02	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00a08	03 85 28 ff ff
	ff		 add	 eax, DWORD PTR _bottom$10[ebp]
  00a0e	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _surfacePitch$13[ebp]
  00a14	03 8d 4c ff ff
	ff		 add	 ecx, DWORD PTR _surfacePitch$13[ebp]
  00a1a	2b c1		 sub	 eax, ecx
  00a1c	8b 95 1c ff ff
	ff		 mov	 edx, DWORD PTR _w$9[ebp]
  00a22	8a 4d 0c	 mov	 cl, BYTE PTR _color$[ebp]
  00a25	88 4c 10 fc	 mov	 BYTE PTR [eax+edx-4], cl

; 1877 : 
; 1878 : 																							// ????????î¤?????î´??
; 1879 : 						pDest += surfacePitch - 1;

  00a29	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00a30	75 0d		 jne	 SHORT $LN114@DrawBox
  00a32	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00a37	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a3c	83 c4 04	 add	 esp, 4
$LN114@DrawBox:
  00a3f	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00a45	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest$15[ebp]
  00a4b	8d 54 01 ff	 lea	 edx, DWORD PTR [ecx+eax-1]
  00a4f	c6 85 0b fe ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  00a56	89 95 64 ff ff
	ff		 mov	 DWORD PTR _pDest$15[ebp], edx

; 1880 : 
; 1881 : 						// î???
; 1882 : 						for (i = 0; i < h - 2; i++) {

  00a5c	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00a66	eb 0f		 jmp	 SHORT $LN19@DrawBox
$LN17@DrawBox:
  00a68	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00a6e	83 c0 01	 add	 eax, 1
  00a71	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN19@DrawBox:
  00a77	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  00a7d	83 e8 02	 sub	 eax, 2
  00a80	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00a86	0f 8d c7 00 00
	00		 jge	 $LN70@DrawBox

; 1883 : 							// ????î¼?
; 1884 : 							*pDest = color;

  00a8c	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00a93	75 0d		 jne	 SHORT $LN115@DrawBox
  00a95	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00a9a	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a9f	83 c4 04	 add	 esp, 4
$LN115@DrawBox:
  00aa2	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00aa8	8a 4d 0c	 mov	 cl, BYTE PTR _color$[ebp]
  00aab	88 08		 mov	 BYTE PTR [eax], cl

; 1885 : 							*(pDest + 1) = color;

  00aad	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00ab4	75 0d		 jne	 SHORT $LN116@DrawBox
  00ab6	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00abb	e8 00 00 00 00	 call	 __RTC_UninitUse
  00ac0	83 c4 04	 add	 esp, 4
$LN116@DrawBox:
  00ac3	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00ac9	8a 4d 0c	 mov	 cl, BYTE PTR _color$[ebp]
  00acc	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 1886 : 							// ????î¼?
; 1887 : 							*(pDest + w - 1) = color;

  00acf	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00ad6	75 0d		 jne	 SHORT $LN117@DrawBox
  00ad8	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00add	e8 00 00 00 00	 call	 __RTC_UninitUse
  00ae2	83 c4 04	 add	 esp, 4
$LN117@DrawBox:
  00ae5	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00aeb	03 85 1c ff ff
	ff		 add	 eax, DWORD PTR _w$9[ebp]
  00af1	8a 4d 0c	 mov	 cl, BYTE PTR _color$[ebp]
  00af4	88 48 ff	 mov	 BYTE PTR [eax-1], cl

; 1888 : 							*(pDest + w - 2) = color;

  00af7	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00afe	75 0d		 jne	 SHORT $LN118@DrawBox
  00b00	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00b05	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b0a	83 c4 04	 add	 esp, 4
$LN118@DrawBox:
  00b0d	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00b13	03 85 1c ff ff
	ff		 add	 eax, DWORD PTR _w$9[ebp]
  00b19	8a 4d 0c	 mov	 cl, BYTE PTR _color$[ebp]
  00b1c	88 48 fe	 mov	 BYTE PTR [eax-2], cl

; 1889 : 							// ????????î¤?????î´??
; 1890 : 							pDest += surfacePitch;

  00b1f	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00b26	75 0d		 jne	 SHORT $LN119@DrawBox
  00b28	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00b2d	e8 00 00 00 00	 call	 __RTC_UninitUse
  00b32	83 c4 04	 add	 esp, 4
$LN119@DrawBox:
  00b35	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00b3b	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  00b41	c6 85 0b fe ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  00b48	89 85 64 ff ff
	ff		 mov	 DWORD PTR _pDest$15[ebp], eax

; 1891 : 						}

  00b4e	e9 15 ff ff ff	 jmp	 $LN17@DrawBox
$LN70@DrawBox:

; 1892 : 					}

  00b53	e9 27 06 00 00	 jmp	 $LN68@DrawBox
$LN67@DrawBox:

; 1893 : 			}
; 1894 : 			else if (fill == 1) {	// î??????

  00b58	83 7d 10 01	 cmp	 DWORD PTR _fill$[ebp], 1
  00b5c	0f 85 d9 04 00
	00		 jne	 $LN73@DrawBox

; 1895 : #ifdef _HI_COLOR_32
; 1896 : 				if (displayBpp == 32) {

  00b62	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  00b69	0f 85 73 01 00
	00		 jne	 $LN75@DrawBox

; 1897 : 					int pixel;
; 1898 : 					surfacePitch = surfacePitch >> 1;

  00b6f	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00b75	d1 f8		 sar	 eax, 1
  00b77	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$13[ebp], eax

; 1899 : 					// 32 Bit Color
; 1900 : 					pDest32 = (int *)ddsd.lpSurface + rect->top * surfacePitch + rect->left + 1;

  00b7d	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  00b80	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00b83	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$13[ebp]
  00b8a	8b 55 a0	 mov	 edx, DWORD PTR _ddsd$17[ebp+36]
  00b8d	8d 04 8a	 lea	 eax, DWORD PTR [edx+ecx*4]
  00b90	8b 4d 08	 mov	 ecx, DWORD PTR _rect$[ebp]
  00b93	8b 11		 mov	 edx, DWORD PTR [ecx]
  00b95	8d 44 90 04	 lea	 eax, DWORD PTR [eax+edx*4+4]
  00b99	89 85 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], eax

; 1901 : 					pixel = highColor32Palette[color];

  00b9f	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  00ba3	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[eax*4]
  00baa	89 8d ec fe ff
	ff		 mov	 DWORD PTR _pixel$5[ebp], ecx

; 1902 : 
; 1903 : 					// î¯??????î¼?
; 1904 : 					for (i = 0; i < w - 2; i++) {

  00bb0	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00bba	eb 0f		 jmp	 SHORT $LN22@DrawBox
$LN20@DrawBox:
  00bbc	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00bc2	83 c0 01	 add	 eax, 1
  00bc5	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN22@DrawBox:
  00bcb	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00bd1	83 e8 02	 sub	 eax, 2
  00bd4	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00bda	7d 17		 jge	 SHORT $LN21@DrawBox

; 1905 : 						*(pDest32 + i) = pixel;

  00bdc	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00be2	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00be8	8b 95 ec fe ff
	ff		 mov	 edx, DWORD PTR _pixel$5[ebp]
  00bee	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 1906 : #ifdef _READ16BITBMP
; 1907 : 						if (g_bUseAlpha) {
; 1908 : 							*(pDestSys32 + i) = pixel;
; 1909 : 						}
; 1910 : #endif
; 1911 : 					}

  00bf1	eb c9		 jmp	 SHORT $LN20@DrawBox
$LN21@DrawBox:

; 1912 : 					pDest32 += surfacePitch;

  00bf3	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00bf9	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00bff	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  00c02	89 95 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], edx

; 1913 : #ifdef _READ16BITBMP
; 1914 : 					if (g_bUseAlpha) {
; 1915 : 						pDestSys32 += surfacePitchsys;
; 1916 : 					}
; 1917 : #endif
; 1918 : 					for (i = 0; i < h - 2; i++) {

  00c08	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00c12	eb 0f		 jmp	 SHORT $LN25@DrawBox
$LN23@DrawBox:
  00c14	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00c1a	83 c0 01	 add	 eax, 1
  00c1d	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN25@DrawBox:
  00c23	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  00c29	83 e8 02	 sub	 eax, 2
  00c2c	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00c32	7d 57		 jge	 SHORT $LN24@DrawBox

; 1919 : 						for (j = 0; j < w; j++) {

  00c34	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$11[ebp], 0
  00c3e	eb 0f		 jmp	 SHORT $LN28@DrawBox
$LN26@DrawBox:
  00c40	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$11[ebp]
  00c46	83 c0 01	 add	 eax, 1
  00c49	89 85 34 ff ff
	ff		 mov	 DWORD PTR _j$11[ebp], eax
$LN28@DrawBox:
  00c4f	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$11[ebp]
  00c55	3b 85 1c ff ff
	ff		 cmp	 eax, DWORD PTR _w$9[ebp]
  00c5b	7d 17		 jge	 SHORT $LN27@DrawBox

; 1920 : 							*(pDest32 + j) = pixel;

  00c5d	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$11[ebp]
  00c63	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00c69	8b 95 ec fe ff
	ff		 mov	 edx, DWORD PTR _pixel$5[ebp]
  00c6f	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 1921 : #ifdef _READ16BITBMP
; 1922 : 							if (g_bUseAlpha) *(pDestSys32 + j) = pixel;
; 1923 : #endif
; 1924 : 						}

  00c72	eb cc		 jmp	 SHORT $LN26@DrawBox
$LN27@DrawBox:

; 1925 : 						pDest32 += surfacePitch;

  00c74	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00c7a	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00c80	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  00c83	89 95 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], edx

; 1926 : #ifdef _READ16BITBMP
; 1927 : 						if (g_bUseAlpha) pDestSys32 += surfacePitchsys;
; 1928 : #endif
; 1929 : 					}

  00c89	eb 89		 jmp	 SHORT $LN23@DrawBox
$LN24@DrawBox:

; 1930 : 					pDest32++;

  00c8b	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _pDest32$16[ebp]
  00c91	83 c0 04	 add	 eax, 4
  00c94	89 85 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], eax

; 1931 : #ifdef _READ16BITBMP
; 1932 : 					if (g_bUseAlpha) pDestSys32++;
; 1933 : #endif
; 1934 : 					for (i = 0; i < w - 2; i++) {

  00c9a	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00ca4	eb 0f		 jmp	 SHORT $LN31@DrawBox
$LN29@DrawBox:
  00ca6	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00cac	83 c0 01	 add	 eax, 1
  00caf	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN31@DrawBox:
  00cb5	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00cbb	83 e8 02	 sub	 eax, 2
  00cbe	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00cc4	7d 17		 jge	 SHORT $LN30@DrawBox

; 1935 : 						*(pDest32 + i) = pixel;

  00cc6	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00ccc	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  00cd2	8b 95 ec fe ff
	ff		 mov	 edx, DWORD PTR _pixel$5[ebp]
  00cd8	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 1936 : #ifdef _READ16BITBMP
; 1937 : 						if (g_bUseAlpha) *(pDestSys32 + i) = pixel;
; 1938 : #endif
; 1939 : 					}

  00cdb	eb c9		 jmp	 SHORT $LN29@DrawBox
$LN30@DrawBox:

; 1940 : 				}
; 1941 : 				else

  00cdd	e9 54 03 00 00	 jmp	 $LN76@DrawBox
$LN75@DrawBox:

; 1942 : #endif
; 1943 : 					if (displayBpp == 16) {

  00ce2	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  00ce9	0f 85 ec 01 00
	00		 jne	 $LN77@DrawBox

; 1944 : 						pixel = highColorPalette[color];

  00cef	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  00cf3	66 8b 0c 45 00
	00 00 00	 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[eax*2]
  00cfb	66 89 8d 04 ff
	ff ff		 mov	 WORD PTR _pixel$7[ebp], cx

; 1945 : 						for (i = 0; i < w - 2; i++) {

  00d02	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00d0c	eb 0f		 jmp	 SHORT $LN34@DrawBox
$LN32@DrawBox:
  00d0e	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00d14	83 c0 01	 add	 eax, 1
  00d17	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN34@DrawBox:
  00d1d	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00d23	83 e8 02	 sub	 eax, 2
  00d26	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00d2c	7d 2f		 jge	 SHORT $LN33@DrawBox

; 1946 : 							*(pDest2 + i) = pixel;

  00d2e	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00d35	75 0d		 jne	 SHORT $LN120@DrawBox
  00d37	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00d3c	e8 00 00 00 00	 call	 __RTC_UninitUse
  00d41	83 c4 04	 add	 esp, 4
$LN120@DrawBox:
  00d44	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00d4a	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00d50	66 8b 95 04 ff
	ff ff		 mov	 dx, WORD PTR _pixel$7[ebp]
  00d57	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 1947 : #ifdef _READ16BITBMP
; 1948 : 							if (g_bUseAlpha) {
; 1949 : 								*(pDestSys + i) = pixel;
; 1950 : 							}
; 1951 : #endif
; 1952 : 						}

  00d5b	eb b1		 jmp	 SHORT $LN32@DrawBox
$LN33@DrawBox:

; 1953 : 						pDest2 += surfacePitch - 1;

  00d5d	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00d64	75 0d		 jne	 SHORT $LN121@DrawBox
  00d66	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00d6b	e8 00 00 00 00	 call	 __RTC_UninitUse
  00d70	83 c4 04	 add	 esp, 4
$LN121@DrawBox:
  00d73	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00d79	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00d7f	8d 54 41 fe	 lea	 edx, DWORD PTR [ecx+eax*2-2]
  00d83	c6 85 17 fe ff
	ff 01		 mov	 BYTE PTR $T3[ebp], 1
  00d8a	89 95 58 ff ff
	ff		 mov	 DWORD PTR _pDest2$14[ebp], edx

; 1954 : #ifdef _READ16BITBMP
; 1955 : 						if (g_bUseAlpha) {
; 1956 : 							pDestSys += surfacePitchsys - 1;
; 1957 : 						}
; 1958 : #endif
; 1959 : 						for (i = 0; i < h - 2; i++) {

  00d90	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00d9a	eb 0f		 jmp	 SHORT $LN37@DrawBox
$LN35@DrawBox:
  00d9c	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00da2	83 c0 01	 add	 eax, 1
  00da5	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN37@DrawBox:
  00dab	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  00db1	83 e8 02	 sub	 eax, 2
  00db4	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00dba	0f 8d 8f 00 00
	00		 jge	 $LN36@DrawBox

; 1960 : 							for (j = 0; j < w; j++) {

  00dc0	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$11[ebp], 0
  00dca	eb 0f		 jmp	 SHORT $LN40@DrawBox
$LN38@DrawBox:
  00dcc	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$11[ebp]
  00dd2	83 c0 01	 add	 eax, 1
  00dd5	89 85 34 ff ff
	ff		 mov	 DWORD PTR _j$11[ebp], eax
$LN40@DrawBox:
  00ddb	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$11[ebp]
  00de1	3b 85 1c ff ff
	ff		 cmp	 eax, DWORD PTR _w$9[ebp]
  00de7	7d 2f		 jge	 SHORT $LN39@DrawBox

; 1961 : 								*(pDest2 + j) = pixel;

  00de9	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00df0	75 0d		 jne	 SHORT $LN122@DrawBox
  00df2	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00df7	e8 00 00 00 00	 call	 __RTC_UninitUse
  00dfc	83 c4 04	 add	 esp, 4
$LN122@DrawBox:
  00dff	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _j$11[ebp]
  00e05	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00e0b	66 8b 95 04 ff
	ff ff		 mov	 dx, WORD PTR _pixel$7[ebp]
  00e12	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 1962 : #ifdef _READ16BITBMP
; 1963 : 								if (g_bUseAlpha) *(pDestSys + j) = pixel;
; 1964 : #endif
; 1965 : 							}

  00e16	eb b4		 jmp	 SHORT $LN38@DrawBox
$LN39@DrawBox:

; 1966 : 							pDest2 += surfacePitch;

  00e18	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00e1f	75 0d		 jne	 SHORT $LN123@DrawBox
  00e21	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00e26	e8 00 00 00 00	 call	 __RTC_UninitUse
  00e2b	83 c4 04	 add	 esp, 4
$LN123@DrawBox:
  00e2e	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00e34	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00e3a	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00e3d	c6 85 17 fe ff
	ff 01		 mov	 BYTE PTR $T3[ebp], 1
  00e44	89 95 58 ff ff
	ff		 mov	 DWORD PTR _pDest2$14[ebp], edx

; 1967 : #ifdef _READ16BITBMP
; 1968 : 							if (g_bUseAlpha) pDestSys += surfacePitchsys;
; 1969 : #endif
; 1970 : 						}

  00e4a	e9 4d ff ff ff	 jmp	 $LN35@DrawBox
$LN36@DrawBox:

; 1971 : 						pDest2++;

  00e4f	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00e56	75 0d		 jne	 SHORT $LN124@DrawBox
  00e58	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00e5d	e8 00 00 00 00	 call	 __RTC_UninitUse
  00e62	83 c4 04	 add	 esp, 4
$LN124@DrawBox:
  00e65	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pDest2$14[ebp]
  00e6b	83 c0 02	 add	 eax, 2
  00e6e	c6 85 17 fe ff
	ff 01		 mov	 BYTE PTR $T3[ebp], 1
  00e75	89 85 58 ff ff
	ff		 mov	 DWORD PTR _pDest2$14[ebp], eax

; 1972 : #ifdef _READ16BITBMP
; 1973 : 						if (g_bUseAlpha) pDestSys++;
; 1974 : #endif
; 1975 : 						for (i = 0; i < w - 2; i++) {

  00e7b	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00e85	eb 0f		 jmp	 SHORT $LN43@DrawBox
$LN41@DrawBox:
  00e87	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00e8d	83 c0 01	 add	 eax, 1
  00e90	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN43@DrawBox:
  00e96	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00e9c	83 e8 02	 sub	 eax, 2
  00e9f	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00ea5	7d 2f		 jge	 SHORT $LN42@DrawBox

; 1976 : 							*(pDest2 + i) = pixel;

  00ea7	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  00eae	75 0d		 jne	 SHORT $LN125@DrawBox
  00eb0	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  00eb5	e8 00 00 00 00	 call	 __RTC_UninitUse
  00eba	83 c4 04	 add	 esp, 4
$LN125@DrawBox:
  00ebd	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00ec3	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  00ec9	66 8b 95 04 ff
	ff ff		 mov	 dx, WORD PTR _pixel$7[ebp]
  00ed0	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 1977 : #ifdef _READ16BITBMP
; 1978 : 							if (g_bUseAlpha) *(pDestSys + i) = pixel;
; 1979 : #endif
; 1980 : 						}

  00ed4	eb b1		 jmp	 SHORT $LN41@DrawBox
$LN42@DrawBox:

; 1981 : 					}
; 1982 : 					else {

  00ed6	e9 5b 01 00 00	 jmp	 $LN76@DrawBox
$LN77@DrawBox:

; 1983 : 						pDest++;

  00edb	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00ee2	75 0d		 jne	 SHORT $LN126@DrawBox
  00ee4	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00ee9	e8 00 00 00 00	 call	 __RTC_UninitUse
  00eee	83 c4 04	 add	 esp, 4
$LN126@DrawBox:
  00ef1	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00ef7	83 c0 01	 add	 eax, 1
  00efa	c6 85 0b fe ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  00f01	89 85 64 ff ff
	ff		 mov	 DWORD PTR _pDest$15[ebp], eax

; 1984 : 						memset(pDest, color, w - 2);

  00f07	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00f0e	75 0d		 jne	 SHORT $LN127@DrawBox
  00f10	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00f15	e8 00 00 00 00	 call	 __RTC_UninitUse
  00f1a	83 c4 04	 add	 esp, 4
$LN127@DrawBox:
  00f1d	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00f23	83 e8 02	 sub	 eax, 2
  00f26	50		 push	 eax
  00f27	0f b6 4d 0c	 movzx	 ecx, BYTE PTR _color$[ebp]
  00f2b	51		 push	 ecx
  00f2c	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _pDest$15[ebp]
  00f32	52		 push	 edx
  00f33	e8 00 00 00 00	 call	 _memset
  00f38	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1985 : 						pDest += surfacePitch - 1;

  00f3b	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00f42	75 0d		 jne	 SHORT $LN128@DrawBox
  00f44	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00f49	e8 00 00 00 00	 call	 __RTC_UninitUse
  00f4e	83 c4 04	 add	 esp, 4
$LN128@DrawBox:
  00f51	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  00f57	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest$15[ebp]
  00f5d	8d 54 01 ff	 lea	 edx, DWORD PTR [ecx+eax-1]
  00f61	c6 85 0b fe ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  00f68	89 95 64 ff ff
	ff		 mov	 DWORD PTR _pDest$15[ebp], edx

; 1986 : 						for (i = 0; i < h - 2; i++) {

  00f6e	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  00f78	eb 0f		 jmp	 SHORT $LN46@DrawBox
$LN44@DrawBox:
  00f7a	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  00f80	83 c0 01	 add	 eax, 1
  00f83	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN46@DrawBox:
  00f89	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR _h$8[ebp]
  00f8f	83 e8 02	 sub	 eax, 2
  00f92	39 85 40 ff ff
	ff		 cmp	 DWORD PTR _i$12[ebp], eax
  00f98	7d 65		 jge	 SHORT $LN45@DrawBox

; 1987 : 							memset(pDest, color, w);

  00f9a	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00fa1	75 0d		 jne	 SHORT $LN129@DrawBox
  00fa3	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00fa8	e8 00 00 00 00	 call	 __RTC_UninitUse
  00fad	83 c4 04	 add	 esp, 4
$LN129@DrawBox:
  00fb0	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  00fb6	50		 push	 eax
  00fb7	0f b6 4d 0c	 movzx	 ecx, BYTE PTR _color$[ebp]
  00fbb	51		 push	 ecx
  00fbc	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _pDest$15[ebp]
  00fc2	52		 push	 edx
  00fc3	e8 00 00 00 00	 call	 _memset
  00fc8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1988 : 							pDest += surfacePitch;

  00fcb	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00fd2	75 0d		 jne	 SHORT $LN130@DrawBox
  00fd4	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  00fd9	e8 00 00 00 00	 call	 __RTC_UninitUse
  00fde	83 c4 04	 add	 esp, 4
$LN130@DrawBox:
  00fe1	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$15[ebp]
  00fe7	03 85 4c ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$13[ebp]
  00fed	c6 85 0b fe ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  00ff4	89 85 64 ff ff
	ff		 mov	 DWORD PTR _pDest$15[ebp], eax

; 1989 : 						}

  00ffa	e9 7b ff ff ff	 jmp	 $LN44@DrawBox
$LN45@DrawBox:

; 1990 : 						memset(pDest + 1, color, w - 2);

  00fff	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01006	75 0d		 jne	 SHORT $LN131@DrawBox
  01008	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  0100d	e8 00 00 00 00	 call	 __RTC_UninitUse
  01012	83 c4 04	 add	 esp, 4
$LN131@DrawBox:
  01015	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  0101b	83 e8 02	 sub	 eax, 2
  0101e	50		 push	 eax
  0101f	0f b6 4d 0c	 movzx	 ecx, BYTE PTR _color$[ebp]
  01023	51		 push	 ecx
  01024	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _pDest$15[ebp]
  0102a	83 c2 01	 add	 edx, 1
  0102d	52		 push	 edx
  0102e	e8 00 00 00 00	 call	 _memset
  01033	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN76@DrawBox:

; 1991 : 					}

  01036	e9 44 01 00 00	 jmp	 $LN68@DrawBox
$LN73@DrawBox:

; 1992 : 			}
; 1993 : 			else if (fill == 2) {

  0103b	83 7d 10 02	 cmp	 DWORD PTR _fill$[ebp], 2
  0103f	0f 85 3a 01 00
	00		 jne	 $LN68@DrawBox

; 1994 : #ifdef _HI_COLOR_32
; 1995 : 				if (displayBpp == 32) {

  01045	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  0104c	0f 85 86 00 00
	00		 jne	 $LN80@DrawBox

; 1996 : 					int pixel;
; 1997 : 					surfacePitch = surfacePitch >> 1;

  01052	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$13[ebp]
  01058	d1 f8		 sar	 eax, 1
  0105a	89 85 4c ff ff
	ff		 mov	 DWORD PTR _surfacePitch$13[ebp], eax

; 1998 : 					pixel = highColor32Palette[color];

  01060	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  01064	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[eax*4]
  0106b	89 8d e0 fe ff
	ff		 mov	 DWORD PTR _pixel$4[ebp], ecx

; 1999 : 					pDest32 = (int *)ddsd.lpSurface + rect->top * surfacePitch + rect->left + 1;

  01071	8b 45 08	 mov	 eax, DWORD PTR _rect$[ebp]
  01074	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  01077	0f af 8d 4c ff
	ff ff		 imul	 ecx, DWORD PTR _surfacePitch$13[ebp]
  0107e	8b 55 a0	 mov	 edx, DWORD PTR _ddsd$17[ebp+36]
  01081	8d 04 8a	 lea	 eax, DWORD PTR [edx+ecx*4]
  01084	8b 4d 08	 mov	 ecx, DWORD PTR _rect$[ebp]
  01087	8b 11		 mov	 edx, DWORD PTR [ecx]
  01089	8d 44 90 04	 lea	 eax, DWORD PTR [eax+edx*4+4]
  0108d	89 85 70 ff ff
	ff		 mov	 DWORD PTR _pDest32$16[ebp], eax

; 2000 : 					for (i = 0; i < w; i++) {

  01093	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  0109d	eb 0f		 jmp	 SHORT $LN49@DrawBox
$LN47@DrawBox:
  0109f	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  010a5	83 c0 01	 add	 eax, 1
  010a8	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN49@DrawBox:
  010ae	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  010b4	3b 85 1c ff ff
	ff		 cmp	 eax, DWORD PTR _w$9[ebp]
  010ba	7d 17		 jge	 SHORT $LN48@DrawBox

; 2001 : 						*(pDest32 + i) = pixel;

  010bc	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  010c2	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest32$16[ebp]
  010c8	8b 95 e0 fe ff
	ff		 mov	 edx, DWORD PTR _pixel$4[ebp]
  010ce	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 2002 : #ifdef _READ16BITBMP
; 2003 : 						if (g_bUseAlpha) *(pDestSys32 + i) = pixel;
; 2004 : #endif
; 2005 : 					}

  010d1	eb cc		 jmp	 SHORT $LN47@DrawBox
$LN48@DrawBox:

; 2006 : 				}
; 2007 : 				else

  010d3	e9 a7 00 00 00	 jmp	 $LN68@DrawBox
$LN80@DrawBox:

; 2008 : #endif
; 2009 : 					if (displayBpp == 16) {

  010d8	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  010df	75 6d		 jne	 SHORT $LN82@DrawBox

; 2010 : 						pixel = highColorPalette[color];

  010e1	0f b6 45 0c	 movzx	 eax, BYTE PTR _color$[ebp]
  010e5	66 8b 0c 45 00
	00 00 00	 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[eax*2]
  010ed	66 89 8d 04 ff
	ff ff		 mov	 WORD PTR _pixel$7[ebp], cx

; 2011 : 						for (i = 0; i < w; i++) {

  010f4	c7 85 40 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$12[ebp], 0
  010fe	eb 0f		 jmp	 SHORT $LN52@DrawBox
$LN50@DrawBox:
  01100	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  01106	83 c0 01	 add	 eax, 1
  01109	89 85 40 ff ff
	ff		 mov	 DWORD PTR _i$12[ebp], eax
$LN52@DrawBox:
  0110f	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  01115	3b 85 1c ff ff
	ff		 cmp	 eax, DWORD PTR _w$9[ebp]
  0111b	7d 2f		 jge	 SHORT $LN51@DrawBox

; 2012 : 							*(pDest2 + i) = pixel;

  0111d	80 bd 17 fe ff
	ff 00		 cmp	 BYTE PTR $T3[ebp], 0
  01124	75 0d		 jne	 SHORT $LN132@DrawBox
  01126	68 00 00 00 00	 push	 OFFSET $LN91@DrawBox
  0112b	e8 00 00 00 00	 call	 __RTC_UninitUse
  01130	83 c4 04	 add	 esp, 4
$LN132@DrawBox:
  01133	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _i$12[ebp]
  01139	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$14[ebp]
  0113f	66 8b 95 04 ff
	ff ff		 mov	 dx, WORD PTR _pixel$7[ebp]
  01146	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 2013 : #ifdef _READ16BITBMP
; 2014 : 							if (g_bUseAlpha) *(pDestSys + i) = pixel;
; 2015 : #endif
; 2016 : 						}

  0114a	eb b4		 jmp	 SHORT $LN50@DrawBox
$LN51@DrawBox:

; 2017 : 					}
; 2018 : 					else {

  0114c	eb 31		 jmp	 SHORT $LN68@DrawBox
$LN82@DrawBox:

; 2019 : 						memset(pDest, color, w);

  0114e	80 bd 0b fe ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  01155	75 0d		 jne	 SHORT $LN133@DrawBox
  01157	68 00 00 00 00	 push	 OFFSET $LN106@DrawBox
  0115c	e8 00 00 00 00	 call	 __RTC_UninitUse
  01161	83 c4 04	 add	 esp, 4
$LN133@DrawBox:
  01164	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _w$9[ebp]
  0116a	50		 push	 eax
  0116b	0f b6 4d 0c	 movzx	 ecx, BYTE PTR _color$[ebp]
  0116f	51		 push	 ecx
  01170	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _pDest$15[ebp]
  01176	52		 push	 edx
  01177	e8 00 00 00 00	 call	 _memset
  0117c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN68@DrawBox:

; 2020 : 					}
; 2021 : 			}
; 2022 : 			if (lpDraw->lpBACKBUFFER->Unlock(NULL) != DD_OK) {

  0117f	8b f4		 mov	 esi, esp
  01181	6a 00		 push	 0
  01183	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  01188	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0118b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  01191	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  01194	8b 09		 mov	 ecx, DWORD PTR [ecx]
  01196	50		 push	 eax
  01197	8b 91 80 00 00
	00		 mov	 edx, DWORD PTR [ecx+128]
  0119d	ff d2		 call	 edx
  0119f	3b f4		 cmp	 esi, esp
  011a1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  011a6	85 c0		 test	 eax, eax
  011a8	75 18		 jne	 SHORT $LN1@DrawBox

; 2023 : 				return;
; 2024 : 			}
; 2025 : #ifdef _READ16BITBMP
; 2026 : 			if (g_bUseAlpha) if (lpDraw->lpBACKBUFFERSYS->Unlock(NULL) != DD_OK) return;
; 2027 : #endif
; 2028 : 
; 2029 : 			return;

  011aa	eb 16		 jmp	 SHORT $LN1@DrawBox
__catch$?DrawBox@@YAXPAUtagRECT@@EH@Z$0:

; 2030 : 	}
; 2031 : 	catch (...)
; 2032 : 	{
; 2033 : 
; 2034 : 	}

  011ac	b8 00 00 00 00	 mov	 eax, $LN89@DrawBox
  011b1	c3		 ret	 0
  011b2	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  011b9	eb 07		 jmp	 SHORT $LN1@DrawBox
$LN89@DrawBox:
  011bb	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@DrawBox:

; 2035 : 
; 2036 : 
; 2037 : }

  011c2	52		 push	 edx
  011c3	8b cd		 mov	 ecx, ebp
  011c5	50		 push	 eax
  011c6	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN137@DrawBox
  011cc	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  011d1	58		 pop	 eax
  011d2	5a		 pop	 edx
  011d3	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  011d6	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  011dd	59		 pop	 ecx
  011de	5f		 pop	 edi
  011df	5e		 pop	 esi
  011e0	5b		 pop	 ebx
  011e1	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  011e4	33 cd		 xor	 ecx, ebp
  011e6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  011eb	81 c4 fc 01 00
	00		 add	 esp, 508		; 000001fcH
  011f1	3b ec		 cmp	 ebp, esp
  011f3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  011f8	8b e5		 mov	 esp, ebp
  011fa	5d		 pop	 ebp
  011fb	c3		 ret	 0
$LN137@DrawBox:
  011fc	01 00 00 00	 DD	 1
  01200	00 00 00 00	 DD	 $LN136@DrawBox
$LN136@DrawBox:
  01204	7c ff ff ff	 DD	 -132			; ffffff7cH
  01208	6c 00 00 00	 DD	 108			; 0000006cH
  0120c	00 00 00 00	 DD	 $LN134@DrawBox
$LN134@DrawBox:
  01210	64		 DB	 100			; 00000064H
  01211	64		 DB	 100			; 00000064H
  01212	73		 DB	 115			; 00000073H
  01213	64		 DB	 100			; 00000064H
  01214	00		 DB	 0
$LN106@DrawBox:
  01215	70		 DB	 112			; 00000070H
  01216	44		 DB	 68			; 00000044H
  01217	65		 DB	 101			; 00000065H
  01218	73		 DB	 115			; 00000073H
  01219	74		 DB	 116			; 00000074H
  0121a	00		 DB	 0
$LN91@DrawBox:
  0121b	70		 DB	 112			; 00000070H
  0121c	44		 DB	 68			; 00000044H
  0121d	65		 DB	 101			; 00000065H
  0121e	73		 DB	 115			; 00000073H
  0121f	74		 DB	 116			; 00000074H
  01220	32		 DB	 50			; 00000032H
  01221	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawBox@@YAXPAUtagRECT@@EH@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 00 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-512]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawBox@@YAXPAUtagRECT@@EH@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawBox@@YAXPAUtagRECT@@EH@Z ENDP			; DrawBox
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawDebugLine@@YAXE@Z
_TEXT	SEGMENT
_pDest32$2 = -264					; size = 4
_pixel$3 = -252						; size = 4
_pixel$ = -240						; size = 2
_m$ = -228						; size = 4
_l$ = -216						; size = 4
_k$ = -204						; size = 4
_j$ = -192						; size = 4
_i$ = -180						; size = 4
_surfacePitch$ = -168					; size = 4
_pDest2$ = -156						; size = 4
_pDest$ = -144						; size = 4
_ddsd$ = -132						; size = 108
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_color$ = 8						; size = 1
?DrawDebugLine@@YAXE@Z PROC				; DrawDebugLine, COMDAT

; 2721 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawDebugLine@@YAXE@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec bc 01 00
	00		 sub	 esp, 444		; 000001bcH
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 34 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-460]
  00021	b9 6f 00 00 00	 mov	 ecx, 111		; 0000006fH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00037	50		 push	 eax
  00038	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  0003b	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00041	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 2722 : 	DDSURFACEDESC ddsd;	// ??????î¨î
; 2723 : 	char *pDest;		// î¿?î?????
; 2724 : 	short *pDest2;		// î¿?î???????????
; 2725 : 	int surfacePitch;	// ??????????
; 2726 : 	int i, j, k, l, m;
; 2727 : 	short pixel;
; 2728 : 
; 2729 : 	try

  00044	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 2730 : 	{
; 2731 : 		// ????????????
; 2732 : 		if (WindowMode) return;

  0004b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?WindowMode@@3HA, 0 ; WindowMode
  00052	0f 85 03 03 00
	00		 jne	 $LN1@DrawDebugL

; 2733 : 
; 2734 : 		// ?î¨î????
; 2735 : 		ZeroMemory(&ddsd, sizeof(DDSURFACEDESC));

  00058	6a 6c		 push	 108			; 0000006cH
  0005a	6a 00		 push	 0
  0005c	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$[ebp]
  00062	50		 push	 eax
  00063	e8 00 00 00 00	 call	 _memset
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2736 : 		ddsd.dwSize = sizeof(DDSURFACEDESC);

  0006b	c7 85 7c ff ff
	ff 6c 00 00 00	 mov	 DWORD PTR _ddsd$[ebp], 108 ; 0000006cH

; 2737 : 
; 2738 : 		// ?????????????????( î¯?? ddsd ?îºî«?î¼????? )
; 2739 : 		if (lpDraw->lpFRONTBUFFER->Lock(NULL, &ddsd, DDLOCK_WAIT, NULL) != DD_OK) {

  00075	8b f4		 mov	 esi, esp
  00077	6a 00		 push	 0
  00079	6a 01		 push	 1
  0007b	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$[ebp]
  00081	50		 push	 eax
  00082	6a 00		 push	 0
  00084	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0008a	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00092	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00095	8b 12		 mov	 edx, DWORD PTR [edx]
  00097	51		 push	 ecx
  00098	8b 42 64	 mov	 eax, DWORD PTR [edx+100]
  0009b	ff d0		 call	 eax
  0009d	3b f4		 cmp	 esi, esp
  0009f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a4	85 c0		 test	 eax, eax
  000a6	0f 85 af 02 00
	00		 jne	 $LN1@DrawDebugL

; 2740 : 			//MessageBoxNew( hWnd, "Surfaceçlockå¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP );
; 2741 : 			return;
; 2742 : 		}
; 2743 : 		//??î³
; 2744 : 		j = lpDraw->xSize;

  000ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000b1	8b 88 84 00 00
	00		 mov	 ecx, DWORD PTR [eax+132]
  000b7	89 8d 40 ff ff
	ff		 mov	 DWORD PTR _j$[ebp], ecx

; 2745 : 		k = lpDraw->ySize;

  000bd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000c2	8b 88 88 00 00
	00		 mov	 ecx, DWORD PTR [eax+136]
  000c8	89 8d 34 ff ff
	ff		 mov	 DWORD PTR _k$[ebp], ecx

; 2746 : 		l = 8;

  000ce	c7 85 28 ff ff
	ff 08 00 00 00	 mov	 DWORD PTR _l$[ebp], 8

; 2747 : 		//???????????????
; 2748 : 		if (ResoMode == 1) {

  000d8	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  000df	75 2a		 jne	 SHORT $LN20@DrawDebugL

; 2749 : 			j >>= 1;

  000e1	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  000e7	d1 f8		 sar	 eax, 1
  000e9	89 85 40 ff ff
	ff		 mov	 DWORD PTR _j$[ebp], eax

; 2750 : 			k >>= 1;

  000ef	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _k$[ebp]
  000f5	d1 f8		 sar	 eax, 1
  000f7	89 85 34 ff ff
	ff		 mov	 DWORD PTR _k$[ebp], eax

; 2751 : 			l >>= 1;

  000fd	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _l$[ebp]
  00103	d1 f8		 sar	 eax, 1
  00105	89 85 28 ff ff
	ff		 mov	 DWORD PTR _l$[ebp], eax
$LN20@DrawDebugL:

; 2752 : 		}
; 2753 : #ifdef _HI_COLOR_32
; 2754 : 		if (displayBpp == 32)

  0010b	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  00112	0f 85 b3 00 00
	00		 jne	 $LN21@DrawDebugL

; 2755 : 		{
; 2756 : 			int pixel;
; 2757 : 			int *pDest32;
; 2758 : 			pixel = highColor32Palette[color];

  00118	0f b6 45 08	 movzx	 eax, BYTE PTR _color$[ebp]
  0011c	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR ?highColor32Palette@@3PAIA[eax*4]
  00123	89 8d 04 ff ff
	ff		 mov	 DWORD PTR _pixel$3[ebp], ecx

; 2759 : 			// î?î¿????????????
; 2760 : 			pDest32 = (int *)ddsd.lpSurface + j;

  00129	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  0012f	8b 4d a0	 mov	 ecx, DWORD PTR _ddsd$[ebp+36]
  00132	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  00135	89 95 f8 fe ff
	ff		 mov	 DWORD PTR _pDest32$2[ebp], edx

; 2761 : 			// ??????????
; 2762 : 			surfacePitch = ddsd.lPitch >> 1;

  0013b	8b 45 8c	 mov	 eax, DWORD PTR _ddsd$[ebp+16]
  0013e	d1 f8		 sar	 eax, 1
  00140	89 85 58 ff ff
	ff		 mov	 DWORD PTR _surfacePitch$[ebp], eax

; 2763 : 			// î???
; 2764 : 			for (i = 0; i < k; i++)

  00146	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  00150	eb 0f		 jmp	 SHORT $LN4@DrawDebugL
$LN2@DrawDebugL:
  00152	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00158	83 c0 01	 add	 eax, 1
  0015b	89 85 4c ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN4@DrawDebugL:
  00161	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00167	3b 85 34 ff ff
	ff		 cmp	 eax, DWORD PTR _k$[ebp]
  0016d	7d 57		 jge	 SHORT $LN3@DrawDebugL

; 2765 : 			{
; 2766 : 				// ?????î¼?
; 2767 : 				for (m = 0; m < l; m++)

  0016f	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$[ebp], 0
  00179	eb 0f		 jmp	 SHORT $LN7@DrawDebugL
$LN5@DrawDebugL:
  0017b	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _m$[ebp]
  00181	83 c0 01	 add	 eax, 1
  00184	89 85 1c ff ff
	ff		 mov	 DWORD PTR _m$[ebp], eax
$LN7@DrawDebugL:
  0018a	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _m$[ebp]
  00190	3b 85 28 ff ff
	ff		 cmp	 eax, DWORD PTR _l$[ebp]
  00196	7d 17		 jge	 SHORT $LN6@DrawDebugL

; 2768 : 				{
; 2769 : 					*(pDest32 + m) = pixel;

  00198	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _m$[ebp]
  0019e	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest32$2[ebp]
  001a4	8b 95 04 ff ff
	ff		 mov	 edx, DWORD PTR _pixel$3[ebp]
  001aa	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx

; 2770 : 				}

  001ad	eb cc		 jmp	 SHORT $LN5@DrawDebugL
$LN6@DrawDebugL:

; 2771 : 				// ????????î¤?????î´??
; 2772 : 				pDest32 += surfacePitch;

  001af	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  001b5	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest32$2[ebp]
  001bb	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  001be	89 95 f8 fe ff
	ff		 mov	 DWORD PTR _pDest32$2[ebp], edx

; 2773 : 			}

  001c4	eb 8c		 jmp	 SHORT $LN2@DrawDebugL
$LN3@DrawDebugL:

; 2774 : 		}
; 2775 : 		else

  001c6	e9 31 01 00 00	 jmp	 $LN22@DrawDebugL
$LN21@DrawDebugL:

; 2776 : #endif
; 2777 : 			if (displayBpp == 16)

  001cb	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  001d2	0f 85 b4 00 00
	00		 jne	 $LN23@DrawDebugL

; 2778 : 			{
; 2779 : 				pixel = highColorPalette[color];

  001d8	0f b6 45 08	 movzx	 eax, BYTE PTR _color$[ebp]
  001dc	66 8b 0c 45 00
	00 00 00	 mov	 cx, WORD PTR ?highColorPalette@@3PAGA[eax*2]
  001e4	66 89 8d 10 ff
	ff ff		 mov	 WORD PTR _pixel$[ebp], cx

; 2780 : 				// î?î¿????????????
; 2781 : 				pDest2 = (short *)ddsd.lpSurface + j;

  001eb	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _j$[ebp]
  001f1	8b 4d a0	 mov	 ecx, DWORD PTR _ddsd$[ebp+36]
  001f4	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  001f7	89 95 64 ff ff
	ff		 mov	 DWORD PTR _pDest2$[ebp], edx

; 2782 : 				// ??????????
; 2783 : 				surfacePitch = ddsd.lPitch >> 1;

  001fd	8b 45 8c	 mov	 eax, DWORD PTR _ddsd$[ebp+16]
  00200	d1 f8		 sar	 eax, 1
  00202	89 85 58 ff ff
	ff		 mov	 DWORD PTR _surfacePitch$[ebp], eax

; 2784 : 				// î???
; 2785 : 				for (i = 0; i < k; i++)

  00208	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  00212	eb 0f		 jmp	 SHORT $LN10@DrawDebugL
$LN8@DrawDebugL:
  00214	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0021a	83 c0 01	 add	 eax, 1
  0021d	89 85 4c ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN10@DrawDebugL:
  00223	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00229	3b 85 34 ff ff
	ff		 cmp	 eax, DWORD PTR _k$[ebp]
  0022f	7d 59		 jge	 SHORT $LN9@DrawDebugL

; 2786 : 				{
; 2787 : 					// ?????î¼?
; 2788 : 					for (m = 0; m < l; m++)

  00231	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$[ebp], 0
  0023b	eb 0f		 jmp	 SHORT $LN13@DrawDebugL
$LN11@DrawDebugL:
  0023d	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _m$[ebp]
  00243	83 c0 01	 add	 eax, 1
  00246	89 85 1c ff ff
	ff		 mov	 DWORD PTR _m$[ebp], eax
$LN13@DrawDebugL:
  0024c	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _m$[ebp]
  00252	3b 85 28 ff ff
	ff		 cmp	 eax, DWORD PTR _l$[ebp]
  00258	7d 19		 jge	 SHORT $LN12@DrawDebugL

; 2789 : 					{
; 2790 : 						*(pDest2 + m) = pixel;

  0025a	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _m$[ebp]
  00260	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$[ebp]
  00266	66 8b 95 10 ff
	ff ff		 mov	 dx, WORD PTR _pixel$[ebp]
  0026d	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 2791 : 					}

  00271	eb ca		 jmp	 SHORT $LN11@DrawDebugL
$LN12@DrawDebugL:

; 2792 : 					// ????????î¤?????î´??
; 2793 : 					pDest2 += surfacePitch;

  00273	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _surfacePitch$[ebp]
  00279	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$[ebp]
  0027f	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00282	89 95 64 ff ff
	ff		 mov	 DWORD PTR _pDest2$[ebp], edx

; 2794 : 				}

  00288	eb 8a		 jmp	 SHORT $LN8@DrawDebugL
$LN9@DrawDebugL:

; 2795 : 			}
; 2796 : 			else

  0028a	eb 70		 jmp	 SHORT $LN22@DrawDebugL
$LN23@DrawDebugL:

; 2797 : 			{
; 2798 : 				// î?î¿????????????
; 2799 : 				pDest = (char *)(ddsd.lpSurface) + j;

  0028c	8b 45 a0	 mov	 eax, DWORD PTR _ddsd$[ebp+36]
  0028f	03 85 40 ff ff
	ff		 add	 eax, DWORD PTR _j$[ebp]
  00295	89 85 70 ff ff
	ff		 mov	 DWORD PTR _pDest$[ebp], eax

; 2800 : 
; 2801 : 				// ??????????
; 2802 : 				surfacePitch = ddsd.lPitch;

  0029b	8b 45 8c	 mov	 eax, DWORD PTR _ddsd$[ebp+16]
  0029e	89 85 58 ff ff
	ff		 mov	 DWORD PTR _surfacePitch$[ebp], eax

; 2803 : 
; 2804 : 				// î???
; 2805 : 				for (i = 0; i < k; i++)

  002a4	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0
  002ae	eb 0f		 jmp	 SHORT $LN16@DrawDebugL
$LN14@DrawDebugL:
  002b0	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  002b6	83 c0 01	 add	 eax, 1
  002b9	89 85 4c ff ff
	ff		 mov	 DWORD PTR _i$[ebp], eax
$LN16@DrawDebugL:
  002bf	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  002c5	3b 85 34 ff ff
	ff		 cmp	 eax, DWORD PTR _k$[ebp]
  002cb	7d 2f		 jge	 SHORT $LN22@DrawDebugL

; 2806 : 				{
; 2807 : 					// ?????î¼?
; 2808 : 					memset(pDest, color, l);

  002cd	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _l$[ebp]
  002d3	50		 push	 eax
  002d4	0f b6 4d 08	 movzx	 ecx, BYTE PTR _color$[ebp]
  002d8	51		 push	 ecx
  002d9	8b 95 70 ff ff
	ff		 mov	 edx, DWORD PTR _pDest$[ebp]
  002df	52		 push	 edx
  002e0	e8 00 00 00 00	 call	 _memset
  002e5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2809 : 					// ????????î¤?????î´??
; 2810 : 					pDest += surfacePitch;

  002e8	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$[ebp]
  002ee	03 85 58 ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$[ebp]
  002f4	89 85 70 ff ff
	ff		 mov	 DWORD PTR _pDest$[ebp], eax

; 2811 : 				}

  002fa	eb b4		 jmp	 SHORT $LN14@DrawDebugL
$LN22@DrawDebugL:

; 2812 : 			}
; 2813 : 
; 2814 : 		// ???????????????????
; 2815 : 		if (lpDraw->lpFRONTBUFFER->Unlock(NULL) != DD_OK) {

  002fc	8b f4		 mov	 esi, esp
  002fe	6a 00		 push	 0
  00300	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00305	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00308	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0030e	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00311	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00313	50		 push	 eax
  00314	8b 91 80 00 00
	00		 mov	 edx, DWORD PTR [ecx+128]
  0031a	ff d2		 call	 edx
  0031c	3b f4		 cmp	 esi, esp
  0031e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00323	85 c0		 test	 eax, eax
  00325	74 1c		 je	 SHORT $LN25@DrawDebugL

; 2816 : 			MessageBoxNew(hWnd, "SurfaceçUnlockå¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP);

  00327	6a 10		 push	 16			; 00000010H
  00329	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  0032e	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@IOHJJJNA@Surface?n?$NMUnlock?c?w?$DP?$KD?$KB?$AA@
  00333	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00338	50		 push	 eax
  00339	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  0033e	83 c4 10	 add	 esp, 16			; 00000010H

; 2817 : 			return;

  00341	eb 18		 jmp	 SHORT $LN1@DrawDebugL
$LN25@DrawDebugL:

; 2818 : 		}
; 2819 : 	}

  00343	eb 06		 jmp	 SHORT $LN27@DrawDebugL
__catch$?DrawDebugLine@@YAXE@Z$0:

; 2820 : 	catch (...)
; 2821 : 	{
; 2822 : 
; 2823 : 	}

  00345	b8 00 00 00 00	 mov	 eax, $LN30@DrawDebugL
  0034a	c3		 ret	 0
$LN27@DrawDebugL:
  0034b	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  00352	eb 07		 jmp	 SHORT $LN1@DrawDebugL
$LN30@DrawDebugL:
  00354	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@DrawDebugL:

; 2824 : 
; 2825 : 
; 2826 : 	return;
; 2827 : }

  0035b	52		 push	 edx
  0035c	8b cd		 mov	 ecx, ebp
  0035e	50		 push	 eax
  0035f	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN34@DrawDebugL
  00365	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0036a	58		 pop	 eax
  0036b	5a		 pop	 edx
  0036c	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  0036f	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00376	59		 pop	 ecx
  00377	5f		 pop	 edi
  00378	5e		 pop	 esi
  00379	5b		 pop	 ebx
  0037a	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0037d	33 cd		 xor	 ecx, ebp
  0037f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00384	81 c4 cc 01 00
	00		 add	 esp, 460		; 000001ccH
  0038a	3b ec		 cmp	 ebp, esp
  0038c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00391	8b e5		 mov	 esp, ebp
  00393	5d		 pop	 ebp
  00394	c3		 ret	 0
  00395	0f 1f 00	 npad	 3
$LN34@DrawDebugL:
  00398	01 00 00 00	 DD	 1
  0039c	00 00 00 00	 DD	 $LN33@DrawDebugL
$LN33@DrawDebugL:
  003a0	7c ff ff ff	 DD	 -132			; ffffff7cH
  003a4	6c 00 00 00	 DD	 108			; 0000006cH
  003a8	00 00 00 00	 DD	 $LN31@DrawDebugL
$LN31@DrawDebugL:
  003ac	64		 DB	 100			; 00000064H
  003ad	64		 DB	 100			; 00000064H
  003ae	73		 DB	 115			; 00000073H
  003af	64		 DB	 100			; 00000064H
  003b0	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawDebugLine@@YAXE@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 30 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-464]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawDebugLine@@YAXE@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawDebugLine@@YAXE@Z ENDP				; DrawDebugLine
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?ReleaseDirectDraw@@YAXXZ
_TEXT	SEGMENT
_i$2 = -24						; size = 4
__$EHRec$ = -16						; size = 16
?ReleaseDirectDraw@@YAXXZ PROC				; ReleaseDirectDraw, COMDAT

; 3001 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?ReleaseDirectDraw@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 24 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-220]
  00021	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 3002 : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 3003 : 	{
; 3004 : 		int i;
; 3005 : 		// î»????????????????î´
; 3006 : 		for (i = 0; i < SurfaceCnt; i++) {

  00048	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _i$2[ebp], 0
  0004f	eb 09		 jmp	 SHORT $LN4@ReleaseDir
$LN2@ReleaseDir:
  00051	8b 45 e8	 mov	 eax, DWORD PTR _i$2[ebp]
  00054	83 c0 01	 add	 eax, 1
  00057	89 45 e8	 mov	 DWORD PTR _i$2[ebp], eax
$LN4@ReleaseDir:
  0005a	8b 45 e8	 mov	 eax, DWORD PTR _i$2[ebp]
  0005d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?SurfaceCnt@@3HA ; SurfaceCnt
  00063	7d 7d		 jge	 SHORT $LN3@ReleaseDir

; 3007 : 			if (SurfaceInfo[i].lpSurface != NULL) {

  00065	6b 45 e8 1c	 imul	 eax, DWORD PTR _i$2[ebp], 28
  00069	83 b8 00 00 00
	00 00		 cmp	 DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax], 0
  00070	74 6b		 je	 SHORT $LN6@ReleaseDir

; 3008 : 				if (SurfaceInfo[i].lpAlphaData != NULL) {

  00072	6b 45 e8 1c	 imul	 eax, DWORD PTR _i$2[ebp], 28
  00076	83 b8 08 00 00
	00 00		 cmp	 DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax+8], 0
  0007d	74 2b		 je	 SHORT $LN7@ReleaseDir

; 3009 : 					FREE(SurfaceInfo[i].lpAlphaData);

  0007f	6b 45 e8 1c	 imul	 eax, DWORD PTR _i$2[ebp], 28
  00083	8b f4		 mov	 esi, esp
  00085	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax+8]
  0008b	51		 push	 ecx
  0008c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__free
  00092	83 c4 04	 add	 esp, 4
  00095	3b f4		 cmp	 esi, esp
  00097	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3010 : 					SurfaceInfo[i].lpAlphaData = NULL;

  0009c	6b 45 e8 1c	 imul	 eax, DWORD PTR _i$2[ebp], 28
  000a0	c7 80 08 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax+8], 0
$LN7@ReleaseDir:

; 3011 : 				}
; 3012 : 				SurfaceInfo[i].lpSurface->Release();

  000aa	6b 45 e8 1c	 imul	 eax, DWORD PTR _i$2[ebp], 28
  000ae	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax]
  000b4	6b 55 e8 1c	 imul	 edx, DWORD PTR _i$2[ebp], 28
  000b8	8b 82 00 00 00
	00		 mov	 eax, DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[edx]
  000be	8b 09		 mov	 ecx, DWORD PTR [ecx]
  000c0	8b f4		 mov	 esi, esp
  000c2	50		 push	 eax
  000c3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  000c6	ff d2		 call	 edx
  000c8	3b f4		 cmp	 esi, esp
  000ca	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3013 : 				SurfaceInfo[i].lpSurface = NULL;

  000cf	6b 45 e8 1c	 imul	 eax, DWORD PTR _i$2[ebp], 28
  000d3	c7 80 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax], 0
$LN6@ReleaseDir:

; 3014 : #ifdef _READ16BITBMP
; 3015 : 				if (g_bUseAlpha) {
; 3016 : 					SurfaceInfoSys[i].lpSurface->Release();
; 3017 : 					SurfaceInfoSys[i].lpSurface = NULL;
; 3018 : 				}
; 3019 : #endif
; 3020 : 			}
; 3021 : #ifdef _READ16BITBMP
; 3022 : 			if (g_bUseAlpha) {
; 3023 : 				if (SurfaceInfo[i].lpAlphaData != NULL) {
; 3024 : 					FREE(SurfaceInfo[i].lpAlphaData);
; 3025 : #ifdef _STONDEBUG_
; 3026 : 					g_iMallocCount--;
; 3027 : #endif
; 3028 : 					SurfaceInfo[i].lpAlphaData = NULL;
; 3029 : 				}
; 3030 : 			}
; 3031 : #endif
; 3032 : 		}

  000dd	e9 6f ff ff ff	 jmp	 $LN2@ReleaseDir
$LN3@ReleaseDir:

; 3033 : #ifdef __SKYISLAND
; 3034 : 		extern void SkyIslandRelease();
; 3035 : 		SkyIslandRelease();

  000e2	e8 00 00 00 00	 call	 ?SkyIslandRelease@@YAXXZ ; SkyIslandRelease

; 3036 : #endif
; 3037 : 		// ??????????î´
; 3038 : 		if (lpBattleSurface != NULL) {

  000e7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A, 0 ; lpBattleSurface
  000ee	74 26		 je	 SHORT $LN8@ReleaseDir

; 3039 : 			// ????
; 3040 : 			lpBattleSurface->Release();

  000f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  000f5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000f7	8b f4		 mov	 esi, esp
  000f9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  000ff	52		 push	 edx
  00100	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00103	ff d0		 call	 eax
  00105	3b f4		 cmp	 esi, esp
  00107	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3041 : 			lpBattleSurface = NULL;

  0010c	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A, 0 ; lpBattleSurface
$LN8@ReleaseDir:

; 3042 : 		}
; 3043 : 		if (lpDraw) {

  00116	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A, 0 ; lpDraw
  0011d	0f 84 5a 01 00
	00		 je	 $LN9@ReleaseDir

; 3044 : 			// ?????î´
; 3045 : 			if (lpDraw->lpPALETTE != NULL) {

  00123	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00128	83 b8 80 00 00
	00 00		 cmp	 DWORD PTR [eax+128], 0
  0012f	74 37		 je	 SHORT $LN10@ReleaseDir

; 3046 : 				lpDraw->lpPALETTE->Release();

  00131	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00136	8b 88 80 00 00
	00		 mov	 ecx, DWORD PTR [eax+128]
  0013c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00142	8b 82 80 00 00
	00		 mov	 eax, DWORD PTR [edx+128]
  00148	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0014a	8b f4		 mov	 esi, esp
  0014c	50		 push	 eax
  0014d	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00150	ff d2		 call	 edx
  00152	3b f4		 cmp	 esi, esp
  00154	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3047 : 				lpDraw->lpPALETTE = NULL;

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0015e	c7 80 80 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+128], 0
$LN10@ReleaseDir:

; 3048 : 			}
; 3049 : 			// ??????î´
; 3050 : 			if (lpDraw->lpCLIPPER != NULL) {

  00168	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0016d	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  00171	74 2e		 je	 SHORT $LN11@ReleaseDir

; 3051 : 				lpDraw->lpCLIPPER->Release();

  00173	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00178	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0017b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00181	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00184	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00186	8b f4		 mov	 esi, esp
  00188	50		 push	 eax
  00189	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0018c	ff d2		 call	 edx
  0018e	3b f4		 cmp	 esi, esp
  00190	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3052 : 				lpDraw->lpCLIPPER = NULL;

  00195	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0019a	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0
$LN11@ReleaseDir:

; 3053 : 			}
; 3054 : 			// ?????????î´
; 3055 : 			if (lpDraw->lpBACKBUFFER != NULL) {

  001a1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001a6	83 78 0c 00	 cmp	 DWORD PTR [eax+12], 0
  001aa	74 2e		 je	 SHORT $LN12@ReleaseDir

; 3056 : 				lpDraw->lpBACKBUFFER->Release();

  001ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001b1	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  001b4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001ba	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  001bd	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001bf	8b f4		 mov	 esi, esp
  001c1	50		 push	 eax
  001c2	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001c5	ff d2		 call	 edx
  001c7	3b f4		 cmp	 esi, esp
  001c9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3057 : 				lpDraw->lpBACKBUFFER = NULL;

  001ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001d3	c7 40 0c 00 00
	00 00		 mov	 DWORD PTR [eax+12], 0
$LN12@ReleaseDir:

; 3058 : 			}
; 3059 : #ifdef _READ16BITBMP
; 3060 : 			if (g_bUseAlpha) {
; 3061 : 				if (lpDraw->lpBACKBUFFERSYS != NULL) {
; 3062 : 					lpDraw->lpBACKBUFFERSYS->Release();
; 3063 : 					lpDraw->lpBACKBUFFERSYS = NULL;
; 3064 : 				}
; 3065 : 				if (lpBattleSurfaceSys != NULL) {
; 3066 : 					lpBattleSurfaceSys->Release();
; 3067 : 					lpBattleSurfaceSys = NULL;
; 3068 : 				}
; 3069 : 			}
; 3070 : #endif
; 3071 : 			// ???????????î´
; 3072 : 			if (lpDraw->lpFRONTBUFFER != NULL) {

  001da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001df	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  001e3	74 2e		 je	 SHORT $LN13@ReleaseDir

; 3073 : 				lpDraw->lpFRONTBUFFER->Release();

  001e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001ea	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  001ed	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001f3	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  001f6	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001f8	8b f4		 mov	 esi, esp
  001fa	50		 push	 eax
  001fb	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001fe	ff d2		 call	 edx
  00200	3b f4		 cmp	 esi, esp
  00202	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3074 : 				lpDraw->lpFRONTBUFFER = NULL;

  00207	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0020c	c7 40 08 00 00
	00 00		 mov	 DWORD PTR [eax+8], 0
$LN13@ReleaseDir:

; 3075 : 			}
; 3076 : 			// DirectDraw??î´
; 3077 : 			if (lpDraw->lpDD2 != NULL) {

  00213	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00218	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  0021c	74 2e		 je	 SHORT $LN14@ReleaseDir

; 3078 : 				lpDraw->lpDD2->Release();

  0021e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00223	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00226	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0022c	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0022f	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00231	8b f4		 mov	 esi, esp
  00233	50		 push	 eax
  00234	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00237	ff d2		 call	 edx
  00239	3b f4		 cmp	 esi, esp
  0023b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3079 : 				lpDraw->lpDD2 = NULL;

  00240	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00245	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0
$LN14@ReleaseDir:

; 3080 : 			}
; 3081 : 
; 3082 : 			// DIRECT_DRAW ?î¨î?î´
; 3083 : 			HeapFree(GetProcessHeap(), NULL, lpDraw);

  0024c	8b f4		 mov	 esi, esp
  0024e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00253	50		 push	 eax
  00254	6a 00		 push	 0
  00256	8b fc		 mov	 edi, esp
  00258	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetProcessHeap@0
  0025e	3b fc		 cmp	 edi, esp
  00260	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00265	50		 push	 eax
  00266	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__HeapFree@12
  0026c	3b f4		 cmp	 esi, esp
  0026e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 3084 : 			lpDraw = NULL;

  00273	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A, 0 ; lpDraw
$LN9@ReleaseDir:

; 3085 : 		}
; 3086 : 		// DirectDraw ??????? FALSE ???
; 3087 : 		DDinitFlag = FALSE;

  0027d	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?DDinitFlag@@3HA, 0 ; DDinitFlag

; 3088 : 	}

  00287	eb 06		 jmp	 SHORT $LN16@ReleaseDir
__catch$?ReleaseDirectDraw@@YAXXZ$0:

; 3089 : 	catch (...)
; 3090 : 	{
; 3091 : 
; 3092 : 	}

  00289	b8 00 00 00 00	 mov	 eax, $LN19@ReleaseDir
  0028e	c3		 ret	 0
$LN16@ReleaseDir:
  0028f	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  00296	eb 07		 jmp	 SHORT $LN1@ReleaseDir
$LN19@ReleaseDir:
  00298	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@ReleaseDir:

; 3093 : 
; 3094 : }

  0029f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  002a2	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  002a9	59		 pop	 ecx
  002aa	5f		 pop	 edi
  002ab	5e		 pop	 esi
  002ac	5b		 pop	 ebx
  002ad	81 c4 dc 00 00
	00		 add	 esp, 220		; 000000dcH
  002b3	3b ec		 cmp	 ebp, esp
  002b5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002ba	8b e5		 mov	 esp, ebp
  002bc	5d		 pop	 ebp
  002bd	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?ReleaseDirectDraw@@YAXXZ:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 20 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-224]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?ReleaseDirectDraw@@YAXXZ
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?ReleaseDirectDraw@@YAXXZ ENDP				; ReleaseDirectDraw
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?CheckSurfaceLost@@YAHXZ
_TEXT	SEGMENT
$T2 = -240						; size = 4
_i$3 = -36						; size = 4
_SurfaceLostFlag$4 = -24				; size = 4
__$EHRec$ = -16						; size = 16
?CheckSurfaceLost@@YAHXZ PROC				; CheckSurfaceLost, COMDAT

; 3098 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?CheckSurfaceLost@@YAHXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 0c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-244]
  00021	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 3099 : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 3100 : 	{
; 3101 : 		BOOL SurfaceLostFlag = FALSE;

  00048	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _SurfaceLostFlag$4[ebp], 0

; 3102 : 		int i;
; 3103 : 		// î»?????????????????
; 3104 : 		for (i = 0; i < SurfaceCnt; i++) {

  0004f	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _i$3[ebp], 0
  00056	eb 09		 jmp	 SHORT $LN4@CheckSurfa
$LN2@CheckSurfa:
  00058	8b 45 dc	 mov	 eax, DWORD PTR _i$3[ebp]
  0005b	83 c0 01	 add	 eax, 1
  0005e	89 45 dc	 mov	 DWORD PTR _i$3[ebp], eax
$LN4@CheckSurfa:
  00061	8b 45 dc	 mov	 eax, DWORD PTR _i$3[ebp]
  00064	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?SurfaceCnt@@3HA ; SurfaceCnt
  0006a	7d 3f		 jge	 SHORT $LN3@CheckSurfa

; 3105 : 			// ??????????
; 3106 : 			if (SurfaceInfo[i].lpSurface != NULL) {

  0006c	6b 45 dc 1c	 imul	 eax, DWORD PTR _i$3[ebp], 28
  00070	83 b8 00 00 00
	00 00		 cmp	 DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax], 0
  00077	74 30		 je	 SHORT $LN6@CheckSurfa

; 3107 : 				// ????????????????
; 3108 : #ifdef _READ16BITBMP
; 3109 : 				if (g_bUseAlpha)
; 3110 : 					if (SurfaceInfoSys[i].lpSurface->IsLost()) SurfaceLostFlag = TRUE;
; 3111 : #endif
; 3112 : 				if (SurfaceInfo[i].lpSurface->IsLost()) SurfaceLostFlag = TRUE;

  00079	6b 45 dc 1c	 imul	 eax, DWORD PTR _i$3[ebp], 28
  0007d	8b 88 00 00 00
	00		 mov	 ecx, DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[eax]
  00083	6b 55 dc 1c	 imul	 edx, DWORD PTR _i$3[ebp], 28
  00087	8b 82 00 00 00
	00		 mov	 eax, DWORD PTR ?SurfaceInfo@@3PAUsurfaceInfo@@A[edx]
  0008d	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0008f	8b f4		 mov	 esi, esp
  00091	50		 push	 eax
  00092	8b 51 60	 mov	 edx, DWORD PTR [ecx+96]
  00095	ff d2		 call	 edx
  00097	3b f4		 cmp	 esi, esp
  00099	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0009e	85 c0		 test	 eax, eax
  000a0	74 07		 je	 SHORT $LN6@CheckSurfa
  000a2	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _SurfaceLostFlag$4[ebp], 1
$LN6@CheckSurfa:

; 3113 : 			}
; 3114 : 		}

  000a9	eb ad		 jmp	 SHORT $LN2@CheckSurfa
$LN3@CheckSurfa:

; 3115 : 		// ???????????
; 3116 : 		if (lpBattleSurface != NULL) {

  000ab	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A, 0 ; lpBattleSurface
  000b2	74 27		 je	 SHORT $LN8@CheckSurfa

; 3117 : 			// ????
; 3118 : 			if (lpBattleSurface->IsLost()) {

  000b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  000b9	8b 08		 mov	 ecx, DWORD PTR [eax]
  000bb	8b f4		 mov	 esi, esp
  000bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  000c3	52		 push	 edx
  000c4	8b 41 60	 mov	 eax, DWORD PTR [ecx+96]
  000c7	ff d0		 call	 eax
  000c9	3b f4		 cmp	 esi, esp
  000cb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d0	85 c0		 test	 eax, eax
  000d2	74 07		 je	 SHORT $LN8@CheckSurfa

; 3119 : 				SurfaceLostFlag = TRUE;

  000d4	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _SurfaceLostFlag$4[ebp], 1
$LN8@CheckSurfa:

; 3120 : 			}
; 3121 : 		}
; 3122 : #ifdef __SKYISLAND
; 3123 : #ifndef __CARYTEST
; 3124 : 		extern BOOL SkyIslandCheckSurface();
; 3125 : 		if (SkyIslandCheckSurface())

  000db	e8 00 00 00 00	 call	 ?SkyIslandCheckSurface@@YAHXZ ; SkyIslandCheckSurface
  000e0	85 c0		 test	 eax, eax
  000e2	74 07		 je	 SHORT $LN10@CheckSurfa

; 3126 : 			SurfaceLostFlag = TRUE;

  000e4	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _SurfaceLostFlag$4[ebp], 1
$LN10@CheckSurfa:

; 3127 : #endif
; 3128 : #endif
; 3129 : 		// ??????????
; 3130 : 		if (lpDraw->lpBACKBUFFER != NULL) {

  000eb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000f0	83 78 0c 00	 cmp	 DWORD PTR [eax+12], 0
  000f4	74 2d		 je	 SHORT $LN11@CheckSurfa

; 3131 : 			// ????????????????
; 3132 : 			if (lpDraw->lpBACKBUFFER->IsLost()) {

  000f6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000fb	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  000fe	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00104	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00107	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00109	8b f4		 mov	 esi, esp
  0010b	50		 push	 eax
  0010c	8b 51 60	 mov	 edx, DWORD PTR [ecx+96]
  0010f	ff d2		 call	 edx
  00111	3b f4		 cmp	 esi, esp
  00113	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00118	85 c0		 test	 eax, eax
  0011a	74 07		 je	 SHORT $LN11@CheckSurfa

; 3133 : 				SurfaceLostFlag = TRUE;

  0011c	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _SurfaceLostFlag$4[ebp], 1
$LN11@CheckSurfa:

; 3134 : 			}
; 3135 : 		}
; 3136 : 		// ????????????
; 3137 : 		if (lpDraw->lpFRONTBUFFER != NULL) {

  00123	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00128	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  0012c	74 2d		 je	 SHORT $LN13@CheckSurfa

; 3138 : 			// ????????????????
; 3139 : 			if (lpDraw->lpFRONTBUFFER->IsLost()) {

  0012e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00133	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00136	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0013c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0013f	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00141	8b f4		 mov	 esi, esp
  00143	50		 push	 eax
  00144	8b 51 60	 mov	 edx, DWORD PTR [ecx+96]
  00147	ff d2		 call	 edx
  00149	3b f4		 cmp	 esi, esp
  0014b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00150	85 c0		 test	 eax, eax
  00152	74 07		 je	 SHORT $LN13@CheckSurfa

; 3140 : 				SurfaceLostFlag = TRUE;

  00154	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _SurfaceLostFlag$4[ebp], 1
$LN13@CheckSurfa:

; 3141 : 			}
; 3142 : 		}
; 3143 : 
; 3144 : 		return SurfaceLostFlag;

  0015b	8b 45 e8	 mov	 eax, DWORD PTR _SurfaceLostFlag$4[ebp]
  0015e	eb 2c		 jmp	 SHORT $LN1@CheckSurfa
__catch$?CheckSurfaceLost@@YAHXZ$0:

; 3145 : 	}
; 3146 : 	catch (...)
; 3147 : 	{
; 3148 : 		return true;

  00160	c7 85 10 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR $T2[ebp], 1
  0016a	b8 00 00 00 00	 mov	 eax, $LN19@CheckSurfa
  0016f	c3		 ret	 0

; 3149 : 	}

  00170	b8 00 00 00 00	 mov	 eax, __tryend$?CheckSurfaceLost@@YAHXZ$1
  00175	c3		 ret	 0
__tryend$?CheckSurfaceLost@@YAHXZ$1:
  00176	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  0017d	eb 0d		 jmp	 SHORT $LN1@CheckSurfa
$LN19@CheckSurfa:
  0017f	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1

; 3145 : 	}
; 3146 : 	catch (...)
; 3147 : 	{
; 3148 : 		return true;

  00186	8b 85 10 ff ff
	ff		 mov	 eax, DWORD PTR $T2[ebp]
$LN1@CheckSurfa:

; 3150 : 
; 3151 : }

  0018c	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  0018f	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00196	59		 pop	 ecx
  00197	5f		 pop	 edi
  00198	5e		 pop	 esi
  00199	5b		 pop	 ebx
  0019a	81 c4 f4 00 00
	00		 add	 esp, 244		; 000000f4H
  001a0	3b ec		 cmp	 ebp, esp
  001a2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a7	8b e5		 mov	 esp, ebp
  001a9	5d		 pop	 ebp
  001aa	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?CheckSurfaceLost@@YAHXZ:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 08 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-248]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?CheckSurfaceLost@@YAHXZ
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?CheckSurfaceLost@@YAHXZ ENDP				; CheckSurfaceLost
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?Flip@@YAXXZ
_TEXT	SEGMENT
__$EHRec$ = -16						; size = 16
?Flip@@YAXXZ PROC					; Flip, COMDAT

; 685  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?Flip@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 30 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-208]
  00021	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 686  : #ifdef _NB_é¡¶é¨è¯¦æ
; 687  : 	CalculateFrameRate();

  00041	e8 00 00 00 00	 call	 ?CalculateFrameRate@@YAXXZ ; CalculateFrameRate

; 688  : #endif
; 689  : 
; 690  : 	//JL hook
; 691  : 	if (g_hideSA || !lpDraw->lpFRONTBUFFER){

  00046	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_hideSA@@3HA, 0 ; g_hideSA
  0004d	75 0b		 jne	 SHORT $LN3@Flip
  0004f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00054	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  00058	75 05		 jne	 SHORT $LN2@Flip
$LN3@Flip:

; 692  : 		return;

  0005a	e9 8d 00 00 00	 jmp	 $LN1@Flip
$LN2@Flip:

; 693  : 	}
; 694  : 
; 695  : 	try{

  0005f	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 696  : 		if (WindowMode == TRUE) {

  00066	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?WindowMode@@3HA, 1 ; WindowMode
  0006d	75 3f		 jne	 SHORT $LN5@Flip

; 697  : 			lpDraw->lpFRONTBUFFER->Blt(&g_clientRect, lpDraw->lpBACKBUFFER, &g_moveRect, DDBLT_WAIT, NULL);

  0006f	8b f4		 mov	 esi, esp
  00071	6a 00		 push	 0
  00073	68 00 00 00 01	 push	 16777216		; 01000000H
  00078	68 00 00 00 00	 push	 OFFSET ?g_moveRect@@3UtagRECT@@A ; g_moveRect
  0007d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00082	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00085	51		 push	 ecx
  00086	68 00 00 00 00	 push	 OFFSET ?g_clientRect@@3UtagRECT@@A ; g_clientRect
  0008b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00091	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00094	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0009a	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0009d	8b 00		 mov	 eax, DWORD PTR [eax]
  0009f	52		 push	 edx
  000a0	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  000a3	ff d1		 call	 ecx
  000a5	3b f4		 cmp	 esi, esp
  000a7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 698  : 		}else{

  000ac	eb 26		 jmp	 SHORT $LN6@Flip
$LN5@Flip:

; 699  : 			//		lpDraw->lpDD2->WaitForVerticalBlank(DDWAITVB_BLOCKEND, NULL);  JL fix
; 700  : 			lpDraw->lpFRONTBUFFER->Flip(NULL, DDFLIP_WAIT);

  000ae	8b f4		 mov	 esi, esp
  000b0	6a 01		 push	 1
  000b2	6a 00		 push	 0
  000b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000b9	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  000bc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000c2	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000c5	8b 09		 mov	 ecx, DWORD PTR [ecx]
  000c7	50		 push	 eax
  000c8	8b 51 2c	 mov	 edx, DWORD PTR [ecx+44]
  000cb	ff d2		 call	 edx
  000cd	3b f4		 cmp	 esi, esp
  000cf	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN6@Flip:

; 701  : 		}
; 702  : 	}

  000d4	eb 06		 jmp	 SHORT $LN8@Flip
__catch$?Flip@@YAXXZ$0:

; 703  : 	catch (...){
; 704  : 
; 705  : 	}

  000d6	b8 00 00 00 00	 mov	 eax, $LN11@Flip
  000db	c3		 ret	 0
$LN8@Flip:
  000dc	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  000e3	eb 07		 jmp	 SHORT $LN1@Flip
$LN11@Flip:
  000e5	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@Flip:

; 706  : 
; 707  : 
; 708  : 	return;
; 709  : }

  000ec	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  000ef	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000f6	59		 pop	 ecx
  000f7	5f		 pop	 edi
  000f8	5e		 pop	 esi
  000f9	5b		 pop	 ebx
  000fa	81 c4 d0 00 00
	00		 add	 esp, 208		; 000000d0H
  00100	3b ec		 cmp	 ebp, esp
  00102	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00107	8b e5		 mov	 esp, ebp
  00109	5d		 pop	 ebp
  0010a	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?Flip@@YAXXZ:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 2c ff ff
	ff		 mov	 ecx, DWORD PTR [edx-212]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?Flip@@YAXXZ
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?Flip@@YAXXZ ENDP					; Flip
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z
_TEXT	SEGMENT
_hDcDest$2 = -24					; size = 4
__$EHRec$ = -16						; size = 16
_lpSurface$ = 8						; size = 4
_offsetX$ = 12						; size = 4
_offsetY$ = 16						; size = 4
_pBmpInfo$ = 20						; size = 4
?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z PROC ; DrawBitmapToSurface, COMDAT

; 886  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 24 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-220]
  00021	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 887  : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 888  : 	{
; 889  : 		HDC hDcDest;
; 890  : 		// îî?????î±????????????î¿?
; 891  : 		lpSurface->GetDC(&hDcDest);

  00048	8b f4		 mov	 esi, esp
  0004a	8d 45 e8	 lea	 eax, DWORD PTR _hDcDest$2[ebp]
  0004d	50		 push	 eax
  0004e	8b 4d 08	 mov	 ecx, DWORD PTR _lpSurface$[ebp]
  00051	8b 11		 mov	 edx, DWORD PTR [ecx]
  00053	8b 45 08	 mov	 eax, DWORD PTR _lpSurface$[ebp]
  00056	50		 push	 eax
  00057	8b 4a 44	 mov	 ecx, DWORD PTR [edx+68]
  0005a	ff d1		 call	 ecx
  0005c	3b f4		 cmp	 esi, esp
  0005e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 892  : 		StretchDIBits(hDcDest,

  00063	8b f4		 mov	 esi, esp
  00065	68 20 00 cc 00	 push	 13369376		; 00cc0020H
  0006a	6a 00		 push	 0
  0006c	8b 45 14	 mov	 eax, DWORD PTR _pBmpInfo$[ebp]
  0006f	50		 push	 eax
  00070	8b 4d 14	 mov	 ecx, DWORD PTR _pBmpInfo$[ebp]
  00073	81 c1 28 04 00
	00		 add	 ecx, 1064		; 00000428H
  00079	51		 push	 ecx
  0007a	8b 55 14	 mov	 edx, DWORD PTR _pBmpInfo$[ebp]
  0007d	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00080	50		 push	 eax
  00081	8b 4d 14	 mov	 ecx, DWORD PTR _pBmpInfo$[ebp]
  00084	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00087	52		 push	 edx
  00088	8b 45 10	 mov	 eax, DWORD PTR _offsetY$[ebp]
  0008b	50		 push	 eax
  0008c	8b 4d 0c	 mov	 ecx, DWORD PTR _offsetX$[ebp]
  0008f	51		 push	 ecx
  00090	8b 55 14	 mov	 edx, DWORD PTR _pBmpInfo$[ebp]
  00093	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00096	50		 push	 eax
  00097	8b 4d 14	 mov	 ecx, DWORD PTR _pBmpInfo$[ebp]
  0009a	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0009d	52		 push	 edx
  0009e	6a 00		 push	 0
  000a0	6a 00		 push	 0
  000a2	8b 45 e8	 mov	 eax, DWORD PTR _hDcDest$2[ebp]
  000a5	50		 push	 eax
  000a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__StretchDIBits@52
  000ac	3b f4		 cmp	 esi, esp
  000ae	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 893  : 			0, 0,
; 894  : 			//cary
; 895  : 			pBmpInfo->bmiHeader.biWidth, pBmpInfo->bmiHeader.biHeight,
; 896  : 			//SurfaceSizeX, SurfaceSizeY,
; 897  : 			offsetX, offsetY,
; 898  : 			pBmpInfo->bmiHeader.biWidth, pBmpInfo->bmiHeader.biHeight,
; 899  : 			//SurfaceSizeX, SurfaceSizeY,
; 900  : 			//end
; 901  : 			(void *)((BYTE *)pBmpInfo + (sizeof(BITMAPINFOHEADER) + sizeof(RGBQUAD) * 256)),
; 902  : 			pBmpInfo,
; 903  : 
; 904  : 			//DIB_PAL_COLORS,	
; 905  : 			DIB_RGB_COLORS,
; 906  : 			//DIB_PAL_INDICES,
; 907  : 
; 908  : 			SRCCOPY);
; 909  : 		//NOTSRCCOPY );
; 910  : 		//DSTINVERT );
; 911  : 		//BLACKNESS );
; 912  : 		lpSurface->ReleaseDC(hDcDest);

  000b3	8b f4		 mov	 esi, esp
  000b5	8b 45 e8	 mov	 eax, DWORD PTR _hDcDest$2[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d 08	 mov	 ecx, DWORD PTR _lpSurface$[ebp]
  000bc	8b 11		 mov	 edx, DWORD PTR [ecx]
  000be	8b 45 08	 mov	 eax, DWORD PTR _lpSurface$[ebp]
  000c1	50		 push	 eax
  000c2	8b 4a 68	 mov	 ecx, DWORD PTR [edx+104]
  000c5	ff d1		 call	 ecx
  000c7	3b f4		 cmp	 esi, esp
  000c9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 913  : 
; 914  : 		return;

  000ce	eb 16		 jmp	 SHORT $LN1@DrawBitmap
__catch$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z$0:

; 915  : 	}
; 916  : 	catch (...)
; 917  : 	{
; 918  : 
; 919  : 	}

  000d0	b8 00 00 00 00	 mov	 eax, $LN7@DrawBitmap
  000d5	c3		 ret	 0
  000d6	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  000dd	eb 07		 jmp	 SHORT $LN1@DrawBitmap
$LN7@DrawBitmap:
  000df	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@DrawBitmap:

; 920  : 
; 921  : }

  000e6	52		 push	 edx
  000e7	8b cd		 mov	 ecx, ebp
  000e9	50		 push	 eax
  000ea	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN11@DrawBitmap
  000f0	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000f5	58		 pop	 eax
  000f6	5a		 pop	 edx
  000f7	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  000fa	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00101	59		 pop	 ecx
  00102	5f		 pop	 edi
  00103	5e		 pop	 esi
  00104	5b		 pop	 ebx
  00105	81 c4 dc 00 00
	00		 add	 esp, 220		; 000000dcH
  0010b	3b ec		 cmp	 ebp, esp
  0010d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00112	8b e5		 mov	 esp, ebp
  00114	5d		 pop	 ebp
  00115	c3		 ret	 0
  00116	66 90		 npad	 2
$LN11@DrawBitmap:
  00118	01 00 00 00	 DD	 1
  0011c	00 00 00 00	 DD	 $LN10@DrawBitmap
$LN10@DrawBitmap:
  00120	e8 ff ff ff	 DD	 -24			; ffffffe8H
  00124	04 00 00 00	 DD	 4
  00128	00 00 00 00	 DD	 $LN8@DrawBitmap
$LN8@DrawBitmap:
  0012c	68		 DB	 104			; 00000068H
  0012d	44		 DB	 68			; 00000044H
  0012e	63		 DB	 99			; 00000063H
  0012f	44		 DB	 68			; 00000044H
  00130	65		 DB	 101			; 00000065H
  00131	73		 DB	 115			; 00000073H
  00132	74		 DB	 116			; 00000074H
  00133	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 20 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-224]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawBitmapToSurface@@YAXPAUIDirectDrawSurface@@HHPAUtagBITMAPINFO@@@Z ENDP ; DrawBitmapToSurface
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z
_TEXT	SEGMENT
$T2 = -264						; size = 4
_h$3 = -60						; size = 4
_w$4 = -48						; size = 4
_y0$5 = -36						; size = 2
_x0$6 = -24						; size = 2
__$EHRec$ = -16						; size = 16
_bx$ = 8						; size = 2
_by$ = 12						; size = 2
_rect$ = 16						; size = 4
_lpSurface$ = 20					; size = 4
?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z PROC ; DrawSurfaceFast2, COMDAT

; 2943 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd f4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-268]
  00021	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 2944 : 
; 2945 : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 2946 : 	{
; 2947 : 		short x0, y0;
; 2948 : 		long w, h;
; 2949 : 
; 2950 : 		x0 = bx;

  00048	66 8b 45 08	 mov	 ax, WORD PTR _bx$[ebp]
  0004c	66 89 45 e8	 mov	 WORD PTR _x0$6[ebp], ax

; 2951 : 		y0 = by;

  00050	66 8b 45 0c	 mov	 ax, WORD PTR _by$[ebp]
  00054	66 89 45 dc	 mov	 WORD PTR _y0$5[ebp], ax

; 2952 : 		w = rect->right - rect->left;

  00058	8b 45 10	 mov	 eax, DWORD PTR _rect$[ebp]
  0005b	8b 4d 10	 mov	 ecx, DWORD PTR _rect$[ebp]
  0005e	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00061	2b 11		 sub	 edx, DWORD PTR [ecx]
  00063	89 55 d0	 mov	 DWORD PTR _w$4[ebp], edx

; 2953 : 		h = rect->bottom - rect->top;

  00066	8b 45 10	 mov	 eax, DWORD PTR _rect$[ebp]
  00069	8b 4d 10	 mov	 ecx, DWORD PTR _rect$[ebp]
  0006c	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  0006f	2b 51 04	 sub	 edx, DWORD PTR [ecx+4]
  00072	89 55 c4	 mov	 DWORD PTR _h$3[ebp], edx

; 2954 : 
; 2955 : 		// ????????
; 2956 : 		//   ????? RECT ????î³?????î¸î?????
; 2957 : 
; 2958 : 		// î»?î¸î???î¤???????
; 2959 : 		if (bx >= lpDraw->xSize || bx + w <= 0 || by >= lpDraw->ySize || by + h <= 0) {

  00075	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  00079	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0007f	3b 81 84 00 00
	00		 cmp	 eax, DWORD PTR [ecx+132]
  00085	7d 28		 jge	 SHORT $LN4@DrawSurfac
  00087	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  0008b	03 45 d0	 add	 eax, DWORD PTR _w$4[ebp]
  0008e	85 c0		 test	 eax, eax
  00090	7e 1d		 jle	 SHORT $LN4@DrawSurfac
  00092	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  00096	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0009c	3b 81 88 00 00
	00		 cmp	 eax, DWORD PTR [ecx+136]
  000a2	7d 0b		 jge	 SHORT $LN4@DrawSurfac
  000a4	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  000a8	03 45 c4	 add	 eax, DWORD PTR _h$3[ebp]
  000ab	85 c0		 test	 eax, eax
  000ad	7f 07		 jg	 SHORT $LN3@DrawSurfac
$LN4@DrawSurfac:

; 2960 : 			return DD_OK;

  000af	33 c0		 xor	 eax, eax
  000b1	e9 0e 01 00 00	 jmp	 $LN1@DrawSurfac
$LN3@DrawSurfac:

; 2961 : 		}
; 2962 : 
; 2963 : 		// ?î ?????
; 2964 : 		if (bx < 0) {

  000b6	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000ba	85 c0		 test	 eax, eax
  000bc	7d 16		 jge	 SHORT $LN5@DrawSurfac

; 2965 : 			rect->left -= bx;

  000be	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000c2	8b 4d 10	 mov	 ecx, DWORD PTR _rect$[ebp]
  000c5	8b 11		 mov	 edx, DWORD PTR [ecx]
  000c7	2b d0		 sub	 edx, eax
  000c9	8b 45 10	 mov	 eax, DWORD PTR _rect$[ebp]
  000cc	89 10		 mov	 DWORD PTR [eax], edx

; 2966 : 			x0 = 0;

  000ce	33 c0		 xor	 eax, eax
  000d0	66 89 45 e8	 mov	 WORD PTR _x0$6[ebp], ax
$LN5@DrawSurfac:

; 2967 : 		}
; 2968 : 		// ?î ?????
; 2969 : 		if (bx + w > lpDraw->xSize) {

  000d4	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000d8	03 45 d0	 add	 eax, DWORD PTR _w$4[ebp]
  000db	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000e1	3b 81 84 00 00
	00		 cmp	 eax, DWORD PTR [ecx+132]
  000e7	7e 21		 jle	 SHORT $LN6@DrawSurfac

; 2970 : 			rect->right -= bx + w - lpDraw->xSize;

  000e9	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000ed	03 45 d0	 add	 eax, DWORD PTR _w$4[ebp]
  000f0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000f6	2b 81 84 00 00
	00		 sub	 eax, DWORD PTR [ecx+132]
  000fc	8b 55 10	 mov	 edx, DWORD PTR _rect$[ebp]
  000ff	8b 4a 08	 mov	 ecx, DWORD PTR [edx+8]
  00102	2b c8		 sub	 ecx, eax
  00104	8b 55 10	 mov	 edx, DWORD PTR _rect$[ebp]
  00107	89 4a 08	 mov	 DWORD PTR [edx+8], ecx
$LN6@DrawSurfac:

; 2971 : 		}
; 2972 : 		// î¯î ?????
; 2973 : 		if (by < 0) {

  0010a	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  0010e	85 c0		 test	 eax, eax
  00110	7d 18		 jge	 SHORT $LN7@DrawSurfac

; 2974 : 			rect->top -= by;

  00112	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  00116	8b 4d 10	 mov	 ecx, DWORD PTR _rect$[ebp]
  00119	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0011c	2b d0		 sub	 edx, eax
  0011e	8b 45 10	 mov	 eax, DWORD PTR _rect$[ebp]
  00121	89 50 04	 mov	 DWORD PTR [eax+4], edx

; 2975 : 			y0 = 0;

  00124	33 c0		 xor	 eax, eax
  00126	66 89 45 dc	 mov	 WORD PTR _y0$5[ebp], ax
$LN7@DrawSurfac:

; 2976 : 		}
; 2977 : 		// ?î ?????
; 2978 : 		if (by + h > lpDraw->ySize) {

  0012a	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  0012e	03 45 c4	 add	 eax, DWORD PTR _h$3[ebp]
  00131	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00137	3b 81 88 00 00
	00		 cmp	 eax, DWORD PTR [ecx+136]
  0013d	7e 21		 jle	 SHORT $LN8@DrawSurfac

; 2979 : 			rect->bottom -= by + h - lpDraw->ySize;

  0013f	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  00143	03 45 c4	 add	 eax, DWORD PTR _h$3[ebp]
  00146	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0014c	2b 81 88 00 00
	00		 sub	 eax, DWORD PTR [ecx+136]
  00152	8b 55 10	 mov	 edx, DWORD PTR _rect$[ebp]
  00155	8b 4a 0c	 mov	 ecx, DWORD PTR [edx+12]
  00158	2b c8		 sub	 ecx, eax
  0015a	8b 55 10	 mov	 edx, DWORD PTR _rect$[ebp]
  0015d	89 4a 0c	 mov	 DWORD PTR [edx+12], ecx
$LN8@DrawSurfac:

; 2980 : 		}
; 2981 : 
; 2982 : #ifdef _STONDEBUG_		
; 2983 : 		// ??î¸î???????????????
; 2984 : 		SurfaceDispCnt++;
; 2985 : #endif
; 2986 : 
; 2987 : 		// ??????????î²î¿?
; 2988 : 		//return lpDraw->lpBACKBUFFER->BltFast( x0, y0, lpSurface, rect, DDBLTFAST_SRCCOLORKEY | DDBLTFAST_WAIT );
; 2989 : 		return lpDraw->lpBACKBUFFER->BltFast(x0, y0, lpSurface, rect, DDBLTFAST_WAIT);

  00160	8b f4		 mov	 esi, esp
  00162	6a 10		 push	 16			; 00000010H
  00164	8b 45 10	 mov	 eax, DWORD PTR _rect$[ebp]
  00167	50		 push	 eax
  00168	8b 4d 14	 mov	 ecx, DWORD PTR _lpSurface$[ebp]
  0016b	51		 push	 ecx
  0016c	0f bf 55 dc	 movsx	 edx, WORD PTR _y0$5[ebp]
  00170	52		 push	 edx
  00171	0f bf 45 e8	 movsx	 eax, WORD PTR _x0$6[ebp]
  00175	50		 push	 eax
  00176	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0017c	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0017f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00184	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00187	8b 12		 mov	 edx, DWORD PTR [edx]
  00189	51		 push	 ecx
  0018a	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0018d	ff d0		 call	 eax
  0018f	3b f4		 cmp	 esi, esp
  00191	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00196	eb 2c		 jmp	 SHORT $LN1@DrawSurfac
__catch$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z$0:

; 2990 : 	}
; 2991 : 	catch (...)
; 2992 : 	{
; 2993 : 		return  E_FAIL;

  00198	c7 85 f8 fe ff
	ff 05 40 00 80	 mov	 DWORD PTR $T2[ebp], -2147467259 ; 80004005H
  001a2	b8 00 00 00 00	 mov	 eax, $LN13@DrawSurfac
  001a7	c3		 ret	 0

; 2994 : 	}

  001a8	b8 00 00 00 00	 mov	 eax, __tryend$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z$1
  001ad	c3		 ret	 0
__tryend$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z$1:
  001ae	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  001b5	eb 0d		 jmp	 SHORT $LN1@DrawSurfac
$LN13@DrawSurfac:
  001b7	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1

; 2990 : 	}
; 2991 : 	catch (...)
; 2992 : 	{
; 2993 : 		return  E_FAIL;

  001be	8b 85 f8 fe ff
	ff		 mov	 eax, DWORD PTR $T2[ebp]
$LN1@DrawSurfac:

; 2995 : 	
; 2996 : }

  001c4	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  001c7	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  001ce	59		 pop	 ecx
  001cf	5f		 pop	 edi
  001d0	5e		 pop	 esi
  001d1	5b		 pop	 ebx
  001d2	81 c4 0c 01 00
	00		 add	 esp, 268		; 0000010cH
  001d8	3b ec		 cmp	 ebp, esp
  001da	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001df	8b e5		 mov	 esp, ebp
  001e1	5d		 pop	 ebp
  001e2	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a f0 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-272]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawSurfaceFast2@@YAJFFPAUtagRECT@@PAUIDirectDrawSurface@@@Z ENDP ; DrawSurfaceFast2
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z
_TEXT	SEGMENT
$T2 = -537						; size = 1
_pDest3$3 = -336					; size = 4
_pDest3$4 = -324					; size = 4
_pDest2$5 = -312					; size = 4
_pixel$6 = -300						; size = 2
_j$7 = -288						; size = 4
_pDest3$8 = -276					; size = 4
_pDest3$9 = -264					; size = 4
_pDest2$10 = -252					; size = 4
_pixel$11 = -240					; size = 4
_j$12 = -228						; size = 4
_i$13 = -216						; size = 4
_bmpWidth$14 = -204					; size = 4
_surfacePitch$15 = -192					; size = 4
_alphatemp$16 = -180					; size = 4
_pSource$17 = -168					; size = 4
_pDest$18 = -156					; size = 4
_ddsd$19 = -144						; size = 108
_lpSurface$20 = -28					; size = 4
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_surface_info$ = 8					; size = 4
_offsetX$ = 12						; size = 4
_offsetY$ = 16						; size = 4
_sizeX$ = 20						; size = 4
_sizeY$ = 24						; size = 4
_pBmpInfo$ = 28						; size = 4
?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z PROC ; DrawBitmapToSurface2, COMDAT

; 1263 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec 10 02 00
	00		 sub	 esp, 528		; 00000210H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd e0 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-544]
  00021	b9 84 00 00 00	 mov	 ecx, 132		; 00000084H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00037	50		 push	 eax
  00038	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  0003b	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00041	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 1264 : 	
; 1265 : 	try

  00044	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0
  0004b	c6 85 e7 fd ff
	ff 00		 mov	 BYTE PTR $T2[ebp], 0

; 1266 : 	{
; 1267 : #ifdef _CACHE_SURFACE_
; 1268 : 		LPDIRECTDRAWSURFACE lpSurface = surface_info->lpSurface;
; 1269 : 		DDSURFACEDESC ddsd;
; 1270 : 		char *pDest;			//ç®çå°ææ //
; 1271 : 		char *pCache;			//ç¼å­
; 1272 : 		char *pSource; 			//æ¥æºææ //
; 1273 : 		BYTE *alphatemp;
; 1274 : 		int surfacePitch;		//source face å®½åº¦//
; 1275 : 		int bmpWidth;			//bmpå¾çå®½åº¦//
; 1276 : 		int i;
; 1277 : 
; 1278 : 		if (lpSurface == NULL) return;
; 1279 : 
; 1280 : 		surface_info->sizeX = sizeX;
; 1281 : 		surface_info->sizeY = sizeY;
; 1282 : 		surface_info->palNo = -1;
; 1283 : 		surface_info->colordepth = NewColor16Flg;
; 1284 : 
; 1285 : 		if (surface_info->lpCacheData == NULL)
; 1286 : 		{
; 1287 : 			surface_info->lpCacheData = (char *)MALLOC(SurfaceSizeX*SurfaceSizeY);
; 1288 : 			if (surface_info->lpCacheData == NULL) return;
; 1289 : 		}
; 1290 : 		memset(surface_info->lpCacheData, 0, SurfaceSizeX*SurfaceSizeY);
; 1291 : 		pCache = surface_info->lpCacheData;
; 1292 : 
; 1293 : 		ZeroMemory(&ddsd, sizeof(DDSURFACEDESC));
; 1294 : 		ddsd.dwSize = sizeof(DDSURFACEDESC);
; 1295 : 		if (lpSurface->Lock(NULL, &ddsd, DDLOCK_WAIT, NULL) != DD_OK) {
; 1296 : 			return;
; 1297 : 		}
; 1298 : 		pDest = (char *)(ddsd.lpSurface);
; 1299 : 
; 1300 : 
; 1301 : 
; 1302 : #if 0
; 1303 : 		pSource = (char *)pBmpInfo + BmpOffBits
; 1304 : 			+ offsetY * pBmpInfo->bmiHeader.biWidth + offsetX;
; 1305 : #else
; 1306 : 		pSource = pRealBinBits
; 1307 : 			+ offsetY * RealBinWidth + offsetX;
; 1308 : 		if (NewColor16Flg == 2 && displayBpp == 16) {
; 1309 : 			surface_info->lpAlphaData = (BYTE*)MALLOC(SurfaceSizeX*SurfaceSizeY);
; 1310 : 			memset(surface_info->lpAlphaData, 0, SurfaceSizeX*SurfaceSizeY);
; 1311 : 			alphatemp = surface_info->lpAlphaData;
; 1312 : 		}
; 1313 : #endif
; 1314 : 		surfacePitch = ddsd.lPitch;
; 1315 : #if 0
; 1316 : 		bmpWidth = pBmpInfo->bmiHeader.biWidth;
; 1317 : #else
; 1318 : 		bmpWidth = RealBinWidth;
; 1319 : #endif
; 1320 : 		if (ResoMode == 1) {
; 1321 : 			pSource -= bmpWidth;
; 1322 : 			sizeY >>= 1;
; 1323 : 		}
; 1324 : 		for (i = 0; i < sizeY; i++) {
; 1325 : 			if (ResoMode == 1) {
; 1326 : 				_asm {
; 1327 : 					mov		edi, [pDest]
; 1328 : 					mov		esi, [pSource]
; 1329 : 					mov		eax, [sizeX]
; 1330 : 					shr		ax, 1
; 1331 : 					mov		cx, ax
; 1332 : 					inc		esi
; 1333 : 					loop_100 :
; 1334 : 					mov		al, [esi]
; 1335 : 						mov[edi], al
; 1336 : 						inc		esi
; 1337 : 						inc		esi
; 1338 : 						inc		edi
; 1339 : 						dec 	cx
; 1340 : 						jne		loop_100
; 1341 : 				}
; 1342 : 				pSource -= bmpWidth * 2;
; 1343 : 			}
; 1344 : 			else {
; 1345 : #ifdef _HI_COLOR_32
; 1346 : 				if (displayBpp == 32) {
; 1347 : 					if (NewColor16Flg)
; 1348 : 					{
; 1349 : 						int j;
; 1350 : 						int pixel;
; 1351 : 						int * pDest2;
; 1352 : 						pDest2 = (int *)pDest;
; 1353 : 						for (j = 0; j < sizeX; j++) {
; 1354 : #ifdef _NEW_COLOR_
; 1355 : 							if (NewColor16Flg == 1) {		//rgb565
; 1356 : 								short *pDest3 = (short *)((pSource - pRealBinBits) * 2 + pRealBinBits);
; 1357 : 								if (pDest3[j] == DEF_COLORKEY)
; 1358 : 									pDest2[j] = 0;
; 1359 : 								else {
; 1360 : 									pDest2[j] = (((pDest3[j] & 0x001F) << 3) | ((pDest3[j] & 0x07E0) << 5) | ((pDest3[j] & 0xF800) << 8) | 0xFF000000);
; 1361 : 								}
; 1362 : 							}
; 1363 : 							else if (NewColor16Flg == 2) {	//rgba8888
; 1364 : 								int *pDest3 = (int *)((pSource - pRealBinBits) * 4 + pRealBinBits);
; 1365 : 								if ((pDest3[j] & 0xFF000000) >> 24 == DEF_COLORKEY)
; 1366 : 									pDest2[j] = 0;
; 1367 : 								else {
; 1368 : 									pDest2[j] = pDest3[j];
; 1369 : 								}
; 1370 : 							}
; 1371 : #endif
; 1372 : 						}
; 1373 : 					}
; 1374 : 					else //256è² ç¼å­æ°æ®
; 1375 : 					{
; 1376 : 						memcpy(pCache, pSource, sizeX);
; 1377 : 					}
; 1378 : 				}
; 1379 : 				else
; 1380 : #endif
; 1381 : 					if (displayBpp == 16) {
; 1382 : 						if (NewColor16Flg)
; 1383 : 						{
; 1384 : 
; 1385 : 							int j;
; 1386 : 							short pixel;
; 1387 : 							short *pDest2 = (short *)pDest;
; 1388 : 							for (j = 0; j < sizeX; j++) {
; 1389 : #ifdef _NEW_COLOR_
; 1390 : 								if (NewColor16Flg == 1) {		//rgb565
; 1391 : 									short *pDest3 = (short *)((pSource - pRealBinBits) * 2 + pRealBinBits);
; 1392 : 									if (pDest3[j] == DEF_COLORKEY)
; 1393 : 										pDest2[j] = 0;
; 1394 : 									else pDest2[j] = pDest3[j];
; 1395 : 								}
; 1396 : 								else if (NewColor16Flg == 2) {	//rgba8888
; 1397 : #define COLOR_TO_MTK_COLOR_SIMUL(color) ((((color) >> 19) & 0x1f) << 11) \
; 1398 : 	| ((((color) >> 10) & 0x3f) << 5)\
; 1399 : 	| (((color) >> 3) & 0x1f)
; 1400 : 									int *pDest3 = (int *)((pSource - pRealBinBits) * 4 + pRealBinBits);
; 1401 : 									if ((pDest3[j] & 0xFF000000) >> 24 == DEF_COLORKEY) {
; 1402 : 										pDest2[j] = 0;
; 1403 : 										alphatemp[i * 64 + j] = 0;
; 1404 : 									}
; 1405 : 									else {
; 1406 : 										alphatemp[i * 64 + j] = (pDest3[j] & 0xFF000000) >> 24;
; 1407 : 										pDest2[j] = COLOR_TO_MTK_COLOR_SIMUL(pDest3[j]);
; 1408 : 									}
; 1409 : 								}
; 1410 : #endif
; 1411 : 							}
; 1412 : 						}
; 1413 : 						else  //256è²
; 1414 : 						{
; 1415 : 							memcpy(pCache, pSource, sizeX);
; 1416 : 						}
; 1417 : 					}
; 1418 : 					else {
; 1419 : 						memcpy(pDest, pSource, sizeX);
; 1420 : 					}
; 1421 : 					pSource -= bmpWidth;
; 1422 : 
; 1423 : 			}
; 1424 : 			pDest += surfacePitch;
; 1425 : 			pCache += SurfaceSizeX;
; 1426 : 		}
; 1427 : 		if (lpSurface->Unlock(NULL) != DD_OK) {
; 1428 : 			return;
; 1429 : 		}
; 1430 : #else
; 1431 : 		LPDIRECTDRAWSURFACE lpSurface = surface_info->lpSurface;

  00052	8b 45 08	 mov	 eax, DWORD PTR _surface_info$[ebp]
  00055	8b 08		 mov	 ecx, DWORD PTR [eax]
  00057	89 4d e4	 mov	 DWORD PTR _lpSurface$20[ebp], ecx

; 1432 : 		DDSURFACEDESC ddsd;
; 1433 : 		char *pDest;			//ç®çå°ææ //
; 1434 : 		char *pSource; 		//æ¥æºææ //
; 1435 : 		BYTE *alphatemp;
; 1436 : 		int surfacePitch;	//source face å®½åº¦//
; 1437 : 		int bmpWidth;			//bmpå¾çå®½åº¦//
; 1438 : 		int i;
; 1439 : 
; 1440 : 		if (lpSurface == NULL) return;

  0005a	83 7d e4 00	 cmp	 DWORD PTR _lpSurface$20[ebp], 0
  0005e	0f 84 47 06 00
	00		 je	 $LN1@DrawBitmap

; 1441 : 		ZeroMemory(&ddsd, sizeof(DDSURFACEDESC));

  00064	6a 6c		 push	 108			; 0000006cH
  00066	6a 00		 push	 0
  00068	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$19[ebp]
  0006e	50		 push	 eax
  0006f	e8 00 00 00 00	 call	 _memset
  00074	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1442 : 		ddsd.dwSize = sizeof(DDSURFACEDESC);

  00077	c7 85 70 ff ff
	ff 6c 00 00 00	 mov	 DWORD PTR _ddsd$19[ebp], 108 ; 0000006cH

; 1443 : 		if (lpSurface->Lock(NULL, &ddsd, DDLOCK_WAIT, NULL) != DD_OK) {

  00081	8b f4		 mov	 esi, esp
  00083	6a 00		 push	 0
  00085	6a 01		 push	 1
  00087	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _ddsd$19[ebp]
  0008d	50		 push	 eax
  0008e	6a 00		 push	 0
  00090	8b 4d e4	 mov	 ecx, DWORD PTR _lpSurface$20[ebp]
  00093	8b 11		 mov	 edx, DWORD PTR [ecx]
  00095	8b 45 e4	 mov	 eax, DWORD PTR _lpSurface$20[ebp]
  00098	50		 push	 eax
  00099	8b 4a 64	 mov	 ecx, DWORD PTR [edx+100]
  0009c	ff d1		 call	 ecx
  0009e	3b f4		 cmp	 esi, esp
  000a0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a5	85 c0		 test	 eax, eax
  000a7	0f 85 fe 05 00
	00		 jne	 $LN1@DrawBitmap

; 1444 : 			return;
; 1445 : 		}
; 1446 : 		pDest = (char *)(ddsd.lpSurface);

  000ad	8b 45 94	 mov	 eax, DWORD PTR _ddsd$19[ebp+36]
  000b0	89 85 64 ff ff
	ff		 mov	 DWORD PTR _pDest$18[ebp], eax

; 1447 : #if 0
; 1448 : 		pSource = (char *)pBmpInfo + BmpOffBits
; 1449 : 			+ offsetY * pBmpInfo->bmiHeader.biWidth + offsetX;
; 1450 : #else
; 1451 : 		pSource = pRealBinBits

  000b6	8b 45 10	 mov	 eax, DWORD PTR _offsetY$[ebp]
  000b9	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?RealBinWidth@@3HA ; RealBinWidth
  000c0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  000c6	03 45 0c	 add	 eax, DWORD PTR _offsetX$[ebp]
  000c9	89 85 58 ff ff
	ff		 mov	 DWORD PTR _pSource$17[ebp], eax

; 1452 : 			+ offsetY * RealBinWidth + offsetX;
; 1453 : 		if (NewColor16Flg == 2 && displayBpp == 16) {

  000cf	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?NewColor16Flg@@3HA, 2 ; NewColor16Flg
  000d6	75 5f		 jne	 SHORT $LN14@DrawBitmap
  000d8	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  000df	75 56		 jne	 SHORT $LN14@DrawBitmap

; 1454 : 			surface_info->lpAlphaData = (BYTE*)MALLOC(SurfaceSizeX*SurfaceSizeY);

  000e1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SurfaceSizeX@@3HA ; SurfaceSizeX
  000e6	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?SurfaceSizeY@@3HA ; SurfaceSizeY
  000ed	8b f4		 mov	 esi, esp
  000ef	50		 push	 eax
  000f0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__malloc
  000f6	83 c4 04	 add	 esp, 4
  000f9	3b f4		 cmp	 esi, esp
  000fb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00100	8b 4d 08	 mov	 ecx, DWORD PTR _surface_info$[ebp]
  00103	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 1455 : 			memset(surface_info->lpAlphaData, 0, SurfaceSizeX*SurfaceSizeY);

  00106	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SurfaceSizeX@@3HA ; SurfaceSizeX
  0010b	0f af 05 00 00
	00 00		 imul	 eax, DWORD PTR ?SurfaceSizeY@@3HA ; SurfaceSizeY
  00112	50		 push	 eax
  00113	6a 00		 push	 0
  00115	8b 4d 08	 mov	 ecx, DWORD PTR _surface_info$[ebp]
  00118	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0011b	52		 push	 edx
  0011c	e8 00 00 00 00	 call	 _memset
  00121	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1456 : 			alphatemp = surface_info->lpAlphaData;

  00124	c6 85 e7 fd ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  0012b	8b 45 08	 mov	 eax, DWORD PTR _surface_info$[ebp]
  0012e	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00131	89 8d 4c ff ff
	ff		 mov	 DWORD PTR _alphatemp$16[ebp], ecx
$LN14@DrawBitmap:

; 1457 : 		}
; 1458 : #endif
; 1459 : 		surfacePitch = ddsd.lPitch;

  00137	8b 45 80	 mov	 eax, DWORD PTR _ddsd$19[ebp+16]
  0013a	89 85 40 ff ff
	ff		 mov	 DWORD PTR _surfacePitch$15[ebp], eax

; 1460 : #if 0
; 1461 : 		bmpWidth = pBmpInfo->bmiHeader.biWidth;
; 1462 : #else
; 1463 : 		bmpWidth = RealBinWidth;

  00140	a1 00 00 00 00	 mov	 eax, DWORD PTR ?RealBinWidth@@3HA ; RealBinWidth
  00145	89 85 34 ff ff
	ff		 mov	 DWORD PTR _bmpWidth$14[ebp], eax

; 1464 : #endif
; 1465 : 		if (ResoMode == 1) {

  0014b	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  00152	75 1a		 jne	 SHORT $LN15@DrawBitmap

; 1466 : 			pSource -= bmpWidth;

  00154	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  0015a	2b 85 34 ff ff
	ff		 sub	 eax, DWORD PTR _bmpWidth$14[ebp]
  00160	89 85 58 ff ff
	ff		 mov	 DWORD PTR _pSource$17[ebp], eax

; 1467 : 			sizeY >>= 1;

  00166	8b 45 18	 mov	 eax, DWORD PTR _sizeY$[ebp]
  00169	d1 f8		 sar	 eax, 1
  0016b	89 45 18	 mov	 DWORD PTR _sizeY$[ebp], eax
$LN15@DrawBitmap:

; 1468 : 		}
; 1469 : 		for (i = 0; i < sizeY; i++) {

  0016e	c7 85 28 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$13[ebp], 0
  00178	eb 0f		 jmp	 SHORT $LN4@DrawBitmap
$LN2@DrawBitmap:
  0017a	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _i$13[ebp]
  00180	83 c0 01	 add	 eax, 1
  00183	89 85 28 ff ff
	ff		 mov	 DWORD PTR _i$13[ebp], eax
$LN4@DrawBitmap:
  00189	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _i$13[ebp]
  0018f	3b 45 18	 cmp	 eax, DWORD PTR _sizeY$[ebp]
  00192	0f 8d db 04 00
	00		 jge	 $LN3@DrawBitmap

; 1470 : 			if (ResoMode == 1) {

  00198	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?ResoMode@@3HA, 1 ; ResoMode
  0019f	75 3c		 jne	 SHORT $LN16@DrawBitmap

; 1471 : 				_asm {
; 1472 : 					mov		edi, [pDest]

  001a1	8b bd 64 ff ff
	ff		 mov	 edi, DWORD PTR _pDest$18[ebp]

; 1473 : 					mov		esi, [pSource]

  001a7	8b b5 58 ff ff
	ff		 mov	 esi, DWORD PTR _pSource$17[ebp]

; 1474 : 					mov		eax, [sizeX]

  001ad	8b 45 14	 mov	 eax, DWORD PTR _sizeX$[ebp]

; 1475 : 					shr		ax, 1

  001b0	66 d1 e8	 shr	 ax, 1

; 1476 : 					mov		cx, ax

  001b3	66 8b c8	 mov	 cx, ax

; 1477 : 					inc		esi

  001b6	46		 inc	 esi
$loop_100$59:

; 1478 : 					loop_100 :
; 1479 : 					mov		al, [esi]

  001b7	8a 06		 mov	 al, BYTE PTR [esi]

; 1480 : 						mov[edi], al

  001b9	88 07		 mov	 BYTE PTR [edi], al

; 1481 : 						inc		esi

  001bb	46		 inc	 esi

; 1482 : 						inc		esi

  001bc	46		 inc	 esi

; 1483 : 						inc		edi

  001bd	47		 inc	 edi

; 1484 : 						dec 	cx

  001be	66 49		 dec	 cx

; 1485 : 						jne		loop_100

  001c0	75 f5		 jne	 SHORT $loop_100$59

; 1486 : 				}
; 1487 : 				pSource -= bmpWidth * 2;

  001c2	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _bmpWidth$14[ebp]
  001c8	d1 e0		 shl	 eax, 1
  001ca	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pSource$17[ebp]
  001d0	2b c8		 sub	 ecx, eax
  001d2	89 8d 58 ff ff
	ff		 mov	 DWORD PTR _pSource$17[ebp], ecx

; 1488 : 			}
; 1489 : 			else {

  001d8	e9 7f 04 00 00	 jmp	 $LN17@DrawBitmap
$LN16@DrawBitmap:

; 1490 : #ifdef _HI_COLOR_32
; 1491 : 				if (displayBpp == 32) {

  001dd	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  001e4	0f 85 e2 01 00
	00		 jne	 $LN18@DrawBitmap

; 1492 : 					int j;
; 1493 : 					int pixel;
; 1494 : 					int * pDest2;
; 1495 : 					pDest2 = (int *)pDest;

  001ea	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$18[ebp]
  001f0	89 85 04 ff ff
	ff		 mov	 DWORD PTR _pDest2$10[ebp], eax

; 1496 : 					for (j = 0; j < sizeX; j++) {

  001f6	c7 85 1c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$12[ebp], 0
  00200	eb 0f		 jmp	 SHORT $LN7@DrawBitmap
$LN5@DrawBitmap:
  00202	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  00208	83 c0 01	 add	 eax, 1
  0020b	89 85 1c ff ff
	ff		 mov	 DWORD PTR _j$12[ebp], eax
$LN7@DrawBitmap:
  00211	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  00217	3b 45 14	 cmp	 eax, DWORD PTR _sizeX$[ebp]
  0021a	0f 8d a7 01 00
	00		 jge	 $LN6@DrawBitmap

; 1497 : #ifdef _NEW_COLOR_
; 1498 : 						if (NewColor16Flg == 1) {

  00220	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?NewColor16Flg@@3HA, 1 ; NewColor16Flg
  00227	0f 85 a9 00 00
	00		 jne	 $LN20@DrawBitmap

; 1499 : 							short *pDest3 = (short *)((pSource - pRealBinBits) * 2 + pRealBinBits);

  0022d	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  00233	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  00239	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  0023f	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  00242	89 95 f8 fe ff
	ff		 mov	 DWORD PTR _pDest3$9[ebp], edx

; 1500 : 							if (pDest3[j] == DEF_COLORKEY)

  00248	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  0024e	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$9[ebp]
  00254	0f bf 14 41	 movsx	 edx, WORD PTR [ecx+eax*2]
  00258	85 d2		 test	 edx, edx
  0025a	75 15		 jne	 SHORT $LN22@DrawBitmap

; 1501 : 								pDest2[j] = 0;

  0025c	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  00262	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$10[ebp]
  00268	c7 04 81 00 00
	00 00		 mov	 DWORD PTR [ecx+eax*4], 0

; 1502 : 							else {

  0026f	eb 60		 jmp	 SHORT $LN23@DrawBitmap
$LN22@DrawBitmap:

; 1503 : 								pDest2[j] = (((pDest3[j] & 0x001F) << 3) | ((pDest3[j] & 0x07E0) << 5) | ((pDest3[j] & 0xF800) << 8) | 0xFF000000);

  00271	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  00277	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$9[ebp]
  0027d	0f bf 14 41	 movsx	 edx, WORD PTR [ecx+eax*2]
  00281	83 e2 1f	 and	 edx, 31			; 0000001fH
  00284	c1 e2 03	 shl	 edx, 3
  00287	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  0028d	8b 8d f8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$9[ebp]
  00293	0f bf 04 41	 movsx	 eax, WORD PTR [ecx+eax*2]
  00297	25 e0 07 00 00	 and	 eax, 2016		; 000007e0H
  0029c	c1 e0 05	 shl	 eax, 5
  0029f	0b d0		 or	 edx, eax
  002a1	8b 8d 1c ff ff
	ff		 mov	 ecx, DWORD PTR _j$12[ebp]
  002a7	8b 85 f8 fe ff
	ff		 mov	 eax, DWORD PTR _pDest3$9[ebp]
  002ad	0f bf 0c 48	 movsx	 ecx, WORD PTR [eax+ecx*2]
  002b1	81 e1 00 f8 00
	00		 and	 ecx, 63488		; 0000f800H
  002b7	c1 e1 08	 shl	 ecx, 8
  002ba	0b d1		 or	 edx, ecx
  002bc	81 ca 00 00 00
	ff		 or	 edx, -16777216		; ff000000H
  002c2	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  002c8	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$10[ebp]
  002ce	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx
$LN23@DrawBitmap:

; 1504 : 							}

  002d1	e9 ec 00 00 00	 jmp	 $LN21@DrawBitmap
$LN20@DrawBitmap:

; 1505 : 						}
; 1506 : 						else if (NewColor16Flg == 2) {

  002d6	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?NewColor16Flg@@3HA, 2 ; NewColor16Flg
  002dd	75 6c		 jne	 SHORT $LN24@DrawBitmap

; 1507 : 							int *pDest3 = (int *)((pSource - pRealBinBits) * 4 + pRealBinBits);

  002df	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  002e5	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  002eb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  002f1	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  002f4	89 95 ec fe ff
	ff		 mov	 DWORD PTR _pDest3$8[ebp], edx

; 1508 : 							if ((pDest3[j] & 0xFF000000) >> 24 == DEF_COLORKEY)

  002fa	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  00300	8b 8d ec fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$8[ebp]
  00306	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  00309	81 e2 00 00 00
	ff		 and	 edx, -16777216		; ff000000H
  0030f	c1 ea 18	 shr	 edx, 24			; 00000018H
  00312	85 d2		 test	 edx, edx
  00314	75 15		 jne	 SHORT $LN26@DrawBitmap

; 1509 : 								pDest2[j] = 0;

  00316	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  0031c	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$10[ebp]
  00322	c7 04 81 00 00
	00 00		 mov	 DWORD PTR [ecx+eax*4], 0

; 1510 : 							else {

  00329	eb 1e		 jmp	 SHORT $LN27@DrawBitmap
$LN26@DrawBitmap:

; 1511 : 								pDest2[j] = pDest3[j];

  0032b	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  00331	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$10[ebp]
  00337	8b 95 1c ff ff
	ff		 mov	 edx, DWORD PTR _j$12[ebp]
  0033d	8b b5 ec fe ff
	ff		 mov	 esi, DWORD PTR _pDest3$8[ebp]
  00343	8b 14 96	 mov	 edx, DWORD PTR [esi+edx*4]
  00346	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx
$LN27@DrawBitmap:

; 1512 : 							}
; 1513 : 						}
; 1514 : 						else {

  00349	eb 77		 jmp	 SHORT $LN21@DrawBitmap
$LN24@DrawBitmap:

; 1515 : #endif
; 1516 : 							if (pSource[j] == DEF_COLORKEY) {

  0034b	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  00351	03 85 1c ff ff
	ff		 add	 eax, DWORD PTR _j$12[ebp]
  00357	0f be 08	 movsx	 ecx, BYTE PTR [eax]
  0035a	85 c9		 test	 ecx, ecx
  0035c	75 15		 jne	 SHORT $LN28@DrawBitmap

; 1517 : 								pDest2[j] = 0;

  0035e	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  00364	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$10[ebp]
  0036a	c7 04 81 00 00
	00 00		 mov	 DWORD PTR [ecx+eax*4], 0

; 1518 : 							}
; 1519 : 							else {

  00371	eb 4f		 jmp	 SHORT $LN21@DrawBitmap
$LN28@DrawBitmap:

; 1520 : 								pixel = highColor32Palette[(unsigned char)pSource[j]];

  00373	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  00379	03 85 1c ff ff
	ff		 add	 eax, DWORD PTR _j$12[ebp]
  0037f	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00382	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?highColor32Palette@@3PAIA[ecx*4]
  00389	89 95 10 ff ff
	ff		 mov	 DWORD PTR _pixel$11[ebp], edx

; 1521 : 								if (pixel == 0) {

  0038f	83 bd 10 ff ff
	ff 00		 cmp	 DWORD PTR _pixel$11[ebp], 0
  00396	75 15		 jne	 SHORT $LN30@DrawBitmap

; 1522 : 									pDest2[j] = 1;

  00398	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  0039e	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$10[ebp]
  003a4	c7 04 81 01 00
	00 00		 mov	 DWORD PTR [ecx+eax*4], 1

; 1523 : 								}
; 1524 : 								else {

  003ab	eb 15		 jmp	 SHORT $LN21@DrawBitmap
$LN30@DrawBitmap:

; 1525 : 									pDest2[j] = pixel;

  003ad	8b 85 1c ff ff
	ff		 mov	 eax, DWORD PTR _j$12[ebp]
  003b3	8b 8d 04 ff ff
	ff		 mov	 ecx, DWORD PTR _pDest2$10[ebp]
  003b9	8b 95 10 ff ff
	ff		 mov	 edx, DWORD PTR _pixel$11[ebp]
  003bf	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx
$LN21@DrawBitmap:

; 1526 : 								}
; 1527 : 							}
; 1528 : #ifdef _NEW_COLOR_
; 1529 : 						}
; 1530 : #endif
; 1531 : 					}

  003c2	e9 3b fe ff ff	 jmp	 $LN5@DrawBitmap
$LN6@DrawBitmap:

; 1532 : 				}
; 1533 : 				else

  003c7	e9 7e 02 00 00	 jmp	 $LN19@DrawBitmap
$LN18@DrawBitmap:

; 1534 : #endif
; 1535 : 					if (displayBpp == 16) {

  003cc	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  003d3	0f 85 57 02 00
	00		 jne	 $LN32@DrawBitmap

; 1536 : 						int j;
; 1537 : 						short pixel;
; 1538 : 						short *pDest2 = (short *)pDest;

  003d9	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$18[ebp]
  003df	89 85 c8 fe ff
	ff		 mov	 DWORD PTR _pDest2$5[ebp], eax

; 1539 : 						for (j = 0; j < sizeX; j++) {

  003e5	c7 85 e0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _j$7[ebp], 0
  003ef	eb 0f		 jmp	 SHORT $LN10@DrawBitmap
$LN8@DrawBitmap:
  003f1	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  003f7	83 c0 01	 add	 eax, 1
  003fa	89 85 e0 fe ff
	ff		 mov	 DWORD PTR _j$7[ebp], eax
$LN10@DrawBitmap:
  00400	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  00406	3b 45 14	 cmp	 eax, DWORD PTR _sizeX$[ebp]
  00409	0f 8d 1f 02 00
	00		 jge	 $LN9@DrawBitmap

; 1540 : #ifdef _NEW_COLOR_
; 1541 : 							if (NewColor16Flg == 1) {

  0040f	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?NewColor16Flg@@3HA, 1 ; NewColor16Flg
  00416	75 68		 jne	 SHORT $LN34@DrawBitmap

; 1542 : 								short *pDest3 = (short *)((pSource - pRealBinBits) * 2 + pRealBinBits);

  00418	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  0041e	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  00424	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  0042a	8d 14 41	 lea	 edx, DWORD PTR [ecx+eax*2]
  0042d	89 95 bc fe ff
	ff		 mov	 DWORD PTR _pDest3$4[ebp], edx

; 1543 : 								if (pDest3[j] == DEF_COLORKEY)

  00433	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  00439	8b 8d bc fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$4[ebp]
  0043f	0f bf 14 41	 movsx	 edx, WORD PTR [ecx+eax*2]
  00443	85 d2		 test	 edx, edx
  00445	75 14		 jne	 SHORT $LN36@DrawBitmap

; 1544 : 									pDest2[j] = 0;

  00447	33 c0		 xor	 eax, eax
  00449	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _j$7[ebp]
  0044f	8b 95 c8 fe ff
	ff		 mov	 edx, DWORD PTR _pDest2$5[ebp]
  00455	66 89 04 4a	 mov	 WORD PTR [edx+ecx*2], ax
  00459	eb 20		 jmp	 SHORT $LN37@DrawBitmap
$LN36@DrawBitmap:

; 1545 : 								else pDest2[j] = pDest3[j];

  0045b	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  00461	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest2$5[ebp]
  00467	8b 95 e0 fe ff
	ff		 mov	 edx, DWORD PTR _j$7[ebp]
  0046d	8b b5 bc fe ff
	ff		 mov	 esi, DWORD PTR _pDest3$4[ebp]
  00473	66 8b 14 56	 mov	 dx, WORD PTR [esi+edx*2]
  00477	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx
$LN37@DrawBitmap:
  0047b	e9 a9 01 00 00	 jmp	 $LN35@DrawBitmap
$LN34@DrawBitmap:

; 1546 : 							}
; 1547 : 							else if (NewColor16Flg == 2) {

  00480	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?NewColor16Flg@@3HA, 2 ; NewColor16Flg
  00487	0f 85 1e 01 00
	00		 jne	 $LN38@DrawBitmap

; 1548 : #define COLOR_TO_MTK_COLOR_SIMUL(color) ((((color) >> 19) & 0x1f) << 11) \
; 1549 : 	|((((color) >> 10) & 0x3f) << 5)\
; 1550 : 	|(((color) >> 3) & 0x1f)
; 1551 : 								int *pDest3 = (int *)((pSource - pRealBinBits) * 4 + pRealBinBits);

  0048d	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  00493	2b 05 00 00 00
	00		 sub	 eax, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  00499	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pRealBinBits@@3PADA ; pRealBinBits
  0049f	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  004a2	89 95 b0 fe ff
	ff		 mov	 DWORD PTR _pDest3$3[ebp], edx

; 1552 : 								if ((pDest3[j] & 0xFF000000) >> 24 == DEF_COLORKEY) {

  004a8	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  004ae	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$3[ebp]
  004b4	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  004b7	81 e2 00 00 00
	ff		 and	 edx, -16777216		; ff000000H
  004bd	c1 ea 18	 shr	 edx, 24			; 00000018H
  004c0	85 d2		 test	 edx, edx
  004c2	75 46		 jne	 SHORT $LN40@DrawBitmap

; 1553 : 									pDest2[j] = 0;

  004c4	33 c0		 xor	 eax, eax
  004c6	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _j$7[ebp]
  004cc	8b 95 c8 fe ff
	ff		 mov	 edx, DWORD PTR _pDest2$5[ebp]
  004d2	66 89 04 4a	 mov	 WORD PTR [edx+ecx*2], ax

; 1554 : 									alphatemp[i * 64 + j] = 0;

  004d6	80 bd e7 fd ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  004dd	75 0d		 jne	 SHORT $LN52@DrawBitmap
  004df	68 00 00 00 00	 push	 OFFSET $LN53@DrawBitmap
  004e4	e8 00 00 00 00	 call	 __RTC_UninitUse
  004e9	83 c4 04	 add	 esp, 4
$LN52@DrawBitmap:
  004ec	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _i$13[ebp]
  004f2	c1 e0 06	 shl	 eax, 6
  004f5	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _j$7[ebp]
  004fb	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _alphatemp$16[ebp]
  00501	c6 04 01 00	 mov	 BYTE PTR [ecx+eax], 0

; 1555 : 								}
; 1556 : 								else {

  00505	e9 9f 00 00 00	 jmp	 $LN41@DrawBitmap
$LN40@DrawBitmap:

; 1557 : 									alphatemp[i * 64 + j] = (pDest3[j] & 0xFF000000) >> 24;

  0050a	80 bd e7 fd ff
	ff 00		 cmp	 BYTE PTR $T2[ebp], 0
  00511	75 0d		 jne	 SHORT $LN54@DrawBitmap
  00513	68 00 00 00 00	 push	 OFFSET $LN53@DrawBitmap
  00518	e8 00 00 00 00	 call	 __RTC_UninitUse
  0051d	83 c4 04	 add	 esp, 4
$LN54@DrawBitmap:
  00520	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  00526	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$3[ebp]
  0052c	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  0052f	81 e2 00 00 00
	ff		 and	 edx, -16777216		; ff000000H
  00535	c1 ea 18	 shr	 edx, 24			; 00000018H
  00538	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _i$13[ebp]
  0053e	c1 e0 06	 shl	 eax, 6
  00541	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _j$7[ebp]
  00547	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _alphatemp$16[ebp]
  0054d	88 14 01	 mov	 BYTE PTR [ecx+eax], dl

; 1558 : 									pDest2[j] = COLOR_TO_MTK_COLOR_SIMUL(pDest3[j]);

  00550	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  00556	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$3[ebp]
  0055c	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  0055f	c1 fa 13	 sar	 edx, 19			; 00000013H
  00562	83 e2 1f	 and	 edx, 31			; 0000001fH
  00565	c1 e2 0b	 shl	 edx, 11			; 0000000bH
  00568	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  0056e	8b 8d b0 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest3$3[ebp]
  00574	8b 04 81	 mov	 eax, DWORD PTR [ecx+eax*4]
  00577	c1 f8 0a	 sar	 eax, 10			; 0000000aH
  0057a	83 e0 3f	 and	 eax, 63			; 0000003fH
  0057d	c1 e0 05	 shl	 eax, 5
  00580	0b d0		 or	 edx, eax
  00582	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _j$7[ebp]
  00588	8b 85 b0 fe ff
	ff		 mov	 eax, DWORD PTR _pDest3$3[ebp]
  0058e	8b 0c 88	 mov	 ecx, DWORD PTR [eax+ecx*4]
  00591	c1 f9 03	 sar	 ecx, 3
  00594	83 e1 1f	 and	 ecx, 31			; 0000001fH
  00597	0b d1		 or	 edx, ecx
  00599	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  0059f	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest2$5[ebp]
  005a5	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx
$LN41@DrawBitmap:

; 1559 : 								}
; 1560 : 							}
; 1561 : 							else {

  005a9	eb 7e		 jmp	 SHORT $LN35@DrawBitmap
$LN38@DrawBitmap:

; 1562 : #endif
; 1563 : 								if (pSource[j] == DEF_COLORKEY) {

  005ab	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  005b1	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _j$7[ebp]
  005b7	0f be 08	 movsx	 ecx, BYTE PTR [eax]
  005ba	85 c9		 test	 ecx, ecx
  005bc	75 14		 jne	 SHORT $LN42@DrawBitmap

; 1564 : 									pDest2[j] = 0;

  005be	33 c0		 xor	 eax, eax
  005c0	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _j$7[ebp]
  005c6	8b 95 c8 fe ff
	ff		 mov	 edx, DWORD PTR _pDest2$5[ebp]
  005cc	66 89 04 4a	 mov	 WORD PTR [edx+ecx*2], ax

; 1565 : 								}
; 1566 : 								else {

  005d0	eb 57		 jmp	 SHORT $LN35@DrawBitmap
$LN42@DrawBitmap:

; 1567 : 									pixel = highColorPalette[(unsigned char)pSource[j]];

  005d2	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  005d8	03 85 e0 fe ff
	ff		 add	 eax, DWORD PTR _j$7[ebp]
  005de	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  005e1	66 8b 14 4d 00
	00 00 00	 mov	 dx, WORD PTR ?highColorPalette@@3PAGA[ecx*2]
  005e9	66 89 95 d4 fe
	ff ff		 mov	 WORD PTR _pixel$6[ebp], dx

; 1568 : 									if (pixel == 0) {

  005f0	0f bf 85 d4 fe
	ff ff		 movsx	 eax, WORD PTR _pixel$6[ebp]
  005f7	85 c0		 test	 eax, eax
  005f9	75 17		 jne	 SHORT $LN44@DrawBitmap

; 1569 : 										pDest2[j] = 1;

  005fb	b8 01 00 00 00	 mov	 eax, 1
  00600	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _j$7[ebp]
  00606	8b 95 c8 fe ff
	ff		 mov	 edx, DWORD PTR _pDest2$5[ebp]
  0060c	66 89 04 4a	 mov	 WORD PTR [edx+ecx*2], ax

; 1570 : 									}
; 1571 : 									else {

  00610	eb 17		 jmp	 SHORT $LN35@DrawBitmap
$LN44@DrawBitmap:

; 1572 : 										pDest2[j] = pixel;

  00612	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _j$7[ebp]
  00618	8b 8d c8 fe ff
	ff		 mov	 ecx, DWORD PTR _pDest2$5[ebp]
  0061e	66 8b 95 d4 fe
	ff ff		 mov	 dx, WORD PTR _pixel$6[ebp]
  00625	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx
$LN35@DrawBitmap:

; 1573 : 									}
; 1574 : 								}
; 1575 : #ifdef _NEW_COLOR_
; 1576 : 							}
; 1577 : #endif
; 1578 : 						}

  00629	e9 c3 fd ff ff	 jmp	 $LN8@DrawBitmap
$LN9@DrawBitmap:

; 1579 : 
; 1580 : 
; 1581 : 
; 1582 : 
; 1583 : 
; 1584 : 					}
; 1585 : 					else {

  0062e	eb 1a		 jmp	 SHORT $LN19@DrawBitmap
$LN32@DrawBitmap:

; 1586 : 						memcpy(pDest, pSource, sizeX);

  00630	8b 45 14	 mov	 eax, DWORD PTR _sizeX$[ebp]
  00633	50		 push	 eax
  00634	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _pSource$17[ebp]
  0063a	51		 push	 ecx
  0063b	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _pDest$18[ebp]
  00641	52		 push	 edx
  00642	e8 00 00 00 00	 call	 _memcpy
  00647	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN19@DrawBitmap:

; 1587 : 					}
; 1588 : 					pSource -= bmpWidth;

  0064a	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _pSource$17[ebp]
  00650	2b 85 34 ff ff
	ff		 sub	 eax, DWORD PTR _bmpWidth$14[ebp]
  00656	89 85 58 ff ff
	ff		 mov	 DWORD PTR _pSource$17[ebp], eax
$LN17@DrawBitmap:

; 1589 : 
; 1590 : 			}
; 1591 : 			pDest += surfacePitch;

  0065c	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _pDest$18[ebp]
  00662	03 85 40 ff ff
	ff		 add	 eax, DWORD PTR _surfacePitch$15[ebp]
  00668	89 85 64 ff ff
	ff		 mov	 DWORD PTR _pDest$18[ebp], eax

; 1592 : 		}

  0066e	e9 07 fb ff ff	 jmp	 $LN2@DrawBitmap
$LN3@DrawBitmap:

; 1593 : 		if (lpSurface->Unlock(NULL) != DD_OK) {

  00673	8b f4		 mov	 esi, esp
  00675	6a 00		 push	 0
  00677	8b 45 e4	 mov	 eax, DWORD PTR _lpSurface$20[ebp]
  0067a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0067c	8b 55 e4	 mov	 edx, DWORD PTR _lpSurface$20[ebp]
  0067f	52		 push	 edx
  00680	8b 81 80 00 00
	00		 mov	 eax, DWORD PTR [ecx+128]
  00686	ff d0		 call	 eax
  00688	3b f4		 cmp	 esi, esp
  0068a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0068f	85 c0		 test	 eax, eax
  00691	75 18		 jne	 SHORT $LN1@DrawBitmap

; 1594 : 			return;
; 1595 : 		}
; 1596 : 		return;

  00693	eb 16		 jmp	 SHORT $LN1@DrawBitmap
__catch$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z$0:

; 1597 : #endif
; 1598 : 
; 1599 : 	}
; 1600 : 	catch (...)
; 1601 : 	{
; 1602 : 
; 1603 : 	}

  00695	b8 00 00 00 00	 mov	 eax, $LN51@DrawBitmap
  0069a	c3		 ret	 0
  0069b	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  006a2	eb 07		 jmp	 SHORT $LN1@DrawBitmap
$LN51@DrawBitmap:
  006a4	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@DrawBitmap:

; 1604 : 	
; 1605 : 
; 1606 : }

  006ab	52		 push	 edx
  006ac	8b cd		 mov	 ecx, ebp
  006ae	50		 push	 eax
  006af	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN58@DrawBitmap
  006b5	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  006ba	58		 pop	 eax
  006bb	5a		 pop	 edx
  006bc	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  006bf	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  006c6	59		 pop	 ecx
  006c7	5f		 pop	 edi
  006c8	5e		 pop	 esi
  006c9	5b		 pop	 ebx
  006ca	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  006cd	33 cd		 xor	 ecx, ebp
  006cf	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006d4	81 c4 20 02 00
	00		 add	 esp, 544		; 00000220H
  006da	3b ec		 cmp	 ebp, esp
  006dc	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006e1	8b e5		 mov	 esp, ebp
  006e3	5d		 pop	 ebp
  006e4	c3		 ret	 0
  006e5	0f 1f 00	 npad	 3
$LN58@DrawBitmap:
  006e8	01 00 00 00	 DD	 1
  006ec	00 00 00 00	 DD	 $LN57@DrawBitmap
$LN57@DrawBitmap:
  006f0	70 ff ff ff	 DD	 -144			; ffffff70H
  006f4	6c 00 00 00	 DD	 108			; 0000006cH
  006f8	00 00 00 00	 DD	 $LN55@DrawBitmap
$LN55@DrawBitmap:
  006fc	64		 DB	 100			; 00000064H
  006fd	64		 DB	 100			; 00000064H
  006fe	73		 DB	 115			; 00000073H
  006ff	64		 DB	 100			; 00000064H
  00700	00		 DB	 0
$LN53@DrawBitmap:
  00701	61		 DB	 97			; 00000061H
  00702	6c		 DB	 108			; 0000006cH
  00703	70		 DB	 112			; 00000070H
  00704	68		 DB	 104			; 00000068H
  00705	61		 DB	 97			; 00000061H
  00706	74		 DB	 116			; 00000074H
  00707	65		 DB	 101			; 00000065H
  00708	6d		 DB	 109			; 0000006dH
  00709	70		 DB	 112			; 00000070H
  0070a	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a dc fd ff
	ff		 mov	 ecx, DWORD PTR [edx-548]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawBitmapToSurface2@@YAXPAUsurfaceInfo@@HHHHPAUtagBITMAPINFO@@@Z ENDP ; DrawBitmapToSurface2
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z
_TEXT	SEGMENT
$T2 = -316						; size = 4
_rectD$3 = -112						; size = 16
_rect$4 = -88						; size = 16
_h$5 = -64						; size = 4
_w$6 = -52						; size = 4
_y0$7 = -40						; size = 2
_x0$8 = -28						; size = 2
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_bx$ = 8						; size = 2
_by$ = 12						; size = 2
_lpSurface$ = 16					; size = 4
?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z PROC	; DrawSurfaceFast, COMDAT

; 2887 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec 30 01 00
	00		 sub	 esp, 304		; 00000130H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd c0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-320]
  00021	b9 4c 00 00 00	 mov	 ecx, 76			; 0000004cH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00037	50		 push	 eax
  00038	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  0003b	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00041	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 2888 : 	try

  00044	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 2889 : 	{
; 2890 : 		short x0, y0;
; 2891 : 		long w, h;
; 2892 : 		RECT rect = { 0, 0, SurfaceSizeX, SurfaceSizeY };

  0004b	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _rect$4[ebp], 0
  00052	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _rect$4[ebp+4], 0
  00059	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SurfaceSizeX@@3HA ; SurfaceSizeX
  0005e	89 45 b0	 mov	 DWORD PTR _rect$4[ebp+8], eax
  00061	a1 00 00 00 00	 mov	 eax, DWORD PTR ?SurfaceSizeY@@3HA ; SurfaceSizeY
  00066	89 45 b4	 mov	 DWORD PTR _rect$4[ebp+12], eax

; 2893 : 		x0 = bx;

  00069	66 8b 45 08	 mov	 ax, WORD PTR _bx$[ebp]
  0006d	66 89 45 e4	 mov	 WORD PTR _x0$8[ebp], ax

; 2894 : 		y0 = by;

  00071	66 8b 45 0c	 mov	 ax, WORD PTR _by$[ebp]
  00075	66 89 45 d8	 mov	 WORD PTR _y0$7[ebp], ax

; 2895 : 		w = rect.right - rect.left;

  00079	8b 45 b0	 mov	 eax, DWORD PTR _rect$4[ebp+8]
  0007c	2b 45 a8	 sub	 eax, DWORD PTR _rect$4[ebp]
  0007f	89 45 cc	 mov	 DWORD PTR _w$6[ebp], eax

; 2896 : 		h = rect.bottom - rect.top;

  00082	8b 45 b4	 mov	 eax, DWORD PTR _rect$4[ebp+12]
  00085	2b 45 ac	 sub	 eax, DWORD PTR _rect$4[ebp+4]
  00088	89 45 c0	 mov	 DWORD PTR _h$5[ebp], eax

; 2897 : 		if (bx >= lpDraw->xSize || bx + w <= 0 || by >= lpDraw->ySize || by + h <= 0) {

  0008b	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  0008f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00095	3b 81 84 00 00
	00		 cmp	 eax, DWORD PTR [ecx+132]
  0009b	7d 28		 jge	 SHORT $LN4@DrawSurfac
  0009d	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000a1	03 45 cc	 add	 eax, DWORD PTR _w$6[ebp]
  000a4	85 c0		 test	 eax, eax
  000a6	7e 1d		 jle	 SHORT $LN4@DrawSurfac
  000a8	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  000ac	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000b2	3b 81 88 00 00
	00		 cmp	 eax, DWORD PTR [ecx+136]
  000b8	7d 0b		 jge	 SHORT $LN4@DrawSurfac
  000ba	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  000be	03 45 c0	 add	 eax, DWORD PTR _h$5[ebp]
  000c1	85 c0		 test	 eax, eax
  000c3	7f 07		 jg	 SHORT $LN3@DrawSurfac
$LN4@DrawSurfac:

; 2898 : 			return DD_OK;

  000c5	33 c0		 xor	 eax, eax
  000c7	e9 23 01 00 00	 jmp	 $LN1@DrawSurfac
$LN3@DrawSurfac:

; 2899 : 		}
; 2900 : 		if (bx < 0) {

  000cc	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000d0	85 c0		 test	 eax, eax
  000d2	7d 12		 jge	 SHORT $LN5@DrawSurfac

; 2901 : 			rect.left -= bx;

  000d4	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000d8	8b 4d a8	 mov	 ecx, DWORD PTR _rect$4[ebp]
  000db	2b c8		 sub	 ecx, eax
  000dd	89 4d a8	 mov	 DWORD PTR _rect$4[ebp], ecx

; 2902 : 			x0 = 0;

  000e0	33 c0		 xor	 eax, eax
  000e2	66 89 45 e4	 mov	 WORD PTR _x0$8[ebp], ax
$LN5@DrawSurfac:

; 2903 : 		}
; 2904 : 		if (bx + w > lpDraw->xSize) {

  000e6	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000ea	03 45 cc	 add	 eax, DWORD PTR _w$6[ebp]
  000ed	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000f3	3b 81 84 00 00
	00		 cmp	 eax, DWORD PTR [ecx+132]
  000f9	7e 1b		 jle	 SHORT $LN6@DrawSurfac

; 2905 : 			rect.right -= bx + w - lpDraw->xSize;

  000fb	0f bf 45 08	 movsx	 eax, WORD PTR _bx$[ebp]
  000ff	03 45 cc	 add	 eax, DWORD PTR _w$6[ebp]
  00102	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00108	2b 81 84 00 00
	00		 sub	 eax, DWORD PTR [ecx+132]
  0010e	8b 55 b0	 mov	 edx, DWORD PTR _rect$4[ebp+8]
  00111	2b d0		 sub	 edx, eax
  00113	89 55 b0	 mov	 DWORD PTR _rect$4[ebp+8], edx
$LN6@DrawSurfac:

; 2906 : 		}
; 2907 : 		if (by < 0) {

  00116	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  0011a	85 c0		 test	 eax, eax
  0011c	7d 12		 jge	 SHORT $LN7@DrawSurfac

; 2908 : 			rect.top -= by;

  0011e	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  00122	8b 4d ac	 mov	 ecx, DWORD PTR _rect$4[ebp+4]
  00125	2b c8		 sub	 ecx, eax
  00127	89 4d ac	 mov	 DWORD PTR _rect$4[ebp+4], ecx

; 2909 : 			y0 = 0;

  0012a	33 c0		 xor	 eax, eax
  0012c	66 89 45 d8	 mov	 WORD PTR _y0$7[ebp], ax
$LN7@DrawSurfac:

; 2910 : 		}
; 2911 : 		if (by + h > lpDraw->ySize) {

  00130	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  00134	03 45 c0	 add	 eax, DWORD PTR _h$5[ebp]
  00137	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0013d	3b 81 88 00 00
	00		 cmp	 eax, DWORD PTR [ecx+136]
  00143	7e 1b		 jle	 SHORT $LN8@DrawSurfac

; 2912 : 			rect.bottom -= by + h - lpDraw->ySize;

  00145	0f bf 45 0c	 movsx	 eax, WORD PTR _by$[ebp]
  00149	03 45 c0	 add	 eax, DWORD PTR _h$5[ebp]
  0014c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00152	2b 81 88 00 00
	00		 sub	 eax, DWORD PTR [ecx+136]
  00158	8b 55 b4	 mov	 edx, DWORD PTR _rect$4[ebp+12]
  0015b	2b d0		 sub	 edx, eax
  0015d	89 55 b4	 mov	 DWORD PTR _rect$4[ebp+12], edx
$LN8@DrawSurfac:

; 2913 : 		}
; 2914 : 
; 2915 : #ifdef _STONDEBUG_		
; 2916 : 		SurfaceDispCnt++;
; 2917 : #endif
; 2918 : 		RECT rectD;
; 2919 : 
; 2920 : 		rectD.left = x0;

  00160	0f bf 45 e4	 movsx	 eax, WORD PTR _x0$8[ebp]
  00164	89 45 90	 mov	 DWORD PTR _rectD$3[ebp], eax

; 2921 : 		rectD.top = y0;

  00167	0f bf 45 d8	 movsx	 eax, WORD PTR _y0$7[ebp]
  0016b	89 45 94	 mov	 DWORD PTR _rectD$3[ebp+4], eax

; 2922 : 		rectD.right = x0 + (rect.right - rect.left);

  0016e	0f bf 45 e4	 movsx	 eax, WORD PTR _x0$8[ebp]
  00172	8b 4d b0	 mov	 ecx, DWORD PTR _rect$4[ebp+8]
  00175	2b 4d a8	 sub	 ecx, DWORD PTR _rect$4[ebp]
  00178	03 c1		 add	 eax, ecx
  0017a	89 45 98	 mov	 DWORD PTR _rectD$3[ebp+8], eax

; 2923 : 		rectD.bottom = y0 + (rect.bottom - rect.top);

  0017d	0f bf 45 d8	 movsx	 eax, WORD PTR _y0$7[ebp]
  00181	8b 4d b4	 mov	 ecx, DWORD PTR _rect$4[ebp+12]
  00184	2b 4d ac	 sub	 ecx, DWORD PTR _rect$4[ebp+4]
  00187	03 c1		 add	 eax, ecx
  00189	89 45 9c	 mov	 DWORD PTR _rectD$3[ebp+12], eax

; 2924 : 		return lpDraw->lpBACKBUFFER->Blt(&rectD, lpSurface, &rect, DDBLT_KEYSRC | DDBLT_WAIT, NULL);

  0018c	8b f4		 mov	 esi, esp
  0018e	6a 00		 push	 0
  00190	68 00 80 00 01	 push	 16809984		; 01008000H
  00195	8d 45 a8	 lea	 eax, DWORD PTR _rect$4[ebp]
  00198	50		 push	 eax
  00199	8b 4d 10	 mov	 ecx, DWORD PTR _lpSurface$[ebp]
  0019c	51		 push	 ecx
  0019d	8d 55 90	 lea	 edx, DWORD PTR _rectD$3[ebp]
  001a0	52		 push	 edx
  001a1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001a6	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  001a9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001af	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  001b2	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001b4	50		 push	 eax
  001b5	8b 51 14	 mov	 edx, DWORD PTR [ecx+20]
  001b8	ff d2		 call	 edx
  001ba	3b f4		 cmp	 esi, esp
  001bc	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001c1	eb 2c		 jmp	 SHORT $LN1@DrawSurfac
__catch$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z$0:

; 2925 : 	}
; 2926 : 	catch (...)
; 2927 : 	{
; 2928 : 		return  E_FAIL;

  001c3	c7 85 c4 fe ff
	ff 05 40 00 80	 mov	 DWORD PTR $T2[ebp], -2147467259 ; 80004005H
  001cd	b8 00 00 00 00	 mov	 eax, $LN13@DrawSurfac
  001d2	c3		 ret	 0

; 2929 : 	}

  001d3	b8 00 00 00 00	 mov	 eax, __tryend$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z$1
  001d8	c3		 ret	 0
__tryend$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z$1:
  001d9	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  001e0	eb 0d		 jmp	 SHORT $LN1@DrawSurfac
$LN13@DrawSurfac:
  001e2	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1

; 2925 : 	}
; 2926 : 	catch (...)
; 2927 : 	{
; 2928 : 		return  E_FAIL;

  001e9	8b 85 c4 fe ff
	ff		 mov	 eax, DWORD PTR $T2[ebp]
$LN1@DrawSurfac:

; 2930 : 	
; 2931 : }

  001ef	52		 push	 edx
  001f0	8b cd		 mov	 ecx, ebp
  001f2	50		 push	 eax
  001f3	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN18@DrawSurfac
  001f9	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001fe	58		 pop	 eax
  001ff	5a		 pop	 edx
  00200	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  00203	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0020a	59		 pop	 ecx
  0020b	5f		 pop	 edi
  0020c	5e		 pop	 esi
  0020d	5b		 pop	 ebx
  0020e	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00211	33 cd		 xor	 ecx, ebp
  00213	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00218	81 c4 40 01 00
	00		 add	 esp, 320		; 00000140H
  0021e	3b ec		 cmp	 ebp, esp
  00220	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00225	8b e5		 mov	 esp, ebp
  00227	5d		 pop	 ebp
  00228	c3		 ret	 0
  00229	0f 1f 00	 npad	 3
$LN18@DrawSurfac:
  0022c	02 00 00 00	 DD	 2
  00230	00 00 00 00	 DD	 $LN17@DrawSurfac
$LN17@DrawSurfac:
  00234	a8 ff ff ff	 DD	 -88			; ffffffa8H
  00238	10 00 00 00	 DD	 16			; 00000010H
  0023c	00 00 00 00	 DD	 $LN14@DrawSurfac
  00240	90 ff ff ff	 DD	 -112			; ffffff90H
  00244	10 00 00 00	 DD	 16			; 00000010H
  00248	00 00 00 00	 DD	 $LN15@DrawSurfac
$LN15@DrawSurfac:
  0024c	72		 DB	 114			; 00000072H
  0024d	65		 DB	 101			; 00000065H
  0024e	63		 DB	 99			; 00000063H
  0024f	74		 DB	 116			; 00000074H
  00250	44		 DB	 68			; 00000044H
  00251	00		 DB	 0
$LN14@DrawSurfac:
  00252	72		 DB	 114			; 00000072H
  00253	65		 DB	 101			; 00000065H
  00254	63		 DB	 99			; 00000063H
  00255	74		 DB	 116			; 00000074H
  00256	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a bc fe ff
	ff		 mov	 ecx, DWORD PTR [edx-324]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?DrawSurfaceFast@@YAJFFPAUIDirectDrawSurface@@@Z ENDP	; DrawSurfaceFast
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z
_TEXT	SEGMENT
$T2 = -244						; size = 4
_lpSurface$3 = -40					; size = 4
_ddck$4 = -28						; size = 8
__$EHRec$ = -16						; size = 16
_bxsize$ = 8						; size = 2
_bysize$ = 12						; size = 2
_ColorKey$ = 16						; size = 4
_VramOrSysram$ = 20					; size = 4
?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z PROC	; CreateSurface, COMDAT

; 846  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec e8 00 00
	00		 sub	 esp, 232		; 000000e8H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 08 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-248]
  00021	b9 3a 00 00 00	 mov	 ecx, 58			; 0000003aH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 847  : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 848  : 	{
; 849  : 		DDCOLORKEY ddck;
; 850  : 		LPDIRECTDRAWSURFACE lpSurface;
; 851  : #ifdef _NEW_ALPHA_
; 852  : 		VramOrSysram = DDSCAPS_SYSTEMMEMORY;

  00048	c7 45 14 00 08
	00 00		 mov	 DWORD PTR _VramOrSysram$[ebp], 2048 ; 00000800H

; 853  : #endif
; 854  : 		lpDraw->ddsd.dwFlags = DDSD_CAPS | DDSD_WIDTH | DDSD_HEIGHT;

  0004f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00054	c7 40 18 07 00
	00 00		 mov	 DWORD PTR [eax+24], 7

; 855  : 		lpDraw->ddsd.ddsCaps.dwCaps = DDSCAPS_OFFSCREENPLAIN | VramOrSysram;

  0005b	8b 45 14	 mov	 eax, DWORD PTR _VramOrSysram$[ebp]
  0005e	83 c8 40	 or	 eax, 64			; 00000040H
  00061	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00067	89 41 7c	 mov	 DWORD PTR [ecx+124], eax

; 856  : 		lpDraw->ddsd.dwWidth = bxsize;

  0006a	0f bf 45 08	 movsx	 eax, WORD PTR _bxsize$[ebp]
  0006e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00074	89 41 20	 mov	 DWORD PTR [ecx+32], eax

; 857  : 		lpDraw->ddsd.dwHeight = bysize;

  00077	0f bf 45 0c	 movsx	 eax, WORD PTR _bysize$[ebp]
  0007b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00081	89 41 1c	 mov	 DWORD PTR [ecx+28], eax

; 858  : 		if (lpDraw->lpDD2->CreateSurface(&lpDraw->ddsd, &lpSurface, NULL) != DD_OK)

  00084	8b f4		 mov	 esi, esp
  00086	6a 00		 push	 0
  00088	8d 45 d8	 lea	 eax, DWORD PTR _lpSurface$3[ebp]
  0008b	50		 push	 eax
  0008c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00092	83 c1 14	 add	 ecx, 20			; 00000014H
  00095	51		 push	 ecx
  00096	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0009c	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0009f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  000a5	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  000a8	8b 00		 mov	 eax, DWORD PTR [eax]
  000aa	52		 push	 edx
  000ab	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000ae	ff d1		 call	 ecx
  000b0	3b f4		 cmp	 esi, esp
  000b2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000b7	85 c0		 test	 eax, eax
  000b9	74 04		 je	 SHORT $LN3@CreateSurf

; 859  : 			return (LPDIRECTDRAWSURFACE)NULL;

  000bb	33 c0		 xor	 eax, eax
  000bd	eb 5a		 jmp	 SHORT $LN1@CreateSurf
$LN3@CreateSurf:

; 860  : 
; 861  : 		ddck.dwColorSpaceLowValue = ColorKey;

  000bf	8b 45 10	 mov	 eax, DWORD PTR _ColorKey$[ebp]
  000c2	89 45 e4	 mov	 DWORD PTR _ddck$4[ebp], eax

; 862  : 		ddck.dwColorSpaceHighValue = ColorKey;

  000c5	8b 45 10	 mov	 eax, DWORD PTR _ColorKey$[ebp]
  000c8	89 45 e8	 mov	 DWORD PTR _ddck$4[ebp+4], eax

; 863  : 		lpSurface->SetColorKey(DDCKEY_SRCBLT, &ddck);

  000cb	8b f4		 mov	 esi, esp
  000cd	8d 45 e4	 lea	 eax, DWORD PTR _ddck$4[ebp]
  000d0	50		 push	 eax
  000d1	6a 08		 push	 8
  000d3	8b 4d d8	 mov	 ecx, DWORD PTR _lpSurface$3[ebp]
  000d6	8b 11		 mov	 edx, DWORD PTR [ecx]
  000d8	8b 45 d8	 mov	 eax, DWORD PTR _lpSurface$3[ebp]
  000db	50		 push	 eax
  000dc	8b 4a 74	 mov	 ecx, DWORD PTR [edx+116]
  000df	ff d1		 call	 ecx
  000e1	3b f4		 cmp	 esi, esp
  000e3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 864  : 
; 865  : 		return lpSurface;

  000e8	8b 45 d8	 mov	 eax, DWORD PTR _lpSurface$3[ebp]
  000eb	eb 2c		 jmp	 SHORT $LN1@CreateSurf
__catch$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z$0:

; 866  : 	}
; 867  : 	catch (...)
; 868  : 	{
; 869  : 		return (LPDIRECTDRAWSURFACE)NULL;

  000ed	c7 85 0c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR $T2[ebp], 0
  000f7	b8 00 00 00 00	 mov	 eax, $LN8@CreateSurf
  000fc	c3		 ret	 0

; 870  : 	}

  000fd	b8 00 00 00 00	 mov	 eax, __tryend$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z$1
  00102	c3		 ret	 0
__tryend$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z$1:
  00103	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  0010a	eb 0d		 jmp	 SHORT $LN1@CreateSurf
$LN8@CreateSurf:
  0010c	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1

; 866  : 	}
; 867  : 	catch (...)
; 868  : 	{
; 869  : 		return (LPDIRECTDRAWSURFACE)NULL;

  00113	8b 85 0c ff ff
	ff		 mov	 eax, DWORD PTR $T2[ebp]
$LN1@CreateSurf:

; 871  : 
; 872  : 	
; 873  : }

  00119	52		 push	 edx
  0011a	8b cd		 mov	 ecx, ebp
  0011c	50		 push	 eax
  0011d	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN13@CreateSurf
  00123	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00128	58		 pop	 eax
  00129	5a		 pop	 edx
  0012a	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  0012d	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00134	59		 pop	 ecx
  00135	5f		 pop	 edi
  00136	5e		 pop	 esi
  00137	5b		 pop	 ebx
  00138	81 c4 f8 00 00
	00		 add	 esp, 248		; 000000f8H
  0013e	3b ec		 cmp	 ebp, esp
  00140	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00145	8b e5		 mov	 esp, ebp
  00147	5d		 pop	 ebp
  00148	c3		 ret	 0
  00149	0f 1f 00	 npad	 3
$LN13@CreateSurf:
  0014c	02 00 00 00	 DD	 2
  00150	00 00 00 00	 DD	 $LN12@CreateSurf
$LN12@CreateSurf:
  00154	e4 ff ff ff	 DD	 -28			; ffffffe4H
  00158	08 00 00 00	 DD	 8
  0015c	00 00 00 00	 DD	 $LN9@CreateSurf
  00160	d8 ff ff ff	 DD	 -40			; ffffffd8H
  00164	04 00 00 00	 DD	 4
  00168	00 00 00 00	 DD	 $LN10@CreateSurf
$LN10@CreateSurf:
  0016c	6c		 DB	 108			; 0000006cH
  0016d	70		 DB	 112			; 00000070H
  0016e	53		 DB	 83			; 00000053H
  0016f	75		 DB	 117			; 00000075H
  00170	72		 DB	 114			; 00000072H
  00171	66		 DB	 102			; 00000066H
  00172	61		 DB	 97			; 00000061H
  00173	63		 DB	 99			; 00000063H
  00174	65		 DB	 101			; 00000065H
  00175	00		 DB	 0
$LN9@CreateSurf:
  00176	64		 DB	 100			; 00000064H
  00177	64		 DB	 100			; 00000064H
  00178	63		 DB	 99			; 00000063H
  00179	6b		 DB	 107			; 0000006bH
  0017a	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 04 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-252]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z ENDP	; CreateSurface
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z
_TEXT	SEGMENT
$T2 = -412						; size = 4
_lpBmpInfo$3 = -208					; size = 4
_BmpFileHeader$4 = -196					; size = 14
_ofSt$5 = -172						; size = 136
_hFile$6 = -28						; size = 4
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_pFile$ = 8						; size = 4
?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z PROC	; LoadDirectDrawBitmap, COMDAT

; 799  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec 90 01 00
	00		 sub	 esp, 400		; 00000190H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd 60 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-416]
  00021	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00037	50		 push	 eax
  00038	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  0003b	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00041	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 800  : 	try

  00044	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 801  : 	{
; 802  : 		HFILE hFile;
; 803  : 		OFSTRUCT ofSt;
; 804  : 		BITMAPFILEHEADER BmpFileHeader;
; 805  : 		LPBITMAPINFO lpBmpInfo;
; 806  : 
; 807  : 		//????î???
; 808  : 		if ((hFile = OpenFile(pFile, &ofSt, OF_READ)) == HFILE_ERROR)

  0004b	8b f4		 mov	 esi, esp
  0004d	6a 00		 push	 0
  0004f	8d 85 54 ff ff
	ff		 lea	 eax, DWORD PTR _ofSt$5[ebp]
  00055	50		 push	 eax
  00056	8b 4d 08	 mov	 ecx, DWORD PTR _pFile$[ebp]
  00059	51		 push	 ecx
  0005a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__OpenFile@12
  00060	3b f4		 cmp	 esi, esp
  00062	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00067	89 45 e4	 mov	 DWORD PTR _hFile$6[ebp], eax
  0006a	83 7d e4 ff	 cmp	 DWORD PTR _hFile$6[ebp], -1
  0006e	75 07		 jne	 SHORT $LN3@LoadDirect

; 809  : 			return (LPBITMAPINFO)NULL; // File Open Error

  00070	33 c0		 xor	 eax, eax
  00072	e9 e7 00 00 00	 jmp	 $LN1@LoadDirect
$LN3@LoadDirect:

; 810  : 
; 811  : 									   //??????????????î???
; 812  : 		_hread(hFile, &BmpFileHeader, sizeof(BITMAPFILEHEADER));

  00077	8b f4		 mov	 esi, esp
  00079	6a 0e		 push	 14			; 0000000eH
  0007b	8d 85 3c ff ff
	ff		 lea	 eax, DWORD PTR _BmpFileHeader$4[ebp]
  00081	50		 push	 eax
  00082	8b 4d e4	 mov	 ecx, DWORD PTR _hFile$6[ebp]
  00085	51		 push	 ecx
  00086	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___hread@12
  0008c	3b f4		 cmp	 esi, esp
  0008e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 813  : 
; 814  : 		//??????????î
; 815  : 		if ((lpBmpInfo = (LPBITMAPINFO)HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY, BmpFileHeader.bfSize)) == NULL) {

  00093	8b f4		 mov	 esi, esp
  00095	8b 85 3e ff ff
	ff		 mov	 eax, DWORD PTR _BmpFileHeader$4[ebp+2]
  0009b	50		 push	 eax
  0009c	6a 08		 push	 8
  0009e	8b fc		 mov	 edi, esp
  000a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetProcessHeap@0
  000a6	3b fc		 cmp	 edi, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	50		 push	 eax
  000ae	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__HeapAlloc@12
  000b4	3b f4		 cmp	 esi, esp
  000b6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000bb	89 85 30 ff ff
	ff		 mov	 DWORD PTR _lpBmpInfo$3[ebp], eax
  000c1	83 bd 30 ff ff
	ff 00		 cmp	 DWORD PTR _lpBmpInfo$3[ebp], 0
  000c8	75 1e		 jne	 SHORT $LN4@LoadDirect

; 816  : 			MessageBoxNew(hWnd, "Heapçéç½®è®°å¿ä½å¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP);

  000ca	6a 10		 push	 16			; 00000010H
  000cc	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  000d1	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@KMOPGAB@Heap?n?$NM?$NL?U?v?G?$DP?$DP?$DP?c?w?$DP?$KD?$KB?$AA@
  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  000db	50		 push	 eax
  000dc	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  000e1	83 c4 10	 add	 esp, 16			; 00000010H

; 817  : 			return (LPBITMAPINFO)NULL; //Memory Error

  000e4	33 c0		 xor	 eax, eax
  000e6	eb 76		 jmp	 SHORT $LN1@LoadDirect
$LN4@LoadDirect:

; 818  : 		}
; 819  : 
; 820  : 		//??????î?î?
; 821  : 		_hread(hFile, (void *)lpBmpInfo, BmpFileHeader.bfSize);

  000e8	8b f4		 mov	 esi, esp
  000ea	8b 85 3e ff ff
	ff		 mov	 eax, DWORD PTR _BmpFileHeader$4[ebp+2]
  000f0	50		 push	 eax
  000f1	8b 8d 30 ff ff
	ff		 mov	 ecx, DWORD PTR _lpBmpInfo$3[ebp]
  000f7	51		 push	 ecx
  000f8	8b 55 e4	 mov	 edx, DWORD PTR _hFile$6[ebp]
  000fb	52		 push	 edx
  000fc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___hread@12
  00102	3b f4		 cmp	 esi, esp
  00104	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 822  : 
; 823  : 		//????????
; 824  : 		_lclose(hFile);

  00109	8b f4		 mov	 esi, esp
  0010b	8b 45 e4	 mov	 eax, DWORD PTR _hFile$6[ebp]
  0010e	50		 push	 eax
  0010f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___lclose@4
  00115	3b f4		 cmp	 esi, esp
  00117	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 825  : 
; 826  : 		// ???????????????????
; 827  : 		BmpOffBits = BmpFileHeader.bfOffBits - sizeof(BITMAPFILEHEADER);

  0011c	8b 85 46 ff ff
	ff		 mov	 eax, DWORD PTR _BmpFileHeader$4[ebp+10]
  00122	83 e8 0e	 sub	 eax, 14			; 0000000eH
  00125	a3 00 00 00 00	 mov	 DWORD PTR ?BmpOffBits@@3HA, eax ; BmpOffBits

; 828  : 
; 829  : 		return lpBmpInfo;

  0012a	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR _lpBmpInfo$3[ebp]
  00130	eb 2c		 jmp	 SHORT $LN1@LoadDirect
__catch$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z$0:

; 830  : 	}
; 831  : 	catch (...)
; 832  : 	{
; 833  : 		return (LPBITMAPINFO)NULL;

  00132	c7 85 64 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR $T2[ebp], 0
  0013c	b8 00 00 00 00	 mov	 eax, $LN9@LoadDirect
  00141	c3		 ret	 0

; 834  : 	}

  00142	b8 00 00 00 00	 mov	 eax, __tryend$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z$1
  00147	c3		 ret	 0
__tryend$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z$1:
  00148	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  0014f	eb 0d		 jmp	 SHORT $LN1@LoadDirect
$LN9@LoadDirect:
  00151	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1

; 830  : 	}
; 831  : 	catch (...)
; 832  : 	{
; 833  : 		return (LPBITMAPINFO)NULL;

  00158	8b 85 64 fe ff
	ff		 mov	 eax, DWORD PTR $T2[ebp]
$LN1@LoadDirect:

; 835  : 	
; 836  : }

  0015e	52		 push	 edx
  0015f	8b cd		 mov	 ecx, ebp
  00161	50		 push	 eax
  00162	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN14@LoadDirect
  00168	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0016d	58		 pop	 eax
  0016e	5a		 pop	 edx
  0016f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  00172	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00179	59		 pop	 ecx
  0017a	5f		 pop	 edi
  0017b	5e		 pop	 esi
  0017c	5b		 pop	 ebx
  0017d	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00180	33 cd		 xor	 ecx, ebp
  00182	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00187	81 c4 a0 01 00
	00		 add	 esp, 416		; 000001a0H
  0018d	3b ec		 cmp	 ebp, esp
  0018f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00194	8b e5		 mov	 esp, ebp
  00196	5d		 pop	 ebp
  00197	c3		 ret	 0
$LN14@LoadDirect:
  00198	02 00 00 00	 DD	 2
  0019c	00 00 00 00	 DD	 $LN13@LoadDirect
$LN13@LoadDirect:
  001a0	54 ff ff ff	 DD	 -172			; ffffff54H
  001a4	88 00 00 00	 DD	 136			; 00000088H
  001a8	00 00 00 00	 DD	 $LN10@LoadDirect
  001ac	3c ff ff ff	 DD	 -196			; ffffff3cH
  001b0	0e 00 00 00	 DD	 14			; 0000000eH
  001b4	00 00 00 00	 DD	 $LN11@LoadDirect
$LN11@LoadDirect:
  001b8	42		 DB	 66			; 00000042H
  001b9	6d		 DB	 109			; 0000006dH
  001ba	70		 DB	 112			; 00000070H
  001bb	46		 DB	 70			; 00000046H
  001bc	69		 DB	 105			; 00000069H
  001bd	6c		 DB	 108			; 0000006cH
  001be	65		 DB	 101			; 00000065H
  001bf	48		 DB	 72			; 00000048H
  001c0	65		 DB	 101			; 00000065H
  001c1	61		 DB	 97			; 00000061H
  001c2	64		 DB	 100			; 00000064H
  001c3	65		 DB	 101			; 00000065H
  001c4	72		 DB	 114			; 00000072H
  001c5	00		 DB	 0
$LN10@LoadDirect:
  001c6	6f		 DB	 111			; 0000006fH
  001c7	66		 DB	 102			; 00000066H
  001c8	53		 DB	 83			; 00000053H
  001c9	74		 DB	 116			; 00000074H
  001ca	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 5c fe ff
	ff		 mov	 ecx, DWORD PTR [edx-420]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?LoadDirectDrawBitmap@@YAPAUtagBITMAPINFO@@PAD@Z ENDP	; LoadDirectDrawBitmap
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z
_TEXT	SEGMENT
_ddbltfx$2 = -120					; size = 100
__$EHRec$ = -16						; size = 16
_lpSurface$ = 8						; size = 4
?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z PROC	; ClearSurface, COMDAT

; 762  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd c4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-316]
  00021	b9 4b 00 00 00	 mov	 ecx, 75			; 0000004bH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 763  : 
; 764  : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 765  : 	{
; 766  : 		DDBLTFX ddbltfx;
; 767  : 		if (!lpSurface)

  00048	83 7d 08 00	 cmp	 DWORD PTR _lpSurface$[ebp], 0
  0004c	74 5c		 je	 SHORT $LN1@ClearSurfa

; 768  : 		{
; 769  : 			return;
; 770  : 		}
; 771  : 
; 772  : 		ZeroMemory(&ddbltfx, sizeof(DDBLTFX));

  0004e	6a 64		 push	 100			; 00000064H
  00050	6a 00		 push	 0
  00052	8d 45 88	 lea	 eax, DWORD PTR _ddbltfx$2[ebp]
  00055	50		 push	 eax
  00056	e8 00 00 00 00	 call	 _memset
  0005b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 773  : 		ddbltfx.dwSize = sizeof(DDBLTFX);

  0005e	c7 45 88 64 00
	00 00		 mov	 DWORD PTR _ddbltfx$2[ebp], 100 ; 00000064H

; 774  : 		ddbltfx.dwFillColor = DEF_COLORKEY; // î§?î??î

  00065	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _ddbltfx$2[ebp+80], 0

; 775  : 
; 776  : 		lpSurface->Blt(NULL, NULL, NULL, DDBLT_COLORFILL | DDBLT_WAIT, &ddbltfx);

  0006c	8b f4		 mov	 esi, esp
  0006e	8d 45 88	 lea	 eax, DWORD PTR _ddbltfx$2[ebp]
  00071	50		 push	 eax
  00072	68 00 04 00 01	 push	 16778240		; 01000400H
  00077	6a 00		 push	 0
  00079	6a 00		 push	 0
  0007b	6a 00		 push	 0
  0007d	8b 4d 08	 mov	 ecx, DWORD PTR _lpSurface$[ebp]
  00080	8b 11		 mov	 edx, DWORD PTR [ecx]
  00082	8b 45 08	 mov	 eax, DWORD PTR _lpSurface$[ebp]
  00085	50		 push	 eax
  00086	8b 4a 14	 mov	 ecx, DWORD PTR [edx+20]
  00089	ff d1		 call	 ecx
  0008b	3b f4		 cmp	 esi, esp
  0008d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 777  : 	}

  00092	eb 06		 jmp	 SHORT $LN5@ClearSurfa
__catch$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z$0:

; 778  : 	catch (...)
; 779  : 	{
; 780  : 
; 781  : 	}

  00094	b8 00 00 00 00	 mov	 eax, $LN8@ClearSurfa
  00099	c3		 ret	 0
$LN5@ClearSurfa:
  0009a	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  000a1	eb 07		 jmp	 SHORT $LN1@ClearSurfa
$LN8@ClearSurfa:
  000a3	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@ClearSurfa:

; 782  : 
; 783  : 	
; 784  : 
; 785  : 
; 786  : 
; 787  : 	return;
; 788  : }

  000aa	52		 push	 edx
  000ab	8b cd		 mov	 ecx, ebp
  000ad	50		 push	 eax
  000ae	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN12@ClearSurfa
  000b4	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000b9	58		 pop	 eax
  000ba	5a		 pop	 edx
  000bb	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  000be	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000c5	59		 pop	 ecx
  000c6	5f		 pop	 edi
  000c7	5e		 pop	 esi
  000c8	5b		 pop	 ebx
  000c9	81 c4 3c 01 00
	00		 add	 esp, 316		; 0000013cH
  000cf	3b ec		 cmp	 ebp, esp
  000d1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c3		 ret	 0
  000da	66 90		 npad	 2
$LN12@ClearSurfa:
  000dc	01 00 00 00	 DD	 1
  000e0	00 00 00 00	 DD	 $LN11@ClearSurfa
$LN11@ClearSurfa:
  000e4	88 ff ff ff	 DD	 -120			; ffffff88H
  000e8	64 00 00 00	 DD	 100			; 00000064H
  000ec	00 00 00 00	 DD	 $LN9@ClearSurfa
$LN9@ClearSurfa:
  000f0	64		 DB	 100			; 00000064H
  000f1	64		 DB	 100			; 00000064H
  000f2	62		 DB	 98			; 00000062H
  000f3	6c		 DB	 108			; 0000006cH
  000f4	74		 DB	 116			; 00000074H
  000f5	66		 DB	 102			; 00000066H
  000f6	78		 DB	 120			; 00000078H
  000f7	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a c0 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-320]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z ENDP	; ClearSurface
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?ClearBackSurface@@YAXXZ
_TEXT	SEGMENT
_hr$2 = -132						; size = 4
_ddbltfx$ = -120					; size = 100
__$EHRec$ = -16						; size = 16
?ClearBackSurface@@YAXXZ PROC				; ClearBackSurface, COMDAT

; 717  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?ClearBackSurface@@YAXXZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec 38 01 00
	00		 sub	 esp, 312		; 00000138H
  00018	53		 push	 ebx
  00019	56		 push	 esi
  0001a	57		 push	 edi
  0001b	8d bd b8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-328]
  00021	b9 4e 00 00 00	 mov	 ecx, 78			; 0000004eH
  00026	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0002b	f3 ab		 rep stosd
  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00032	33 c5		 xor	 eax, ebp
  00034	50		 push	 eax
  00035	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00038	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0003e	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp

; 718  : 	DDBLTFX ddbltfx;
; 719  : 
; 720  : 	try

  00041	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 721  : 	{
; 722  : 		ZeroMemory(&ddbltfx, sizeof(DDBLTFX));

  00048	6a 64		 push	 100			; 00000064H
  0004a	6a 00		 push	 0
  0004c	8d 45 88	 lea	 eax, DWORD PTR _ddbltfx$[ebp]
  0004f	50		 push	 eax
  00050	e8 00 00 00 00	 call	 _memset
  00055	83 c4 0c	 add	 esp, 12			; 0000000cH

; 723  : 		ddbltfx.dwSize = sizeof(DDBLTFX);

  00058	c7 45 88 64 00
	00 00		 mov	 DWORD PTR _ddbltfx$[ebp], 100 ; 00000064H

; 724  : #ifdef  _STONDEBUG_
; 725  : 		QueryPerformanceCounter(&tf);
; 726  : 		iTotalProcTime = (int)tf.QuadPart;
; 727  : #endif
; 728  : 		if (lpDraw->lpBACKBUFFER)

  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00064	83 78 0c 00	 cmp	 DWORD PTR [eax+12], 0
  00068	74 37		 je	 SHORT $LN3@ClearBackS

; 729  : 		{
; 730  : 			HRESULT hr = lpDraw->lpBACKBUFFER->Blt(NULL, NULL, NULL, DDBLT_COLORFILL | DDBLT_WAIT, &ddbltfx);

  0006a	8b f4		 mov	 esi, esp
  0006c	8d 45 88	 lea	 eax, DWORD PTR _ddbltfx$[ebp]
  0006f	50		 push	 eax
  00070	68 00 04 00 01	 push	 16778240		; 01000400H
  00075	6a 00		 push	 0
  00077	6a 00		 push	 0
  00079	6a 00		 push	 0
  0007b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00081	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00084	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00089	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0008c	8b 12		 mov	 edx, DWORD PTR [edx]
  0008e	51		 push	 ecx
  0008f	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  00092	ff d0		 call	 eax
  00094	3b f4		 cmp	 esi, esp
  00096	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0009b	89 85 7c ff ff
	ff		 mov	 DWORD PTR _hr$2[ebp], eax
$LN3@ClearBackS:

; 731  : 		}
; 732  : 
; 733  : #ifdef _READ16BITBMP
; 734  : 		if (g_bUseAlpha) {
; 735  : 			if (lpDraw->lpBACKBUFFERSYS)
; 736  : 			{
; 737  : 				lpDraw->lpBACKBUFFERSYS->Blt(NULL, NULL, NULL, DDBLT_COLORFILL | DDBLT_WAIT, &ddbltfx);
; 738  : 			}
; 739  : 
; 740  : 		}
; 741  : #endif
; 742  : #ifdef  _STONDEBUG_
; 743  : 		QueryPerformanceCounter(&tf);
; 744  : 		iTotalUseTime += (((int)tf.QuadPart - iTotalProcTime)) / 100;
; 745  : 		iTotalRunCount++;
; 746  : #endif
; 747  : 	}

  000a1	eb 06		 jmp	 SHORT $LN5@ClearBackS
__catch$?ClearBackSurface@@YAXXZ$0:

; 748  : 	catch (...)
; 749  : 	{
; 750  : 
; 751  : 	}

  000a3	b8 00 00 00 00	 mov	 eax, $LN8@ClearBackS
  000a8	c3		 ret	 0
$LN5@ClearBackS:
  000a9	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  000b0	eb 07		 jmp	 SHORT $LN1@ClearBackS
$LN8@ClearBackS:
  000b2	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
$LN1@ClearBackS:

; 752  : 
; 753  : 
; 754  : }

  000b9	52		 push	 edx
  000ba	8b cd		 mov	 ecx, ebp
  000bc	50		 push	 eax
  000bd	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN12@ClearBackS
  000c3	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000c8	58		 pop	 eax
  000c9	5a		 pop	 edx
  000ca	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  000cd	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000d4	59		 pop	 ecx
  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx
  000d8	81 c4 48 01 00
	00		 add	 esp, 328		; 00000148H
  000de	3b ec		 cmp	 ebp, esp
  000e0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000e5	8b e5		 mov	 esp, ebp
  000e7	5d		 pop	 ebp
  000e8	c3		 ret	 0
  000e9	0f 1f 00	 npad	 3
$LN12@ClearBackS:
  000ec	01 00 00 00	 DD	 1
  000f0	00 00 00 00	 DD	 $LN11@ClearBackS
$LN11@ClearBackS:
  000f4	88 ff ff ff	 DD	 -120			; ffffff88H
  000f8	64 00 00 00	 DD	 100			; 00000064H
  000fc	00 00 00 00	 DD	 $LN9@ClearBackS
$LN9@ClearBackS:
  00100	64		 DB	 100			; 00000064H
  00101	64		 DB	 100			; 00000064H
  00102	62		 DB	 98			; 00000062H
  00103	6c		 DB	 108			; 0000006cH
  00104	74		 DB	 116			; 00000074H
  00105	66		 DB	 102			; 00000066H
  00106	78		 DB	 120			; 00000078H
  00107	00		 DB	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?ClearBackSurface@@YAXXZ:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a b4 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-332]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?ClearBackSurface@@YAXXZ
  00019	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?ClearBackSurface@@YAXXZ ENDP				; ClearBackSurface
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?InitPalette@@YAHXZ
_TEXT	SEGMENT
$T1 = -364						; size = 4
_pal$ = -160						; size = 128
_fp$ = -24						; size = 4
_i$ = -12						; size = 4
__$ArrayPad$ = -4					; size = 4
?InitPalette@@YAHXZ PROC				; InitPalette, COMDAT

; 344  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 70 01 00
	00		 sub	 esp, 368		; 00000170H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 90 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-368]
  00012	b9 5c 00 00 00	 mov	 ecx, 92			; 0000005cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 345  : 	int i;
; 346  : 	FILE *fp;
; 347  : 
; 348  : 	PALETTEENTRY pal[32] = {
; 349  : 		// ?????î
; 350  : 	{ 0x00, 0x00, 0x00, PC_NOCOLLAPSE | PC_RESERVED }, // 0:?

  00028	c6 85 60 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp], 0
  0002f	c6 85 61 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+1], 0
  00036	c6 85 62 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+2], 0
  0003d	c6 85 63 ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+3], 5

; 351  : 	{ 0x80, 0x00, 0x00, PC_NOCOLLAPSE | PC_RESERVED }, // 1:??î½

  00044	c6 85 64 ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+4], 128 ; 00000080H
  0004b	c6 85 65 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+5], 0
  00052	c6 85 66 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+6], 0
  00059	c6 85 67 ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+7], 5

; 352  : 	{ 0x00, 0x80, 0x00, PC_NOCOLLAPSE | PC_RESERVED }, // 2:???

  00060	c6 85 68 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+8], 0
  00067	c6 85 69 ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+9], 128 ; 00000080H
  0006e	c6 85 6a ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+10], 0
  00075	c6 85 6b ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+11], 5

; 353  : 	{ 0x80, 0x80, 0x00, PC_NOCOLLAPSE | PC_RESERVED }, // 3:???

  0007c	c6 85 6c ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+12], 128 ; 00000080H
  00083	c6 85 6d ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+13], 128 ; 00000080H
  0008a	c6 85 6e ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+14], 0
  00091	c6 85 6f ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+15], 5

; 354  : 	{ 0x00, 0x00, 0x80, PC_NOCOLLAPSE | PC_RESERVED }, // 4:??î«

  00098	c6 85 70 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+16], 0
  0009f	c6 85 71 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+17], 0
  000a6	c6 85 72 ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+18], 128 ; 00000080H
  000ad	c6 85 73 ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+19], 5

; 355  : 	{ 0x80, 0x00, 0x80, PC_NOCOLLAPSE | PC_RESERVED }, // 5:???

  000b4	c6 85 74 ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+20], 128 ; 00000080H
  000bb	c6 85 75 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+21], 0
  000c2	c6 85 76 ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+22], 128 ; 00000080H
  000c9	c6 85 77 ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+23], 5

; 356  : 	{ 0x00, 0x80, 0x80, PC_NOCOLLAPSE | PC_RESERVED }, // 6:???î

  000d0	c6 85 78 ff ff
	ff 00		 mov	 BYTE PTR _pal$[ebp+24], 0
  000d7	c6 85 79 ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+25], 128 ; 00000080H
  000de	c6 85 7a ff ff
	ff 80		 mov	 BYTE PTR _pal$[ebp+26], 128 ; 00000080H
  000e5	c6 85 7b ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+27], 5

; 357  : 	{ 0xc0, 0xc0, 0xc0, PC_NOCOLLAPSE | PC_RESERVED }, // 7:???

  000ec	c6 85 7c ff ff
	ff c0		 mov	 BYTE PTR _pal$[ebp+28], 192 ; 000000c0H
  000f3	c6 85 7d ff ff
	ff c0		 mov	 BYTE PTR _pal$[ebp+29], 192 ; 000000c0H
  000fa	c6 85 7e ff ff
	ff c0		 mov	 BYTE PTR _pal$[ebp+30], 192 ; 000000c0H
  00101	c6 85 7f ff ff
	ff 05		 mov	 BYTE PTR _pal$[ebp+31], 5

; 358  : 	{ 0xc0, 0xdc, 0xc0, PC_NOCOLLAPSE | PC_RESERVED }, // 8:?

  00108	c6 45 80 c0	 mov	 BYTE PTR _pal$[ebp+32], 192 ; 000000c0H
  0010c	c6 45 81 dc	 mov	 BYTE PTR _pal$[ebp+33], 220 ; 000000dcH
  00110	c6 45 82 c0	 mov	 BYTE PTR _pal$[ebp+34], 192 ; 000000c0H
  00114	c6 45 83 05	 mov	 BYTE PTR _pal$[ebp+35], 5

; 359  : 	{ 0xa6, 0xca, 0xf0, PC_NOCOLLAPSE | PC_RESERVED }, // 9:?

  00118	c6 45 84 a6	 mov	 BYTE PTR _pal$[ebp+36], 166 ; 000000a6H
  0011c	c6 45 85 ca	 mov	 BYTE PTR _pal$[ebp+37], 202 ; 000000caH
  00120	c6 45 86 f0	 mov	 BYTE PTR _pal$[ebp+38], 240 ; 000000f0H
  00124	c6 45 87 05	 mov	 BYTE PTR _pal$[ebp+39], 5

; 360  : 
; 361  : 	//æ°ç³»ç»è²ç//
; 362  : 	{ 0xde, 0x00, 0x00, PC_NOCOLLAPSE | PC_RESERVED },//10

  00128	c6 45 88 de	 mov	 BYTE PTR _pal$[ebp+40], 222 ; 000000deH
  0012c	c6 45 89 00	 mov	 BYTE PTR _pal$[ebp+41], 0
  00130	c6 45 8a 00	 mov	 BYTE PTR _pal$[ebp+42], 0
  00134	c6 45 8b 05	 mov	 BYTE PTR _pal$[ebp+43], 5

; 363  : 	{ 0xff, 0x5f, 0x00, PC_NOCOLLAPSE | PC_RESERVED },//11

  00138	c6 45 8c ff	 mov	 BYTE PTR _pal$[ebp+44], 255 ; 000000ffH
  0013c	c6 45 8d 5f	 mov	 BYTE PTR _pal$[ebp+45], 95 ; 0000005fH
  00140	c6 45 8e 00	 mov	 BYTE PTR _pal$[ebp+46], 0
  00144	c6 45 8f 05	 mov	 BYTE PTR _pal$[ebp+47], 5

; 364  : 	{ 0xff, 0xff, 0xa0, PC_NOCOLLAPSE | PC_RESERVED },//12

  00148	c6 45 90 ff	 mov	 BYTE PTR _pal$[ebp+48], 255 ; 000000ffH
  0014c	c6 45 91 ff	 mov	 BYTE PTR _pal$[ebp+49], 255 ; 000000ffH
  00150	c6 45 92 a0	 mov	 BYTE PTR _pal$[ebp+50], 160 ; 000000a0H
  00154	c6 45 93 05	 mov	 BYTE PTR _pal$[ebp+51], 5

; 365  : 	{ 0x00, 0x5f, 0xd2, PC_NOCOLLAPSE | PC_RESERVED },//13

  00158	c6 45 94 00	 mov	 BYTE PTR _pal$[ebp+52], 0
  0015c	c6 45 95 5f	 mov	 BYTE PTR _pal$[ebp+53], 95 ; 0000005fH
  00160	c6 45 96 d2	 mov	 BYTE PTR _pal$[ebp+54], 210 ; 000000d2H
  00164	c6 45 97 05	 mov	 BYTE PTR _pal$[ebp+55], 5

; 366  : 	{ 0x50, 0xd2, 0xff, PC_NOCOLLAPSE | PC_RESERVED },//14

  00168	c6 45 98 50	 mov	 BYTE PTR _pal$[ebp+56], 80 ; 00000050H
  0016c	c6 45 99 d2	 mov	 BYTE PTR _pal$[ebp+57], 210 ; 000000d2H
  00170	c6 45 9a ff	 mov	 BYTE PTR _pal$[ebp+58], 255 ; 000000ffH
  00174	c6 45 9b 05	 mov	 BYTE PTR _pal$[ebp+59], 5

; 367  : 	{ 0x28, 0xe1, 0x28, PC_NOCOLLAPSE | PC_RESERVED },//15

  00178	c6 45 9c 28	 mov	 BYTE PTR _pal$[ebp+60], 40 ; 00000028H
  0017c	c6 45 9d e1	 mov	 BYTE PTR _pal$[ebp+61], 225 ; 000000e1H
  00180	c6 45 9e 28	 mov	 BYTE PTR _pal$[ebp+62], 40 ; 00000028H
  00184	c6 45 9f 05	 mov	 BYTE PTR _pal$[ebp+63], 5

; 368  : 
; 369  : 	//æ°ç³»ç»è²ç//
; 370  : 	{ 0xf5, 0xc3, 0x96, PC_NOCOLLAPSE | PC_RESERVED },

  00188	c6 45 a0 f5	 mov	 BYTE PTR _pal$[ebp+64], 245 ; 000000f5H
  0018c	c6 45 a1 c3	 mov	 BYTE PTR _pal$[ebp+65], 195 ; 000000c3H
  00190	c6 45 a2 96	 mov	 BYTE PTR _pal$[ebp+66], 150 ; 00000096H
  00194	c6 45 a3 05	 mov	 BYTE PTR _pal$[ebp+67], 5

; 371  : 	{ 0xe1, 0xa0, 0x5f, PC_NOCOLLAPSE | PC_RESERVED },

  00198	c6 45 a4 e1	 mov	 BYTE PTR _pal$[ebp+68], 225 ; 000000e1H
  0019c	c6 45 a5 a0	 mov	 BYTE PTR _pal$[ebp+69], 160 ; 000000a0H
  001a0	c6 45 a6 5f	 mov	 BYTE PTR _pal$[ebp+70], 95 ; 0000005fH
  001a4	c6 45 a7 05	 mov	 BYTE PTR _pal$[ebp+71], 5

; 372  : 	{ 0xc3, 0x7d, 0x46, PC_NOCOLLAPSE | PC_RESERVED },

  001a8	c6 45 a8 c3	 mov	 BYTE PTR _pal$[ebp+72], 195 ; 000000c3H
  001ac	c6 45 a9 7d	 mov	 BYTE PTR _pal$[ebp+73], 125 ; 0000007dH
  001b0	c6 45 aa 46	 mov	 BYTE PTR _pal$[ebp+74], 70 ; 00000046H
  001b4	c6 45 ab 05	 mov	 BYTE PTR _pal$[ebp+75], 5

; 373  : 	{ 0x9b, 0x55, 0x1e, PC_NOCOLLAPSE | PC_RESERVED },

  001b8	c6 45 ac 9b	 mov	 BYTE PTR _pal$[ebp+76], 155 ; 0000009bH
  001bc	c6 45 ad 55	 mov	 BYTE PTR _pal$[ebp+77], 85 ; 00000055H
  001c0	c6 45 ae 1e	 mov	 BYTE PTR _pal$[ebp+78], 30 ; 0000001eH
  001c4	c6 45 af 05	 mov	 BYTE PTR _pal$[ebp+79], 5

; 374  : 	{ 0x46, 0x41, 0x37, PC_NOCOLLAPSE | PC_RESERVED },

  001c8	c6 45 b0 46	 mov	 BYTE PTR _pal$[ebp+80], 70 ; 00000046H
  001cc	c6 45 b1 41	 mov	 BYTE PTR _pal$[ebp+81], 65 ; 00000041H
  001d0	c6 45 b2 37	 mov	 BYTE PTR _pal$[ebp+82], 55 ; 00000037H
  001d4	c6 45 b3 05	 mov	 BYTE PTR _pal$[ebp+83], 5

; 375  : 	{ 0x28, 0x23, 0x1e, PC_NOCOLLAPSE | PC_RESERVED },

  001d8	c6 45 b4 28	 mov	 BYTE PTR _pal$[ebp+84], 40 ; 00000028H
  001dc	c6 45 b5 23	 mov	 BYTE PTR _pal$[ebp+85], 35 ; 00000023H
  001e0	c6 45 b6 1e	 mov	 BYTE PTR _pal$[ebp+86], 30 ; 0000001eH
  001e4	c6 45 b7 05	 mov	 BYTE PTR _pal$[ebp+87], 5

; 376  : 
; 377  : 	// ?????î
; 378  : 	{ 0xff, 0xfb, 0xf0, PC_NOCOLLAPSE | PC_RESERVED }, // 246

  001e8	c6 45 b8 ff	 mov	 BYTE PTR _pal$[ebp+88], 255 ; 000000ffH
  001ec	c6 45 b9 fb	 mov	 BYTE PTR _pal$[ebp+89], 251 ; 000000fbH
  001f0	c6 45 ba f0	 mov	 BYTE PTR _pal$[ebp+90], 240 ; 000000f0H
  001f4	c6 45 bb 05	 mov	 BYTE PTR _pal$[ebp+91], 5

; 379  : 	{ 0xa0, 0xa0, 0xa4, PC_NOCOLLAPSE | PC_RESERVED }, // 247

  001f8	c6 45 bc a0	 mov	 BYTE PTR _pal$[ebp+92], 160 ; 000000a0H
  001fc	c6 45 bd a0	 mov	 BYTE PTR _pal$[ebp+93], 160 ; 000000a0H
  00200	c6 45 be a4	 mov	 BYTE PTR _pal$[ebp+94], 164 ; 000000a4H
  00204	c6 45 bf 05	 mov	 BYTE PTR _pal$[ebp+95], 5

; 380  : 	{ 0x80, 0x80, 0x80, PC_NOCOLLAPSE | PC_RESERVED }, // 248

  00208	c6 45 c0 80	 mov	 BYTE PTR _pal$[ebp+96], 128 ; 00000080H
  0020c	c6 45 c1 80	 mov	 BYTE PTR _pal$[ebp+97], 128 ; 00000080H
  00210	c6 45 c2 80	 mov	 BYTE PTR _pal$[ebp+98], 128 ; 00000080H
  00214	c6 45 c3 05	 mov	 BYTE PTR _pal$[ebp+99], 5

; 381  : 	{ 0xff, 0x00, 0x00, PC_NOCOLLAPSE | PC_RESERVED }, // 249

  00218	c6 45 c4 ff	 mov	 BYTE PTR _pal$[ebp+100], 255 ; 000000ffH
  0021c	c6 45 c5 00	 mov	 BYTE PTR _pal$[ebp+101], 0
  00220	c6 45 c6 00	 mov	 BYTE PTR _pal$[ebp+102], 0
  00224	c6 45 c7 05	 mov	 BYTE PTR _pal$[ebp+103], 5

; 382  : 	{ 0x00, 0xff, 0x00, PC_NOCOLLAPSE | PC_RESERVED }, // 250

  00228	c6 45 c8 00	 mov	 BYTE PTR _pal$[ebp+104], 0
  0022c	c6 45 c9 ff	 mov	 BYTE PTR _pal$[ebp+105], 255 ; 000000ffH
  00230	c6 45 ca 00	 mov	 BYTE PTR _pal$[ebp+106], 0
  00234	c6 45 cb 05	 mov	 BYTE PTR _pal$[ebp+107], 5

; 383  : 	{ 0xff, 0xff, 0x00, PC_NOCOLLAPSE | PC_RESERVED }, // 251

  00238	c6 45 cc ff	 mov	 BYTE PTR _pal$[ebp+108], 255 ; 000000ffH
  0023c	c6 45 cd ff	 mov	 BYTE PTR _pal$[ebp+109], 255 ; 000000ffH
  00240	c6 45 ce 00	 mov	 BYTE PTR _pal$[ebp+110], 0
  00244	c6 45 cf 05	 mov	 BYTE PTR _pal$[ebp+111], 5

; 384  : 	{ 0x00, 0x00, 0xff, PC_NOCOLLAPSE | PC_RESERVED }, // 252

  00248	c6 45 d0 00	 mov	 BYTE PTR _pal$[ebp+112], 0
  0024c	c6 45 d1 00	 mov	 BYTE PTR _pal$[ebp+113], 0
  00250	c6 45 d2 ff	 mov	 BYTE PTR _pal$[ebp+114], 255 ; 000000ffH
  00254	c6 45 d3 05	 mov	 BYTE PTR _pal$[ebp+115], 5

; 385  : 	{ 0xff, 0x00, 0xff, PC_NOCOLLAPSE | PC_RESERVED }, // 253

  00258	c6 45 d4 ff	 mov	 BYTE PTR _pal$[ebp+116], 255 ; 000000ffH
  0025c	c6 45 d5 00	 mov	 BYTE PTR _pal$[ebp+117], 0
  00260	c6 45 d6 ff	 mov	 BYTE PTR _pal$[ebp+118], 255 ; 000000ffH
  00264	c6 45 d7 05	 mov	 BYTE PTR _pal$[ebp+119], 5

; 386  : 	{ 0x00, 0xff, 0xff, PC_NOCOLLAPSE | PC_RESERVED }, // 254

  00268	c6 45 d8 00	 mov	 BYTE PTR _pal$[ebp+120], 0
  0026c	c6 45 d9 ff	 mov	 BYTE PTR _pal$[ebp+121], 255 ; 000000ffH
  00270	c6 45 da ff	 mov	 BYTE PTR _pal$[ebp+122], 255 ; 000000ffH
  00274	c6 45 db 05	 mov	 BYTE PTR _pal$[ebp+123], 5

; 387  : 	{ 0xff, 0xff, 0xff, PC_NOCOLLAPSE | PC_RESERVED }  // 255

  00278	c6 45 dc ff	 mov	 BYTE PTR _pal$[ebp+124], 255 ; 000000ffH
  0027c	c6 45 dd ff	 mov	 BYTE PTR _pal$[ebp+125], 255 ; 000000ffH
  00280	c6 45 de ff	 mov	 BYTE PTR _pal$[ebp+126], 255 ; 000000ffH
  00284	c6 45 df 05	 mov	 BYTE PTR _pal$[ebp+127], 5

; 388  : 	};
; 389  : 
; 390  : 
; 391  : 	// ??????????î
; 392  : 	for (i = 0; i < 10; i++) {

  00288	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0028f	eb 09		 jmp	 SHORT $LN4@InitPalett
$LN2@InitPalett:
  00291	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00294	83 c0 01	 add	 eax, 1
  00297	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax
$LN4@InitPalett:
  0029a	83 7d f4 0a	 cmp	 DWORD PTR _i$[ebp], 10	; 0000000aH
  0029e	0f 8d 8a 00 00
	00		 jge	 $LN3@InitPalett

; 393  : 		Palette[i].peBlue = pal[i].peBlue;

  002a4	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  002a7	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  002aa	8a 94 8d 62 ff
	ff ff		 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+2]
  002b1	88 14 85 02 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+2], dl

; 394  : 		Palette[i].peGreen = pal[i].peGreen;

  002b8	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  002bb	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  002be	8a 94 8d 61 ff
	ff ff		 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+1]
  002c5	88 14 85 01 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+1], dl

; 395  : 		Palette[i].peRed = pal[i].peRed;

  002cc	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  002cf	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  002d2	8a 94 8d 60 ff
	ff ff		 mov	 dl, BYTE PTR _pal$[ebp+ecx*4]
  002d9	88 14 85 00 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4], dl

; 396  : 		Palette[i].peFlags = PC_EXPLICIT;

  002e0	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  002e3	c6 04 85 03 00
	00 00 02	 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+3], 2

; 397  : 
; 398  : 		Palette[i + 246].peBlue = pal[i + 22].peBlue;

  002eb	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  002ee	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  002f1	8a 54 8d ba	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+90]
  002f5	88 14 85 da 03
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+986], dl

; 399  : 		Palette[i + 246].peGreen = pal[i + 22].peGreen;

  002fc	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  002ff	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00302	8a 54 8d b9	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+89]
  00306	88 14 85 d9 03
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+985], dl

; 400  : 		Palette[i + 246].peRed = pal[i + 22].peRed;

  0030d	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00310	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00313	8a 54 8d b8	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+88]
  00317	88 14 85 d8 03
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+984], dl

; 401  : 		Palette[i + 246].peFlags = PC_EXPLICIT;

  0031e	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00321	c6 04 85 db 03
	00 00 02	 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+987], 2

; 402  : 	}

  00329	e9 63 ff ff ff	 jmp	 $LN2@InitPalett
$LN3@InitPalett:

; 403  : 
; 404  : 	// î¡??????????î
; 405  : 	for (i = 0; i < 6; i++) {

  0032e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00335	eb 09		 jmp	 SHORT $LN7@InitPalett
$LN5@InitPalett:
  00337	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0033a	83 c0 01	 add	 eax, 1
  0033d	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax
$LN7@InitPalett:
  00340	83 7d f4 06	 cmp	 DWORD PTR _i$[ebp], 6
  00344	0f 8d 81 00 00
	00		 jge	 $LN6@InitPalett

; 406  : 		Palette[i + 10].peBlue = pal[i + 10].peBlue;

  0034a	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0034d	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00350	8a 54 8d 8a	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+42]
  00354	88 14 85 2a 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+42], dl

; 407  : 		Palette[i + 10].peGreen = pal[i + 10].peGreen;

  0035b	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0035e	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00361	8a 54 8d 89	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+41]
  00365	88 14 85 29 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+41], dl

; 408  : 		Palette[i + 10].peRed = pal[i + 10].peRed;

  0036c	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0036f	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00372	8a 54 8d 88	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+40]
  00376	88 14 85 28 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+40], dl

; 409  : 		Palette[i + 10].peFlags = PC_NOCOLLAPSE | PC_RESERVED;

  0037d	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00380	c6 04 85 2b 00
	00 00 05	 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+43], 5

; 410  : 
; 411  : 		Palette[i + 240].peBlue = pal[i + 16].peBlue;

  00388	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0038b	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  0038e	8a 54 8d a2	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+66]
  00392	88 14 85 c2 03
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+962], dl

; 412  : 		Palette[i + 240].peGreen = pal[i + 16].peGreen;

  00399	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0039c	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  0039f	8a 54 8d a1	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+65]
  003a3	88 14 85 c1 03
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+961], dl

; 413  : 		Palette[i + 240].peRed = pal[i + 16].peRed;

  003aa	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  003ad	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  003b0	8a 54 8d a0	 mov	 dl, BYTE PTR _pal$[ebp+ecx*4+64]
  003b4	88 14 85 c0 03
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+960], dl

; 414  : 		Palette[i + 240].peFlags = PC_NOCOLLAPSE | PC_RESERVED;

  003bb	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  003be	c6 04 85 c3 03
	00 00 05	 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+963], 5

; 415  : 	}

  003c6	e9 6c ff ff ff	 jmp	 $LN5@InitPalett
$LN6@InitPalett:

; 416  : 
; 417  : 	//åªæç¬¬ä¸æ¬¡æä½(æ²¡æåå§åæ¶)// ???????????î±?????
; 418  : 	if (PalState.flag == FALSE) {

  003cb	83 3d 08 00 00
	00 00		 cmp	 DWORD PTR ?PalState@@3UPALETTE_STATE@@A+8, 0
  003d2	0f 85 f3 00 00
	00		 jne	 $LN17@InitPalett

; 419  : 		fp = fopen(palFileName[0], "rb");

  003d8	8b f4		 mov	 esi, esp
  003da	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  003df	b8 04 00 00 00	 mov	 eax, 4
  003e4	6b c8 00	 imul	 ecx, eax, 0
  003e7	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?palFileName@@3PAPADA[ecx]
  003ed	52		 push	 edx
  003ee	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  003f4	83 c4 08	 add	 esp, 8
  003f7	3b f4		 cmp	 esi, esp
  003f9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003fe	89 45 e8	 mov	 DWORD PTR _fp$[ebp], eax

; 420  : 		if (fp == NULL) {

  00401	83 7d e8 00	 cmp	 DWORD PTR _fp$[ebp], 0
  00405	75 26		 jne	 SHORT $LN18@InitPalett

; 421  : 			MessageBoxNew(hWnd, "ì¸ë±ì¤ íì¼ ì½ê¸°", "Error", MB_OK | MB_ICONSTOP);

  00407	6a 10		 push	 16			; 00000010H
  00409	68 00 00 00 00	 push	 OFFSET ??_C@_05NAOIJFC@Error?$AA@
  0040e	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@MMJDDNEI@?$MA?N?$LF?$KG?$LN?$LK?5?F?D?$MA?O?5?$MA?P?$LB?b?$AA@
  00413	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00418	50		 push	 eax
  00419	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  0041e	83 c4 10	 add	 esp, 16			; 00000010H

; 422  : 			return FALSE;

  00421	33 c0		 xor	 eax, eax
  00423	e9 2a 03 00 00	 jmp	 $LN27@InitPalett

; 423  : 		}
; 424  : 		else {

  00428	e9 9e 00 00 00	 jmp	 $LN17@InitPalett
$LN18@InitPalett:

; 425  : 			//å¯èªç±ä½¿ç¨çè°è²çè®¾å®// î??î¸????????î
; 426  : 			for (i = 16; i < 240; i++) {

  0042d	c7 45 f4 10 00
	00 00		 mov	 DWORD PTR _i$[ebp], 16	; 00000010H
  00434	eb 09		 jmp	 SHORT $LN10@InitPalett
$LN8@InitPalett:
  00436	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00439	83 c0 01	 add	 eax, 1
  0043c	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax
$LN10@InitPalett:
  0043f	81 7d f4 f0 00
	00 00		 cmp	 DWORD PTR _i$[ebp], 240	; 000000f0H
  00446	7d 6d		 jge	 SHORT $LN9@InitPalett

; 427  : 				//æ¡£æ¡è¯»å¥// ?????î???
; 428  : 				Palette[i].peBlue = fgetc(fp);

  00448	8b f4		 mov	 esi, esp
  0044a	8b 45 e8	 mov	 eax, DWORD PTR _fp$[ebp]
  0044d	50		 push	 eax
  0044e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fgetc
  00454	83 c4 04	 add	 esp, 4
  00457	3b f4		 cmp	 esi, esp
  00459	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0045e	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00461	88 04 8d 02 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4+2], al

; 429  : 				Palette[i].peGreen = fgetc(fp);

  00468	8b f4		 mov	 esi, esp
  0046a	8b 45 e8	 mov	 eax, DWORD PTR _fp$[ebp]
  0046d	50		 push	 eax
  0046e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fgetc
  00474	83 c4 04	 add	 esp, 4
  00477	3b f4		 cmp	 esi, esp
  00479	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0047e	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00481	88 04 8d 01 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4+1], al

; 430  : 				Palette[i].peRed = fgetc(fp);

  00488	8b f4		 mov	 esi, esp
  0048a	8b 45 e8	 mov	 eax, DWORD PTR _fp$[ebp]
  0048d	50		 push	 eax
  0048e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fgetc
  00494	83 c4 04	 add	 esp, 4
  00497	3b f4		 cmp	 esi, esp
  00499	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0049e	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  004a1	88 04 8d 00 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4], al

; 431  : 				Palette[i].peFlags = PC_NOCOLLAPSE | PC_RESERVED;

  004a8	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  004ab	c6 04 85 03 00
	00 00 05	 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+3], 5

; 432  : 			}

  004b3	eb 81		 jmp	 SHORT $LN8@InitPalett
$LN9@InitPalett:

; 433  : 			fclose(fp);

  004b5	8b f4		 mov	 esi, esp
  004b7	8b 45 e8	 mov	 eax, DWORD PTR _fp$[ebp]
  004ba	50		 push	 eax
  004bb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  004c1	83 c4 04	 add	 esp, 4
  004c4	3b f4		 cmp	 esi, esp
  004c6	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN17@InitPalett:

; 434  : 		}
; 435  : 	}
; 436  : 	if (!transmigrationEffectFlag)

  004cb	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?transmigrationEffectFlag@@3HA, 0 ; transmigrationEffectFlag
  004d2	75 36		 jne	 SHORT $LN20@InitPalett

; 437  : 	{
; 438  : 		Palette[168].peBlue = 0;

  004d4	b8 04 00 00 00	 mov	 eax, 4
  004d9	69 c8 a8 00 00
	00		 imul	 ecx, eax, 168
  004df	c6 81 02 00 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx+2], 0

; 439  : 		Palette[168].peGreen = 0;

  004e6	b8 04 00 00 00	 mov	 eax, 4
  004eb	69 c8 a8 00 00
	00		 imul	 ecx, eax, 168
  004f1	c6 81 01 00 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx+1], 0

; 440  : 		Palette[168].peRed = 0;

  004f8	b8 04 00 00 00	 mov	 eax, 4
  004fd	69 c8 a8 00 00
	00		 imul	 ecx, eax, 168
  00503	c6 81 00 00 00
	00 00		 mov	 BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx], 0
$LN20@InitPalett:

; 441  : 		//Palette[168].peFlags 	= PC_EXPLICIT;
; 442  : 	}
; 443  : 
; 444  : #if 0
; 445  : 	else {
; 446  : 		// î??î¸????????î
; 447  : 		for (i = 16; i < 240; i++) {
; 448  : 			// ??????????
; 449  : 			if (WindowMode) {
; 450  : 				Palette[i].peFlags = PC_NOCOLLAPSE | PC_RESERVED;
; 451  : 			}
; 452  : 			else {
; 453  : 				Palette[i].peFlags = PC_EXPLICIT;
; 454  : 			}
; 455  : 		}
; 456  : 	}
; 457  : #endif
; 458  : 	lpDraw->lpDD2->CreatePalette(DDPCAPS_8BIT, Palette, &lpDraw->lpPALETTE, NULL);

  0050a	8b f4		 mov	 esi, esp
  0050c	6a 00		 push	 0
  0050e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00513	05 80 00 00 00	 add	 eax, 128		; 00000080H
  00518	50		 push	 eax
  00519	68 00 00 00 00	 push	 OFFSET ?Palette@@3PAUtagPALETTEENTRY@@A ; Palette
  0051e	6a 04		 push	 4
  00520	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00526	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00529	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0052e	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00531	8b 12		 mov	 edx, DWORD PTR [edx]
  00533	51		 push	 ecx
  00534	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  00537	ff d0		 call	 eax
  00539	3b f4		 cmp	 esi, esp
  0053b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 459  : 	if (lpDraw->lpPALETTE == NULL) {

  00540	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00545	83 b8 80 00 00
	00 00		 cmp	 DWORD PTR [eax+128], 0
  0054c	75 21		 jne	 SHORT $LN21@InitPalett

; 460  : 		MessageBoxNew(hWnd, "íë í¸ ì²ë¦¬ ì¤í¨", "Error", MB_OK | MB_ICONSTOP);

  0054e	6a 10		 push	 16			; 00000010H
  00550	68 00 00 00 00	 push	 OFFSET ??_C@_05NAOIJFC@Error?$AA@
  00555	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@KCGIAGNL@?F?H?$LH?$LJ?F?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@
  0055a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0055f	50		 push	 eax
  00560	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  00565	83 c4 10	 add	 esp, 16			; 00000010H

; 461  : 		return FALSE;

  00568	33 c0		 xor	 eax, eax
  0056a	e9 e3 01 00 00	 jmp	 $LN27@InitPalett
$LN21@InitPalett:

; 462  : 	}
; 463  : 	// WON REM 
; 464  : #ifdef _HI_COLOR_16
; 465  : 	//#ifdef _STONDEBUG_
; 466  : 	if (displayBpp == 8) {

  0056f	83 3d 00 00 00
	00 08		 cmp	 DWORD PTR ?displayBpp@@3HA, 8 ; displayBpp
  00576	75 6e		 jne	 SHORT $LN22@InitPalett

; 467  : 		if (lpDraw->lpFRONTBUFFER->SetPalette(lpDraw->lpPALETTE) != DD_OK) {

  00578	8b f4		 mov	 esi, esp
  0057a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0057f	8b 88 80 00 00
	00		 mov	 ecx, DWORD PTR [eax+128]
  00585	51		 push	 ecx
  00586	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0058c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0058f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00595	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00598	8b 00		 mov	 eax, DWORD PTR [eax]
  0059a	52		 push	 edx
  0059b	8b 48 7c	 mov	 ecx, DWORD PTR [eax+124]
  0059e	ff d1		 call	 ecx
  005a0	3b f4		 cmp	 esi, esp
  005a2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005a7	85 c0		 test	 eax, eax
  005a9	74 3b		 je	 SHORT $LN22@InitPalett

; 468  : 			MessageBoxNew(hWnd, "íë í¸ ì²ë¦¬ ì¤í¨", "Error", MB_OK);

  005ab	6a 00		 push	 0
  005ad	68 00 00 00 00	 push	 OFFSET ??_C@_05NAOIJFC@Error?$AA@
  005b2	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@KCGIAGNL@?F?H?$LH?$LJ?F?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@
  005b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  005bc	50		 push	 eax
  005bd	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  005c2	83 c4 10	 add	 esp, 16			; 00000010H

; 469  : 			MessageBoxNew(hWnd, "16ë¹í¸ íì´ ì»¬ë¬ ëë 32ë¹í¸ íì´ ì»¬ë¬ íë ìì ì¬ì©í´ì£¼ì¸ì", "Error", MB_OK);

  005c5	6a 00		 push	 0
  005c7	68 00 00 00 00	 push	 OFFSET ??_C@_05NAOIJFC@Error?$AA@
  005cc	68 00 00 00 00	 push	 OFFSET ??_C@_0DN@ECLMIGIM@16?$LK?q?F?$KO?5?G?O?$MA?L?5?D?C?$LH?$KP?5?$LG?G?$LE?B?532?$LK?q?F?$KO?5?G?O?$MA@
  005d1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  005d6	50		 push	 eax
  005d7	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  005dc	83 c4 10	 add	 esp, 16			; 00000010H

; 470  : 			return FALSE;

  005df	33 c0		 xor	 eax, eax
  005e1	e9 6c 01 00 00	 jmp	 $LN27@InitPalett
$LN22@InitPalett:

; 471  : 		}
; 472  : 	}
; 473  : #else
; 474  : 	// Robin 05/02
; 475  : #ifdef SWITCH_MODE
; 476  : 	if (lpDraw->lpFRONTBUFFER->SetPalette(lpDraw->lpPALETTE) != DD_OK) {
; 477  : 		if (MessageBoxNew(hWnd, "è¯·ä½¿ç¨ï¼ï¼ï¼è²çæ¾ç¤ºæ¨¡ç¤º", "íì¸", MB_RETRYCANCEL | MB_ICONEXCLAMATION) == IDCANCEL)
; 478  : 			return FALSE;
; 479  : 		return FALSE;
; 480  : 	}
; 481  : #else
; 482  : 	while (lpDraw->lpFRONTBUFFER->SetPalette(lpDraw->lpPALETTE) != DD_OK) {
; 483  : 		if (MessageBoxNew(hWnd, "è¯·ä½¿ç¨ï¼ï¼ï¼è²çæ¾ç¤ºæ¨¡ç¤º", "íì¸", MB_RETRYCANCEL | MB_ICONEXCLAMATION) == IDCANCEL)
; 484  : 			return FALSE;
; 485  : 	}
; 486  : #endif
; 487  : 
; 488  : #endif
; 489  : 
; 490  : #ifdef _HI_COLOR_32
; 491  : 	if (displayBpp == 32) {

  005e6	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  005ed	0f 85 93 00 00
	00		 jne	 $LN24@InitPalett

; 492  : 		highColor32Palette[0] = 0;

  005f3	b8 04 00 00 00	 mov	 eax, 4
  005f8	6b c8 00	 imul	 ecx, eax, 0
  005fb	c7 81 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?highColor32Palette@@3PAIA[ecx], 0

; 493  : 		for (i = 1; i < 256; i++) {

  00605	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _i$[ebp], 1
  0060c	eb 09		 jmp	 SHORT $LN13@InitPalett
$LN11@InitPalett:
  0060e	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00611	83 c0 01	 add	 eax, 1
  00614	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax
$LN13@InitPalett:
  00617	81 7d f4 00 01
	00 00		 cmp	 DWORD PTR _i$[ebp], 256	; 00000100H
  0061e	7d 61		 jge	 SHORT $LN12@InitPalett

; 494  : 			highColor32Palette[i] =

  00620	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  00623	0f b6 14 85 02
	00 00 00	 movzx	 edx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+2]
  0062b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?bBitRShift@@3HA ; bBitRShift
  00631	d3 fa		 sar	 edx, cl
  00633	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?bBitLShift@@3HA ; bBitLShift
  00639	d3 e2		 shl	 edx, cl
  0063b	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  0063e	0f b6 04 85 01
	00 00 00	 movzx	 eax, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+1]
  00646	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gBitRShift@@3HA ; gBitRShift
  0064c	d3 f8		 sar	 eax, cl
  0064e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gBitLShift@@3HA ; gBitLShift
  00654	d3 e0		 shl	 eax, cl
  00656	03 d0		 add	 edx, eax
  00658	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  0065b	0f b6 04 8d 00
	00 00 00	 movzx	 eax, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4]
  00663	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?rBitRShift@@3HA ; rBitRShift
  00669	d3 f8		 sar	 eax, cl
  0066b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?rBitLShift@@3HA ; rBitLShift
  00671	d3 e0		 shl	 eax, cl
  00673	03 d0		 add	 edx, eax
  00675	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00678	89 14 8d 00 00
	00 00		 mov	 DWORD PTR ?highColor32Palette@@3PAIA[ecx*4], edx

; 495  : 				((Palette[i].peBlue >> bBitRShift) << bBitLShift)
; 496  : 				+ ((Palette[i].peGreen >> gBitRShift) << gBitLShift)
; 497  : 				+ ((Palette[i].peRed >> rBitRShift) << rBitLShift);
; 498  : 	}

  0067f	eb 8d		 jmp	 SHORT $LN11@InitPalett
$LN12@InitPalett:

; 499  : 			}
; 500  : 	else

  00681	e9 bd 00 00 00	 jmp	 $LN25@InitPalett
$LN24@InitPalett:

; 501  : #endif
; 502  : 		if (displayBpp == 16) {

  00686	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  0068d	0f 85 b0 00 00
	00		 jne	 $LN25@InitPalett

; 503  : 			// ????????î??????î
; 504  : 			highColorPalette[0] = 0;

  00693	b8 02 00 00 00	 mov	 eax, 2
  00698	6b c8 00	 imul	 ecx, eax, 0
  0069b	89 8d 94 fe ff
	ff		 mov	 DWORD PTR $T1[ebp], ecx
  006a1	81 bd 94 fe ff
	ff 00 02 00 00	 cmp	 DWORD PTR $T1[ebp], 512	; 00000200H
  006ab	73 02		 jae	 SHORT $LN28@InitPalett
  006ad	eb 05		 jmp	 SHORT $LN29@InitPalett
$LN28@InitPalett:
  006af	e8 00 00 00 00	 call	 ___report_rangecheckfailure
$LN29@InitPalett:
  006b4	33 d2		 xor	 edx, edx
  006b6	8b 85 94 fe ff
	ff		 mov	 eax, DWORD PTR $T1[ebp]
  006bc	66 89 90 00 00
	00 00		 mov	 WORD PTR ?highColorPalette@@3PAGA[eax], dx

; 505  : 			for (i = 1; i < 256; i++) {

  006c3	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _i$[ebp], 1
  006ca	eb 09		 jmp	 SHORT $LN16@InitPalett
$LN14@InitPalett:
  006cc	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  006cf	83 c0 01	 add	 eax, 1
  006d2	89 45 f4	 mov	 DWORD PTR _i$[ebp], eax
$LN16@InitPalett:
  006d5	81 7d f4 00 01
	00 00		 cmp	 DWORD PTR _i$[ebp], 256	; 00000100H
  006dc	7d 65		 jge	 SHORT $LN25@InitPalett

; 506  : 				highColorPalette[i] =

  006de	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  006e1	0f b6 14 85 02
	00 00 00	 movzx	 edx, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+2]
  006e9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?bBitRShift@@3HA ; bBitRShift
  006ef	d3 fa		 sar	 edx, cl
  006f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?bBitLShift@@3HA ; bBitLShift
  006f7	d3 e2		 shl	 edx, cl
  006f9	8b 45 f4	 mov	 eax, DWORD PTR _i$[ebp]
  006fc	0f b6 04 85 01
	00 00 00	 movzx	 eax, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[eax*4+1]
  00704	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gBitRShift@@3HA ; gBitRShift
  0070a	d3 f8		 sar	 eax, cl
  0070c	83 c8 01	 or	 eax, 1
  0070f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gBitLShift@@3HA ; gBitLShift
  00715	d3 e0		 shl	 eax, cl
  00717	03 d0		 add	 edx, eax
  00719	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  0071c	0f b6 04 8d 00
	00 00 00	 movzx	 eax, BYTE PTR ?Palette@@3PAUtagPALETTEENTRY@@A[ecx*4]
  00724	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?rBitRShift@@3HA ; rBitRShift
  0072a	d3 f8		 sar	 eax, cl
  0072c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?rBitLShift@@3HA ; rBitLShift
  00732	d3 e0		 shl	 eax, cl
  00734	03 d0		 add	 edx, eax
  00736	8b 4d f4	 mov	 ecx, DWORD PTR _i$[ebp]
  00739	66 89 14 4d 00
	00 00 00	 mov	 WORD PTR ?highColorPalette@@3PAGA[ecx*2], dx

; 507  : 					((Palette[i].peBlue >> bBitRShift) << bBitLShift)
; 508  : 					//cary 2001 10 16
; 509  : 					+ (((Palette[i].peGreen >> gBitRShift) | 1) << gBitLShift)
; 510  : 					+ ((Palette[i].peRed >> rBitRShift) << rBitLShift);
; 511  : 			}

  00741	eb 89		 jmp	 SHORT $LN14@InitPalett
$LN25@InitPalett:

; 512  : 		}
; 513  : 
; 514  : 	PalState.flag = TRUE;

  00743	c7 05 08 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?PalState@@3UPALETTE_STATE@@A+8, 1

; 515  : 	return TRUE;

  0074d	b8 01 00 00 00	 mov	 eax, 1
$LN27@InitPalett:

; 516  : 		}

  00752	52		 push	 edx
  00753	8b cd		 mov	 ecx, ebp
  00755	50		 push	 eax
  00756	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN32@InitPalett
  0075c	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00761	58		 pop	 eax
  00762	5a		 pop	 edx
  00763	5f		 pop	 edi
  00764	5e		 pop	 esi
  00765	5b		 pop	 ebx
  00766	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00769	33 cd		 xor	 ecx, ebp
  0076b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00770	81 c4 70 01 00
	00		 add	 esp, 368		; 00000170H
  00776	3b ec		 cmp	 ebp, esp
  00778	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0077d	8b e5		 mov	 esp, ebp
  0077f	5d		 pop	 ebp
  00780	c3		 ret	 0
  00781	0f 1f 00	 npad	 3
$LN32@InitPalett:
  00784	01 00 00 00	 DD	 1
  00788	00 00 00 00	 DD	 $LN31@InitPalett
$LN31@InitPalett:
  0078c	60 ff ff ff	 DD	 -160			; ffffff60H
  00790	80 00 00 00	 DD	 128			; 00000080H
  00794	00 00 00 00	 DD	 $LN30@InitPalett
$LN30@InitPalett:
  00798	70		 DB	 112			; 00000070H
  00799	61		 DB	 97			; 00000061H
  0079a	6c		 DB	 108			; 0000006cH
  0079b	00		 DB	 0
?InitPalette@@YAHXZ ENDP				; InitPalette
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\users\administrator\desktop\????? ??\????? ??\client source code\system\directdraw.cpp
;	COMDAT ?InitDirectDraw@@YAHXZ
_TEXT	SEGMENT
_ddPixelFormat$1 = -404					; size = 32
_ddPixelFormat$2 = -364					; size = 32
_hDcDest$ = -324					; size = 4
_ddscaps$ = -312					; size = 4
_szErrMsg$ = -300					; size = 256
_hResult$ = -36						; size = 4
_hErrorLogFile$ = -24					; size = 4
_dwWriteByte$ = -12					; size = 4
__$ArrayPad$ = -4					; size = 4
?InitDirectDraw@@YAHXZ PROC				; InitDirectDraw, COMDAT

; 94   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 58 02 00
	00		 sub	 esp, 600		; 00000258H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd a8 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-600]
  00012	b9 96 00 00 00	 mov	 ecx, 150		; 00000096H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 c5		 xor	 eax, ebp
  00025	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 95   : 	DWORD dwWriteByte;
; 96   : 	HANDLE hErrorLogFile;
; 97   : 	HRESULT hResult;
; 98   : 	char szErrMsg[256];
; 99   : 	DDSCAPS ddscaps;		// ??????????î???î¨î
; 100  : 
; 101  : 	HDC hDcDest = GetDC(hWnd);

  00028	8b f4		 mov	 esi, esp
  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0002f	50		 push	 eax
  00030	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  00036	3b f4		 cmp	 esi, esp
  00038	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0003d	89 85 bc fe ff
	ff		 mov	 DWORD PTR _hDcDest$[ebp], eax

; 102  : 	displayBpp = GetDeviceCaps(hDcDest, BITSPIXEL);

  00043	8b f4		 mov	 esi, esp
  00045	6a 0c		 push	 12			; 0000000cH
  00047	8b 85 bc fe ff
	ff		 mov	 eax, DWORD PTR _hDcDest$[ebp]
  0004d	50		 push	 eax
  0004e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDeviceCaps@8
  00054	3b f4		 cmp	 esi, esp
  00056	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005b	a3 00 00 00 00	 mov	 DWORD PTR ?displayBpp@@3HA, eax ; displayBpp

; 103  : 	ReleaseDC(hWnd, hDcDest);

  00060	8b f4		 mov	 esi, esp
  00062	8b 85 bc fe ff
	ff		 mov	 eax, DWORD PTR _hDcDest$[ebp]
  00068	50		 push	 eax
  00069	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0006f	51		 push	 ecx
  00070	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8
  00076	3b f4		 cmp	 esi, esp
  00078	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 104  : 
; 105  : 	if ((hResult = DirectDrawCreate(NULL, &lpDraw->lpDD, NULL)) != DD_OK) {

  0007d	6a 00		 push	 0
  0007f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00084	50		 push	 eax
  00085	6a 00		 push	 0
  00087	e8 00 00 00 00	 call	 _DirectDrawCreate@12
  0008c	89 45 dc	 mov	 DWORD PTR _hResult$[ebp], eax
  0008f	83 7d dc 00	 cmp	 DWORD PTR _hResult$[ebp], 0
  00093	0f 84 2f 01 00
	00		 je	 $LN2@InitDirect

; 106  : 		hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);

  00099	8b f4		 mov	 esi, esp
  0009b	6a 00		 push	 0
  0009d	68 80 00 00 00	 push	 128			; 00000080H
  000a2	6a 02		 push	 2
  000a4	6a 00		 push	 0
  000a6	6a 01		 push	 1
  000a8	68 00 00 00 40	 push	 1073741824		; 40000000H
  000ad	68 00 00 00 00	 push	 OFFSET ??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@
  000b2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  000b8	3b f4		 cmp	 esi, esp
  000ba	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000bf	89 45 e8	 mov	 DWORD PTR _hErrorLogFile$[ebp], eax

; 107  : 		sprintf_s(szErrMsg, "DirectDrawCreate error(1):error result (%x)", hResult);

  000c2	8b 45 dc	 mov	 eax, DWORD PTR _hResult$[ebp]
  000c5	50		 push	 eax
  000c6	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@HMMIJENE@DirectDrawCreate?5error?$CI1?$CJ?3error?5@
  000cb	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  000d1	51		 push	 ecx
  000d2	e8 00 00 00 00	 call	 ??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ ; sprintf_s<256>
  000d7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 108  : 		WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);

  000da	8b f4		 mov	 esi, esp
  000dc	6a 00		 push	 0
  000de	8d 45 f4	 lea	 eax, DWORD PTR _dwWriteByte$[ebp]
  000e1	50		 push	 eax
  000e2	68 00 01 00 00	 push	 256			; 00000100H
  000e7	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  000ed	51		 push	 ecx
  000ee	8b 55 e8	 mov	 edx, DWORD PTR _hErrorLogFile$[ebp]
  000f1	52		 push	 edx
  000f2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  000f8	3b f4		 cmp	 esi, esp
  000fa	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 109  : 		CloseHandle(hErrorLogFile);

  000ff	8b f4		 mov	 esi, esp
  00101	8b 45 e8	 mov	 eax, DWORD PTR _hErrorLogFile$[ebp]
  00104	50		 push	 eax
  00105	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  0010b	3b f4		 cmp	 esi, esp
  0010d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 110  : 		if ((hResult = DirectDrawCreate((GUID *)DDCREATE_EMULATIONONLY, &lpDraw->lpDD, NULL)) != DD_OK) {

  00112	6a 00		 push	 0
  00114	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00119	50		 push	 eax
  0011a	6a 02		 push	 2
  0011c	e8 00 00 00 00	 call	 _DirectDrawCreate@12
  00121	89 45 dc	 mov	 DWORD PTR _hResult$[ebp], eax
  00124	83 7d dc 00	 cmp	 DWORD PTR _hResult$[ebp], 0
  00128	0f 84 9a 00 00
	00		 je	 $LN2@InitDirect

; 111  : 			MessageBoxNew(hWnd, "DirectDrawCreate Error", "íì¸", MB_OK | MB_ICONSTOP);

  0012e	6a 10		 push	 16			; 00000010H
  00130	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  00135	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@MKFLKCNM@DirectDrawCreate?5Error?$AA@
  0013a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0013f	50		 push	 eax
  00140	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  00145	83 c4 10	 add	 esp, 16			; 00000010H

; 112  : 			hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);

  00148	8b f4		 mov	 esi, esp
  0014a	6a 00		 push	 0
  0014c	68 80 00 00 00	 push	 128			; 00000080H
  00151	6a 02		 push	 2
  00153	6a 00		 push	 0
  00155	6a 01		 push	 1
  00157	68 00 00 00 40	 push	 1073741824		; 40000000H
  0015c	68 00 00 00 00	 push	 OFFSET ??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@
  00161	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  00167	3b f4		 cmp	 esi, esp
  00169	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0016e	89 45 e8	 mov	 DWORD PTR _hErrorLogFile$[ebp], eax

; 113  : 			sprintf_s(szErrMsg, "DirectDrawCreate error(2):error result (%x)", hResult);

  00171	8b 45 dc	 mov	 eax, DWORD PTR _hResult$[ebp]
  00174	50		 push	 eax
  00175	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@HNGBGDH@DirectDrawCreate?5error?$CI2?$CJ?3error?5@
  0017a	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  00180	51		 push	 ecx
  00181	e8 00 00 00 00	 call	 ??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ ; sprintf_s<256>
  00186	83 c4 0c	 add	 esp, 12			; 0000000cH

; 114  : 			WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);

  00189	8b f4		 mov	 esi, esp
  0018b	6a 00		 push	 0
  0018d	8d 45 f4	 lea	 eax, DWORD PTR _dwWriteByte$[ebp]
  00190	50		 push	 eax
  00191	68 00 01 00 00	 push	 256			; 00000100H
  00196	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  0019c	51		 push	 ecx
  0019d	8b 55 e8	 mov	 edx, DWORD PTR _hErrorLogFile$[ebp]
  001a0	52		 push	 edx
  001a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  001a7	3b f4		 cmp	 esi, esp
  001a9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 115  : 			CloseHandle(hErrorLogFile);

  001ae	8b f4		 mov	 esi, esp
  001b0	8b 45 e8	 mov	 eax, DWORD PTR _hErrorLogFile$[ebp]
  001b3	50		 push	 eax
  001b4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  001ba	3b f4		 cmp	 esi, esp
  001bc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 116  : 			return FALSE;

  001c1	33 c0		 xor	 eax, eax
  001c3	e9 e5 08 00 00	 jmp	 $LN1@InitDirect
$LN2@InitDirect:

; 117  : 		}
; 118  : 	}
; 119  : 	if ((hResult = lpDraw->lpDD->QueryInterface(IID_IDirectDraw2, (LPVOID *)&lpDraw->lpDD2)) != DD_OK) {

  001c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001cd	83 c0 04	 add	 eax, 4
  001d0	8b f4		 mov	 esi, esp
  001d2	50		 push	 eax
  001d3	68 00 00 00 00	 push	 OFFSET _IID_IDirectDraw2
  001d8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001de	8b 11		 mov	 edx, DWORD PTR [ecx]
  001e0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  001e5	8b 08		 mov	 ecx, DWORD PTR [eax]
  001e7	8b 12		 mov	 edx, DWORD PTR [edx]
  001e9	51		 push	 ecx
  001ea	8b 02		 mov	 eax, DWORD PTR [edx]
  001ec	ff d0		 call	 eax
  001ee	3b f4		 cmp	 esi, esp
  001f0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001f5	89 45 dc	 mov	 DWORD PTR _hResult$[ebp], eax
  001f8	83 7d dc 00	 cmp	 DWORD PTR _hResult$[ebp], 0
  001fc	0f 84 9a 00 00
	00		 je	 $LN4@InitDirect

; 120  : 		MessageBoxNew(hWnd, "QueryInterface Error", "íì¸", MB_OK | MB_ICONSTOP);

  00202	6a 10		 push	 16			; 00000010H
  00204	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  00209	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@GFNNOOOA@QueryInterface?5Error?$AA@
  0020e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00213	50		 push	 eax
  00214	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  00219	83 c4 10	 add	 esp, 16			; 00000010H

; 121  : 		hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);

  0021c	8b f4		 mov	 esi, esp
  0021e	6a 00		 push	 0
  00220	68 80 00 00 00	 push	 128			; 00000080H
  00225	6a 02		 push	 2
  00227	6a 00		 push	 0
  00229	6a 01		 push	 1
  0022b	68 00 00 00 40	 push	 1073741824		; 40000000H
  00230	68 00 00 00 00	 push	 OFFSET ??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@
  00235	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  0023b	3b f4		 cmp	 esi, esp
  0023d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00242	89 45 e8	 mov	 DWORD PTR _hErrorLogFile$[ebp], eax

; 122  : 		sprintf_s(szErrMsg, "QueryInterface error:error result (%x)", hResult);

  00245	8b 45 dc	 mov	 eax, DWORD PTR _hResult$[ebp]
  00248	50		 push	 eax
  00249	68 00 00 00 00	 push	 OFFSET ??_C@_0CH@HAIHOBCK@QueryInterface?5error?3error?5resul@
  0024e	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  00254	51		 push	 ecx
  00255	e8 00 00 00 00	 call	 ??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ ; sprintf_s<256>
  0025a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 123  : 		WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);

  0025d	8b f4		 mov	 esi, esp
  0025f	6a 00		 push	 0
  00261	8d 45 f4	 lea	 eax, DWORD PTR _dwWriteByte$[ebp]
  00264	50		 push	 eax
  00265	68 00 01 00 00	 push	 256			; 00000100H
  0026a	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  00270	51		 push	 ecx
  00271	8b 55 e8	 mov	 edx, DWORD PTR _hErrorLogFile$[ebp]
  00274	52		 push	 edx
  00275	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  0027b	3b f4		 cmp	 esi, esp
  0027d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 124  : 		CloseHandle(hErrorLogFile);

  00282	8b f4		 mov	 esi, esp
  00284	8b 45 e8	 mov	 eax, DWORD PTR _hErrorLogFile$[ebp]
  00287	50		 push	 eax
  00288	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  0028e	3b f4		 cmp	 esi, esp
  00290	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 125  : 		return FALSE;

  00295	33 c0		 xor	 eax, eax
  00297	e9 11 08 00 00	 jmp	 $LN1@InitDirect
$LN4@InitDirect:

; 126  : 	}
; 127  : #ifdef _BACK_WINDOW
; 128  : #undef _BACK_VERSION
; 129  : #endif
; 130  : #ifndef _BACK_VERSION
; 131  : 	if (WindowMode) {

  0029c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?WindowMode@@3HA, 0 ; WindowMode
  002a3	0f 84 56 03 00
	00		 je	 $LN5@InitDirect

; 132  : #ifdef SWITCH_MODE
; 133  : 		if (g_OriginalMode.dmSize == 0) {
; 134  : 			g_OriginalMode.dmSize = sizeof(DEVMODE);
; 135  : 			EnumDisplaySettings(NULL, ENUM_CURRENT_SETTINGS, &g_OriginalMode);
; 136  : 		}
; 137  : 		if (displayBpp != (int)g_OriginalMode.dmBitsPerPel || lpDraw->xSize != (int)g_OriginalMode.dmPelsWidth || lpDraw->ySize != (int)g_OriginalMode.dmPelsHeight) {
; 138  : 			DEVMODE	DevMode;
; 139  : 			int done = 0, iMode = 0;
; 140  : 			DevMode.dmSize = sizeof(DEVMODE);
; 141  : 			while (EnumDisplaySettings(NULL, iMode, &DevMode)) {
; 142  : 				if ((int)DevMode.dmBitsPerPel == displayBpp && DevMode.dmPelsWidth == g_OriginalMode.dmPelsWidth && DevMode.dmPelsHeight == g_OriginalMode.dmPelsHeight) {
; 143  : 					ChangeDisplaySettingsEx(NULL, &DevMode, NULL, CDS_UPDATEREGISTRY, NULL);
; 144  : 					done = 1;
; 145  : 					break;
; 146  : 				}
; 147  : 				iMode++;
; 148  : 				DevMode.dmSize = sizeof(DEVMODE);
; 149  : 			}
; 150  : 			if (done == 0) {
; 151  : 				iMode = 0;
; 152  : 				DevMode.dmSize = sizeof(DEVMODE);
; 153  : 				while (EnumDisplaySettings(NULL, iMode, &DevMode)) {
; 154  : 					if ((int)DevMode.dmBitsPerPel == displayBpp && (int)DevMode.dmPelsWidth >= lpDraw->xSize && (int)DevMode.dmPelsHeight >= lpDraw->ySize) {
; 155  : 						DevMode.dmFields = DM_BITSPERPEL | DM_PELSWIDTH | DM_PELSHEIGHT;
; 156  : 						ChangeDisplaySettingsEx(NULL, &DevMode, NULL, CDS_UPDATEREGISTRY, NULL);
; 157  : 						break;
; 158  : 					}
; 159  : 					iMode++;
; 160  : 					DevMode.dmSize = sizeof(DEVMODE);
; 161  : 				}
; 162  : 				if (done == 0)   return FALSE;
; 163  : 			}
; 164  : 		}
; 165  : #endif
; 166  : 		if (lpDraw->lpDD2->SetCooperativeLevel(hWnd, DDSCL_NORMAL) != DD_OK) {

  002a9	8b f4		 mov	 esi, esp
  002ab	6a 08		 push	 8
  002ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  002b2	50		 push	 eax
  002b3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  002b9	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  002bc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  002c1	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  002c4	8b 12		 mov	 edx, DWORD PTR [edx]
  002c6	51		 push	 ecx
  002c7	8b 42 50	 mov	 eax, DWORD PTR [edx+80]
  002ca	ff d0		 call	 eax
  002cc	3b f4		 cmp	 esi, esp
  002ce	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002d3	85 c0		 test	 eax, eax
  002d5	74 21		 je	 SHORT $LN7@InitDirect

; 167  : 			MessageBoxNew(hWnd, "SetCooperativeLevel Error", "íì¸", MB_OK | MB_ICONSTOP);

  002d7	6a 10		 push	 16			; 00000010H
  002d9	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  002de	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@PLBEKNJA@SetCooperativeLevel?5Error?$AA@
  002e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  002e8	50		 push	 eax
  002e9	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  002ee	83 c4 10	 add	 esp, 16			; 00000010H

; 168  : 			return FALSE;

  002f1	33 c0		 xor	 eax, eax
  002f3	e9 b5 07 00 00	 jmp	 $LN1@InitDirect
$LN7@InitDirect:

; 169  : 		}
; 170  : 
; 171  : 		ZeroMemory(&lpDraw->ddsd, sizeof(lpDraw->ddsd));

  002f8	6a 6c		 push	 108			; 0000006cH
  002fa	6a 00		 push	 0
  002fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00301	83 c0 14	 add	 eax, 20			; 00000014H
  00304	50		 push	 eax
  00305	e8 00 00 00 00	 call	 _memset
  0030a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 172  : 		lpDraw->ddsd.dwSize = sizeof(lpDraw->ddsd);

  0030d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00312	c7 40 14 6c 00
	00 00		 mov	 DWORD PTR [eax+20], 108	; 0000006cH

; 173  : 		lpDraw->ddsd.dwFlags = DDSD_CAPS;

  00319	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0031e	c7 40 18 01 00
	00 00		 mov	 DWORD PTR [eax+24], 1

; 174  : 		lpDraw->ddsd.ddsCaps.dwCaps = DDSCAPS_PRIMARYSURFACE;

  00325	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0032a	c7 40 7c 00 02
	00 00		 mov	 DWORD PTR [eax+124], 512 ; 00000200H

; 175  : 		if ((hResult = lpDraw->lpDD2->CreateSurface(&lpDraw->ddsd, &lpDraw->lpFRONTBUFFER, NULL)) != DD_OK) {

  00331	8b f4		 mov	 esi, esp
  00333	6a 00		 push	 0
  00335	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0033a	83 c0 08	 add	 eax, 8
  0033d	50		 push	 eax
  0033e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00344	83 c1 14	 add	 ecx, 20			; 00000014H
  00347	51		 push	 ecx
  00348	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0034e	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00351	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00357	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0035a	8b 00		 mov	 eax, DWORD PTR [eax]
  0035c	52		 push	 edx
  0035d	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00360	ff d1		 call	 ecx
  00362	3b f4		 cmp	 esi, esp
  00364	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00369	89 45 dc	 mov	 DWORD PTR _hResult$[ebp], eax
  0036c	83 7d dc 00	 cmp	 DWORD PTR _hResult$[ebp], 0
  00370	0f 84 9a 00 00
	00		 je	 $LN8@InitDirect

; 176  : 			MessageBoxNew(hWnd, "ë©ì¸íë©´ì²ë¦¬ì¤í¨ã", "íì¸", MB_OK | MB_ICONSTOP);

  00376	6a 10		 push	 16			; 00000010H
  00378	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  0037d	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@MODJDGBN@?$LI?$NO?$MA?N?H?$KN?$LI?i?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@
  00382	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00387	50		 push	 eax
  00388	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  0038d	83 c4 10	 add	 esp, 16			; 00000010H

; 177  : 			hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);

  00390	8b f4		 mov	 esi, esp
  00392	6a 00		 push	 0
  00394	68 80 00 00 00	 push	 128			; 00000080H
  00399	6a 02		 push	 2
  0039b	6a 00		 push	 0
  0039d	6a 01		 push	 1
  0039f	68 00 00 00 40	 push	 1073741824		; 40000000H
  003a4	68 00 00 00 00	 push	 OFFSET ??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@
  003a9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  003af	3b f4		 cmp	 esi, esp
  003b1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003b6	89 45 e8	 mov	 DWORD PTR _hErrorLogFile$[ebp], eax

; 178  : 			sprintf_s(szErrMsg, "Create frontbuffer error(1):error result (%x)", hResult);

  003b9	8b 45 dc	 mov	 eax, DWORD PTR _hResult$[ebp]
  003bc	50		 push	 eax
  003bd	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@JBEGDDIO@Create?5frontbuffer?5error?$CI1?$CJ?3erro@
  003c2	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  003c8	51		 push	 ecx
  003c9	e8 00 00 00 00	 call	 ??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ ; sprintf_s<256>
  003ce	83 c4 0c	 add	 esp, 12			; 0000000cH

; 179  : 			WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);

  003d1	8b f4		 mov	 esi, esp
  003d3	6a 00		 push	 0
  003d5	8d 45 f4	 lea	 eax, DWORD PTR _dwWriteByte$[ebp]
  003d8	50		 push	 eax
  003d9	68 00 01 00 00	 push	 256			; 00000100H
  003de	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  003e4	51		 push	 ecx
  003e5	8b 55 e8	 mov	 edx, DWORD PTR _hErrorLogFile$[ebp]
  003e8	52		 push	 edx
  003e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  003ef	3b f4		 cmp	 esi, esp
  003f1	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 180  : 			CloseHandle(hErrorLogFile);

  003f6	8b f4		 mov	 esi, esp
  003f8	8b 45 e8	 mov	 eax, DWORD PTR _hErrorLogFile$[ebp]
  003fb	50		 push	 eax
  003fc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  00402	3b f4		 cmp	 esi, esp
  00404	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 181  : 			return FALSE;

  00409	33 c0		 xor	 eax, eax
  0040b	e9 9d 06 00 00	 jmp	 $LN1@InitDirect
$LN8@InitDirect:

; 182  : 		}
; 183  : 		if (lpDraw->lpDD2->CreateClipper(0, &lpDraw->lpCLIPPER, NULL) != DD_OK) {

  00410	8b f4		 mov	 esi, esp
  00412	6a 00		 push	 0
  00414	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00419	83 c0 10	 add	 eax, 16			; 00000010H
  0041c	50		 push	 eax
  0041d	6a 00		 push	 0
  0041f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00425	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00428	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0042d	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00430	8b 12		 mov	 edx, DWORD PTR [edx]
  00432	51		 push	 ecx
  00433	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00436	ff d0		 call	 eax
  00438	3b f4		 cmp	 esi, esp
  0043a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0043f	85 c0		 test	 eax, eax
  00441	74 21		 je	 SHORT $LN9@InitDirect

; 184  : 			MessageBoxNew(hWnd, "clipperì²ë¦¬ì¤í¨ã", "íì¸", MB_OK | MB_ICONSTOP);

  00443	6a 10		 push	 16			; 00000010H
  00445	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  0044a	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@OBNPBHMK@clipper?C?$LD?$LI?$KO?$LN?G?F?P?$KB?$KD?$AA@
  0044f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00454	50		 push	 eax
  00455	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  0045a	83 c4 10	 add	 esp, 16			; 00000010H

; 185  : 			return FALSE;

  0045d	33 c0		 xor	 eax, eax
  0045f	e9 49 06 00 00	 jmp	 $LN1@InitDirect
$LN9@InitDirect:

; 186  : 		}
; 187  : 		lpDraw->lpCLIPPER->SetHWnd(0, hWnd);

  00464	8b f4		 mov	 esi, esp
  00466	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0046b	50		 push	 eax
  0046c	6a 00		 push	 0
  0046e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00474	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  00477	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0047c	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0047f	8b 12		 mov	 edx, DWORD PTR [edx]
  00481	51		 push	 ecx
  00482	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  00485	ff d0		 call	 eax
  00487	3b f4		 cmp	 esi, esp
  00489	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 188  : 		lpDraw->lpFRONTBUFFER->SetClipper(lpDraw->lpCLIPPER);

  0048e	8b f4		 mov	 esi, esp
  00490	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00495	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00498	51		 push	 ecx
  00499	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0049f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  004a2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  004a8	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  004ab	8b 00		 mov	 eax, DWORD PTR [eax]
  004ad	52		 push	 edx
  004ae	8b 48 70	 mov	 ecx, DWORD PTR [eax+112]
  004b1	ff d1		 call	 ecx
  004b3	3b f4		 cmp	 esi, esp
  004b5	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 189  : 		ZeroMemory(&lpDraw->ddsd, sizeof(lpDraw->ddsd));

  004ba	6a 6c		 push	 108			; 0000006cH
  004bc	6a 00		 push	 0
  004be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  004c3	83 c0 14	 add	 eax, 20			; 00000014H
  004c6	50		 push	 eax
  004c7	e8 00 00 00 00	 call	 _memset
  004cc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 190  : 		lpDraw->ddsd.dwSize = sizeof(lpDraw->ddsd);

  004cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  004d4	c7 40 14 6c 00
	00 00		 mov	 DWORD PTR [eax+20], 108	; 0000006cH

; 191  : 		lpDraw->ddsd.dwFlags = DDSD_CAPS | DDSD_WIDTH | DDSD_HEIGHT;

  004db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  004e0	c7 40 18 07 00
	00 00		 mov	 DWORD PTR [eax+24], 7

; 192  : 		lpDraw->ddsd.ddsCaps.dwCaps = DDSCAPS_OFFSCREENPLAIN | DDSCAPS_SYSTEMMEMORY;

  004e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  004ec	c7 40 7c 40 08
	00 00		 mov	 DWORD PTR [eax+124], 2112 ; 00000840H

; 193  : 		lpDraw->ddsd.dwWidth = lpDraw->xSize;

  004f3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  004f8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  004fe	8b 91 84 00 00
	00		 mov	 edx, DWORD PTR [ecx+132]
  00504	89 50 20	 mov	 DWORD PTR [eax+32], edx

; 194  : 		lpDraw->ddsd.dwHeight = lpDraw->ySize;

  00507	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0050c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00512	8b 91 88 00 00
	00		 mov	 edx, DWORD PTR [ecx+136]
  00518	89 50 1c	 mov	 DWORD PTR [eax+28], edx

; 195  : 		if ((hResult = lpDraw->lpDD2->CreateSurface(&lpDraw->ddsd, &lpDraw->lpBACKBUFFER, NULL)) != DD_OK) {

  0051b	8b f4		 mov	 esi, esp
  0051d	6a 00		 push	 0
  0051f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00524	83 c0 0c	 add	 eax, 12			; 0000000cH
  00527	50		 push	 eax
  00528	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0052e	83 c1 14	 add	 ecx, 20			; 00000014H
  00531	51		 push	 ecx
  00532	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00538	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0053b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00541	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00544	8b 00		 mov	 eax, DWORD PTR [eax]
  00546	52		 push	 edx
  00547	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0054a	ff d1		 call	 ecx
  0054c	3b f4		 cmp	 esi, esp
  0054e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00553	89 45 dc	 mov	 DWORD PTR _hResult$[ebp], eax
  00556	83 7d dc 00	 cmp	 DWORD PTR _hResult$[ebp], 0
  0055a	0f 84 9a 00 00
	00		 je	 $LN10@InitDirect

; 196  : 			MessageBoxNew(hWnd, "ë ì§ì¤í¸ë¦¬ ì²ë¦¬ ì¤í¨", "íì¸", MB_OK | MB_ICONSTOP);

  00560	6a 10		 push	 16			; 00000010H
  00562	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  00567	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@NIDKJJHH@?$LH?$LJ?A?v?$LN?$LK?F?$KO?$LI?$KO?5?C?$LD?$LI?$KO?5?$LN?G?F?P?$AA@
  0056c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00571	50		 push	 eax
  00572	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  00577	83 c4 10	 add	 esp, 16			; 00000010H

; 197  : 			hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);

  0057a	8b f4		 mov	 esi, esp
  0057c	6a 00		 push	 0
  0057e	68 80 00 00 00	 push	 128			; 00000080H
  00583	6a 02		 push	 2
  00585	6a 00		 push	 0
  00587	6a 01		 push	 1
  00589	68 00 00 00 40	 push	 1073741824		; 40000000H
  0058e	68 00 00 00 00	 push	 OFFSET ??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@
  00593	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  00599	3b f4		 cmp	 esi, esp
  0059b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005a0	89 45 e8	 mov	 DWORD PTR _hErrorLogFile$[ebp], eax

; 198  : 			sprintf_s(szErrMsg, "Create backbuffer error:error result (%x)", hResult);

  005a3	8b 45 dc	 mov	 eax, DWORD PTR _hResult$[ebp]
  005a6	50		 push	 eax
  005a7	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@MMFDMNJJ@Create?5backbuffer?5error?3error?5re@
  005ac	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  005b2	51		 push	 ecx
  005b3	e8 00 00 00 00	 call	 ??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ ; sprintf_s<256>
  005b8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 199  : 			WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);

  005bb	8b f4		 mov	 esi, esp
  005bd	6a 00		 push	 0
  005bf	8d 45 f4	 lea	 eax, DWORD PTR _dwWriteByte$[ebp]
  005c2	50		 push	 eax
  005c3	68 00 01 00 00	 push	 256			; 00000100H
  005c8	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  005ce	51		 push	 ecx
  005cf	8b 55 e8	 mov	 edx, DWORD PTR _hErrorLogFile$[ebp]
  005d2	52		 push	 edx
  005d3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  005d9	3b f4		 cmp	 esi, esp
  005db	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 200  : 			CloseHandle(hErrorLogFile);

  005e0	8b f4		 mov	 esi, esp
  005e2	8b 45 e8	 mov	 eax, DWORD PTR _hErrorLogFile$[ebp]
  005e5	50		 push	 eax
  005e6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  005ec	3b f4		 cmp	 esi, esp
  005ee	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 201  : 			return FALSE;

  005f3	33 c0		 xor	 eax, eax
  005f5	e9 b3 04 00 00	 jmp	 $LN1@InitDirect
$LN10@InitDirect:

; 202  : 	}
; 203  : #ifdef _READ16BITBMP
; 204  : 		if (g_bUseAlpha) {
; 205  : 			lpDraw->ddsd.ddsCaps.dwCaps = DDSCAPS_OFFSCREENPLAIN | DDSCAPS_SYSTEMMEMORY;
; 206  : 			if ((hResult = lpDraw->lpDD2->CreateSurface(&lpDraw->ddsd, &lpDraw->lpBACKBUFFERSYS, NULL)) != DD_OK) {
; 207  : 				MessageBoxNew(hWnd, "æå­åºå¤çå¤±è´¥(sys)", "íì¸", MB_OK | MB_ICONSTOP);
; 208  : 				hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);
; 209  : 				sprintf_s(szErrMsg, "Create backbuffer error:error result (%x)", hResult);
; 210  : 				WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);
; 211  : 				CloseHandle(hErrorLogFile);
; 212  : 				return FALSE;
; 213  : 			}
; 214  : 		}
; 215  : #endif
; 216  : }
; 217  : 	else

  005fa	e9 f6 01 00 00	 jmp	 $LN6@InitDirect
$LN5@InitDirect:

; 218  : #endif
; 219  : #ifdef _BACK_WINDOW
; 220  : #define _BACK_VERSION
; 221  : #endif
; 222  : 	{
; 223  : 		if (lpDraw->lpDD2->SetCooperativeLevel(hWnd, DDSCL_EXCLUSIVE | DDSCL_FULLSCREEN | DDSCL_ALLOWMODEX) != DD_OK) {

  005ff	8b f4		 mov	 esi, esp
  00601	6a 51		 push	 81			; 00000051H
  00603	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00608	50		 push	 eax
  00609	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0060f	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00612	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00617	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0061a	8b 12		 mov	 edx, DWORD PTR [edx]
  0061c	51		 push	 ecx
  0061d	8b 42 50	 mov	 eax, DWORD PTR [edx+80]
  00620	ff d0		 call	 eax
  00622	3b f4		 cmp	 esi, esp
  00624	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00629	85 c0		 test	 eax, eax
  0062b	74 21		 je	 SHORT $LN11@InitDirect

; 224  : 			MessageBoxNew(hWnd, "SetCooperativeLevel Error", "íì¸", MB_OK | MB_ICONSTOP);

  0062d	6a 10		 push	 16			; 00000010H
  0062f	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  00634	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@PLBEKNJA@SetCooperativeLevel?5Error?$AA@
  00639	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0063e	50		 push	 eax
  0063f	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  00644	83 c4 10	 add	 esp, 16			; 00000010H

; 225  : 			return FALSE;

  00647	33 c0		 xor	 eax, eax
  00649	e9 5f 04 00 00	 jmp	 $LN1@InitDirect
$LN11@InitDirect:

; 226  : 		}
; 227  : 		lpDraw->lpDD2->SetDisplayMode(lpDraw->xSize, lpDraw->ySize, displayBpp, 0, 0);

  0064e	8b f4		 mov	 esi, esp
  00650	6a 00		 push	 0
  00652	6a 00		 push	 0
  00654	a1 00 00 00 00	 mov	 eax, DWORD PTR ?displayBpp@@3HA ; displayBpp
  00659	50		 push	 eax
  0065a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00660	8b 91 88 00 00
	00		 mov	 edx, DWORD PTR [ecx+136]
  00666	52		 push	 edx
  00667	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0066c	8b 88 84 00 00
	00		 mov	 ecx, DWORD PTR [eax+132]
  00672	51		 push	 ecx
  00673	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00679	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0067c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00682	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00685	8b 00		 mov	 eax, DWORD PTR [eax]
  00687	52		 push	 edx
  00688	8b 48 54	 mov	 ecx, DWORD PTR [eax+84]
  0068b	ff d1		 call	 ecx
  0068d	3b f4		 cmp	 esi, esp
  0068f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 228  : 		ZeroMemory(&lpDraw->ddsd, sizeof(lpDraw->ddsd));

  00694	6a 6c		 push	 108			; 0000006cH
  00696	6a 00		 push	 0
  00698	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0069d	83 c0 14	 add	 eax, 20			; 00000014H
  006a0	50		 push	 eax
  006a1	e8 00 00 00 00	 call	 _memset
  006a6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 229  : 		lpDraw->ddsd.dwSize = sizeof(lpDraw->ddsd);

  006a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006ae	c7 40 14 6c 00
	00 00		 mov	 DWORD PTR [eax+20], 108	; 0000006cH

; 230  : 		lpDraw->ddsd.dwFlags = DDSD_CAPS | DDSD_BACKBUFFERCOUNT;

  006b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006ba	c7 40 18 21 00
	00 00		 mov	 DWORD PTR [eax+24], 33	; 00000021H

; 231  : 		lpDraw->ddsd.ddsCaps.dwCaps = DDSCAPS_PRIMARYSURFACE | DDSCAPS_FLIP | DDSCAPS_COMPLEX;

  006c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006c6	c7 40 7c 18 02
	00 00		 mov	 DWORD PTR [eax+124], 536 ; 00000218H

; 232  : 		lpDraw->ddsd.dwBackBufferCount = 1;

  006cd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006d2	c7 40 28 01 00
	00 00		 mov	 DWORD PTR [eax+40], 1

; 233  : 		if ((hResult = lpDraw->lpDD2->CreateSurface(&lpDraw->ddsd, &lpDraw->lpFRONTBUFFER, NULL)) != DD_OK) {

  006d9	8b f4		 mov	 esi, esp
  006db	6a 00		 push	 0
  006dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006e2	83 c0 08	 add	 eax, 8
  006e5	50		 push	 eax
  006e6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006ec	83 c1 14	 add	 ecx, 20			; 00000014H
  006ef	51		 push	 ecx
  006f0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006f6	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  006f9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  006ff	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00702	8b 00		 mov	 eax, DWORD PTR [eax]
  00704	52		 push	 edx
  00705	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00708	ff d1		 call	 ecx
  0070a	3b f4		 cmp	 esi, esp
  0070c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00711	89 45 dc	 mov	 DWORD PTR _hResult$[ebp], eax
  00714	83 7d dc 00	 cmp	 DWORD PTR _hResult$[ebp], 0
  00718	0f 84 9a 00 00
	00		 je	 $LN12@InitDirect

; 234  : 			MessageBoxNew(hWnd, "ë©ì¸ íë©´ ì²ë¦¬ ì¤í¨ 2ã", "íì¸", MB_OK | MB_ICONSTOP);

  0071e	6a 10		 push	 16			; 00000010H
  00720	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  00725	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@CJPGPEBL@?$LI?$NO?$MA?N?5?H?$KN?$LI?i?5?C?$LD?$LI?$KO?5?$LN?G?F?P?52?$KB?$KD?$AA@
  0072a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  0072f	50		 push	 eax
  00730	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  00735	83 c4 10	 add	 esp, 16			; 00000010H

; 235  : 			hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);

  00738	8b f4		 mov	 esi, esp
  0073a	6a 00		 push	 0
  0073c	68 80 00 00 00	 push	 128			; 00000080H
  00741	6a 02		 push	 2
  00743	6a 00		 push	 0
  00745	6a 01		 push	 1
  00747	68 00 00 00 40	 push	 1073741824		; 40000000H
  0074c	68 00 00 00 00	 push	 OFFSET ??_C@_0N@FNIPCMMK@ErrorLog?4txt?$AA@
  00751	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28
  00757	3b f4		 cmp	 esi, esp
  00759	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0075e	89 45 e8	 mov	 DWORD PTR _hErrorLogFile$[ebp], eax

; 236  : 			sprintf_s(szErrMsg, "Create frontbuffer error(2):error result (%x)", hResult);

  00761	8b 45 dc	 mov	 eax, DWORD PTR _hResult$[ebp]
  00764	50		 push	 eax
  00765	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@OKFILBGN@Create?5frontbuffer?5error?$CI2?$CJ?3erro@
  0076a	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  00770	51		 push	 ecx
  00771	e8 00 00 00 00	 call	 ??$sprintf_s@$0BAA@@@YAHAAY0BAA@DPBDZZ ; sprintf_s<256>
  00776	83 c4 0c	 add	 esp, 12			; 0000000cH

; 237  : 			WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);

  00779	8b f4		 mov	 esi, esp
  0077b	6a 00		 push	 0
  0077d	8d 45 f4	 lea	 eax, DWORD PTR _dwWriteByte$[ebp]
  00780	50		 push	 eax
  00781	68 00 01 00 00	 push	 256			; 00000100H
  00786	8d 8d d4 fe ff
	ff		 lea	 ecx, DWORD PTR _szErrMsg$[ebp]
  0078c	51		 push	 ecx
  0078d	8b 55 e8	 mov	 edx, DWORD PTR _hErrorLogFile$[ebp]
  00790	52		 push	 edx
  00791	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  00797	3b f4		 cmp	 esi, esp
  00799	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 238  : 			CloseHandle(hErrorLogFile);

  0079e	8b f4		 mov	 esi, esp
  007a0	8b 45 e8	 mov	 eax, DWORD PTR _hErrorLogFile$[ebp]
  007a3	50		 push	 eax
  007a4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
  007aa	3b f4		 cmp	 esi, esp
  007ac	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 239  : 			return FALSE;

  007b1	33 c0		 xor	 eax, eax
  007b3	e9 f5 02 00 00	 jmp	 $LN1@InitDirect
$LN12@InitDirect:

; 240  : 		}
; 241  : 		ddscaps.dwCaps = DDSCAPS_BACKBUFFER;

  007b8	c7 85 c8 fe ff
	ff 04 00 00 00	 mov	 DWORD PTR _ddscaps$[ebp], 4

; 242  : 		lpDraw->lpFRONTBUFFER->GetAttachedSurface(&ddscaps, &lpDraw->lpBACKBUFFER);

  007c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  007c7	83 c0 0c	 add	 eax, 12			; 0000000cH
  007ca	8b f4		 mov	 esi, esp
  007cc	50		 push	 eax
  007cd	8d 8d c8 fe ff
	ff		 lea	 ecx, DWORD PTR _ddscaps$[ebp]
  007d3	51		 push	 ecx
  007d4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  007da	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  007dd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  007e3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  007e6	8b 00		 mov	 eax, DWORD PTR [eax]
  007e8	52		 push	 edx
  007e9	8b 48 30	 mov	 ecx, DWORD PTR [eax+48]
  007ec	ff d1		 call	 ecx
  007ee	3b f4		 cmp	 esi, esp
  007f0	e8 00 00 00 00	 call	 __RTC_CheckEsp
$LN6@InitDirect:

; 243  : #ifdef _READ16BITBMP
; 244  : 		if (g_bUseAlpha) {
; 245  : 			ZeroMemory(&lpDraw->ddsd, sizeof(lpDraw->ddsd));
; 246  : 			lpDraw->ddsd.dwSize = sizeof(lpDraw->ddsd);
; 247  : 			lpDraw->ddsd.dwFlags = DDSD_CAPS | DDSD_WIDTH | DDSD_HEIGHT;
; 248  : 			lpDraw->ddsd.ddsCaps.dwCaps = DDSCAPS_OFFSCREENPLAIN;
; 249  : 			lpDraw->ddsd.dwWidth = lpDraw->xSize;
; 250  : 			lpDraw->ddsd.dwHeight = lpDraw->ySize;
; 251  : 			lpDraw->ddsd.ddsCaps.dwCaps = DDSCAPS_OFFSCREENPLAIN | DDSCAPS_SYSTEMMEMORY;
; 252  : 			if ((hResult = lpDraw->lpDD2->CreateSurface(&lpDraw->ddsd, &lpDraw->lpBACKBUFFERSYS, NULL)) != DD_OK) {
; 253  : 				MessageBoxNew(hWnd, "æå­åºå¤çå¤±è´¥äº(sys)", "íì¸", MB_OK | MB_ICONSTOP);
; 254  : 				hErrorLogFile = CreateFile("ErrorLog.txt", GENERIC_WRITE, FILE_SHARE_READ, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);
; 255  : 				sprintf_s(szErrMsg, "Create backbuffer error:error result (%x)", hResult);
; 256  : 				WriteFile(hErrorLogFile, szErrMsg, sizeof(szErrMsg), &dwWriteByte, NULL);
; 257  : 				CloseHandle(hErrorLogFile);
; 258  : 				return FALSE;
; 259  : 			}
; 260  : 		}
; 261  : #endif
; 262  : 	}
; 263  : 	// WON REM 
; 264  : #ifdef _HI_COLOR_32
; 265  : 	if (displayBpp == 32) {

  007f5	83 3d 00 00 00
	00 20		 cmp	 DWORD PTR ?displayBpp@@3HA, 32 ; displayBpp, 00000020H
  007fc	0f 85 02 01 00
	00		 jne	 $LN13@InitDirect

; 266  : 		if (lpDraw->lpBACKBUFFER == NULL)

  00802	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00807	83 78 0c 00	 cmp	 DWORD PTR [eax+12], 0
  0080b	75 07		 jne	 SHORT $LN15@InitDirect

; 267  : 			return FALSE;

  0080d	33 c0		 xor	 eax, eax
  0080f	e9 99 02 00 00	 jmp	 $LN1@InitDirect
$LN15@InitDirect:

; 268  : 
; 269  : 		DDPIXELFORMAT ddPixelFormat;
; 270  : 		ZeroMemory(&ddPixelFormat, sizeof(DDPIXELFORMAT));

  00814	6a 20		 push	 32			; 00000020H
  00816	6a 00		 push	 0
  00818	8d 85 94 fe ff
	ff		 lea	 eax, DWORD PTR _ddPixelFormat$2[ebp]
  0081e	50		 push	 eax
  0081f	e8 00 00 00 00	 call	 _memset
  00824	83 c4 0c	 add	 esp, 12			; 0000000cH

; 271  : 		ddPixelFormat.dwSize = sizeof(DDPIXELFORMAT);

  00827	c7 85 94 fe ff
	ff 20 00 00 00	 mov	 DWORD PTR _ddPixelFormat$2[ebp], 32 ; 00000020H

; 272  : 
; 273  : 		if (lpDraw->lpBACKBUFFER->GetPixelFormat(&ddPixelFormat) != DD_OK)

  00831	8b f4		 mov	 esi, esp
  00833	8d 85 94 fe ff
	ff		 lea	 eax, DWORD PTR _ddPixelFormat$2[ebp]
  00839	50		 push	 eax
  0083a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00840	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00843	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00848	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0084b	8b 12		 mov	 edx, DWORD PTR [edx]
  0084d	51		 push	 ecx
  0084e	8b 42 54	 mov	 eax, DWORD PTR [edx+84]
  00851	ff d0		 call	 eax
  00853	3b f4		 cmp	 esi, esp
  00855	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0085a	85 c0		 test	 eax, eax
  0085c	74 07		 je	 SHORT $LN16@InitDirect

; 274  : 			return FALSE;

  0085e	33 c0		 xor	 eax, eax
  00860	e9 48 02 00 00	 jmp	 $LN1@InitDirect
$LN16@InitDirect:

; 275  : 
; 276  : 		rBitRShift = 8 - getBitCount(ddPixelFormat.dwRBitMask);	// ?????????î±

  00865	8b 85 a4 fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$2[ebp+16]
  0086b	50		 push	 eax
  0086c	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  00871	83 c4 04	 add	 esp, 4
  00874	b9 08 00 00 00	 mov	 ecx, 8
  00879	2b c8		 sub	 ecx, eax
  0087b	89 0d 00 00 00
	00		 mov	 DWORD PTR ?rBitRShift@@3HA, ecx ; rBitRShift

; 277  : 		gBitRShift = 8 - getBitCount(ddPixelFormat.dwGBitMask);	// ?????????î±

  00881	8b 85 a8 fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$2[ebp+20]
  00887	50		 push	 eax
  00888	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  0088d	83 c4 04	 add	 esp, 4
  00890	b9 08 00 00 00	 mov	 ecx, 8
  00895	2b c8		 sub	 ecx, eax
  00897	89 0d 00 00 00
	00		 mov	 DWORD PTR ?gBitRShift@@3HA, ecx ; gBitRShift

; 278  : 		bBitRShift = 8 - getBitCount(ddPixelFormat.dwBBitMask);	// ?????????î±

  0089d	8b 85 ac fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$2[ebp+24]
  008a3	50		 push	 eax
  008a4	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  008a9	83 c4 04	 add	 esp, 4
  008ac	b9 08 00 00 00	 mov	 ecx, 8
  008b1	2b c8		 sub	 ecx, eax
  008b3	89 0d 00 00 00
	00		 mov	 DWORD PTR ?bBitRShift@@3HA, ecx ; bBitRShift

; 279  : 
; 280  : 		rBitLShift = getBitCount(ddPixelFormat.dwBBitMask) + getBitCount(ddPixelFormat.dwGBitMask);	// ?????????î±

  008b9	8b 85 ac fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$2[ebp+24]
  008bf	50		 push	 eax
  008c0	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  008c5	83 c4 04	 add	 esp, 4
  008c8	8b f0		 mov	 esi, eax
  008ca	8b 8d a8 fe ff
	ff		 mov	 ecx, DWORD PTR _ddPixelFormat$2[ebp+20]
  008d0	51		 push	 ecx
  008d1	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  008d6	83 c4 04	 add	 esp, 4
  008d9	03 f0		 add	 esi, eax
  008db	89 35 00 00 00
	00		 mov	 DWORD PTR ?rBitLShift@@3HA, esi ; rBitLShift

; 281  : 		gBitLShift = getBitCount(ddPixelFormat.dwBBitMask);							// ?????????î±

  008e1	8b 85 ac fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$2[ebp+24]
  008e7	50		 push	 eax
  008e8	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  008ed	83 c4 04	 add	 esp, 4
  008f0	a3 00 00 00 00	 mov	 DWORD PTR ?gBitLShift@@3HA, eax ; gBitLShift

; 282  : 		bBitLShift = 0;													// ?????????î±

  008f5	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?bBitLShift@@3HA, 0 ; bBitLShift

; 283  : 	}
; 284  : 	else

  008ff	e9 0a 01 00 00	 jmp	 $LN14@InitDirect
$LN13@InitDirect:

; 285  : 
; 286  : #endif
; 287  : #ifdef _HI_COLOR_16
; 288  : 		// ???????????????îºî«?îî¾??
; 289  : 		if (displayBpp == 16) {

  00904	83 3d 00 00 00
	00 10		 cmp	 DWORD PTR ?displayBpp@@3HA, 16 ; displayBpp, 00000010H
  0090b	0f 85 fd 00 00
	00		 jne	 $LN14@InitDirect

; 290  : 			// ??????????NULL????
; 291  : 			if (lpDraw->lpBACKBUFFER == NULL)

  00911	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00916	83 78 0c 00	 cmp	 DWORD PTR [eax+12], 0
  0091a	75 07		 jne	 SHORT $LN18@InitDirect

; 292  : 				return FALSE;

  0091c	33 c0		 xor	 eax, eax
  0091e	e9 8a 01 00 00	 jmp	 $LN1@InitDirect
$LN18@InitDirect:

; 293  : 
; 294  : 			DDPIXELFORMAT ddPixelFormat;	// ????îºî«?î¨î
; 295  : 											// ?î¨î????
; 296  : 			ZeroMemory(&ddPixelFormat, sizeof(DDPIXELFORMAT));

  00923	6a 20		 push	 32			; 00000020H
  00925	6a 00		 push	 0
  00927	8d 85 6c fe ff
	ff		 lea	 eax, DWORD PTR _ddPixelFormat$1[ebp]
  0092d	50		 push	 eax
  0092e	e8 00 00 00 00	 call	 _memset
  00933	83 c4 0c	 add	 esp, 12			; 0000000cH

; 297  : 			ddPixelFormat.dwSize = sizeof(DDPIXELFORMAT);

  00936	c7 85 6c fe ff
	ff 20 00 00 00	 mov	 DWORD PTR _ddPixelFormat$1[ebp], 32 ; 00000020H

; 298  : 
; 299  : 			if (lpDraw->lpBACKBUFFER->GetPixelFormat(&ddPixelFormat) != DD_OK)

  00940	8b f4		 mov	 esi, esp
  00942	8d 85 6c fe ff
	ff		 lea	 eax, DWORD PTR _ddPixelFormat$1[ebp]
  00948	50		 push	 eax
  00949	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  0094f	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00952	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpDraw@@3PAUDIRECT_DRAW@@A ; lpDraw
  00957	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0095a	8b 12		 mov	 edx, DWORD PTR [edx]
  0095c	51		 push	 ecx
  0095d	8b 42 54	 mov	 eax, DWORD PTR [edx+84]
  00960	ff d0		 call	 eax
  00962	3b f4		 cmp	 esi, esp
  00964	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00969	85 c0		 test	 eax, eax
  0096b	74 07		 je	 SHORT $LN19@InitDirect

; 300  : 				return FALSE;

  0096d	33 c0		 xor	 eax, eax
  0096f	e9 39 01 00 00	 jmp	 $LN1@InitDirect
$LN19@InitDirect:

; 301  : 
; 302  : 			rBitRShift = 8 - getBitCount(ddPixelFormat.dwRBitMask);	// ?????????î±

  00974	8b 85 7c fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$1[ebp+16]
  0097a	50		 push	 eax
  0097b	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  00980	83 c4 04	 add	 esp, 4
  00983	b9 08 00 00 00	 mov	 ecx, 8
  00988	2b c8		 sub	 ecx, eax
  0098a	89 0d 00 00 00
	00		 mov	 DWORD PTR ?rBitRShift@@3HA, ecx ; rBitRShift

; 303  : 			gBitRShift = 8 - getBitCount(ddPixelFormat.dwGBitMask);	// ?????????î±

  00990	8b 85 80 fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$1[ebp+20]
  00996	50		 push	 eax
  00997	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  0099c	83 c4 04	 add	 esp, 4
  0099f	b9 08 00 00 00	 mov	 ecx, 8
  009a4	2b c8		 sub	 ecx, eax
  009a6	89 0d 00 00 00
	00		 mov	 DWORD PTR ?gBitRShift@@3HA, ecx ; gBitRShift

; 304  : 			bBitRShift = 8 - getBitCount(ddPixelFormat.dwBBitMask);	// ?????????î±

  009ac	8b 85 84 fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$1[ebp+24]
  009b2	50		 push	 eax
  009b3	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  009b8	83 c4 04	 add	 esp, 4
  009bb	b9 08 00 00 00	 mov	 ecx, 8
  009c0	2b c8		 sub	 ecx, eax
  009c2	89 0d 00 00 00
	00		 mov	 DWORD PTR ?bBitRShift@@3HA, ecx ; bBitRShift

; 305  : 
; 306  : 			rBitLShift = getBitCount(ddPixelFormat.dwBBitMask) + getBitCount(ddPixelFormat.dwGBitMask);	// ?????????î±

  009c8	8b 85 84 fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$1[ebp+24]
  009ce	50		 push	 eax
  009cf	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  009d4	83 c4 04	 add	 esp, 4
  009d7	8b f0		 mov	 esi, eax
  009d9	8b 8d 80 fe ff
	ff		 mov	 ecx, DWORD PTR _ddPixelFormat$1[ebp+20]
  009df	51		 push	 ecx
  009e0	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  009e5	83 c4 04	 add	 esp, 4
  009e8	03 f0		 add	 esi, eax
  009ea	89 35 00 00 00
	00		 mov	 DWORD PTR ?rBitLShift@@3HA, esi ; rBitLShift

; 307  : 			gBitLShift = getBitCount(ddPixelFormat.dwBBitMask);							// ?????????î±

  009f0	8b 85 84 fe ff
	ff		 mov	 eax, DWORD PTR _ddPixelFormat$1[ebp+24]
  009f6	50		 push	 eax
  009f7	e8 00 00 00 00	 call	 ?getBitCount@@YAHH@Z	; getBitCount
  009fc	83 c4 04	 add	 esp, 4
  009ff	a3 00 00 00 00	 mov	 DWORD PTR ?gBitLShift@@3HA, eax ; gBitLShift

; 308  : 			bBitLShift = 0;													// ?????????î±

  00a04	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?bBitLShift@@3HA, 0 ; bBitLShift
$LN14@InitDirect:

; 309  : 	}
; 310  : 
; 311  : #endif
; 312  : 	// ??????????î
; 313  : 	if ((lpBattleSurface = CreateSurface(DEF_APPSIZEX, DEF_APPSIZEY, DEF_COLORKEY, DDSCAPS_VIDEOMEMORY)) == NULL) {

  00a0e	68 00 40 00 00	 push	 16384			; 00004000H
  00a13	6a 00		 push	 0
  00a15	0f b7 05 00 00
	00 00		 movzx	 eax, WORD PTR ?DEF_APPSIZEY@@3HA
  00a1c	50		 push	 eax
  00a1d	0f b7 0d 00 00
	00 00		 movzx	 ecx, WORD PTR ?DEF_APPSIZEX@@3HA
  00a24	51		 push	 ecx
  00a25	e8 00 00 00 00	 call	 ?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z ; CreateSurface
  00a2a	83 c4 10	 add	 esp, 16			; 00000010H
  00a2d	a3 00 00 00 00	 mov	 DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A, eax ; lpBattleSurface
  00a32	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A, 0 ; lpBattleSurface
  00a39	75 4b		 jne	 SHORT $LN20@InitDirect

; 314  : #ifdef _STONDEBUG_
; 315  : 		MessageBoxNew(hWnd, "å»ºç«VideoRam BattleSurfaceå¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP);
; 316  : #endif
; 317  : 		if ((lpBattleSurface = CreateSurface(DEF_APPSIZEX, DEF_APPSIZEY, DEF_COLORKEY, DDSCAPS_SYSTEMMEMORY)) == NULL) {

  00a3b	68 00 08 00 00	 push	 2048			; 00000800H
  00a40	6a 00		 push	 0
  00a42	0f b7 05 00 00
	00 00		 movzx	 eax, WORD PTR ?DEF_APPSIZEY@@3HA
  00a49	50		 push	 eax
  00a4a	0f b7 0d 00 00
	00 00		 movzx	 ecx, WORD PTR ?DEF_APPSIZEX@@3HA
  00a51	51		 push	 ecx
  00a52	e8 00 00 00 00	 call	 ?CreateSurface@@YAPAUIDirectDrawSurface@@FFKI@Z ; CreateSurface
  00a57	83 c4 10	 add	 esp, 16			; 00000010H
  00a5a	a3 00 00 00 00	 mov	 DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A, eax ; lpBattleSurface
  00a5f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A, 0 ; lpBattleSurface
  00a66	75 1e		 jne	 SHORT $LN20@InitDirect

; 318  : 			MessageBoxNew(hWnd, "BattleSurface êµ¬ì± ì¤í¨ï¼", "íì¸", MB_OK | MB_ICONSTOP);

  00a68	6a 10		 push	 16			; 00000010H
  00a6a	68 00 00 00 00	 push	 OFFSET ??_C@_04IJNKKJEO@?H?$KO?$MA?N?$AA@
  00a6f	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@COBJPLEN@BattleSurface?5?$LB?$LI?$LM?$LK?5?$LN?G?F?P?$KD?$KB?$AA@
  00a74	a1 00 00 00 00	 mov	 eax, DWORD PTR ?hWnd@@3PAUHWND__@@A ; hWnd
  00a79	50		 push	 eax
  00a7a	e8 00 00 00 00	 call	 ?MessageBoxNew@@YAHPAUHWND__@@PBD1I@Z ; MessageBoxNew
  00a7f	83 c4 10	 add	 esp, 16			; 00000010H

; 319  : 			return FALSE;

  00a82	33 c0		 xor	 eax, eax
  00a84	eb 27		 jmp	 SHORT $LN1@InitDirect
$LN20@InitDirect:

; 320  : 		}
; 321  : 	}
; 322  : #ifdef _READ16BITBMP
; 323  : 	if (g_bUseAlpha) {
; 324  : 		if ((lpBattleSurfaceSys = CreateSurface(DEF_APPSIZEX, DEF_APPSIZEY, DEF_COLORKEY, DDSCAPS_SYSTEMMEMORY)) == NULL) {
; 325  : 			MessageBoxNew(hWnd, "å»ºç«BattleSurface(sys)å¤±è´¥ï¼", "íì¸", MB_OK | MB_ICONSTOP);
; 326  : 			return FALSE;
; 327  : 		}
; 328  : 	}
; 329  : #endif
; 330  : #ifdef __SKYISLAND
; 331  : 	ClearSurface(lpBattleSurface);

  00a86	a1 00 00 00 00	 mov	 eax, DWORD PTR ?lpBattleSurface@@3PAUIDirectDrawSurface@@A ; lpBattleSurface
  00a8b	50		 push	 eax
  00a8c	e8 00 00 00 00	 call	 ?ClearSurface@@YAXPAUIDirectDrawSurface@@@Z ; ClearSurface
  00a91	83 c4 04	 add	 esp, 4

; 332  : #ifdef _READ16BITBMP
; 333  : 	if (g_bUseAlpha) ClearSurface(lpBattleSurfaceSys);
; 334  : #endif
; 335  : 	extern void SkyIslandLoadBmp();
; 336  : 	SkyIslandLoadBmp();

  00a94	e8 00 00 00 00	 call	 ?SkyIslandLoadBmp@@YAXXZ ; SkyIslandLoadBmp

; 337  : #endif
; 338  : 	DDinitFlag = TRUE;

  00a99	c7 05 00 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?DDinitFlag@@3HA, 1 ; DDinitFlag

; 339  : 	SetAnimTbl();

  00aa3	e8 00 00 00 00	 call	 ?SetAnimTbl@@YAXXZ	; SetAnimTbl

; 340  : 	return TRUE;

  00aa8	b8 01 00 00 00	 mov	 eax, 1
$LN1@InitDirect:

; 341  : }

  00aad	52		 push	 edx
  00aae	8b cd		 mov	 ecx, ebp
  00ab0	50		 push	 eax
  00ab1	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $LN29@InitDirect
  00ab7	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00abc	58		 pop	 eax
  00abd	5a		 pop	 edx
  00abe	5f		 pop	 edi
  00abf	5e		 pop	 esi
  00ac0	5b		 pop	 ebx
  00ac1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00ac4	33 cd		 xor	 ecx, ebp
  00ac6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00acb	81 c4 58 02 00
	00		 add	 esp, 600		; 00000258H
  00ad1	3b ec		 cmp	 ebp, esp
  00ad3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00ad8	8b e5		 mov	 esp, ebp
  00ada	5d		 pop	 ebp
  00adb	c3		 ret	 0
$LN29@InitDirect:
  00adc	05 00 00 00	 DD	 5
  00ae0	00 00 00 00	 DD	 $LN28@InitDirect
$LN28@InitDirect:
  00ae4	f4 ff ff ff	 DD	 -12			; fffffff4H
  00ae8	04 00 00 00	 DD	 4
  00aec	00 00 00 00	 DD	 $LN23@InitDirect
  00af0	d4 fe ff ff	 DD	 -300			; fffffed4H
  00af4	00 01 00 00	 DD	 256			; 00000100H
  00af8	00 00 00 00	 DD	 $LN24@InitDirect
  00afc	c8 fe ff ff	 DD	 -312			; fffffec8H
  00b00	04 00 00 00	 DD	 4
  00b04	00 00 00 00	 DD	 $LN25@InitDirect
  00b08	94 fe ff ff	 DD	 -364			; fffffe94H
  00b0c	20 00 00 00	 DD	 32			; 00000020H
  00b10	00 00 00 00	 DD	 $LN26@InitDirect
  00b14	6c fe ff ff	 DD	 -404			; fffffe6cH
  00b18	20 00 00 00	 DD	 32			; 00000020H
  00b1c	00 00 00 00	 DD	 $LN27@InitDirect
$LN27@InitDirect:
  00b20	64		 DB	 100			; 00000064H
  00b21	64		 DB	 100			; 00000064H
  00b22	50		 DB	 80			; 00000050H
  00b23	69		 DB	 105			; 00000069H
  00b24	78		 DB	 120			; 00000078H
  00b25	65		 DB	 101			; 00000065H
  00b26	6c		 DB	 108			; 0000006cH
  00b27	46		 DB	 70			; 00000046H
  00b28	6f		 DB	 111			; 0000006fH
  00b29	72		 DB	 114			; 00000072H
  00b2a	6d		 DB	 109			; 0000006dH
  00b2b	61		 DB	 97			; 00000061H
  00b2c	74		 DB	 116			; 00000074H
  00b2d	00		 DB	 0
$LN26@InitDirect:
  00b2e	64		 DB	 100			; 00000064H
  00b2f	64		 DB	 100			; 00000064H
  00b30	50		 DB	 80			; 00000050H
  00b31	69		 DB	 105			; 00000069H
  00b32	78		 DB	 120			; 00000078H
  00b33	65		 DB	 101			; 00000065H
  00b34	6c		 DB	 108			; 0000006cH
  00b35	46		 DB	 70			; 00000046H
  00b36	6f		 DB	 111			; 0000006fH
  00b37	72		 DB	 114			; 00000072H
  00b38	6d		 DB	 109			; 0000006dH
  00b39	61		 DB	 97			; 00000061H
  00b3a	74		 DB	 116			; 00000074H
  00b3b	00		 DB	 0
$LN25@InitDirect:
  00b3c	64		 DB	 100			; 00000064H
  00b3d	64		 DB	 100			; 00000064H
  00b3e	73		 DB	 115			; 00000073H
  00b3f	63		 DB	 99			; 00000063H
  00b40	61		 DB	 97			; 00000061H
  00b41	70		 DB	 112			; 00000070H
  00b42	73		 DB	 115			; 00000073H
  00b43	00		 DB	 0
$LN24@InitDirect:
  00b44	73		 DB	 115			; 00000073H
  00b45	7a		 DB	 122			; 0000007aH
  00b46	45		 DB	 69			; 00000045H
  00b47	72		 DB	 114			; 00000072H
  00b48	72		 DB	 114			; 00000072H
  00b49	4d		 DB	 77			; 0000004dH
  00b4a	73		 DB	 115			; 00000073H
  00b4b	67		 DB	 103			; 00000067H
  00b4c	00		 DB	 0
$LN23@InitDirect:
  00b4d	64		 DB	 100			; 00000064H
  00b4e	77		 DB	 119			; 00000077H
  00b4f	57		 DB	 87			; 00000057H
  00b50	72		 DB	 114			; 00000072H
  00b51	69		 DB	 105			; 00000069H
  00b52	74		 DB	 116			; 00000074H
  00b53	65		 DB	 101			; 00000065H
  00b54	42		 DB	 66			; 00000042H
  00b55	79		 DB	 121			; 00000079H
  00b56	74		 DB	 116			; 00000074H
  00b57	65		 DB	 101			; 00000065H
  00b58	00		 DB	 0
?InitDirectDraw@@YAHXZ ENDP				; InitDirectDraw
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\time.h
;	COMDAT _time
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_time	PROC						; COMDAT

; 534  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 535  :             return _time64(_Time);

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  00023	50		 push	 eax
  00024	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___time64
  0002a	83 c4 04	 add	 esp, 4
  0002d	3b f4		 cmp	 esi, esp
  0002f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 536  :         }

  00034	5f		 pop	 edi
  00035	5e		 pop	 esi
  00036	5b		 pop	 ebx
  00037	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003d	3b ec		 cmp	 ebp, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
_time	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\time.h
;	COMDAT _localtime
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_localtime PROC						; COMDAT

; 508  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 509  :             #pragma warning(push)
; 510  :             #pragma warning(disable: 4996)
; 511  :             return _localtime64(_Time);

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  00023	50		 push	 eax
  00024	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___localtime64
  0002a	83 c4 04	 add	 esp, 4
  0002d	3b f4		 cmp	 esi, esp
  0002f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 512  :             #pragma warning(pop)
; 513  :         }

  00034	5f		 pop	 edi
  00035	5e		 pop	 esi
  00036	5b		 pop	 ebx
  00037	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0003d	3b ec		 cmp	 ebp, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
_localtime ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT _sprintf
_TEXT	SEGMENT
__ArgList$ = -20					; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
_sprintf PROC						; COMDAT

; 1776 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1777 :     int _Result;
; 1778 :     va_list _ArgList;
; 1779 :     __crt_va_start(_ArgList, _Format);

  0001e	e8 00 00 00 00	 call	 ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ; __vcrt_va_start_verify_argument_type<char const * const>
  00023	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  00026	89 45 ec	 mov	 DWORD PTR __ArgList$[ebp], eax

; 1780 : 
; 1781 :     #pragma warning(push)
; 1782 :     #pragma warning(disable: 4996) // Deprecation
; 1783 :     _Result = _vsprintf_l(_Buffer, _Format, NULL, _ArgList);

  00029	8b 45 ec	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0002c	50		 push	 eax
  0002d	6a 00		 push	 0
  0002f	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00032	51		 push	 ecx
  00033	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  00036	52		 push	 edx
  00037	e8 00 00 00 00	 call	 __vsprintf_l
  0003c	83 c4 10	 add	 esp, 16			; 00000010H
  0003f	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1784 :     #pragma warning(pop)
; 1785 : 
; 1786 :     __crt_va_end(_ArgList);

  00042	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 1787 :     return _Result;

  00049	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]

; 1788 : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  00055	3b ec		 cmp	 ebp, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
_sprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT _vsprintf_s
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__ArgList$ = 20						; size = 4
_vsprintf_s PROC					; COMDAT

; 1515 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1516 :         return _vsprintf_s_l(_Buffer, _BufferCount, _Format, NULL, _ArgList);

  0001e	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00021	50		 push	 eax
  00022	6a 00		 push	 0
  00024	8b 4d 10	 mov	 ecx, DWORD PTR __Format$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 0c	 mov	 edx, DWORD PTR __BufferCount$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 __vsprintf_s_l
  00035	83 c4 14	 add	 esp, 20			; 00000014H

; 1517 :     }

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	5b		 pop	 ebx
  0003b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00041	3b ec		 cmp	 ebp, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
_vsprintf_s ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsprintf_s_l
_TEXT	SEGMENT
tv73 = -208						; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__Locale$ = 20						; size = 4
__ArgList$ = 24						; size = 4
__vsprintf_s_l PROC					; COMDAT

; 1493 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 30 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-208]
  00012	b9 34 00 00 00	 mov	 ecx, 52			; 00000034H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1494 :     int const _Result = __stdio_common_vsprintf_s(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 18	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 14	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 10	 mov	 edx, DWORD PTR __Format$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 0c	 mov	 eax, DWORD PTR __BufferCount$[ebp]
  0002f	50		 push	 eax
  00030	8b 4d 08	 mov	 ecx, DWORD PTR __Buffer$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00039	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0003c	52		 push	 edx
  0003d	8b 00		 mov	 eax, DWORD PTR [eax]
  0003f	50		 push	 eax
  00040	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf_s
  00046	83 c4 1c	 add	 esp, 28			; 0000001cH
  00049	3b f4		 cmp	 esi, esp
  0004b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00050	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1495 :         _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS,
; 1496 :         _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1497 : 
; 1498 :     return _Result < 0 ? -1 : _Result;

  00053	83 7d f8 00	 cmp	 DWORD PTR __Result$[ebp], 0
  00057	7d 0c		 jge	 SHORT $LN3@vsprintf_s
  00059	c7 85 30 ff ff
	ff ff ff ff ff	 mov	 DWORD PTR tv73[ebp], -1
  00063	eb 09		 jmp	 SHORT $LN4@vsprintf_s
$LN3@vsprintf_s:
  00065	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]
  00068	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv73[ebp], eax
$LN4@vsprintf_s:
  0006e	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv73[ebp]

; 1499 : }

  00074	5f		 pop	 edi
  00075	5e		 pop	 esi
  00076	5b		 pop	 ebx
  00077	81 c4 d0 00 00
	00		 add	 esp, 208		; 000000d0H
  0007d	3b ec		 cmp	 ebp, esp
  0007f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c3		 ret	 0
__vsprintf_s_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsprintf_l
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
__Locale$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vsprintf_l PROC					; COMDAT

; 1455 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1456 :     #pragma warning(push)
; 1457 :     #pragma warning(disable: 4996) // Deprecation
; 1458 :     return _vsnprintf_l(_Buffer, (size_t)-1, _Format, _Locale, _ArgList);

  0001e	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00021	50		 push	 eax
  00022	8b 4d 10	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00025	51		 push	 ecx
  00026	8b 55 0c	 mov	 edx, DWORD PTR __Format$[ebp]
  00029	52		 push	 edx
  0002a	6a ff		 push	 -1
  0002c	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0002f	50		 push	 eax
  00030	e8 00 00 00 00	 call	 __vsnprintf_l
  00035	83 c4 14	 add	 esp, 20			; 00000014H

; 1459 :     #pragma warning(pop)
; 1460 : }

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	5b		 pop	 ebx
  0003b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00041	3b ec		 cmp	 ebp, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
__vsprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\stdio.h
;	COMDAT __vsnprintf_l
_TEXT	SEGMENT
tv74 = -208						; size = 4
__Result$ = -8						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__Locale$ = 20						; size = 4
__ArgList$ = 24						; size = 4
__vsnprintf_l PROC					; COMDAT

; 1385 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 30 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-208]
  00012	b9 34 00 00 00	 mov	 ecx, 52			; 00000034H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1386 :     int const _Result = __stdio_common_vsprintf(

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 18	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 14	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 10	 mov	 edx, DWORD PTR __Format$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 0c	 mov	 eax, DWORD PTR __BufferCount$[ebp]
  0002f	50		 push	 eax
  00030	8b 4d 08	 mov	 ecx, DWORD PTR __Buffer$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00039	8b 10		 mov	 edx, DWORD PTR [eax]
  0003b	83 ca 01	 or	 edx, 1
  0003e	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00041	50		 push	 eax
  00042	52		 push	 edx
  00043	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf
  00049	83 c4 1c	 add	 esp, 28			; 0000001cH
  0004c	3b f4		 cmp	 esi, esp
  0004e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00053	89 45 f8	 mov	 DWORD PTR __Result$[ebp], eax

; 1387 :         _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS | _CRT_INTERNAL_PRINTF_LEGACY_VSPRINTF_NULL_TERMINATION,
; 1388 :         _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1389 : 
; 1390 :     return _Result < 0 ? -1 : _Result;

  00056	83 7d f8 00	 cmp	 DWORD PTR __Result$[ebp], 0
  0005a	7d 0c		 jge	 SHORT $LN3@vsnprintf_
  0005c	c7 85 30 ff ff
	ff ff ff ff ff	 mov	 DWORD PTR tv74[ebp], -1
  00066	eb 09		 jmp	 SHORT $LN4@vsnprintf_
$LN3@vsnprintf_:
  00068	8b 45 f8	 mov	 eax, DWORD PTR __Result$[ebp]
  0006b	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv74[ebp], eax
$LN4@vsnprintf_:
  00071	8b 85 30 ff ff
	ff		 mov	 eax, DWORD PTR tv74[ebp]

; 1391 : }

  00077	5f		 pop	 edi
  00078	5e		 pop	 esi
  00079	5b		 pop	 ebx
  0007a	81 c4 d0 00 00
	00		 add	 esp, 208		; 000000d0H
  00080	3b ec		 cmp	 ebp, esp
  00082	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00087	8b e5		 mov	 esp, ebp
  00089	5d		 pop	 ebp
  0008a	c3		 ret	 0
__vsnprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\microsoft visual studio 14.0\vc\include\vadefs.h
;	COMDAT ??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ
_TEXT	SEGMENT
??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ PROC	; __vcrt_va_start_verify_argument_type<char const * const>, COMDAT

; 144  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 145  :             static_assert(!__vcrt_va_list_is_reference<_Ty>::__the_value, "va_start argument must not have reference type and must not be parenthesized");
; 146  :         }

  0001e	5f		 pop	 edi
  0001f	5e		 pop	 esi
  00020	5b		 pop	 ebx
  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
??$__vcrt_va_start_verify_argument_type@QBD@@YAXXZ ENDP	; __vcrt_va_start_verify_argument_type<char const * const>
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.10240.0\ucrt\corecrt_stdio_config.h
;	COMDAT ___local_stdio_printf_options
_TEXT	SEGMENT
___local_stdio_printf_options PROC			; COMDAT

; 73   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 74   :     static unsigned __int64 _OptionsStorage;
; 75   :     return &_OptionsStorage;

  0001e	b8 00 00 00 00	 mov	 eax, OFFSET ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage

; 76   : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
___local_stdio_printf_options ENDP
_TEXT	ENDS
END
