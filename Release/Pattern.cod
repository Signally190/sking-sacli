; Listing generated by Microsoft (R) Optimizing Compiler Version 19.28.29336.0 

	TITLE	C:\Users\gg862\OneDrive\πŸ≈¡ »≠∏È\∏æƒÌøœ∑·\Client Source Code1.31¿œ∫ª\system\Pattern.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?pattern@@YAHPAUaction@@HH@Z			; pattern
PUBLIC	?picture_play@@YAXPAUaction@@@Z			; picture_play
PUBLIC	__xmm@000189f600018b3a000189e900018824
PUBLIC	__xmm@00018c3000018d7f0001880100018cc2
EXTRN	?realGetPos@@YAHKPAF0@Z:PROC			; realGetPos
EXTRN	?realGetNo@@YAHKPAK@Z:PROC			; realGetNo
EXTRN	?play_se@@YAHHHH@Z:PROC				; play_se
EXTRN	?getCharType@@YAHPAUaction@@@Z:PROC		; getCharType
EXTRN	@__security_check_cookie@4:PROC
EXTRN	?SpriteData@@3PAUSPRITEDATA@@A:BYTE		; SpriteData
EXTRN	?g_bUseAlpha@@3HA:DWORD				; g_bUseAlpha
EXTRN	___security_cookie:DWORD
;	COMDAT __xmm@00018c3000018d7f0001880100018cc2
CONST	SEGMENT
__xmm@00018c3000018d7f0001880100018cc2 DB 0c2H, 08cH, 01H, 00H, 01H, 088H
	DB	01H, 00H, 07fH, 08dH, 01H, 00H, '0', 08cH, 01H, 00H
CONST	ENDS
;	COMDAT __xmm@000189f600018b3a000189e900018824
CONST	SEGMENT
__xmm@000189f600018b3a000189e900018824 DB '$', 088H, 01H, 00H, 0e9H, 089H
	DB	01H, 00H, ':', 08bH, 01H, 00H, 0f6H, 089H, 01H, 00H
CONST	ENDS
; Function compile flags: /Ogtp
; File C:\Users\gg862\OneDrive\πŸ≈¡ »≠∏È\∏æƒÌøœ∑·\Client Source Code1.31¿œ∫ª\system\Pattern.cpp
;	COMDAT ?picture_play@@YAXPAUaction@@@Z
_TEXT	SEGMENT
_pictable$ = -40					; size = 36
__$ArrayPad$ = -4					; size = 4
_a0$ = 8						; size = 4
?picture_play@@YAXPAUaction@@@Z PROC			; picture_play, COMDAT

; 24   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 28	 sub	 esp, 40			; 00000028H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 4d 08	 mov	 ecx, DWORD PTR _a0$[ebp]

; 25   : 	//int i,j; 
; 26   : 	int pictable[9] = { 100388,100841,101178,100854,101570,100353,101759,101424,101489 };

  00013	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@000189f600018b3a000189e900018824
  0001a	57		 push	 edi
  0001b	0f 11 45 d8	 movups	 XMMWORD PTR _pictable$[ebp], xmm0

; 27   : 	if (a0->picture != 0) {

  0001f	8b b9 28 02 00
	00		 mov	 edi, DWORD PTR [ecx+552]
  00025	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@00018c3000018d7f0001880100018cc2
  0002c	c7 45 f8 71 8c
	01 00		 mov	 DWORD PTR _pictable$[ebp+32], 101489 ; 00018c71H
  00033	0f 11 45 e8	 movups	 XMMWORD PTR _pictable$[ebp+16], xmm0
  00037	85 ff		 test	 edi, edi
  00039	0f 84 0e 01 00
	00		 je	 $LN19@picture_pl

; 28   : 		int picture1 = ((((a0->picture) & 0xff000000) >> 24) & 0x000000ff);

  0003f	56		 push	 esi
  00040	8b f7		 mov	 esi, edi

; 29   : 		int picture2 = ((((a0->picture) & 0x00ff0000) >> 16) & 0x000000ff);

  00042	8b c7		 mov	 eax, edi
  00044	c1 ee 18	 shr	 esi, 24			; 00000018H
  00047	c1 f8 10	 sar	 eax, 16			; 00000010H
  0004a	0f b6 d0	 movzx	 edx, al

; 30   : 		int picture3 = ((((a0->picture) & 0x0000ff00) >> 8) & 0x000000ff);
; 31   : 		int picture4 = ((a0->picture) & 0x000000ff);
; 32   : 		//a0->anim_no = ANIM_WALK;
; 33   : 		if (picture1 == 1) {//‰∏çÊñ≠ÂèòË∫´

  0004d	83 fe 01	 cmp	 esi, 1
  00050	75 51		 jne	 SHORT $LN3@picture_pl

; 34   : 			if (a0->anim_chr_no == 101936) {

  00052	8b 81 44 01 00
	00		 mov	 eax, DWORD PTR [ecx+324]
  00058	3d 30 8e 01 00	 cmp	 eax, 101936		; 00018e30H
  0005d	75 1a		 jne	 SHORT $LN5@picture_pl

; 35   : 				a0->anim_chr_no = 101863;

  0005f	5e		 pop	 esi
  00060	c7 81 44 01 00
	00 e7 8d 01 00	 mov	 DWORD PTR [ecx+324], 101863 ; 00018de7H
  0006a	5f		 pop	 edi

; 67   : 				| (((picture2) << 16) & 0x00ff0000)
; 68   : 				| (((picture3) << 8) & 0x0000ff00)
; 69   : 				| ((picture4) & 0x000000ff);
; 70   : 		}
; 71   : 
; 72   : 	}
; 73   : }

  0006b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006e	33 cd		 xor	 ecx, ebp
  00070	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00075	8b e5		 mov	 esp, ebp
  00077	5d		 pop	 ebp
  00078	c3		 ret	 0
$LN5@picture_pl:

; 36   : 				return;
; 37   : 			}
; 38   : 			else if (a0->anim_chr_no == 101863) {

  00079	3d e7 8d 01 00	 cmp	 eax, 101863		; 00018de7H
  0007e	8b 81 2c 02 00
	00		 mov	 eax, DWORD PTR [ecx+556]
  00084	75 06		 jne	 SHORT $LN7@picture_pl

; 39   : 				a0->anim_chr_no = pictable[a0->picturetemp];

  00086	8b 54 85 d8	 mov	 edx, DWORD PTR _pictable$[ebp+eax*4]

; 40   : 			}

  0008a	eb 05		 jmp	 SHORT $LN8@picture_pl
$LN7@picture_pl:

; 41   : 			else
; 42   : 				a0->anim_chr_no = 101863;

  0008c	ba e7 8d 01 00	 mov	 edx, 101863		; 00018de7H
$LN8@picture_pl:

; 43   : 			++a0->picturetemp;

  00091	40		 inc	 eax
  00092	89 91 44 01 00
	00		 mov	 DWORD PTR [ecx+324], edx
  00098	89 81 2c 02 00
	00		 mov	 DWORD PTR [ecx+556], eax

; 44   : 			if (a0->picturetemp == 9)

  0009e	83 f8 09	 cmp	 eax, 9

; 45   : 				a0->picturetemp = 0;
; 46   : 		}

  000a1	eb 5a		 jmp	 SHORT $LN24@picture_pl
$LN3@picture_pl:

; 47   : 		else if (picture1 == 2) {//ÂèòË∫´‰∫éÊüê‰∏™ÂõæÂè∑

  000a3	83 fe 02	 cmp	 esi, 2
  000a6	75 71		 jne	 SHORT $LN10@picture_pl

; 48   : 			if (a0->anim_chr_no != pictable[picture2]) {

  000a8	8b 81 44 01 00
	00		 mov	 eax, DWORD PTR [ecx+324]
  000ae	3b 44 95 d8	 cmp	 eax, DWORD PTR _pictable$[ebp+edx*4]
  000b2	74 26		 je	 SHORT $LN12@picture_pl

; 49   : 				if (a0->anim_chr_no == 101863)

  000b4	3d e7 8d 01 00	 cmp	 eax, 101863		; 00018de7H
  000b9	75 12		 jne	 SHORT $LN14@picture_pl

; 50   : 					a0->anim_chr_no = pictable[a0->picturetemp];

  000bb	8b 81 2c 02 00
	00		 mov	 eax, DWORD PTR [ecx+556]
  000c1	8b 44 85 d8	 mov	 eax, DWORD PTR _pictable$[ebp+eax*4]

; 53   : 			}

  000c5	89 81 44 01 00
	00		 mov	 DWORD PTR [ecx+324], eax
  000cb	eb 23		 jmp	 SHORT $LN16@picture_pl
$LN14@picture_pl:

; 51   : 				else
; 52   : 					a0->anim_chr_no = 101863;

  000cd	b8 e7 8d 01 00	 mov	 eax, 101863		; 00018de7H

; 53   : 			}

  000d2	89 81 44 01 00
	00		 mov	 DWORD PTR [ecx+324], eax
  000d8	eb 16		 jmp	 SHORT $LN16@picture_pl
$LN12@picture_pl:

; 54   : 			else {
; 55   : 				if (a0->anim_no == 0)//ËÆæÂÆöÂä®‰Ωú

  000da	33 c0		 xor	 eax, eax
  000dc	ba 03 00 00 00	 mov	 edx, 3
  000e1	39 81 4c 01 00
	00		 cmp	 DWORD PTR [ecx+332], eax
  000e7	0f 44 c2	 cmove	 eax, edx
  000ea	89 81 4c 01 00
	00		 mov	 DWORD PTR [ecx+332], eax
$LN16@picture_pl:

; 56   : 					a0->anim_no = 3;
; 57   : 				else
; 58   : 					a0->anim_no = 0;
; 59   : 			}
; 60   : 			++a0->picturetemp;

  000f0	ff 81 2c 02 00
	00		 inc	 DWORD PTR [ecx+556]

; 61   : 			if (a0->picturetemp == 9)

  000f6	83 b9 2c 02 00
	00 09		 cmp	 DWORD PTR [ecx+556], 9
$LN24@picture_pl:
  000fd	75 4d		 jne	 SHORT $LN23@picture_pl

; 62   : 				a0->picturetemp = 0;

  000ff	5e		 pop	 esi
  00100	c7 81 2c 02 00
	00 00 00 00 00	 mov	 DWORD PTR [ecx+556], 0
  0010a	5f		 pop	 edi

; 67   : 				| (((picture2) << 16) & 0x00ff0000)
; 68   : 				| (((picture3) << 8) & 0x0000ff00)
; 69   : 				| ((picture4) & 0x000000ff);
; 70   : 		}
; 71   : 
; 72   : 	}
; 73   : }

  0010b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0010e	33 cd		 xor	 ecx, ebp
  00110	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00115	8b e5		 mov	 esp, ebp
  00117	5d		 pop	 ebp
  00118	c3		 ret	 0
$LN10@picture_pl:

; 63   : 		}
; 64   : 		else if (picture1 == 3) {

  00119	83 fe 03	 cmp	 esi, 3
  0011c	75 2e		 jne	 SHORT $LN23@picture_pl

; 65   : 			if (g_bUseAlpha) a0->anim_chr_no = 101805; else a0->anim_chr_no = 101858;

  0011e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bUseAlpha@@3HA, 0 ; g_bUseAlpha
  00125	b8 e2 8d 01 00	 mov	 eax, 101858		; 00018de2H
  0012a	be ad 8d 01 00	 mov	 esi, 101805		; 00018dadH
  0012f	0f 45 c6	 cmovne	 eax, esi

; 66   : 			a0->picture = (((1) << 24) & 0xff000000)

  00132	81 ca 00 01 00
	00		 or	 edx, 256		; 00000100H
  00138	89 81 44 01 00
	00		 mov	 DWORD PTR [ecx+324], eax
  0013e	c1 e2 10	 shl	 edx, 16			; 00000010H
  00141	0f b7 c7	 movzx	 eax, di
  00144	0b d0		 or	 edx, eax
  00146	89 91 28 02 00
	00		 mov	 DWORD PTR [ecx+552], edx
$LN23@picture_pl:
  0014c	5e		 pop	 esi
$LN19@picture_pl:

; 67   : 				| (((picture2) << 16) & 0x00ff0000)
; 68   : 				| (((picture3) << 8) & 0x0000ff00)
; 69   : 				| ((picture4) & 0x000000ff);
; 70   : 		}
; 71   : 
; 72   : 	}
; 73   : }

  0014d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00150	33 cd		 xor	 ecx, ebp
  00152	5f		 pop	 edi
  00153	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00158	8b e5		 mov	 esp, ebp
  0015a	5d		 pop	 ebp
  0015b	c3		 ret	 0
?picture_play@@YAXPAUaction@@@Z ENDP			; picture_play
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Users\gg862\OneDrive\πŸ≈¡ »≠∏È\∏æƒÌøœ∑·\Client Source Code1.31¿œ∫ª\system\Pattern.cpp
;	COMDAT ?pattern@@YAHPAUaction@@HH@Z
_TEXT	SEGMENT
_ptAnimlist$1$ = -56					; size = 4
_BmpNo$ = -52						; size = 4
_dy$ = -48						; size = 2
_dx$ = -44						; size = 2
_pictable$1 = -40					; size = 36
__$ArrayPad$ = -4					; size = 4
_a0$ = 8						; size = 4
_anim_spd$ = 12						; size = 4
_loop_flg$ = 16						; size = 4
?pattern@@YAHPAUaction@@HH@Z PROC			; pattern, COMDAT

; 80   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 38	 sub	 esp, 56			; 00000038H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _a0$[ebp]

; 81   : 	ANIMLIST	*ptAnimlist;
; 82   : 	FRAMELIST	*ptFramelist;
; 83   : 	int i;
; 84   : 	short dx, dy;
; 85   : 	int BmpNo;
; 86   : 	U4 chrNo;
; 87   : 	extern int getCharType(ACTION *ptAct);
; 88   : 	if (getCharType(a0)) {

  00014	56		 push	 esi
  00015	e8 00 00 00 00	 call	 ?getCharType@@YAHPAUaction@@@Z ; getCharType
  0001a	8b 8e 9c 00 00
	00		 mov	 ecx, DWORD PTR [esi+156]
  00020	83 c4 04	 add	 esp, 4
  00023	85 c0		 test	 eax, eax
  00025	74 25		 je	 SHORT $LN10@pattern

; 89   : 		if (ATR_PAT_NO(a0)) {

  00027	85 c9		 test	 ecx, ecx
  00029	74 10		 je	 SHORT $LN12@pattern

; 90   : 			ATR_PAT_BAK_NO(a0) = ATR_PAT_NO(a0);

  0002b	89 8e a0 00 00
	00		 mov	 DWORD PTR [esi+160], ecx

; 91   : 			ATR_PAT_NO(a0) = 0;

  00031	c7 86 9c 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+156], 0
$LN12@pattern:

; 92   : 		}
; 93   : 		return 0;

  0003b	33 c0		 xor	 eax, eax
  0003d	5e		 pop	 esi

; 285  : 	return 0;
; 286  : }

  0003e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00041	33 cd		 xor	 ecx, ebp
  00043	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c3		 ret	 0
$LN10@pattern:

; 94   : 	}
; 95   : 	else {
; 96   : 		if (!ATR_PAT_NO(a0) && ATR_PAT_BAK_NO(a0)) ATR_PAT_NO(a0) = ATR_PAT_BAK_NO(a0);

  0004c	85 c9		 test	 ecx, ecx
  0004e	75 10		 jne	 SHORT $LN13@pattern
  00050	8b 86 a0 00 00
	00		 mov	 eax, DWORD PTR [esi+160]
  00056	85 c0		 test	 eax, eax
  00058	74 06		 je	 SHORT $LN13@pattern
  0005a	89 86 9c 00 00
	00		 mov	 DWORD PTR [esi+156], eax
$LN13@pattern:

; 97   : 	}
; 98   : 	if (ATR_CHR_ACT_OLD(a0) != ATR_CHR_ACT(a0) ||
; 99   : 		ATR_CHR_ANG(a0) != ATR_CHR_ANG_OLD(a0) ||

  00060	8b 8e 4c 01 00
	00		 mov	 ecx, DWORD PTR [esi+332]
  00066	57		 push	 edi
  00067	39 8e 50 01 00
	00		 cmp	 DWORD PTR [esi+336], ecx
  0006d	75 41		 jne	 SHORT $LN15@pattern
  0006f	8b be 54 01 00
	00		 mov	 edi, DWORD PTR [esi+340]
  00075	3b be 58 01 00
	00		 cmp	 edi, DWORD PTR [esi+344]
  0007b	75 33		 jne	 SHORT $LN15@pattern
  0007d	8b 86 44 01 00
	00		 mov	 eax, DWORD PTR [esi+324]
  00083	3b 86 48 01 00
	00		 cmp	 eax, DWORD PTR [esi+328]
  00089	75 25		 jne	 SHORT $LN15@pattern

; 105  : 		ATR_CHR_CNT(a0) = 0;//Ëøô‰∏™Âä®ÁîªÁöÑÁ¨¨Âá†Âº†Âõæ

  0008b	8b 8e 60 01 00
	00		 mov	 ecx, DWORD PTR [esi+352]

; 106  : 	}
; 107  : 	if (ATR_CHR_TIM(a0)) {

  00091	85 c9		 test	 ecx, ecx
  00093	74 4d		 je	 SHORT $LN69@pattern

; 108  : 		ATR_CHR_TIM(a0)--;	//frame counterÂáè‰∏Ä

  00095	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
  00098	89 86 60 01 00
	00		 mov	 DWORD PTR [esi+352], eax

; 109  : 		return 0;

  0009e	33 c0		 xor	 eax, eax
  000a0	5f		 pop	 edi
  000a1	5e		 pop	 esi

; 285  : 	return 0;
; 286  : }

  000a2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a5	33 cd		 xor	 ecx, ebp
  000a7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000ac	8b e5		 mov	 esp, ebp
  000ae	5d		 pop	 ebp
  000af	c3		 ret	 0
$LN15@pattern:

; 100  : 		ATR_CHR_NO(a0) != ATR_CHR_NO_OLD(a0)) {
; 101  : 		ATR_CHR_NO_OLD(a0) = ATR_CHR_NO(a0);		/*Óë°????????????*/

  000b0	8b 86 44 01 00
	00		 mov	 eax, DWORD PTR [esi+324]

; 102  : 		ATR_CHR_ACT_OLD(a0) = ATR_CHR_ACT(a0);		/*Óë°??ÓôÆ????*/
; 103  : 		ATR_CHR_ANG_OLD(a0) = ATR_CHR_ANG(a0);		/*Óë°???????*/

  000b6	8b be 54 01 00
	00		 mov	 edi, DWORD PTR [esi+340]
  000bc	89 86 48 01 00
	00		 mov	 DWORD PTR [esi+328], eax
  000c2	89 8e 50 01 00
	00		 mov	 DWORD PTR [esi+336], ecx
  000c8	89 be 58 01 00
	00		 mov	 DWORD PTR [esi+344], edi

; 104  : 		ATR_CHR_TIM(a0) = 0;//frame counterËÆæ‰∏∫‰∏Ä

  000ce	c7 86 60 01 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+352], 0

; 105  : 		ATR_CHR_CNT(a0) = 0;//Ëøô‰∏™Âä®ÁîªÁöÑÁ¨¨Âá†Âº†Âõæ

  000d8	c7 86 5c 01 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+348], 0
$LN69@pattern:

; 110  : 	}
; 111  : 	if (ATR_CHR_NO(a0) <= CG_INVISIBLE) {

  000e2	83 f8 63	 cmp	 eax, 99			; 00000063H
  000e5	7f 25		 jg	 SHORT $LN17@pattern

; 112  : 		ATR_PAT_NO(a0) = 0;	//ÊåáÂÆö‰∏∫Á¨¨0Âº†Âõæ
; 113  : #ifdef _NPC_PICTURE
; 114  : 		picture_play(a0);

  000e7	56		 push	 esi
  000e8	c7 86 9c 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+156], 0
  000f2	e8 00 00 00 00	 call	 ?picture_play@@YAXPAUaction@@@Z ; picture_play
  000f7	83 c4 04	 add	 esp, 4

; 115  : #endif
; 116  : 		return 0;

  000fa	33 c0		 xor	 eax, eax
  000fc	5f		 pop	 edi
  000fd	5e		 pop	 esi

; 285  : 	return 0;
; 286  : }

  000fe	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00101	33 cd		 xor	 ecx, ebp
  00103	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00108	8b e5		 mov	 esp, ebp
  0010a	5d		 pop	 ebp
  0010b	c3		 ret	 0
$LN17@pattern:

; 117  : 	}
; 118  : 	if (ATR_CHR_NO(a0) < SPRSTART) {	//‰∏çÊòØsprite

  0010c	3d a0 86 01 00	 cmp	 eax, 100000		; 000186a0H
  00111	0f 8d c7 00 00
	00		 jge	 $LN18@pattern

; 119  : 		realGetNo(ATR_CHR_NO(a0), (U4 *)&BmpNo);

  00117	8d 4d cc	 lea	 ecx, DWORD PTR _BmpNo$[ebp]
  0011a	51		 push	 ecx
  0011b	50		 push	 eax
  0011c	e8 00 00 00 00	 call	 ?realGetNo@@YAHKPAK@Z	; realGetNo

; 120  : 		realGetPos(BmpNo, &dx, &dy);

  00121	8d 45 d0	 lea	 eax, DWORD PTR _dy$[ebp]
  00124	50		 push	 eax
  00125	8d 45 d4	 lea	 eax, DWORD PTR _dx$[ebp]
  00128	50		 push	 eax
  00129	ff 75 cc	 push	 DWORD PTR _BmpNo$[ebp]
  0012c	e8 00 00 00 00	 call	 ?realGetPos@@YAHKPAF0@Z	; realGetPos

; 121  : 		ATR_PAT_NO(a0) = BmpNo;		//BMPÁöÑÂõæÊ°£ÁºñÂè∑

  00131	8b 45 cc	 mov	 eax, DWORD PTR _BmpNo$[ebp]
  00134	83 c4 14	 add	 esp, 20			; 00000014H

; 122  : #ifdef _FIX_CG_ATR_ICON
; 123  : 		if (ATR_CHR_NO(a0) >= CG_ATR_ICON_EARTH_BATTLE && ATR_CHR_NO(a0) <= CG_ATR_ICON_WIND_BATTLE) {
; 124  : 			ATR_CHR_H_POS(a0) = dx - 20;		//XÂ∫ßÊ†á
; 125  : 		}
; 126  : 		else {
; 127  : 			ATR_CHR_H_POS(a0) = dx;		//XÂ∫ßÊ†á
; 128  : 		}
; 129  : #else
; 130  : 		ATR_CHR_H_POS(a0) = dx;		//XÂ∫ßÊ†á
; 131  : #endif
; 132  : 		ATR_CHR_V_POS(a0) = dy;		//YÂ∫ßÊ†á
; 133  : 		ATR_CHR_TIM(a0) = 0x7fffffff;
; 134  : 		//cary 
; 135  : 		if (ATR_CHR_ACT(a0) == ANIM_ATTACK && ATR_CHR_CNT(a0) == 0) {

  00137	83 be 4c 01 00
	00 00		 cmp	 DWORD PTR [esi+332], 0
  0013e	89 86 9c 00 00
	00		 mov	 DWORD PTR [esi+156], eax
  00144	0f bf 45 d4	 movsx	 eax, WORD PTR _dx$[ebp]
  00148	89 86 64 01 00
	00		 mov	 DWORD PTR [esi+356], eax
  0014e	0f bf 45 d0	 movsx	 eax, WORD PTR _dy$[ebp]
  00152	89 86 68 01 00
	00		 mov	 DWORD PTR [esi+360], eax
  00158	c7 86 60 01 00
	00 ff ff ff 7f	 mov	 DWORD PTR [esi+352], 2147483647 ; 7fffffffH
  00162	75 42		 jne	 SHORT $LN19@pattern
  00164	83 be 5c 01 00
	00 00		 cmp	 DWORD PTR [esi+348], 0
  0016b	75 39		 jne	 SHORT $LN19@pattern

; 136  : 			ATR_CHR_TIM(a0) = 0;

  0016d	c7 86 60 01 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+352], 0

; 137  : 			ATR_HIT(a0) = 10000;

  00177	c7 86 6c 01 00
	00 10 27 00 00	 mov	 DWORD PTR [esi+364], 10000 ; 00002710H

; 138  : 			ATR_CHR_CNT(a0) = 1;

  00181	c7 86 5c 01 00
	00 01 00 00 00	 mov	 DWORD PTR [esi+348], 1
$LN71@pattern:

; 139  : #ifdef _NPC_PICTURE
; 140  : 			picture_play(a0);

  0018b	56		 push	 esi
  0018c	e8 00 00 00 00	 call	 ?picture_play@@YAXPAUaction@@@Z ; picture_play
  00191	83 c4 04	 add	 esp, 4

; 141  : #endif
; 142  : 			return 0;

  00194	33 c0		 xor	 eax, eax
  00196	5f		 pop	 edi
  00197	5e		 pop	 esi

; 285  : 	return 0;
; 286  : }

  00198	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0019b	33 cd		 xor	 ecx, ebp
  0019d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001a2	8b e5		 mov	 esp, ebp
  001a4	5d		 pop	 ebp
  001a5	c3		 ret	 0
$LN19@pattern:

; 143  : 		}
; 144  : 		ATR_CHR_CNT(a0) = 0;
; 145  : 		ATR_CHR_ACT(a0) = ANIM_STAND;
; 146  : 		if (loop_flg == ANM_NO_LOOP) {

  001a6	83 7d 10 01	 cmp	 DWORD PTR _loop_flg$[ebp], 1
  001aa	c7 86 5c 01 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+348], 0
  001b4	c7 86 4c 01 00
	00 03 00 00 00	 mov	 DWORD PTR [esi+332], 3
  001be	75 cb		 jne	 SHORT $LN71@pattern

; 147  : #ifdef _NPC_PICTURE
; 148  : 			picture_play(a0);

  001c0	56		 push	 esi
  001c1	e8 00 00 00 00	 call	 ?picture_play@@YAXPAUaction@@@Z ; picture_play
  001c6	83 c4 04	 add	 esp, 4

; 149  : #endif
; 150  : 			return 1;

  001c9	b8 01 00 00 00	 mov	 eax, 1
  001ce	5f		 pop	 edi
  001cf	5e		 pop	 esi

; 285  : 	return 0;
; 286  : }

  001d0	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001d3	33 cd		 xor	 ecx, ebp
  001d5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001da	8b e5		 mov	 esp, ebp
  001dc	5d		 pop	 ebp
  001dd	c3		 ret	 0
$LN18@pattern:

; 151  : 		}
; 152  : 		//cary end
; 153  : #ifdef _NPC_PICTURE
; 154  : 		picture_play(a0);
; 155  : #endif
; 156  : 		return 0;
; 157  : 	}
; 158  : 	if (ATR_CHR_NO(a0) > SPRSTART + mxSPRITE) {

  001de	3d e0 22 02 00	 cmp	 eax, 140000		; 000222e0H
  001e3	7f a6		 jg	 SHORT $LN71@pattern

; 159  : #ifdef _NPC_PICTURE
; 160  : 		picture_play(a0);
; 161  : #endif
; 162  : 		return 0;		//Ë∂ÖÂá∫spriteÁöÑËåÉÂõ¥
; 163  : 	}
; 164  : 	chrNo = ATR_CHR_NO(a0) - SPRSTART;

  001e5	05 60 79 fe ff	 add	 eax, -100000		; fffe7960H

; 165  : 
; 166  : #ifdef _NB_FixÊó†Âä®ÁîªË°•‰∏Å
; 167  : 	if (SpriteData[chrNo].animSize == 0) {

  001ea	66 83 3c c5 00
	00 00 00 00	 cmp	 WORD PTR ?SpriteData@@3PAUSPRITEDATA@@A[eax*8], 0
  001f3	75 0c		 jne	 SHORT $LN70@pattern

; 168  : 		ATR_CHR_NO(a0) = 100000;

  001f5	c7 86 44 01 00
	00 a0 86 01 00	 mov	 DWORD PTR [esi+324], 100000 ; 000186a0H

; 169  : 		chrNo = ATR_CHR_NO(a0) - SPRSTART;

  001ff	33 c0		 xor	 eax, eax
$LN70@pattern:

; 170  : 	}
; 171  : #endif
; 172  : 	ptAnimlist = SpriteData[chrNo].ptAnimlist;

  00201	8b 14 c5 04 00
	00 00		 mov	 edx, DWORD PTR ?SpriteData@@3PAUSPRITEDATA@@A[eax*8+4]

; 173  : 	if (SpriteData[chrNo].animSize == 0) {

  00208	0f b7 04 c5 00
	00 00 00	 movzx	 eax, WORD PTR ?SpriteData@@3PAUSPRITEDATA@@A[eax*8]
  00210	89 55 c8	 mov	 DWORD PTR _ptAnimlist$1$[ebp], edx
  00213	66 85 c0	 test	 ax, ax
  00216	0f 84 6f ff ff
	ff		 je	 $LN71@pattern

; 174  : #ifdef _NPC_PICTURE
; 175  : 		picture_play(a0);
; 176  : #endif
; 177  : 		return 0;	//Êó†Âä®Áîª
; 178  : 	}
; 179  : 	//ÈÄâÊã©ÊÉ≥Ë¶ÅÁöÑÊñπÂêëÂíåÂä®Áîª
; 180  : 	for (i = 0; i < SpriteData[chrNo].animSize; i++) {

  0021c	53		 push	 ebx
  0021d	8b d8		 mov	 ebx, eax
  0021f	33 c9		 xor	 ecx, ecx
  00221	85 db		 test	 ebx, ebx
  00223	74 1e		 je	 SHORT $LN60@pattern
$LL4@pattern:

; 181  : 		if (ATR_CHR_ANG(a0) == ptAnimlist[i].dir && ptAnimlist[i].no == ATR_CHR_ACT(a0))

  00225	0f b7 02	 movzx	 eax, WORD PTR [edx]
  00228	3b f8		 cmp	 edi, eax
  0022a	75 0c		 jne	 SHORT $LN2@pattern
  0022c	0f b7 42 02	 movzx	 eax, WORD PTR [edx+2]
  00230	3b 86 4c 01 00
	00		 cmp	 eax, DWORD PTR [esi+332]
  00236	74 38		 je	 SHORT $LN72@pattern
$LN2@pattern:

; 174  : #ifdef _NPC_PICTURE
; 175  : 		picture_play(a0);
; 176  : #endif
; 177  : 		return 0;	//Êó†Âä®Áîª
; 178  : 	}
; 179  : 	//ÈÄâÊã©ÊÉ≥Ë¶ÅÁöÑÊñπÂêëÂíåÂä®Áîª
; 180  : 	for (i = 0; i < SpriteData[chrNo].animSize; i++) {

  00238	41		 inc	 ecx
  00239	83 c2 10	 add	 edx, 16			; 00000010H
  0023c	3b cb		 cmp	 ecx, ebx
  0023e	7c e5		 jl	 SHORT $LL4@pattern
  00240	8b 55 c8	 mov	 edx, DWORD PTR _ptAnimlist$1$[ebp]
$LN60@pattern:

; 182  : 			break;
; 183  : 	}
; 184  : 	if (i >= SpriteData[chrNo].animSize) {

  00243	3b cb		 cmp	 ecx, ebx
  00245	7c 29		 jl	 SHORT $LN72@pattern

; 185  : 		// shan remark
; 186  : 		// i = 0;		
; 187  : 		for (int sh_i = 0; sh_i < SpriteData[chrNo].animSize; sh_i++) {

  00247	33 ff		 xor	 edi, edi
  00249	85 db		 test	 ebx, ebx
  0024b	74 23		 je	 SHORT $LN72@pattern
  0024d	0f 1f 00	 npad	 3
$LL7@pattern:

; 188  : 			if (ATR_CHR_ANG(a0) == ptAnimlist[sh_i].dir && ptAnimlist[sh_i].no == ANIM_STAND) {

  00250	0f b7 02	 movzx	 eax, WORD PTR [edx]
  00253	39 86 54 01 00
	00		 cmp	 DWORD PTR [esi+340], eax
  00259	75 07		 jne	 SHORT $LN26@pattern
  0025b	66 83 7a 02 03	 cmp	 WORD PTR [edx+2], 3
  00260	74 0c		 je	 SHORT $LN61@pattern
$LN26@pattern:

; 185  : 		// shan remark
; 186  : 		// i = 0;		
; 187  : 		for (int sh_i = 0; sh_i < SpriteData[chrNo].animSize; sh_i++) {

  00262	47		 inc	 edi

; 190  : 				break;
; 191  : 			}
; 192  : 			else {
; 193  : 				i = 0;

  00263	33 c9		 xor	 ecx, ecx
  00265	83 c2 10	 add	 edx, 16			; 00000010H
  00268	3b fb		 cmp	 edi, ebx
  0026a	7c e4		 jl	 SHORT $LL7@pattern

; 185  : 		// shan remark
; 186  : 		// i = 0;		
; 187  : 		for (int sh_i = 0; sh_i < SpriteData[chrNo].animSize; sh_i++) {

  0026c	eb 02		 jmp	 SHORT $LN72@pattern
$LN61@pattern:

; 189  : 				i = sh_i;

  0026e	8b cf		 mov	 ecx, edi
$LN72@pattern:

; 194  : 			}
; 195  : 		}
; 196  : 	}
; 197  : 	ptFramelist = ptAnimlist[i].ptFramelist;

  00270	8b 7d c8	 mov	 edi, DWORD PTR _ptAnimlist$1$[ebp]

; 198  : 	if (anim_spd)	//ÊúâÊåáÂÆöÂä®ÁîªÈÄüÂ∫¶

  00273	8b 45 0c	 mov	 eax, DWORD PTR _anim_spd$[ebp]
  00276	c1 e1 04	 shl	 ecx, 4
  00279	03 f9		 add	 edi, ecx
  0027b	8b 5f 0c	 mov	 ebx, DWORD PTR [edi+12]
  0027e	85 c0		 test	 eax, eax
  00280	75 03		 jne	 SHORT $LN29@pattern

; 199  : 		ATR_CHR_TIM(a0) = anim_spd;
; 200  : 	else
; 201  : 		ATR_CHR_TIM(a0) = ptAnimlist[i].dtAnim;

  00282	8b 47 04	 mov	 eax, DWORD PTR [edi+4]
$LN29@pattern:

; 202  : #ifdef _NPC_PICTURE	
; 203  : 	if (a0->picture != 0) {

  00285	89 86 60 01 00
	00		 mov	 DWORD PTR [esi+352], eax
  0028b	8b 86 28 02 00
	00		 mov	 eax, DWORD PTR [esi+552]
  00291	85 c0		 test	 eax, eax
  00293	74 60		 je	 SHORT $LN33@pattern

; 204  : 		int pictable[9] = { 100388,100841,101178,100854,101570,100353,101759,101424,101489 };

  00295	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@000189f600018b3a000189e900018824

; 205  : 		/*if( (((a0->picture&0xff000000)>>24) & 0x000000ff) == 1
; 206  : 		|| (((a0->picture&0xff000000)>>24) & 0x000000ff) == 3
; 207  : 		|| ( (((a0->picture&&0xff000000)>>24) & 0x000000ff) == 2
; 208  : 		&& ( a0->anim_chr_no != pictable[(((a0->picture&0x00ff0000)>>16)&0x000000ff)] ) ) )
; 209  : 		ATR_CHR_TIM(a0) = 1;//ÂèòË∫´npcÈÄüÂ∫¶Ë∞ÉÊúÄÂø´
; 210  : 		*/
; 211  : 		if (a0->anim_chr_no != pictable[(((a0->picture & 0x00ff0000) >> 16) & 0x000000ff)]
; 212  : 			|| (((a0->picture & 0xff000000) >> 24) & 0x000000ff) == 1
; 213  : 			|| (((a0->picture & 0xff000000) >> 24) & 0x000000ff) == 3)

  0029c	8b d0		 mov	 edx, eax
  0029e	8b 8e 44 01 00
	00		 mov	 ecx, DWORD PTR [esi+324]
  002a4	c1 f8 10	 sar	 eax, 16			; 00000010H
  002a7	0f 11 45 d8	 movups	 XMMWORD PTR _pictable$1[ebp], xmm0
  002ab	0f b6 c0	 movzx	 eax, al
  002ae	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@00018c3000018d7f0001880100018cc2
  002b5	0f 11 45 e8	 movups	 XMMWORD PTR _pictable$1[ebp+16], xmm0
  002b9	c7 45 f8 71 8c
	01 00		 mov	 DWORD PTR _pictable$1[ebp+32], 101489 ; 00018c71H
  002c0	c1 ea 18	 shr	 edx, 24			; 00000018H
  002c3	3b 4c 85 d8	 cmp	 ecx, DWORD PTR _pictable$1[ebp+eax*4]
  002c7	75 0a		 jne	 SHORT $LN32@pattern
  002c9	80 fa 01	 cmp	 dl, 1
  002cc	74 05		 je	 SHORT $LN32@pattern
  002ce	80 fa 03	 cmp	 dl, 3
  002d1	75 22		 jne	 SHORT $LN33@pattern
$LN32@pattern:

; 214  : 			if (a0->anim_chr_no != 101805 && a0->anim_chr_no != 101858 && a0->anim_chr_no != 101936)

  002d3	81 f9 ad 8d 01
	00		 cmp	 ecx, 101805		; 00018dadH
  002d9	74 1a		 je	 SHORT $LN33@pattern
  002db	81 f9 e2 8d 01
	00		 cmp	 ecx, 101858		; 00018de2H
  002e1	74 12		 je	 SHORT $LN33@pattern
  002e3	81 f9 30 8e 01
	00		 cmp	 ecx, 101936		; 00018e30H
  002e9	74 0a		 je	 SHORT $LN33@pattern

; 215  : 				ATR_CHR_TIM(a0) = 1;//ÂèòË∫´npcÈÄüÂ∫¶Ë∞ÉÊúÄÂø´

  002eb	c7 86 60 01 00
	00 01 00 00 00	 mov	 DWORD PTR [esi+352], 1
$LN33@pattern:

; 216  : 	}
; 217  : #endif
; 218  : 	if ((U4)ATR_CHR_CNT(a0) >= ptAnimlist[i].frameCnt) {	//????????????

  002f5	8b 86 5c 01 00
	00		 mov	 eax, DWORD PTR [esi+348]
  002fb	3b 47 08	 cmp	 eax, DWORD PTR [edi+8]
  002fe	72 3b		 jb	 SHORT $LN36@pattern

; 219  : #ifdef _NPC_PICTURE	
; 220  : 		picture_play(a0);

  00300	56		 push	 esi
  00301	e8 00 00 00 00	 call	 ?picture_play@@YAXPAUaction@@@Z ; picture_play
  00306	83 c4 04	 add	 esp, 4

; 221  : #endif
; 222  : 		if (loop_flg == ANM_NO_LOOP) {		//???Ó°ä??

  00309	83 7d 10 01	 cmp	 DWORD PTR _loop_flg$[ebp], 1
  0030d	75 20		 jne	 SHORT $LN35@pattern

; 223  : 			ATR_CHR_TIM(a0) = 255;

  0030f	5b		 pop	 ebx
  00310	5f		 pop	 edi
  00311	c7 86 60 01 00
	00 ff 00 00 00	 mov	 DWORD PTR [esi+352], 255 ; 000000ffH

; 224  : 			return 1;		//???????Óé∑?

  0031b	b8 01 00 00 00	 mov	 eax, 1
  00320	5e		 pop	 esi

; 285  : 	return 0;
; 286  : }

  00321	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00324	33 cd		 xor	 ecx, ebp
  00326	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0032b	8b e5		 mov	 esp, ebp
  0032d	5d		 pop	 ebp
  0032e	c3		 ret	 0
$LN35@pattern:

; 225  : 		}
; 226  : 		else
; 227  : 			ATR_CHR_CNT(a0) = 0;		//ÓìèÓô™???

  0032f	c7 86 5c 01 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+348], 0
  00339	33 c0		 xor	 eax, eax
$LN36@pattern:

; 228  : 	}
; 229  : 	//????Óíü??
; 230  : 	if (ptFramelist[ATR_CHR_CNT(a0)].SoundNo != 0) {

  0033b	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]
  0033e	0f b7 44 83 08	 movzx	 eax, WORD PTR [ebx+eax*4+8]
  00343	8b c8		 mov	 ecx, eax
  00345	66 85 c0	 test	 ax, ax
  00348	74 19		 je	 SHORT $LN37@pattern

; 231  : 		if (ptFramelist[ATR_CHR_CNT(a0)].SoundNo < 10000)

  0034a	ba 10 27 00 00	 mov	 edx, 10000		; 00002710H
  0034f	66 3b c2	 cmp	 ax, dx
  00352	0f 82 8c 00 00
	00		 jb	 $LN8@pattern

; 232  : 			play_se(ptFramelist[ATR_CHR_CNT(a0)].SoundNo, ATR_H_POS(a0), ATR_V_POS(a0));
; 233  : 		else
; 234  : 		{
; 235  : 			ATR_HIT(a0) = ptFramelist[ATR_CHR_CNT(a0)].SoundNo;

  00358	89 8e 6c 01 00
	00		 mov	 DWORD PTR [esi+364], ecx

; 236  : 		}
; 237  : 			
; 238  : 	}

  0035e	e9 90 00 00 00	 jmp	 $LN41@pattern
$LN37@pattern:

; 239  : #ifdef _PROFESSION_ADDSKILL
; 240  : 	else {
; 241  : 		if (ATR_CHR_NO(a0) >= 101769 && ATR_CHR_NO(a0) <= 101797) {

  00363	8b 86 44 01 00
	00		 mov	 eax, DWORD PTR [esi+324]
  00369	2d 89 8d 01 00	 sub	 eax, 101769		; 00018d89H
  0036e	83 f8 1c	 cmp	 eax, 28			; 0000001cH
  00371	0f 87 7c 00 00
	00		 ja	 $LN41@pattern

; 242  : 			int soundnum = 0;
; 243  : 			switch (ATR_PAT_NO(a0)) {

  00377	8b 86 9c 00 00
	00		 mov	 eax, DWORD PTR [esi+156]
  0037d	33 c9		 xor	 ecx, ecx
  0037f	3d d5 85 1e 00	 cmp	 eax, 2000341		; 001e85d5H
  00384	7f 4d		 jg	 SHORT $LN57@pattern
  00386	74 21		 je	 SHORT $LN45@pattern
  00388	2d bc 84 1e 00	 sub	 eax, 2000060		; 001e84bcH
  0038d	3d f4 00 00 00	 cmp	 eax, 244		; 000000f4H
  00392	77 50		 ja	 SHORT $LN8@pattern
  00394	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN73@pattern[eax]
  0039b	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN74@pattern[eax*4]
$LN43@pattern:

; 270  : 			}
; 271  : 			play_se(soundnum, ATR_H_POS(a0), ATR_V_POS(a0));
; 272  : 		}
; 273  : 		else
; 274  : 		{
; 275  : 
; 276  : 		}
; 277  : 	}
; 278  : #endif
; 279  : 	ATR_PAT_NO(a0) = ptFramelist[ATR_CHR_CNT(a0)].BmpNo;			//???Óú±????

  003a2	b9 86 01 00 00	 mov	 ecx, 390		; 00000186H
  003a7	eb 3b		 jmp	 SHORT $LN8@pattern
$LN45@pattern:
  003a9	b9 47 01 00 00	 mov	 ecx, 327		; 00000147H
  003ae	eb 34		 jmp	 SHORT $LN8@pattern
$LN47@pattern:

; 244  : 			case 156 + OLD_GRAPHICS_START:
; 245  : 				soundnum = 390; break;//Ê∞¥ÁªìÁïå390
; 246  : 			case 193 + OLD_GRAPHICS_START:
; 247  : 				soundnum = 390; break;//Ê∞¥ÁªìÁïå390
; 248  : 			case 304 + OLD_GRAPHICS_START:
; 249  : 				soundnum = 327; break;//Âú∞ÁªìÁïå
; 250  : 			case 341 + OLD_GRAPHICS_START:
; 251  : 				soundnum = 327; break;//Âú∞ÁªìÁïå
; 252  : 			case 231 + OLD_GRAPHICS_START:
; 253  : 				soundnum = 395; break;//ÁÅ´ÁªìÁïå

  003b0	b9 8b 01 00 00	 mov	 ecx, 395		; 0000018bH
  003b5	eb 2d		 jmp	 SHORT $LN8@pattern
$LN48@pattern:

; 254  : 			case 268 + OLD_GRAPHICS_START:
; 255  : 				soundnum = 268; break;//ÁÅ´ÁªìÁïå

  003b7	b9 0c 01 00 00	 mov	 ecx, 268		; 0000010cH
  003bc	eb 26		 jmp	 SHORT $LN8@pattern
$LN51@pattern:

; 270  : 			}
; 271  : 			play_se(soundnum, ATR_H_POS(a0), ATR_V_POS(a0));
; 272  : 		}
; 273  : 		else
; 274  : 		{
; 275  : 
; 276  : 		}
; 277  : 	}
; 278  : #endif
; 279  : 	ATR_PAT_NO(a0) = ptFramelist[ATR_CHR_CNT(a0)].BmpNo;			//???Óú±????

  003be	b9 44 01 00 00	 mov	 ecx, 324		; 00000144H
  003c3	eb 1f		 jmp	 SHORT $LN8@pattern
$LN53@pattern:
  003c5	b9 81 01 00 00	 mov	 ecx, 385		; 00000181H
  003ca	eb 18		 jmp	 SHORT $LN8@pattern
$LN55@pattern:

; 256  : 			case 380 + OLD_GRAPHICS_START:
; 257  : 				soundnum = 154; break;//È£éÁªìÁïå
; 258  : 			case 417 + OLD_GRAPHICS_START:
; 259  : 				soundnum = 154; break;//È£éÁªìÁïå	
; 260  : 			case 75 + OLD_GRAPHICS_START:
; 261  : 				soundnum = 324; break;//Á†¥ÁªìÁïå
; 262  : 			case 97 + OLD_GRAPHICS_START:
; 263  : 				soundnum = 324; break;//Á†¥ÁªìÁïå
; 264  : 			case 117 + OLD_GRAPHICS_START:
; 265  : 				soundnum = 385; break;//Âè∑Âè¨Ëá™ÁÑ∂
; 266  : 			case 137 + OLD_GRAPHICS_START:
; 267  : 				soundnum = 385; break;//Âè∑Âè¨Ëá™ÁÑ∂	
; 268  : 			case 60 + OLD_GRAPHICS_START:
; 269  : 				soundnum = 388; break;//Ëá™ÁÑ∂Â®ÅËÉΩ	

  003cc	b9 84 01 00 00	 mov	 ecx, 388		; 00000184H
  003d1	eb 11		 jmp	 SHORT $LN8@pattern
$LN57@pattern:

; 242  : 			int soundnum = 0;
; 243  : 			switch (ATR_PAT_NO(a0)) {

  003d3	2d fc 85 1e 00	 sub	 eax, 2000380		; 001e85fcH
  003d8	74 05		 je	 SHORT $LN49@pattern
  003da	83 e8 25	 sub	 eax, 37			; 00000025H
  003dd	75 05		 jne	 SHORT $LN8@pattern
$LN49@pattern:

; 270  : 			}
; 271  : 			play_se(soundnum, ATR_H_POS(a0), ATR_V_POS(a0));
; 272  : 		}
; 273  : 		else
; 274  : 		{
; 275  : 
; 276  : 		}
; 277  : 	}
; 278  : #endif
; 279  : 	ATR_PAT_NO(a0) = ptFramelist[ATR_CHR_CNT(a0)].BmpNo;			//???Óú±????

  003df	b9 9a 00 00 00	 mov	 ecx, 154		; 0000009aH
$LN8@pattern:
  003e4	ff 76 1c	 push	 DWORD PTR [esi+28]
  003e7	ff 76 18	 push	 DWORD PTR [esi+24]
  003ea	51		 push	 ecx
  003eb	e8 00 00 00 00	 call	 ?play_se@@YAHHHH@Z	; play_se
  003f0	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN41@pattern:
  003f3	8b 86 5c 01 00
	00		 mov	 eax, DWORD PTR [esi+348]
  003f9	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]
  003fc	8d 0c 83	 lea	 ecx, DWORD PTR [ebx+eax*4]
  003ff	8b 01		 mov	 eax, DWORD PTR [ecx]
  00401	89 86 9c 00 00
	00		 mov	 DWORD PTR [esi+156], eax

; 280  : 	realGetPos(ptFramelist[ATR_CHR_CNT(a0)].BmpNo, &dx, &dy);		//??????????Óù≥Óéï?Óèù?

  00407	8d 45 d0	 lea	 eax, DWORD PTR _dy$[ebp]
  0040a	50		 push	 eax
  0040b	8d 45 d4	 lea	 eax, DWORD PTR _dx$[ebp]
  0040e	50		 push	 eax
  0040f	ff 31		 push	 DWORD PTR [ecx]
  00411	e8 00 00 00 00	 call	 ?realGetPos@@YAHKPAF0@Z	; realGetPos

; 281  : 	ATR_CHR_H_POS(a0) = ptFramelist[ATR_CHR_CNT(a0)].PosX + dx;		//??Óù≥????????

  00416	8b be 5c 01 00
	00		 mov	 edi, DWORD PTR [esi+348]
  0041c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0041f	8d 04 7f	 lea	 eax, DWORD PTR [edi+edi*2]
  00422	0f bf 4c 83 04	 movsx	 ecx, WORD PTR [ebx+eax*4+4]
  00427	8d 14 83	 lea	 edx, DWORD PTR [ebx+eax*4]
  0042a	0f bf 45 d4	 movsx	 eax, WORD PTR _dx$[ebp]
  0042e	03 c8		 add	 ecx, eax

; 282  : 	ATR_CHR_V_POS(a0) = ptFramelist[ATR_CHR_CNT(a0)].PosY + dy;		//??Óù≥????????

  00430	0f bf 45 d0	 movsx	 eax, WORD PTR _dy$[ebp]
  00434	89 8e 64 01 00
	00		 mov	 DWORD PTR [esi+356], ecx
  0043a	0f bf 4a 06	 movsx	 ecx, WORD PTR [edx+6]

; 283  : 	ATR_CHR_CNT(a0)++;
; 284  : 	ATR_CHR_TIM(a0)--;

  0043e	ff 8e 60 01 00
	00		 dec	 DWORD PTR [esi+352]
  00444	03 c8		 add	 ecx, eax
  00446	89 8e 68 01 00
	00		 mov	 DWORD PTR [esi+360], ecx
  0044c	8d 47 01	 lea	 eax, DWORD PTR [edi+1]

; 285  : 	return 0;
; 286  : }

  0044f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00452	5b		 pop	 ebx
  00453	89 86 5c 01 00
	00		 mov	 DWORD PTR [esi+348], eax
  00459	33 cd		 xor	 ecx, ebp
  0045b	5f		 pop	 edi
  0045c	33 c0		 xor	 eax, eax
  0045e	5e		 pop	 esi
  0045f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00464	8b e5		 mov	 esp, ebp
  00466	5d		 pop	 ebp
  00467	c3		 ret	 0
$LN74@pattern:
  00468	00 00 00 00	 DD	 $LN55@pattern
  0046c	00 00 00 00	 DD	 $LN51@pattern
  00470	00 00 00 00	 DD	 $LN53@pattern
  00474	00 00 00 00	 DD	 $LN43@pattern
  00478	00 00 00 00	 DD	 $LN47@pattern
  0047c	00 00 00 00	 DD	 $LN48@pattern
  00480	00 00 00 00	 DD	 $LN45@pattern
  00484	00 00 00 00	 DD	 $LN8@pattern
$LN73@pattern:
  00488	00		 DB	 0
  00489	07		 DB	 7
  0048a	07		 DB	 7
  0048b	07		 DB	 7
  0048c	07		 DB	 7
  0048d	07		 DB	 7
  0048e	07		 DB	 7
  0048f	07		 DB	 7
  00490	07		 DB	 7
  00491	07		 DB	 7
  00492	07		 DB	 7
  00493	07		 DB	 7
  00494	07		 DB	 7
  00495	07		 DB	 7
  00496	07		 DB	 7
  00497	01		 DB	 1
  00498	07		 DB	 7
  00499	07		 DB	 7
  0049a	07		 DB	 7
  0049b	07		 DB	 7
  0049c	07		 DB	 7
  0049d	07		 DB	 7
  0049e	07		 DB	 7
  0049f	07		 DB	 7
  004a0	07		 DB	 7
  004a1	07		 DB	 7
  004a2	07		 DB	 7
  004a3	07		 DB	 7
  004a4	07		 DB	 7
  004a5	07		 DB	 7
  004a6	07		 DB	 7
  004a7	07		 DB	 7
  004a8	07		 DB	 7
  004a9	07		 DB	 7
  004aa	07		 DB	 7
  004ab	07		 DB	 7
  004ac	07		 DB	 7
  004ad	01		 DB	 1
  004ae	07		 DB	 7
  004af	07		 DB	 7
  004b0	07		 DB	 7
  004b1	07		 DB	 7
  004b2	07		 DB	 7
  004b3	07		 DB	 7
  004b4	07		 DB	 7
  004b5	07		 DB	 7
  004b6	07		 DB	 7
  004b7	07		 DB	 7
  004b8	07		 DB	 7
  004b9	07		 DB	 7
  004ba	07		 DB	 7
  004bb	07		 DB	 7
  004bc	07		 DB	 7
  004bd	07		 DB	 7
  004be	07		 DB	 7
  004bf	07		 DB	 7
  004c0	07		 DB	 7
  004c1	02		 DB	 2
  004c2	07		 DB	 7
  004c3	07		 DB	 7
  004c4	07		 DB	 7
  004c5	07		 DB	 7
  004c6	07		 DB	 7
  004c7	07		 DB	 7
  004c8	07		 DB	 7
  004c9	07		 DB	 7
  004ca	07		 DB	 7
  004cb	07		 DB	 7
  004cc	07		 DB	 7
  004cd	07		 DB	 7
  004ce	07		 DB	 7
  004cf	07		 DB	 7
  004d0	07		 DB	 7
  004d1	07		 DB	 7
  004d2	07		 DB	 7
  004d3	07		 DB	 7
  004d4	07		 DB	 7
  004d5	02		 DB	 2
  004d6	07		 DB	 7
  004d7	07		 DB	 7
  004d8	07		 DB	 7
  004d9	07		 DB	 7
  004da	07		 DB	 7
  004db	07		 DB	 7
  004dc	07		 DB	 7
  004dd	07		 DB	 7
  004de	07		 DB	 7
  004df	07		 DB	 7
  004e0	07		 DB	 7
  004e1	07		 DB	 7
  004e2	07		 DB	 7
  004e3	07		 DB	 7
  004e4	07		 DB	 7
  004e5	07		 DB	 7
  004e6	07		 DB	 7
  004e7	07		 DB	 7
  004e8	03		 DB	 3
  004e9	07		 DB	 7
  004ea	07		 DB	 7
  004eb	07		 DB	 7
  004ec	07		 DB	 7
  004ed	07		 DB	 7
  004ee	07		 DB	 7
  004ef	07		 DB	 7
  004f0	07		 DB	 7
  004f1	07		 DB	 7
  004f2	07		 DB	 7
  004f3	07		 DB	 7
  004f4	07		 DB	 7
  004f5	07		 DB	 7
  004f6	07		 DB	 7
  004f7	07		 DB	 7
  004f8	07		 DB	 7
  004f9	07		 DB	 7
  004fa	07		 DB	 7
  004fb	07		 DB	 7
  004fc	07		 DB	 7
  004fd	07		 DB	 7
  004fe	07		 DB	 7
  004ff	07		 DB	 7
  00500	07		 DB	 7
  00501	07		 DB	 7
  00502	07		 DB	 7
  00503	07		 DB	 7
  00504	07		 DB	 7
  00505	07		 DB	 7
  00506	07		 DB	 7
  00507	07		 DB	 7
  00508	07		 DB	 7
  00509	07		 DB	 7
  0050a	07		 DB	 7
  0050b	07		 DB	 7
  0050c	07		 DB	 7
  0050d	03		 DB	 3
  0050e	07		 DB	 7
  0050f	07		 DB	 7
  00510	07		 DB	 7
  00511	07		 DB	 7
  00512	07		 DB	 7
  00513	07		 DB	 7
  00514	07		 DB	 7
  00515	07		 DB	 7
  00516	07		 DB	 7
  00517	07		 DB	 7
  00518	07		 DB	 7
  00519	07		 DB	 7
  0051a	07		 DB	 7
  0051b	07		 DB	 7
  0051c	07		 DB	 7
  0051d	07		 DB	 7
  0051e	07		 DB	 7
  0051f	07		 DB	 7
  00520	07		 DB	 7
  00521	07		 DB	 7
  00522	07		 DB	 7
  00523	07		 DB	 7
  00524	07		 DB	 7
  00525	07		 DB	 7
  00526	07		 DB	 7
  00527	07		 DB	 7
  00528	07		 DB	 7
  00529	07		 DB	 7
  0052a	07		 DB	 7
  0052b	07		 DB	 7
  0052c	07		 DB	 7
  0052d	07		 DB	 7
  0052e	07		 DB	 7
  0052f	07		 DB	 7
  00530	07		 DB	 7
  00531	07		 DB	 7
  00532	07		 DB	 7
  00533	04		 DB	 4
  00534	07		 DB	 7
  00535	07		 DB	 7
  00536	07		 DB	 7
  00537	07		 DB	 7
  00538	07		 DB	 7
  00539	07		 DB	 7
  0053a	07		 DB	 7
  0053b	07		 DB	 7
  0053c	07		 DB	 7
  0053d	07		 DB	 7
  0053e	07		 DB	 7
  0053f	07		 DB	 7
  00540	07		 DB	 7
  00541	07		 DB	 7
  00542	07		 DB	 7
  00543	07		 DB	 7
  00544	07		 DB	 7
  00545	07		 DB	 7
  00546	07		 DB	 7
  00547	07		 DB	 7
  00548	07		 DB	 7
  00549	07		 DB	 7
  0054a	07		 DB	 7
  0054b	07		 DB	 7
  0054c	07		 DB	 7
  0054d	07		 DB	 7
  0054e	07		 DB	 7
  0054f	07		 DB	 7
  00550	07		 DB	 7
  00551	07		 DB	 7
  00552	07		 DB	 7
  00553	07		 DB	 7
  00554	07		 DB	 7
  00555	07		 DB	 7
  00556	07		 DB	 7
  00557	07		 DB	 7
  00558	05		 DB	 5
  00559	07		 DB	 7
  0055a	07		 DB	 7
  0055b	07		 DB	 7
  0055c	07		 DB	 7
  0055d	07		 DB	 7
  0055e	07		 DB	 7
  0055f	07		 DB	 7
  00560	07		 DB	 7
  00561	07		 DB	 7
  00562	07		 DB	 7
  00563	07		 DB	 7
  00564	07		 DB	 7
  00565	07		 DB	 7
  00566	07		 DB	 7
  00567	07		 DB	 7
  00568	07		 DB	 7
  00569	07		 DB	 7
  0056a	07		 DB	 7
  0056b	07		 DB	 7
  0056c	07		 DB	 7
  0056d	07		 DB	 7
  0056e	07		 DB	 7
  0056f	07		 DB	 7
  00570	07		 DB	 7
  00571	07		 DB	 7
  00572	07		 DB	 7
  00573	07		 DB	 7
  00574	07		 DB	 7
  00575	07		 DB	 7
  00576	07		 DB	 7
  00577	07		 DB	 7
  00578	07		 DB	 7
  00579	07		 DB	 7
  0057a	07		 DB	 7
  0057b	07		 DB	 7
  0057c	06		 DB	 6
?pattern@@YAHPAUaction@@HH@Z ENDP			; pattern
_TEXT	ENDS
END
